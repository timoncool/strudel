---
title: Тональные функции
layout: ../../layouts/MainLayout.astro
---

import { MiniRepl } from '../../docs/MiniRepl';
import { JsDoc } from '../../docs/JsDoc';

# Тональные функции

Эти функции используют [tonaljs](https://github.com/tonaljs/tonal) для предоставления помощников для музыкальных операций.

### voicing()

<JsDoc client:idle name="voicing" h={0} />

Вот пример того, как можно играть аккорды и басовую линию:

<MiniRepl
  client:idle
  tune={`chord("<C^7 A7b13 Dm7 G7>*2")
  .dict('ireal').layer(
  x=>x.struct("[~ x]*2").voicing()
  ,
  x=>n("0*4").set(x).mode("root:g2").voicing()
  .s('sawtooth').cutoff("800:4:2")
)`}
/>

### scale(name)

<JsDoc client:idle name="scale" h={0} />

### transpose(semitones)

Транспонирует все ноты на заданное количество полутонов:

<MiniRepl client:only="react" tune={`"[c2 c3]*4".transpose("<0 -2 5 3>").note()`} />

Этот метод становится действительно интересным, когда мы используем его с pattern, как показано выше.

Вместо чисел можно использовать научную нотацию интервалов:

<MiniRepl client:only="react" tune={`"[c2 c3]*4".transpose("<1P -2M 4P 3m>").note()`} />

### scaleTranspose(steps)

Транспонирует ноты внутри гаммы на количество шагов:

<MiniRepl
  client:idle
  tune={`"[-8 [2,4,6]]*2"
.scale('C4 bebop major')
.scaleTranspose("<0 -1 -2 -3 -4 -5 -6 -4>*2")
.note()`}
/>

### rootNotes(octave = 2)

Превращает символы аккордов в основные ноты аккордов в заданной октаве.

<MiniRepl client:only="react" tune={`"<C^7 A7b13 Dm7 G7>*2".rootNotes(3).note()`} />

Вместе с layer, struct и voicings это может быть использовано для создания базового аккомпанемента:

<MiniRepl
  client:idle
  tune={`"<C^7 A7b13 Dm7 G7>*2".layer(
  x => x.voicings('lefthand').struct("[~ x]*2").note(),
  x => x.rootNotes(2).note().s('sawtooth').cutoff(800)
)`}
/>
