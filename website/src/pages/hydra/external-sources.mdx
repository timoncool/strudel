---
title: Внешние источники
layout: ../../layouts/MainLayout.astro
---

import { MiniRepl } from '../../docs/MiniRepl';

# Внешние источники

Hydra позволяет использовать внешние медиа-источники: изображения, видео, веб-камеру и экран. Они загружаются в переменные `s0`, `s1`, `s2`, `s3`.

## initImage() — Изображение

Загружает изображение по URL как источник для визуализации.

```javascript
s0.initImage(url)
```

**Поддерживаемые форматы:** `.jpeg`, `.jpg`, `.png`, `.bmp`, `.gif`, `.webp`

<MiniRepl
  client:only="react"
  tune={`await initHydra()

// Загружаем изображение
s0.initImage("https://upload.wikimedia.org/wikipedia/commons/2/25/Hydra-Foto.jpg")
src(s0).out()
`}
/>

<MiniRepl
  client:only="react"
  tune={`await initHydra()

// Изображение с калейдоскопом
s0.initImage("https://upload.wikimedia.org/wikipedia/commons/2/25/Hydra-Foto.jpg")
src(s0)
  .kaleid(6)
  .colorama(0.5)
  .out()
`}
/>

<MiniRepl
  client:only="react"
  tune={`await initHydra()

// Изображение как модулятор
s0.initImage("https://upload.wikimedia.org/wikipedia/commons/2/25/Hydra-Foto.jpg")
osc(20, 0.05, 1)
  .modulate(src(s0), 0.5)
  .out()
`}
/>

<MiniRepl
  client:only="react"
  tune={`await initHydra()

// Пиксельный эффект с изображением
s0.initImage("https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/Camponotus_flavomarginatus_ant.jpg/800px-Camponotus_flavomarginatus_ant.jpg")
src(s0)
  .pixelate(H("20 40 60"), H("15 30 45"))
  .modulate(noise(3), 0.1)
  .out()
`}
/>

---

## initVideo() — Видео

Загружает видео файл по URL как источник.

```javascript
s0.initVideo(url)
```

**Поддерживаемые форматы:** `.mp4`, `.ogg`, `.webm`

<MiniRepl
  client:only="react"
  tune={`await initHydra()

// Загружаем видео
s0.initVideo("https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4")
src(s0).out()
`}
/>

<MiniRepl
  client:only="react"
  tune={`await initHydra()

// Видео с калейдоскопом
s0.initVideo("https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4")
src(s0)
  .kaleid(4)
  .colorama(0.3)
  .out()
`}
/>

---

## initCam() — Веб-камера

Инициализирует видеопоток с веб-камеры.

```javascript
s0.initCam(index)
```

| Параметр | По умолчанию | Описание |
|----------|--------------|----------|
| index | 0 | Номер камеры (при нескольких) |

<MiniRepl
  client:only="react"
  tune={`await initHydra()

// Веб-камера
s0.initCam()
src(s0).out()
`}
/>

<MiniRepl
  client:only="react"
  tune={`await initHydra()

// Камера с эффектами
s0.initCam()
src(s0)
  .saturate(3)
  .contrast(1.5)
  .kaleid(6)
  .out()
`}
/>

---

## initScreen() — Захват экрана

Захватывает содержимое экрана, окна или вкладки браузера.

```javascript
s0.initScreen()
```

<MiniRepl
  client:only="react"
  tune={`await initHydra()

// Захват экрана
s0.initScreen()
src(s0)
  .kaleid(4)
  .out()
`}
/>

---

## Комплексный пример с музыкой

<MiniRepl
  client:only="react"
  tune={`await initHydra()

// Загружаем изображение как источник
s0.initImage("https://upload.wikimedia.org/wikipedia/commons/2/25/Hydra-Foto.jpg")

// Визуализация с изображением
src(s0)
  .pixelate(H("20 40 60 80"), H("15 30 45 60"))
  .modulate(osc(3, 0.1, 0.5), H("0.1 0.2 0.3"))
  .kaleid(H("<3 4 5 6>"))
  .colorama(H("0.1 0.3 0.5"))
  .out()

// Ambient музыка
note("[c3 eb3 g3 bb3]/4")
  .s("sawtooth")
  .lpf(sine.range(300, 800).slow(8))
  .lpq(4)
  .room(0.8)
  .delay(0.5)
`}
/>

---

## Решение проблем CORS

Если изображение или видео не загружается:

1. Используйте сервисы с поддержкой CORS:
   - Wikimedia Commons
   - Imgur
   - Giphy

2. Для YouTube/Vimeo используйте `initScreen()` для захвата окна браузера
