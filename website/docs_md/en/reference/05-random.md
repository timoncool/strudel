# Функции случайности

Всего функций: 30

---

## almostAlways

**Параметры:**

Нет параметров

**Описание:** Сокращение для <code>.sometimesBy(0.9, fn)</code>

**Примеры:**

```javascript
s("hh*8").almostAlways(x=>x.speed("0.5"))
```

---

## almostNever

**Параметры:**

Нет параметров

**Описание:** Сокращение для <code>.sometimesBy(0.1, fn)</code>

**Примеры:**

```javascript
s("hh*8").almostNever(x=>x.speed("0.5"))
```

---

## always

**Параметры:**

Нет параметров

**Описание:** Сокращение для <code>.sometimesBy(1, fn)</code> (всегда вызывает fn)

**Примеры:**

```javascript
s("hh*8").always(x=>x.speed("0.5"))
```

---

## brand

**Параметры:**

Нет параметров

**Описание:** Непрерывный pattern 0 или 1 (двоичный случайный)

**Примеры:**

```javascript
s("hh*10").pan(brand)
```

---

## brandBy

**Параметры:**

- **probability** (number): число от 0 до 1

**Описание:** Непрерывный pattern 0 или 1 (двоичный случайный), с вероятностью того, что значение будет 1

**Примеры:**

```javascript
s("hh*10").pan(brandBy(0.2))
```

---

## choose

**Параметры:**

- **xs** (any): значения / patterns для выбора.

**Описание:** Случайно выбирает из заданного списка элементов.

**Примеры:**

```javascript
note("c2 g2!2 d2 f1").s(choose("sine", "triangle", "bd:6"))
```

---

## choose

**Параметры:**

- **xs** (any): 

**Описание:** Выбирает из заданного списка значений (или patterns значений) в соответствии
с pattern, на котором вызывается метод. Pattern должен быть в
диапазоне 0 .. 1.

---

## choose2

**Параметры:**

- **xs** (any): 

**Описание:** Как с choose, но pattern, на котором вызывается этот метод, должен быть
в диапазоне -1 .. 1

---

## chooseCycles

**Синонимы:** randcat

**Параметры:**

Нет параметров

**Описание:** Выбирает один из элементов случайным образом каждый cycle.

**Примеры:**

```javascript
chooseCycles("bd", "hh", "sd").s().fast(8)
```

```javascript
s("bd | hh | sd").fast(8)
```

---

## chooseInWith

**Параметры:**

- **pat** (Pattern): 
- **xs** (*): 

**Описание:** Как {chooseWith}, но структура берется из выбранных значений, а не
из pattern, который вы используете для выбора.

---

## chooseWith

**Параметры:**

- **pat** (Pattern): 
- **xs** (*): 

**Описание:** Выбирает из списка значений (или patterns значений), используя заданный
pattern чисел в диапазоне 0..1

**Примеры:**

```javascript
note("c2 g2!2 d2 f1").s(chooseWith(sine.fast(2), ["sawtooth", "triangle", "bd:6"]))
```

---

## degrade

**Параметры:**

Нет параметров

**Описание:** Случайно удаляет 50% событий из pattern. Сокращение для <code>.degradeBy(0.5)</code>

**Примеры:**

```javascript
s("hh*8").degrade()
```

```javascript
s("[hh?]*8")
```

---

## degradeBy

**Параметры:**

- **amount** (number): число от 0 до 1

**Описание:** Случайно удаляет события из pattern на заданную величину.
0 = 0% вероятность удаления
1 = 100% вероятность удаления

**Примеры:**

```javascript
s("hh*8").degradeBy(0.2)
```

```javascript
s("[hh?0.2]*8")
```

```javascript
//генератор beat
s("bd").segment(16).degradeBy(.5).ribbon(16,1)
```

---

## irand

**Параметры:**

- **n** (number): максимальное значение (исключая)

**Описание:** Непрерывный pattern случайных целых чисел от 0 до n-1.

**Примеры:**

```javascript
// случайно выбираем ноты scale от 0 до 7 (= от C до C)
n(irand(8)).struct("x x*2 x x*3").scale("C:minor")
```

---

## never

**Параметры:**

Нет параметров

**Описание:** Сокращение для <code>.sometimesBy(0, fn)</code> (никогда не вызывает fn)

**Примеры:**

```javascript
s("hh*8").never(x=>x.speed("0.5"))
```

---

## often

**Параметры:**

Нет параметров

**Описание:** Сокращение для <code>.sometimesBy(0.75, fn)</code>

**Примеры:**

```javascript
s("hh*8").often(x=>x.speed("0.5"))
```

---

## perlin

**Параметры:**

Нет параметров

**Описание:** Генерирует непрерывный pattern <a href="https://en.wikipedia.org/wiki/Perlin_noise">шума Перлина</a> в диапазоне 0..1.

**Примеры:**

```javascript
// случайно изменяем cutoff
s("bd*4,hh*8").cutoff(perlin.range(500,8000))
```

---

## rand

**Параметры:**

Нет параметров

**Описание:** Непрерывный pattern случайных чисел от 0 до 1.

**Примеры:**

```javascript
// случайно изменяем cutoff
s("bd*4,hh*8").cutoff(rand.range(500,8000))
```

---

## rand2

**Параметры:**

Нет параметров

**Описание:** Непрерывный pattern случайных чисел от -1 до 1

---

## randL

**Параметры:**

- **n** (number): количество случайных чисел для выборки

**Описание:** Создает список случайных чисел заданной длины

**Примеры:**

```javascript
s("saw").seg(16).n(irand(12)).scale("F1:minor")
  .partials(randL(8))
```

---

## randomSample

**Параметры:**

Нет параметров

**Описание:** Описание отсутствует

---

## rarely

**Параметры:**

Нет параметров

**Описание:** Сокращение для <code>.sometimesBy(0.25, fn)</code>

**Примеры:**

```javascript
s("hh*8").rarely(x=>x.speed("0.5"))
```

---

## scramble

**Параметры:**

Нет параметров

**Описание:** Разрезает pattern на указанное количество частей, затем воспроизводит эти части случайным образом. Похоже на <code>shuffle</code>,
но части могут воспроизводиться более одного раза или вообще не воспроизводиться за cycle.

**Примеры:**

```javascript
note("c d e f").sound("piano").scramble(4)
```

```javascript
seq("c d e f".scramble(4), "g").note().sound("piano")
```

---

## shuffle

**Параметры:**

Нет параметров

**Описание:** Разрезает pattern на указанное количество частей, затем воспроизводит эти части в случайном порядке.
Каждая часть будет воспроизведена ровно один раз за cycle.

**Примеры:**

```javascript
note("c d e f").sound("piano").shuffle(4)
```

```javascript
seq("c d e f".shuffle(4), "g").note().sound("piano")
```

---

## sometimes

**Параметры:**

- **function** (function): преобразование для применения

**Описание:** Применяет заданную функцию с вероятностью 50%

**Примеры:**

```javascript
s("hh*8").sometimes(x=>x.speed("0.5"))
```

---

## sometimesBy

**Параметры:**

- **probability** (number | Pattern): число от 0 до 1
- **function** (function): преобразование для применения

**Описание:** Случайно применяет заданную функцию с заданной вероятностью.
Похоже на <code>someCyclesBy</code>

**Примеры:**

```javascript
s("hh*8").sometimesBy(.4, x=>x.speed("0.5"))
```

---

## undegrade

**Параметры:**

Нет параметров

**Описание:** Обратное <code>degrade</code>: случайно удаляет 50% событий из pattern. Сокращение для <code>.undegradeBy(0.5)</code>
События, которые были бы удалены degrade, пропускаются undegrade и наоборот (см. второй пример).

**Примеры:**

```javascript
s("hh*8").undegrade()
```

```javascript
s("hh*10").layer(
  x => x.degrade().pan(0),
  x => x.undegrade().pan(1)
)
```

---

## undegradeBy

**Параметры:**

- **amount** (number): число от 0 до 1

**Описание:** Обратное <code>degradeBy</code>: случайно удаляет события из pattern на заданную величину.
0 = 100% вероятность удаления
1 = 0% вероятность удаления
События, которые были бы удалены degradeBy, пропускаются undegradeBy и наоборот (см. второй пример).

**Примеры:**

```javascript
s("hh*8").undegradeBy(0.2)
```

```javascript
s("hh*10").layer(
  x => x.degradeBy(0.2).pan(0),
  x => x.undegradeBy(0.8).pan(1)
)
```

---

## wchoose

**Параметры:**

- **pairs** (any): массивы значения и веса

**Описание:** Случайно выбирает из заданного списка элементов, задавая вероятность каждому элементу

**Примеры:**

```javascript
note("c2 g2!2 d2 f1").s(wchoose(["sine",10], ["triangle",1], ["bd:6",1]))
```

---

## wchooseCycles

**Синонимы:** wrandcat

**Параметры:**

Нет параметров

**Описание:** Выбирает один из элементов случайным образом каждый cycle, задавая вероятность каждому элементу

**Примеры:**

```javascript
wchooseCycles(["bd",10], ["hh",1], ["sd",1]).s().fast(8)
```

```javascript
wchooseCycles(["c c c",5], ["a a a",3], ["f f f",1]).fast(4).note()
```

```javascript
// Вероятность сама может быть pattern
wchooseCycles(["bd(3,8)","<5 0>"], ["hh hh hh",3]).fast(4).s()
```

---

