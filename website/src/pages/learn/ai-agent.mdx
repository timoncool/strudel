---
title: Bulka AI Agent
layout: ../../layouts/MainLayout.astro
---

# Bulka AI Agent

Bulka AI — это встроенный музыкальный помощник, который поможет тебе создавать музыку через код. Агент понимает Strudel/TidalCycles и может писать, редактировать и запускать код за тебя.

## Особенности

- **Три провайдера на выбор**: OpenAI, Anthropic (Claude), Google Gemini
- **Полный real-time стриминг**: ответы появляются в реальном времени
- **Отображение мыслей**: для моделей с extended thinking показывается процесс размышления
- **Динамическая загрузка моделей**: список моделей подгружается напрямую с API провайдеров
- **Работа с выделением**: выдели код — агент сфокусируется на нём
- **Поиск по документации**: агент знает Strudel и может искать в справочнике

## Где найти агента?

AI-агент находится в правой панели редактора. Открой вкладку **Chat** (иконка чата) в боковой панели справа от редактора кода.

## Настройка API ключа

Для работы агента нужен API ключ от одного из провайдеров:

1. Открой вкладку **Chat** в боковой панели
2. Если ключ не настроен — автоматически откроется панель настроек
3. Выбери провайдера (OpenAI, Anthropic или Google)
4. Введи свой API ключ
5. Нажми **Сохранить**

### Где получить API ключ?

- **OpenAI**: [platform.openai.com/api-keys](https://platform.openai.com/api-keys)
- **Anthropic**: [console.anthropic.com](https://console.anthropic.com/)
- **Google Gemini**: [aistudio.google.com/apikey](https://aistudio.google.com/apikey)

Все ключи хранятся только локально в твоём браузере.

## Поддерживаемые модели

Список моделей загружается **автоматически** с API каждого провайдера.

**Провайдеры:**
- **OpenAI** — GPT-5.2, GPT-5.1, GPT-5.1-Codex-Max
- **Anthropic** — Claude Opus 4.5, Claude Sonnet 4.5, Claude Haiku 4.5
- **Google** — Gemini 3 Pro, Gemini 2.5 Flash, Gemini 2.5 Pro
- **GPT4Free** — бесплатный доступ без API ключа ([подробнее](/learn/gpt4free))

## Что умеет агент?

### Создание музыки
Просто опиши что хочешь создать:
- "Создай простой бит с бочкой и снейром"
- "Сделай расслабляющий эмбиент трек"
- "Напиши драм-н-бейс паттерн на 174 BPM"

### Редактирование кода
Агент может изменять существующий код:
- "Добавь бас к текущему треку"
- "Сделай хай-хэты быстрее"
- "Добавь реверберацию на все инструменты"

### Объяснение кода
Если непонятно что делает код:
- "Объясни что делает текущий код"
- "Что означает .lpf(800)?"

### Работа с выделением
Выдели часть кода в редакторе, и агент будет работать только с этим фрагментом:
- "Измени этот фрагмент"
- "Добавь эффект к выделенному"

### Поиск в коде
Агент может найти и выделить нужный фрагмент:
- "Покажи где регулируется громкость"
- "Найди где определён бас"

### Визуализация Hydra
Агент умеет добавлять визуализации:
- "Добавь Hydra визуализацию"
- "Сделай визуал синхронизированный с музыкой"

## Инструменты агента

Агент использует специальные инструменты для работы с редактором:

| Инструмент | Описание |
|------------|----------|
| `readCode()` | Прочитать текущий код из редактора |
| `setFullCode(code)` | Заменить весь код (для нового трека) |
| `editCode(search, replace)` | Найти и заменить фрагмент кода |
| `appendCode(code)` | Добавить код в конец |
| `playMusic()` | Запустить воспроизведение |
| `stopMusic()` | Остановить воспроизведение |
| `searchDocs(query)` | Поиск по документации Strudel |
| `highlightCode(search)` | Выделить фрагмент кода в редакторе |

## Быстрые команды

В чате есть кнопки быстрых команд:
- **Простой бит** — создать базовый ритм
- **Добавь бас** — добавить басовую линию
- **Объясни код** — получить объяснение текущего кода
- **Добавь эффект** — добавить реверберацию и задержку

## Отправка ошибок в чат

Если возникла ошибка, на плашке ошибки есть кнопка **"В чат"** — нажми её, и агент получит описание ошибки и поможет исправить.

## Советы по использованию

### Будь конкретным
Чем точнее описание, тем лучше результат:
- ❌ "Сделай что-нибудь"
- ✅ "Создай минималистичный техно бит в 120 BPM с глубоким басом"

### Используй выделение
Выдели код который хочешь изменить — агент сфокусируется на нём.

### Итерируй
Не пытайся сделать всё сразу. Начни с простого и постепенно добавляй элементы.

### Сообщай об ошибках
Если что-то звучит не так — скажи об этом. Агент исправит.

## Пример диалога

**Ты:** Создай простой хаус бит

**Агент:** *создаёт код и запускает*

```javascript
// === ХАУС БИТ ===
stack(
  s("bd*4").gain(0.9)._scope(),           // бочка на каждую долю
  s("~ cp ~ cp").gain(0.7),               // хлопок на 2 и 4
  s("hh*8").gain(0.5)._scope(),           // хай-хэты
  note("c2 c2 c2 c3").s("bass").lpf(600)  // басовая линия
)
```

**Ты:** Добавь пианино

**Агент:** *редактирует код, добавляет пианино*

**Ты:** Сделай бас глубже

**Агент:** *находит бас и понижает фильтр*

## Ограничения

- Агент видит только код, но не слышит результат
- При ошибках — опиши что пошло не так
- Сложные многослойные треки лучше строить постепенно
- Агент работает только с Strudel/TidalCycles синтаксисом

## Приватность

- API ключи хранятся только в localStorage твоего браузера
- Код и сообщения отправляются напрямую провайдеру (OpenAI/Anthropic/Google)
- Bulka не сохраняет твои данные на своих серверах
