# Введение в Hydra

## Что такое Hydra?

**Hydra** — это live-кодируемый видеосинтезатор, который работает прямо в браузере. Инструмент создан художницей Olivia Jack и вдохновлён аналоговыми модульными видеосинтезаторами.

### Ключевые особенности

| Характеристика | Описание |
|---------------|----------|
| **Платформа** | Браузер (Chrome, Firefox, Safari, Edge) |
| **Язык** | JavaScript → WebGL |
| **Лицензия** | Open Source (бесплатно) |
| **Аудитория** | От новичков до экспертов |

## Философия модульного синтеза

Hydra использует подход **модульного синтеза**. Вместо физических кабелей вы соединяете JavaScript-функции через точки:

```
ИСТОЧНИК → ТРАНСФОРМАЦИИ → ВЫХОД
source   →    transforms   → .out()
```

Числовые аргументы внутри функций аналогичны положению ручек на модулях синтезатора.

### Пример потока данных

```javascript
osc(10)           // Источник: осциллятор с частотой 10
  .rotate(0.5)    // Трансформация: поворот на 0.5 радиан
  .kaleid(4)      // Трансформация: калейдоскоп на 4 сегмента
  .out()          // Вывод на экран
```

<MiniRepl
  client:only="react"
  tune={`await initHydra()
osc(10)
  .rotate(0.5)
  .kaleid(4)
  .out()
`}
/>

## Пять типов функций

В Hydra существует **пять основных типов функций**:

### 1. Sources (Источники)
Генерируют визуальный сигнал:
- `osc()` — осциллятор (полосы)
- `noise()` — шум Перлина
- `shape()` — геометрические фигуры
- `voronoi()` — диаграмма Вороного
- `gradient()` — градиент
- `solid()` — сплошной цвет

### 2. Geometry (Геометрия)
Трансформируют координаты:
- `rotate()` — вращение
- `scale()` — масштабирование
- `pixelate()` — пикселизация
- `kaleid()` — калейдоскоп
- `repeat()` — повторение
- `scroll()` — прокрутка

### 3. Color (Цвет)
Изменяют цветовые значения:
- `color()` — установка RGB
- `brightness()` — яркость
- `contrast()` — контраст
- `saturate()` — насыщенность
- `hue()` — оттенок
- `invert()` — инверсия

### 4. Blend (Смешивание)
Комбинируют два источника по цвету:
- `add()` — сложение
- `mult()` — умножение
- `diff()` — разница
- `blend()` — смешивание
- `layer()` — наложение
- `mask()` — маска

### 5. Modulate (Модуляция)
Используют один источник для искажения геометрии другого:
- `modulate()` — базовая модуляция
- `modulateScale()` — модуляция масштаба
- `modulateRotate()` — модуляция вращения
- `modulateHue()` — модуляция оттенка

## Выходные буферы

Hydra имеет **четыре выходных буфера**: `o0`, `o1`, `o2`, `o3`

```javascript
// Разные визуалы в разных буферах
osc(10).out(o0)
noise(3).out(o1)
shape(4).out(o2)
voronoi(5).out(o3)

// Отобразить все четыре
render()
```

<MiniRepl
  client:only="react"
  tune={`await initHydra()
osc(10).out(o0)
noise(3).out(o1)
shape(4).out(o2)
voronoi(5).out(o3)
render()
`}
/>

## Входные источники

Hydra имеет **четыре входных источника**: `s0`, `s1`, `s2`, `s3`

Они используются для загрузки внешних данных:
- Веб-камера
- Видео
- Изображения
- Screen capture
- Потоки от других пользователей

```javascript
// Инициализация камеры
s0.initCam()

// Использование как источника
src(s0).kaleid(4).out()
```

## Динамические параметры

Любой параметр может быть **функцией**, которая вычисляется в реальном времени:

```javascript
// Статический параметр
osc(10).out()

// Динамический параметр (меняется со временем)
osc(() => Math.sin(time) * 20 + 10).out()
```

<MiniRepl
  client:only="react"
  tune={`await initHydra()
// Частота осциллятора меняется со временем
osc(() => Math.sin(time) * 20 + 10)
  .rotate(() => time * 0.1)
  .out()
`}
/>

## Переменная time

Глобальная переменная `time` содержит количество секунд с момента загрузки страницы:

```javascript
// Вращение со временем
osc(10).rotate(() => time * 0.1).out()

// Пульсация
osc(() => 10 + Math.sin(time) * 5).out()
```

## Почему Hydra?

1. **Мгновенный старт** — откройте браузер и начинайте создавать
2. **Визуальная обратная связь** — результат виден сразу
3. **Низкий порог входа** — простой синтаксис
4. **Высокий потолок** — бесконечные возможности комбинаций
5. **Сообщество** — активное комьюнити и множество примеров
6. **Интеграции** — работает с аудио, MIDI, другими библиотеками

## Следующие шаги

- [Быстрый старт](./02-bystryy-start.md) — начните создавать визуалы
- [Источники](./03-istochniki.md) — изучите все генераторы
- [Примеры](./12-primery.md) — вдохновитесь готовыми работами
