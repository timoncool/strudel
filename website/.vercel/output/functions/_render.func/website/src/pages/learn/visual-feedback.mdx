---
title: Визуальная обратная связь
layout: ../../layouts/MainLayout.astro
---

import { MiniRepl } from '../../docs/MiniRepl';
import { JsDoc } from '../../docs/JsDoc';

# Визуальная обратная связь

Существует несколько функций, которые добавляют визуальную обратную связь к вашим patterns.

## Подсветка Mini Notation

Когда вы пишете mini notation с "двойными кавычками" или \`обратными кавычками\`, активные части mini notation будут подсвечиваться:

<MiniRepl
  client:idle
  tune={`n("<0 2 1 3 2>*8")
.scale("<A1 D2>/4:minor:pentatonic")
.s("supersaw").lpf(300).lpenv("<4 3 2>\*4")`}
/>

Вы также можете изменить цвет, даже создать pattern для него:

<MiniRepl
  client:idle
  tune={`n("<0 2 1 3 2>*8")
.scale("<A1 D2>/4:minor:pentatonic")
.s("supersaw").lpf(300).lpenv("<4 3 2>*4")
.color("cyan magenta")`}
/>

## Глобальные против встроенных визуализаций

Следующие функции имеют 2 варианта.

**Без префикса**: рендерит визуализацию на фон страницы:

<MiniRepl client:idle tune={`note("c a f e").color("white").punchcard()`} />

**С префиксом `_`**: рендерит визуализацию внутри кода. Позволяет использовать несколько визуализаций

<MiniRepl client:idle tune={`note("c a f e").color("white")._punchcard()`} />

Здесь мы видим 2 варианта для `punchcard`. То же самое работает для всех остальных ниже.
Для улучшения читаемости следующие демонстрации будут использовать встроенный вариант.

## Punchcard / Pianoroll

Эти 2 функции рендерят визуализацию в стиле pianoroll.
Единственная разница между ними в том, что `pianoroll` будет рендерить pattern напрямую,
в то время как `punchcard` также будет учитывать трансформации, которые происходят после:

<MiniRepl
  client:idle
  tune={`note("c a f e").color("white")
._punchcard()
.color("cyan")`}
  autodraw
/>

Здесь `color` все еще виден в визуализации, даже если он применен после `_punchcard`.
Напротив, цвет не виден при использовании `_pianoroll`:

<MiniRepl
  client:idle
  tune={`note("c a f e").color("white")
._pianoroll()
.color("cyan")`}
  autodraw
/>

import Box from '@components/Box.astro';

<br />

<Box>

`punchcard` менее ресурсоемкий, потому что использует те же данные, что и для подсветки mini notation.

</Box>

Визуализация может быть настроена путем передачи опций. Эти опции одинаковы для обеих функций.

Далее следует API документация всех опций, которые вы можете передать:

<JsDoc client:idle name="pianoroll" h={0} />

## Spiral

<JsDoc client:idle name="spiral" h={0} />

## Scope

<JsDoc client:idle name="scope" h={0} />

## Pitchwheel

<JsDoc client:idle name="pitchwheel" h={0} />

## Spectrum

<JsDoc client:idle name="spectrum" h={0} />

## markcss

<JsDoc client:idle name="markcss" h={0} />
