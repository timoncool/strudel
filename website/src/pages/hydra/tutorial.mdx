---
title: Интерактивный туториал Hydra
layout: ../../layouts/MainLayout.astro
---

import { MiniRepl } from '../../docs/MiniRepl';

# Интерактивный туториал Hydra

Добро пожаловать в пошаговый туториал по Hydra! Каждый пример можно редактировать и запускать прямо здесь.

---

## Шаг 1: Ваш первый визуал

Начнём с самого простого — создадим осциллятор. Нажмите **play** чтобы увидеть результат:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
// Это осциллятор - полосатый паттерн
osc().out()
`}
/>

**Попробуйте:** Измените число внутри `osc()` на 10, 50 или 100 и посмотрите что изменится!

---

## Шаг 2: Параметры осциллятора

Осциллятор `osc()` принимает три параметра:
- **frequency** — частота полос
- **sync** — скорость движения
- **offset** — цветовое смещение

<MiniRepl
  client:only="react"
  tune={`await initHydra()
// osc(частота, скорость, цвет)
osc(10, 0.1, 0.8).out()
`}
/>

**Попробуйте:**
- Измените первое число (частота): 5, 20, 60
- Измените третье число (цвет): 0, 0.5, 1.5

---

## Шаг 3: Добавляем трансформации

Теперь добавим трансформацию — вращение с помощью `.rotate()`:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
osc(10, 0.1, 0.8)
  .rotate(0.5)  // Поворот на 0.5 радиан
  .out()
`}
/>

**Попробуйте:** Измените число в rotate() на 0, 1, 2, 3.14

---

## Шаг 4: Калейдоскоп

Добавим калейдоскопический эффект с помощью `.kaleid()`:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
osc(10, 0.1, 0.8)
  .rotate(0.5)
  .kaleid(4)  // Калейдоскоп из 4 сегментов
  .out()
`}
/>

**Попробуйте:** Измените число в kaleid() на 3, 6, 8, 12

---

## Шаг 5: Анимация со временем

Сделаем визуал динамичным! Используем функцию с `time`:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
osc(10, 0.1, 0.8)
  .rotate(() => time * 0.1)  // Постоянное вращение!
  .kaleid(4)
  .out()
`}
/>

**Ключевой момент:** `() => time * 0.1` — это функция, которая вычисляется каждый кадр. `time` — секунды с начала.

---

## Шаг 6: Другие источники — шум

Попробуем другой источник — `noise()` (шум Перлина):

<MiniRepl
  client:only="react"
  tune={`await initHydra()
noise(5, 0.1)  // noise(масштаб, скорость)
  .out()
`}
/>

---

## Шаг 7: Добавляем цвет

Окрасим шум с помощью `.color()`:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
noise(5, 0.1)
  .color(1, 0.5, 0.2)  // RGB: красный, зелёный, синий (0-1)
  .out()
`}
/>

**Попробуйте:**
- Красный: `.color(1, 0, 0)`
- Синий: `.color(0, 0, 1)`
- Пурпурный: `.color(1, 0, 1)`

---

## Шаг 8: Геометрические фигуры

Источник `shape()` создаёт полигоны:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
shape(3)  // shape(количество сторон)
  .out()
// Попробуйте: 4 = квадрат, 5 = пятиугольник, 100 = круг
`}
/>

---

## Шаг 9: Сетка фигур

Добавим повторение с помощью `.repeat()`:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
shape(4, 0.3)
  .repeat(4, 4)  // repeat(по X, по Y)
  .color(1, 0.5, 0)
  .out()
`}
/>

---

## Шаг 10: Смешивание источников

Смешаем два источника с помощью `.blend()`:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
osc(10, 0.1, 0.8)
  .blend(noise(3), 0.5)  // Смешиваем 50/50 с шумом
  .out()
`}
/>

---

## Шаг 11: Разница (diff)

Вычислим разницу между двумя источниками:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
osc(10)
  .diff(osc(30))  // Разница между двумя осцилляторами
  .out()
`}
/>

---

## Шаг 12: Модуляция — магия искажений!

Модуляция — самое интересное! Один источник искажает другой:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
osc(10, 0.1, 0.8)
  .modulate(noise(3), 0.3)  // Шум искажает осциллятор
  .out()
`}
/>

**Попробуйте:** Измените второе число в modulate() от 0.1 до 1.0

---

## Шаг 13: Модуляция осциллятором

Попробуем другой модулятор:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
osc(20, 0.1, 0.8)
  .modulate(osc(3).rotate(1.57), 0.5)  // Осциллятор модулирует осциллятор
  .out()
`}
/>

---

## Шаг 14: Комбинируем всё вместе

Теперь создадим сложный визуал:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
osc(10, 0.1, 0.8)
  .modulate(noise(3), 0.2)
  .color(1, 0.5, 0.2)
  .rotate(() => time * 0.1)
  .kaleid(4)
  .out()
`}
/>

---

## Шаг 15: Feedback — бесконечность!

Feedback создаёт эффект бесконечного зеркала:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
src(o0)  // Берём предыдущий кадр
  .scale(1.01)  // Чуть увеличиваем
  .rotate(0.01)  // Чуть поворачиваем
  .blend(osc(10, 0.1, 0.8).kaleid(4), 0.1)  // Добавляем новый визуал
  .out()
`}
/>

---

## Шаг 16: Массивы для анимации

Массивы автоматически переключают значения:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
osc([10, 20, 30, 40], 0.1, [0, 0.5, 1])  // Три разных значения!
  .kaleid([3, 4, 5, 6])  // Калейдоскоп тоже меняется
  .out()
`}
/>

---

## Шаг 17: Плавные переходы

Добавим `.smooth()` для плавных переходов:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
osc([10, 50].smooth(), 0.1, 0.8)
  .kaleid([3, 6].smooth())
  .out()
`}
/>

---

## Шаг 18: Аудио-реактивность

Подключим визуал к звуку:

<MiniRepl
  client:only="react"
  tune={`await initHydra({detectAudio: true})
a.setBins(4)
a.setSmooth(0.8)

osc(() => 10 + a.fft[0] * 50, 0.1, 0.8)
  .kaleid(() => Math.floor(a.fft[1] * 6) + 3)
  .rotate(() => time * 0.1)
  .out()

// Добавим звук для реакции
s("bd*4, hh*8").bank("RolandTR909")
`}
/>

---

## Шаг 19: Паттерны Strudel в Hydra

Функция `H()` связывает Strudel паттерны с Hydra:

<MiniRepl
  client:only="react"
  tune={`await initHydra()
let pattern = "<3 4 5 6>"  // Strudel паттерн

shape(H(pattern), 0.3)
  .repeat(H(pattern), H(pattern))
  .rotate(() => time * 0.1)
  .color(1, 0.5, 0)
  .out()

// Музыка использует тот же паттерн
n(pattern).scale("C:minor").piano().room(0.5)
`}
/>

---

## Шаг 20: Ваш первый шедевр!

Теперь вы знаете основы! Вот финальный пример — редактируйте его как хотите:

<MiniRepl
  client:only="react"
  tune={`await initHydra({detectAudio: true})
a.setBins(4)
a.setSmooth(0.8)

// Feedback основа
src(o0)
  .scale(() => 1.01 + a.fft[0] * 0.02)
  .rotate(() => 0.005 + a.fft[1] * 0.01)
  .blend(
    // Новый визуал
    osc(20, 0.1, 0.8)
      .modulate(noise(3), () => a.fft[0] * 0.3)
      .kaleid([3, 4, 5, 6].fast(0.5))
      .color(1, 0.5, () => a.fft[2]),
    0.1
  )
  .out()

// Музыка
s("bd*4, hh*8, ~ sd")
  .bank("RolandTR909")
  .room(0.3)
`}
/>

---

## Что дальше?

Поздравляю! Теперь вы знаете основы Hydra. Продолжайте изучение:

- [Источники](/hydra/sources) — все генераторы визуалов
- [Модуляция](/hydra/modulation) — продвинутые техники искажения
- [Галерея примеров](/hydra/examples) — вдохновляющие работы
- [API Reference](/hydra/api) — полный справочник функций

**Совет:** Экспериментируйте! Меняйте числа, комбинируйте функции, ошибайтесь — так рождается искусство!
