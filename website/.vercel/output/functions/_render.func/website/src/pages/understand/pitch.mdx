---
title: Понимание Pitch
layout: ../../layouts/MainLayout.astro
---

import { MiniRepl } from '../../docs/MiniRepl';
import { PitchSlider } from '../../components/PitchSlider';
import Box from '@components/Box.astro';

# Понимание Pitch

Давайте узнаем, как работает pitch! Ползунок ниже управляет <span style="color:#3b82f6;">частотой</span> осциллятора, производя pitch:

{/* <PitchSlider client:load showFrequencySlider plot /> */}

<PitchSlider client:load showFrequencySlider min={20} max={20000} />

- Перетащите ползунок, чтобы услышать pitch
- Переместите ползунок, чтобы изменить pitch
- Наблюдайте, как меняется число Hz
- <span className="text-red-300">Осторожно</span>: Более высокие частоты могут быть неприятны для детей или животных!

Число Hz - это частота pitch, которую вы слышите.
Чем выше частота, тем выше pitch, и наоборот.
Pitch возникает, когда что-то вибрирует / колеблется с определенной частотой, в данном случае это ваш динамик.
Единица **Hz** описывает, сколько раз эта осцилляция происходит в секунду.
Наши глаза слишком медленные, чтобы на самом деле увидеть осцилляцию на динамике, но мы можем <a href="https://www.youtube.com/watch?v=CDMBWw7OuJQ" target="_blank">увидеть это в замедленной съемке</a>.

<Box>

Диапазон слуха новорожденного, как говорят, составляет от 20Hz до 20000Hz.
Верхний предел уменьшается с возрастом. Каков ваш верхний предел?

</Box>

В Strudel мы можем воспроизводить частоты напрямую с помощью контрола `freq`:

<MiniRepl client:visible tune={`freq("<200 [300,500] 400 [500,<600 670 712 670>]>*8")`} />

## Частота против восприятия Pitch

Возможно, вы уже заметили, что <span style="color:#3b82f6;">ползунок частоты</span> "несимметричный",
что означает, что pitch больше меняется в левой области и меньше в правой области.<br/>
Чтобы сделать это более очевидным, давайте добавим <span style="color:#eab308">ползунок pitch</span>,
который управляет частотой по другой шкале:

<PitchSlider animatable plot showFrequencySlider showPitchSlider client:load />

Попробуйте кнопки выше, чтобы прокрутить диапазон частот двумя разными способами:

- Развертка частоты: <span style="color:#3b82f6;">частота растет линейно</span> , <span style="color:#eab308">pitch растет логарифмически</span>
- Развертка Pitch: <span style="color:#3b82f6;">частота растет экспоненциально</span> , <span style="color:#eab308">pitch растет линейно</span>

<Box>

Не пугайтесь этих математических терминов:

- "логарифмический" - это просто причудливый способ сказать "начинается быстро и замедляется"
- "экспоненциальный" - это просто причудливый способ сказать "начинается медленно и ускоряется"

</Box>

В большинстве случаев мы можем захотеть управлять pitch таким образом, который соответствует нашему восприятию,
что и делает <span style="color:#eab308">ползунок pitch</span>.

## От Hz к полутонам

Поскольку Hz не соответствует нашему восприятию, давайте попробуем найти единицу для pitch, которая соответствует.
Чтобы приблизиться к этой единице pitch, давайте посмотрим, как ведет себя частота, когда она удваивается:

<PitchSlider client:load showPitchSlider showFrequencySlider pitchStep={1 / 7} />

- Используйте ступенчатый ползунок pitch выше
- Слышите ли вы, как эти питчи связаны друг с другом?

<Box>

В музыкальных терминах pitch с удвоенной частотой другого на `октаву` выше.

</Box>

Поскольку октавы довольно далеко друг от друга, октавы обычно делятся на 12 меньших частей:

<PitchSlider client:load showPitchSlider showFrequencySlider pitchStep={1 / 12} min={440} max={880} initial={440} />

Этот шаг также называется полутоном, который является наиболее распространенным делением pitch-музыки.
Например, клавиши на клавиатуре пианино также разделены на полутоны.

В Strudel мы могли бы сделать это с `freq` так:

<MiniRepl
  client:visible
  tune={`freq(
  "0 4 7 12"
  .fmap(n => 440 * 2**(n/12))
)`}
/>

Конечно, это можно написать короче с помощью note, как мы увидим ниже.

## От полутонов к MIDI-номерам

Теперь мы знаем, что такое расстояние полутона.
Выше мы использовали произвольную базовую частоту 440Hz, что означает, что экспонента 0 равна 440Hz.
Обычно 440Hz стандартизирован до числа 69, что приводит к этому расчету:

<PitchSlider
  client:load
  showPitchSlider
  showFrequencySlider
  baseFrequency={440}
  zeroOffset={69}
  pitchStep={1 / 12 / 7}
  min={440 / 8}
  max={7040}
  initial={440}
/>

Желтое число теперь является MIDI-номером, охватывающим более чем весь диапазон человеческого слуха с числами от 0 до 127.
В Strudel мы можем использовать MIDI-номера внутри `note`:

<MiniRepl client:visible tune={`note("69 73 76 81")`} />

## От MIDI-номеров к нотам

В западной музыкальной теории вместо номеров используются ноты.
Для каждого midi-номера есть по крайней мере одна нотная метка:

<PitchSlider
  client:load
  showPitchSlider
  showFrequencySlider
  baseFrequency={440}
  zeroOffset={69}
  pitchStep={1 / 48}
  min={440 / 8}
  max={880}
  initial={440}
  claviature
/>

Полная нотная метка состоит из буквы (A-G), 0 или более знаков альтерации (b | #) и номера октавы.
Эта система также известна как [научная нотация pitch](https://en.wikipedia.org/wiki/Scientific_pitch_notation).
В Strudel эти нотные метки также могут использоваться внутри `note` как альтернатива midi-номерам:

<MiniRepl client:visible tune={`note("A4 C#5 E5 A5").piano()`} />

## Открытые вопросы

Теперь, когда мы узнали о различных представлениях pitch, все еще остаются открытые вопросы:

- Почему 12 нот? А как насчет других делений октавы?
- Почему ноты обозначены так, как они есть? Почему только 7 букв?
- Есть ли другие системы обозначений?
- А как насчет систем чистого строя?
- А как насчет тембра?

Все эти вопросы важно задавать, и на них будут даны ответы в другой статье.

## Определение

Сначала я хотел начать эту статью с определения, но затем подумал, что было бы хорошей идеей сосредоточиться на интуитивном исследовании.
Возможно, теперь вы понимаете это определение намного лучше:

<Box>

Из [wikipedia](<https://en.wikipedia.org/wiki/Pitch_(music)>): "Pitch - это перцептивное свойство звуков, которое позволяет их упорядочивать по шкале, связанной с частотой, или, более часто, pitch - это качество, которое позволяет оценивать звуки как "выше" и "ниже" в смысле, связанном с музыкальными мелодиями."

</Box>
