import{j as e}from"./jsx-runtime.CLpGMVip.js";import{D as m}from"./index.CXEd7qFE.js";import{r as x}from"./index.B9mnsnPE.js";import"./_commonjsHelpers.BosuxZz1.js";function p({onEvaluate:t,hash:n,instance:s}){const l=x.useRef();window.addEventListener("message",r=>{const i=l?.current?.contentWindow;r==null||r.source!==i||t(r.data)});const a=new URL(window.location.origin);a.hash=n,a.searchParams.append("instance",s);const o=a.toString();return e.jsx("iframe",{ref:l,style:{display:"flex",flexGrow:1,minWidth:"50%",boxSizing:"border-box",border:"0px"},title:"strudel embed",src:o})}function u(t){const{children:n,onClick:s}=t;return e.jsx("button",{onClick:s,type:"button","data-input-counter-increment":"counter-input",className:"flex-shrink-0  bg-gray-700 hover:bg-gray-600 border-gray-600 inline-flex items-center justify-center border rounded-md h-5 w-5  focus:ring-gray-700 focus:ring-2 focus:outline-none",children:n})}function w(t){const{value:n=0,setValue:s,max:l,min:a}=t;return e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(u,{onClick:()=>s(n-1),children:e.jsx("svg",{className:"w-2.5 h-2.5 text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 2",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 1h16"})})}),e.jsx("input",{min:a,max:l,type:"text","data-input-counter":!0,className:"flex-shrink-0 text-white border-0 bg-transparent text-sm font-normal focus:outline-none focus:ring-0 max-w-[2.5rem] text-center",placeholder:"",value:n,onChange:o=>s(o.target.value)}),e.jsx(u,{onClick:()=>s(n+1),children:e.jsx("svg",{className:"w-2.5 h-2.5 text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:e.jsx("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",d:"M9 1v16M1 9h16"})})})]})}function f(t){const{numWindows:n,setNumWindows:s}=t;return e.jsx("header",{id:"header",className:"flex text-white  z-[100] text-lg select-none bg-neutral-800",children:e.jsxs("div",{className:"px-4 items-center gap-2  flex space-x-2 md:pt-0 select-none",children:[e.jsxs("h1",{onClick:()=>{},className:"text-l cursor-pointer flex gap-4",children:[e.jsx("div",{className:"mt-[1px] cursor-pointer",children:"ðŸŒ€"}),e.jsxs("div",{className:"animate-pulse",children:[e.jsx("span",{className:"",children:"strudel"})," ",e.jsx("span",{className:"text-sm",children:"-UDELS"})]})]}),e.jsx(w,{value:n,setValue:s})]})})}const g="c3RhY2soCiAgCik%3D",d=()=>window.location.hash?.slice(1).split(","),h=t=>{const n="#"+t.join(",");window.location.hash=n};function k(){const t=d(),[n,s]=x.useState(t?.length??1),l=o=>{s(o);const r=d(),i=[];for(let c=0;c<o;c++)i[c]=r[c]??g;h(i)},a=(o,r)=>{const i=d();i[o]=m(r),h(i)};return e.jsxs("div",{style:{margin:0,display:"flex",flex:1,height:"100vh",width:"100%",flexDirection:"column"},children:[e.jsx(f,{numWindows:n,setNumWindows:l}),e.jsx("div",{style:{display:"flex",flex:1,flexDirection:"row",flexWrap:"wrap"},children:t.map((o,r)=>e.jsx(p,{instance:r,onEvaluate:i=>{a(r,i)},hash:o},r))})]})}export{k as Udels};
