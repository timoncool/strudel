import{q as x2,o as P2,i as w2,D as C2,c as Vd}from"./index.Ds4Xb5JZ.js";import{e as zp,F as Pl,M as Wr,N as A2,O as Yo,Q as I0,R as N0,S as S2,T as Z0,U as Fs,r as ws,V as M2,_ as za,n as Vl,c as Li,i as gh,l as oo,W as D2,X as B2,Y as E2,A as F2,P as $2,Z as Q2,$ as _2}from"./index.CXEd7qFE.js";import{c as T2,g as V0,a as R2}from"./_commonjsHelpers.BosuxZz1.js";function j2(n,e){function t(){this.constructor=n}t.prototype=e.prototype,n.prototype=new t}function Ai(n,e,t,r){var a=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(a,Ai.prototype),a.expected=e,a.found=t,a.location=r,a.name="SyntaxError",a}j2(Ai,Error);function Wc(n,e,t){return t=t||" ",n.length>e?n:(e-=n.length,t+=t.repeat(e),n+t.slice(0,e))}Ai.prototype.format=function(n){var e="Error: "+this.message;if(this.location){var t=null,r;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){t=n[r].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,i=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(a):a,s=this.location.source+":"+i.line+":"+i.column;if(t){var o=this.location.end,l=Wc("",i.line.toString().length," "),c=t[a.line-1],p=a.line===o.line?o.column:c.length+1,d=p-a.column||1;e+=`
 --> `+s+`
`+l+` |
`+i.line+" | "+c+`
`+l+" | "+Wc("",a.column-1," ")+Wc("",d,"^")}else e+=`
 at `+s}return e};Ai.buildMessage=function(n,e){var t={literal:function(c){return'"'+a(c.text)+'"'},class:function(c){var p=c.parts.map(function(d){return Array.isArray(d)?i(d[0])+"-"+i(d[1]):i(d)});return"["+(c.inverted?"^":"")+p.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(c){return c.description}};function r(c){return c.charCodeAt(0).toString(16).toUpperCase()}function a(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(p){return"\\x0"+r(p)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(p){return"\\x"+r(p)})}function i(c){return c.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(p){return"\\x0"+r(p)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(p){return"\\x"+r(p)})}function s(c){return t[c.type](c)}function o(c){var p=c.map(s),d,f;if(p.sort(),p.length>0){for(d=1,f=1;d<p.length;d++)p[d-1]!==p[d]&&(p[f]=p[d],f++);p.length=f}switch(p.length){case 1:return p[0];case 2:return p[0]+" or "+p[1];default:return p.slice(0,-1).join(", ")+", or "+p[p.length-1]}}function l(c){return c?'"'+a(c)+'"':"end of input"}return"Expected "+o(n)+" but "+l(e)+" found."};function L2(n,e){e=e!==void 0?e:{};var t={},r=e.grammarSource,a={start:Vo},i=Vo,s=".",o="-",l="0",c=",",p="|",d="[",f="]",y="{",P="}",w="%",A="<",T=">",q="!",G="(",I=")",Q="/",Z="*",V="?",Y=":",ue="..",se="^",ce="struct",ae="target",ne="euclid",fe="slow",Ce="rotL",Re="rotR",Me="fast",te="scale",qe="//",ot="cat",bt="$",le="setcps",lt="setbpm",Bt="hush",Le=/^[1-9]/,Xe=/^[eE]/,At=/^[+\-]/,fr=/^[0-9]/,ti=/^[ \n\r\t\xA0]/,gr=/^["']/,br=/^[#\--.0-9A-Z\^-_a-z~\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376-\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4-\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u09FC\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD-\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Ln=/^[@_]/,Da=/^[^\n]/,wt=is("number"),yt=Qe(".",!1),aa=Fn([["1","9"]],!1,!1),pn=Fn(["e","E"],!1,!1),ni=Fn(["+","-"],!1,!1),ts=Qe("-",!1),ri=Qe("0",!1),nr=Fn([["0","9"]],!1,!1),mn=is("whitespace"),ai=Fn([" ",`
`,"\r","	"," "],!1,!1),Ba=Qe(",",!1),We=Qe("|",!1),St=Fn(['"',"'"],!1,!1),we=is('a letter, a number, "-", "#", ".", "^", "_"'),Et=Fn(["#",["-","."],["0","9"],["A","Z"],["^","_"],["a","z"],"~","ª","µ","º",["À","Ö"],["Ø","ö"],["ø","ˁ"],["ˆ","ˑ"],["ˠ","ˤ"],"ˬ","ˮ",["Ͱ","ʹ"],["Ͷ","ͷ"],["ͺ","ͽ"],"Ϳ","Ά",["Έ","Ί"],"Ό",["Ύ","Ρ"],["Σ","ϵ"],["Ϸ","ҁ"],["Ҋ","ԯ"],["Ա","Ֆ"],"ՙ",["ՠ","ֈ"],["א","ת"],["ׯ","ײ"],["ؠ","ي"],["ٮ","ٯ"],["ٱ","ۓ"],"ە",["ۥ","ۦ"],["ۮ","ۯ"],["ۺ","ۼ"],"ۿ","ܐ",["ܒ","ܯ"],["ݍ","ޥ"],"ޱ",["ߊ","ߪ"],["ߴ","ߵ"],"ߺ",["ࠀ","ࠕ"],"ࠚ","ࠤ","ࠨ",["ࡀ","ࡘ"],["ࡠ","ࡪ"],["ࢠ","ࢴ"],["ࢶ","ࢽ"],["ऄ","ह"],"ऽ","ॐ",["क़","ॡ"],["ॱ","ঀ"],["অ","ঌ"],["এ","ঐ"],["ও","ন"],["প","র"],"ল",["শ","হ"],"ঽ","ৎ",["ড়","ঢ়"],["য়","ৡ"],["ৰ","ৱ"],"ৼ",["ਅ","ਊ"],["ਏ","ਐ"],["ਓ","ਨ"],["ਪ","ਰ"],["ਲ","ਲ਼"],["ਵ","ਸ਼"],["ਸ","ਹ"],["ਖ਼","ੜ"],"ਫ਼",["ੲ","ੴ"],["અ","ઍ"],["એ","ઑ"],["ઓ","ન"],["પ","ર"],["લ","ળ"],["વ","હ"],"ઽ","ૐ",["ૠ","ૡ"],"ૹ",["ଅ","ଌ"],["ଏ","ଐ"],["ଓ","ନ"],["ପ","ର"],["ଲ","ଳ"],["ଵ","ହ"],"ଽ",["ଡ଼","ଢ଼"],["ୟ","ୡ"],"ୱ","ஃ",["அ","ஊ"],["எ","ஐ"],["ஒ","க"],["ங","ச"],"ஜ",["ஞ","ட"],["ண","த"],["ந","ப"],["ம","ஹ"],"ௐ",["అ","ఌ"],["ఎ","ఐ"],["ఒ","న"],["ప","హ"],"ఽ",["ౘ","ౚ"],["ౠ","ౡ"],"ಀ",["ಅ","ಌ"],["ಎ","ಐ"],["ಒ","ನ"],["ಪ","ಳ"],["ವ","ಹ"],"ಽ","ೞ",["ೠ","ೡ"],["ೱ","ೲ"],["അ","ഌ"],["എ","ഐ"],["ഒ","ഺ"],"ഽ","ൎ",["ൔ","ൖ"],["ൟ","ൡ"],["ൺ","ൿ"],["අ","ඖ"],["ක","න"],["ඳ","ර"],"ල",["ව","ෆ"],["ก","ะ"],["า","ำ"],["เ","ๆ"],["ກ","ຂ"],"ຄ",["ງ","ຈ"],"ຊ","ຍ",["ດ","ທ"],["ນ","ຟ"],["ມ","ຣ"],"ລ","ວ",["ສ","ຫ"],["ອ","ະ"],["າ","ຳ"],"ຽ",["ເ","ໄ"],"ໆ",["ໜ","ໟ"],"ༀ",["ཀ","ཇ"],["ཉ","ཬ"],["ྈ","ྌ"],["က","ဪ"],"ဿ",["ၐ","ၕ"],["ၚ","ၝ"],"ၡ",["ၥ","ၦ"],["ၮ","ၰ"],["ၵ","ႁ"],"ႎ",["Ⴀ","Ⴥ"],"Ⴧ","Ⴭ",["ა","ჺ"],["ჼ","ቈ"],["ቊ","ቍ"],["ቐ","ቖ"],"ቘ",["ቚ","ቝ"],["በ","ኈ"],["ኊ","ኍ"],["ነ","ኰ"],["ኲ","ኵ"],["ኸ","ኾ"],"ዀ",["ዂ","ዅ"],["ወ","ዖ"],["ዘ","ጐ"],["ጒ","ጕ"],["ጘ","ፚ"],["ᎀ","ᎏ"],["Ꭰ","Ᏽ"],["ᏸ","ᏽ"],["ᐁ","ᙬ"],["ᙯ","ᙿ"],["ᚁ","ᚚ"],["ᚠ","ᛪ"],["ᛮ","ᛸ"],["ᜀ","ᜌ"],["ᜎ","ᜑ"],["ᜠ","ᜱ"],["ᝀ","ᝑ"],["ᝠ","ᝬ"],["ᝮ","ᝰ"],["ក","ឳ"],"ៗ","ៜ",["ᠠ","ᡸ"],["ᢀ","ᢄ"],["ᢇ","ᢨ"],"ᢪ",["ᢰ","ᣵ"],["ᤀ","ᤞ"],["ᥐ","ᥭ"],["ᥰ","ᥴ"],["ᦀ","ᦫ"],["ᦰ","ᧉ"],["ᨀ","ᨖ"],["ᨠ","ᩔ"],"ᪧ",["ᬅ","ᬳ"],["ᭅ","ᭋ"],["ᮃ","ᮠ"],["ᮮ","ᮯ"],["ᮺ","ᯥ"],["ᰀ","ᰣ"],["ᱍ","ᱏ"],["ᱚ","ᱽ"],["ᲀ","ᲈ"],["Ა","Ჺ"],["Ჽ","Ჿ"],["ᳩ","ᳬ"],["ᳮ","ᳱ"],["ᳵ","ᳶ"],["ᴀ","ᶿ"],["Ḁ","ἕ"],["Ἐ","Ἕ"],["ἠ","ὅ"],["Ὀ","Ὅ"],["ὐ","ὗ"],"Ὑ","Ὓ","Ὕ",["Ὗ","ώ"],["ᾀ","ᾴ"],["ᾶ","ᾼ"],"ι",["ῂ","ῄ"],["ῆ","ῌ"],["ῐ","ΐ"],["ῖ","Ί"],["ῠ","Ῥ"],["ῲ","ῴ"],["ῶ","ῼ"],"ⁱ","ⁿ",["ₐ","ₜ"],"ℂ","ℇ",["ℊ","ℓ"],"ℕ",["ℙ","ℝ"],"ℤ","Ω","ℨ",["K","ℭ"],["ℯ","ℹ"],["ℼ","ℿ"],["ⅅ","ⅉ"],"ⅎ",["Ⅰ","ↈ"],["Ⰰ","Ⱞ"],["ⰰ","ⱞ"],["Ⱡ","ⳤ"],["Ⳬ","ⳮ"],["Ⳳ","ⳳ"],["ⴀ","ⴥ"],"ⴧ","ⴭ",["ⴰ","ⵧ"],"ⵯ",["ⶀ","ⶖ"],["ⶠ","ⶦ"],["ⶨ","ⶮ"],["ⶰ","ⶶ"],["ⶸ","ⶾ"],["ⷀ","ⷆ"],["ⷈ","ⷎ"],["ⷐ","ⷖ"],["ⷘ","ⷞ"],"ⸯ",["々","〇"],["〡","〩"],["〱","〵"],["〸","〼"],["ぁ","ゖ"],["ゝ","ゟ"],["ァ","ヺ"],["ー","ヿ"],["ㄅ","ㄯ"],["ㄱ","ㆎ"],["ㆠ","ㆺ"],["ㇰ","ㇿ"],["㐀","䶵"],["一","鿯"],["ꀀ","ꒌ"],["ꓐ","ꓽ"],["ꔀ","ꘌ"],["ꘐ","ꘟ"],["ꘪ","ꘫ"],["Ꙁ","ꙮ"],["ꙿ","ꚝ"],["ꚠ","ꛯ"],["ꜗ","ꜟ"],["Ꜣ","ꞈ"],["Ꞌ","ꞹ"],["ꟷ","ꠁ"],["ꠃ","ꠅ"],["ꠇ","ꠊ"],["ꠌ","ꠢ"],["ꡀ","ꡳ"],["ꢂ","ꢳ"],["ꣲ","ꣷ"],"ꣻ",["ꣽ","ꣾ"],["ꤊ","ꤥ"],["ꤰ","ꥆ"],["ꥠ","ꥼ"],["ꦄ","ꦲ"],"ꧏ",["ꧠ","ꧤ"],["ꧦ","ꧯ"],["ꧺ","ꧾ"],["ꨀ","ꨨ"],["ꩀ","ꩂ"],["ꩄ","ꩋ"],["ꩠ","ꩶ"],"ꩺ",["ꩾ","ꪯ"],"ꪱ",["ꪵ","ꪶ"],["ꪹ","ꪽ"],"ꫀ","ꫂ",["ꫛ","ꫝ"],["ꫠ","ꫪ"],["ꫲ","ꫴ"],["ꬁ","ꬆ"],["ꬉ","ꬎ"],["ꬑ","ꬖ"],["ꬠ","ꬦ"],["ꬨ","ꬮ"],["ꬰ","ꭚ"],["ꭜ","ꭥ"],["ꭰ","ꯢ"],["가","힣"],["ힰ","ퟆ"],["ퟋ","ퟻ"],["豈","舘"],["並","龎"],["ﬀ","ﬆ"],["ﬓ","ﬗ"],"יִ",["ײַ","ﬨ"],["שׁ","זּ"],["טּ","לּ"],"מּ",["נּ","סּ"],["ףּ","פּ"],["צּ","ﮱ"],["ﯓ","ﴽ"],["ﵐ","ﶏ"],["ﶒ","ﷇ"],["ﷰ","ﷻ"],["ﹰ","ﹴ"],["ﹶ","ﻼ"],["Ａ","Ｚ"],["ａ","ｚ"],["ｦ","ﾾ"],["ￂ","ￇ"],["ￊ","ￏ"],["ￒ","ￗ"],["ￚ","ￜ"]],!1,!1),Ie=Qe("[",!1),Vr=Qe("]",!1),Ot=Qe("{",!1),Dn=Qe("}",!1),ii=Qe("%",!1),yr=Qe("<",!1),kt=Qe(">",!1),rt=Fn(["@","_"],!1,!1),Gt=Qe("!",!1),Fe=Qe("(",!1),at=Qe(")",!1),Ut=Qe("/",!1),qr=Qe("*",!1),Mt=Qe("?",!1),Ea=Qe(":",!1),ns=Qe("..",!1),O=Qe("^",!1),S=Qe("struct",!1),C=Qe("target",!1),M=Qe("euclid",!1),_=Qe("slow",!1),H=Qe("rotL",!1),ee=Qe("rotR",!1),ie=Qe("fast",!1),de=Qe("scale",!1),Ne=Qe("//",!1),He=Fn([`
`],!0,!1),rr=Qe("cat",!1),Or=Qe("$",!1),rn=Qe("setcps",!1),ia=Qe("setbpm",!1),hn=Qe("hush",!1),Ao=function(){return parseFloat(Ht())},So=function(k){const F=k.join("");return F==="."||F==="_"},Pc=function(k){return new O2(k.join(""))},Mo=function(k){return k},wc=function(k,F){return k.arguments_.stepsPerCycle=F,k},Do=function(k){return k},Cc=function(k){return k.arguments_.alignment="polymeter_slowcat",k},Bo=function(k){return F=>F.options_.weight=(F.options_.weight??1)+(k??2)-1},rs=function(k){return F=>{const j=(F.options_.reps??1)+(k??2)-1;F.options_.reps=j,F.options_.ops=F.options_.ops.filter(J=>J.type_!=="replicate"),F.options_.ops.push({type_:"replicate",arguments_:{amount:j}}),F.options_.weight=j}},Ac=function(k,F,j){return J=>J.options_.ops.push({type_:"bjorklund",arguments_:{pulse:k,step:F,rotation:j}})},ar=function(k){return F=>F.options_.ops.push({type_:"stretch",arguments_:{amount:k,type:"slow"}})},Sc=function(k){return F=>F.options_.ops.push({type_:"stretch",arguments_:{amount:k,type:"fast"}})},Eo=function(k){return F=>F.options_.ops.push({type_:"degradeBy",arguments_:{amount:k,seed:Xc++}})},Fo=function(k){return F=>F.options_.ops.push({type_:"tail",arguments_:{element:k}})},Mc=function(k){return F=>F.options_.ops.push({type_:"range",arguments_:{element:k}})},$o=function(k,F){const j=new v2(k,{ops:[],weight:1,reps:1});for(const J of F)J(j);return j},Dc=function(k,F){return new Uo(F,"fastcat",void 0,!!k)},Bc=function(k){return{alignment:"stack",list:k}},Bn=function(k){return{alignment:"rand",list:k,seed:Xc++}},Ec=function(k){return{alignment:"feet",list:k,seed:Xc++}},Fc=function(k,F){return F&&F.list.length>0?new Uo([k,...F.list],F.alignment,F.seed):k},Qo=function(k,F){return new Uo(F?[k,...F.list]:[k],"polymeter")},_o=function(k){return k},$c=function(k){return{name:"struct",args:{mini:k}}},To=function(k){return{name:"target",args:{name:k}}},Qc=function(k,F,j){return{name:"bjorklund",args:{pulse:k,step:parseInt(F)}}},Ro=function(k){return{name:"stretch",args:{amount:k}}},_c=function(k){return{name:"shift",args:{amount:"-"+k}}},jo=function(k){return{name:"shift",args:{amount:k}}},En=function(k){return{name:"stretch",args:{amount:"1/"+k}}},Ye=function(k){return{name:"scale",args:{scale:k.join("")}}},Lo=function(k,F){return F},si=function(k,F){return F.unshift(k),new Uo(F,"slowcat")},Tc=function(k){return k},Fa=function(k,F){return new k2(k.name,k.args,F)},Rc=function(k){return k},$a=function(k){return k},as=function(k){return new qc("setcps",{value:k})},Io=function(k){return new qc("setcps",{value:k/120/2})},jc=function(){return new qc("hush")},R=e.peg$currPos|0,$e=R,kr=[{line:1,column:1}],Yt=R,Qa=e.peg$maxFailExpected||[],Oe=e.peg$silentFails|0,sa;if(e.startRule){if(!(e.startRule in a))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=a[e.startRule]}function Ht(){return n.substring($e,R)}function No(){return ss($e,R)}function Qe(k,F){return{type:"literal",text:k,ignoreCase:F}}function Fn(k,F,j){return{type:"class",parts:k,inverted:F,ignoreCase:j}}function Lc(){return{type:"end"}}function is(k){return{type:"other",description:k}}function Zo(k){var F=kr[k],j;if(F)return F;if(k>=kr.length)j=kr.length-1;else for(j=k;!kr[--j];);for(F=kr[j],F={line:F.line,column:F.column};j<k;)n.charCodeAt(j)===10?(F.line++,F.column=1):F.column++,j++;return kr[k]=F,F}function ss(k,F,j){var J=Zo(k),Pe=Zo(F),vt={source:r,start:{offset:k,line:J.line,column:J.column},end:{offset:F,line:Pe.line,column:Pe.column}};return vt}function Ae(k){R<Yt||(R>Yt&&(Yt=R,Qa=[]),Qa.push(k))}function Ic(k,F,j){return new Ai(Ai.buildMessage(k,F),k,F,j)}function Vo(){var k;return k=y2(),k}function In(){var k,F;return Oe++,k=R,os(),F=_a(),F!==t?(Go(),zo(),$e=k,k=Ao()):(R=k,k=t),Oe--,k===t&&Oe===0&&Ae(wt),k}function qo(){var k;return n.charCodeAt(R)===46?(k=s,R++):(k=t,Oe===0&&Ae(yt)),k}function Xo(){var k;return k=n.charAt(R),Le.test(k)?R++:(k=t,Oe===0&&Ae(aa)),k}function Wo(){var k;return k=n.charAt(R),Xe.test(k)?R++:(k=t,Oe===0&&Ae(pn)),k}function zo(){var k,F,j,J,Pe;if(k=R,F=Wo(),F!==t){if(j=n.charAt(R),At.test(j)?R++:(j=t,Oe===0&&Ae(ni)),j===t&&(j=null),J=[],Pe=m(),Pe!==t)for(;Pe!==t;)J.push(Pe),Pe=m();else J=t;J!==t?(F=[F,j,J],k=F):(R=k,k=t)}else R=k,k=t;return k}function Go(){var k,F,j,J;if(k=R,F=qo(),F!==t){if(j=[],J=m(),J!==t)for(;J!==t;)j.push(J),J=m();else j=t;j!==t?(F=[F,j],k=F):(R=k,k=t)}else R=k,k=t;return k}function _a(){var k,F,j,J;if(k=Nc(),k===t)if(k=R,F=Xo(),F!==t){for(j=[],J=m();J!==t;)j.push(J),J=m();F=[F,j],k=F}else R=k,k=t;return k}function os(){var k;return n.charCodeAt(R)===45?(k=o,R++):(k=t,Oe===0&&Ae(ts)),k}function Nc(){var k;return n.charCodeAt(R)===48?(k=l,R++):(k=t,Oe===0&&Ae(ri)),k}function m(){var k;return k=n.charAt(R),fr.test(k)?R++:(k=t,Oe===0&&Ae(nr)),k}function h(){var k,F;for(Oe++,k=[],F=n.charAt(R),ti.test(F)?R++:(F=t,Oe===0&&Ae(ai));F!==t;)k.push(F),F=n.charAt(R),ti.test(F)?R++:(F=t,Oe===0&&Ae(ai));return Oe--,F=t,Oe===0&&Ae(mn),k}function g(){var k,F,j,J;return k=R,F=h(),n.charCodeAt(R)===44?(j=c,R++):(j=t,Oe===0&&Ae(Ba)),j!==t?(J=h(),F=[F,j,J],k=F):(R=k,k=t),k}function b(){var k,F,j,J;return k=R,F=h(),n.charCodeAt(R)===124?(j=p,R++):(j=t,Oe===0&&Ae(We)),j!==t?(J=h(),F=[F,j,J],k=F):(R=k,k=t),k}function v(){var k,F,j,J;return k=R,F=h(),n.charCodeAt(R)===46?(j=s,R++):(j=t,Oe===0&&Ae(yt)),j!==t?(J=h(),F=[F,j,J],k=F):(R=k,k=t),k}function x(){var k;return k=n.charAt(R),gr.test(k)?R++:(k=t,Oe===0&&Ae(St)),k}function D(){var k;return Oe++,k=n.charAt(R),br.test(k)?R++:(k=t,Oe===0&&Ae(Et)),Oe--,k===t&&Oe===0&&Ae(we),k}function E(){var k,F,j,J;if(k=R,h(),F=[],j=D(),j!==t)for(;j!==t;)F.push(j),j=D();else F=t;return F!==t?(j=h(),$e=R,J=So(F),J?J=t:J=void 0,J!==t?($e=k,k=Pc(F)):(R=k,k=t)):(R=k,k=t),k}function $(){var k,F,j,J;return k=R,h(),n.charCodeAt(R)===91?(F=d,R++):(F=t,Oe===0&&Ae(Ie)),F!==t?(h(),j=an(),j!==t?(h(),n.charCodeAt(R)===93?(J=f,R++):(J=t,Oe===0&&Ae(Vr)),J!==t?(h(),$e=k,k=Mo(j)):(R=k,k=t)):(R=k,k=t)):(R=k,k=t),k}function N(){var k,F,j,J,Pe;return k=R,h(),n.charCodeAt(R)===123?(F=y,R++):(F=t,Oe===0&&Ae(Ot)),F!==t?(h(),j=Ft(),j!==t?(h(),n.charCodeAt(R)===125?(J=P,R++):(J=t,Oe===0&&Ae(Dn)),J!==t?(Pe=L(),Pe===t&&(Pe=null),h(),$e=k,k=wc(j,Pe)):(R=k,k=t)):(R=k,k=t)):(R=k,k=t),k}function L(){var k,F,j;return k=R,n.charCodeAt(R)===37?(F=w,R++):(F=t,Oe===0&&Ae(ii)),F!==t?(j=W(),j!==t?($e=k,k=Do(j)):(R=k,k=t)):(R=k,k=t),k}function z(){var k,F,j,J;return k=R,h(),n.charCodeAt(R)===60?(F=A,R++):(F=t,Oe===0&&Ae(yr)),F!==t?(h(),j=Ft(),j!==t?(h(),n.charCodeAt(R)===62?(J=T,R++):(J=t,Oe===0&&Ae(kt)),J!==t?(h(),$e=k,k=Cc(j)):(R=k,k=t)):(R=k,k=t)):(R=k,k=t),k}function W(){var k;return k=E(),k===t&&(k=$(),k===t&&(k=N(),k===t&&(k=z()))),k}function U(){var k;return k=X(),k===t&&(k=oe(),k===t&&(k=xe(),k===t&&(k=he(),k===t&&(k=re(),k===t&&(k=Be(),k===t&&(k=Te(),k===t&&(k=_e()))))))),k}function X(){var k,F,j;return k=R,h(),F=n.charAt(R),Ln.test(F)?R++:(F=t,Oe===0&&Ae(rt)),F!==t?(j=In(),j===t&&(j=null),$e=k,k=Bo(j)):(R=k,k=t),k}function re(){var k,F,j;return k=R,h(),n.charCodeAt(R)===33?(F=q,R++):(F=t,Oe===0&&Ae(Gt)),F!==t?(j=In(),j===t&&(j=null),$e=k,k=rs(j)):(R=k,k=t),k}function oe(){var k,F,j,J,Pe,vt,ir;return k=R,n.charCodeAt(R)===40?(F=G,R++):(F=t,Oe===0&&Ae(Fe)),F!==t?(h(),j=st(),j!==t?(h(),J=g(),J!==t?(h(),Pe=st(),Pe!==t?(h(),g(),h(),vt=st(),vt===t&&(vt=null),h(),n.charCodeAt(R)===41?(ir=I,R++):(ir=t,Oe===0&&Ae(at)),ir!==t?($e=k,k=Ac(j,Pe,vt)):(R=k,k=t)):(R=k,k=t)):(R=k,k=t)):(R=k,k=t)):(R=k,k=t),k}function xe(){var k,F,j;return k=R,n.charCodeAt(R)===47?(F=Q,R++):(F=t,Oe===0&&Ae(Ut)),F!==t?(j=W(),j!==t?($e=k,k=ar(j)):(R=k,k=t)):(R=k,k=t),k}function he(){var k,F,j;return k=R,n.charCodeAt(R)===42?(F=Z,R++):(F=t,Oe===0&&Ae(qr)),F!==t?(j=W(),j!==t?($e=k,k=Sc(j)):(R=k,k=t)):(R=k,k=t),k}function Be(){var k,F,j;return k=R,n.charCodeAt(R)===63?(F=V,R++):(F=t,Oe===0&&Ae(Mt)),F!==t?(j=In(),j===t&&(j=null),$e=k,k=Eo(j)):(R=k,k=t),k}function Te(){var k,F,j;return k=R,n.charCodeAt(R)===58?(F=Y,R++):(F=t,Oe===0&&Ae(Ea)),F!==t?(j=W(),j!==t?($e=k,k=Fo(j)):(R=k,k=t)):(R=k,k=t),k}function _e(){var k,F,j;return k=R,n.substr(R,2)===ue?(F=ue,R+=2):(F=t,Oe===0&&Ae(ns)),F!==t?(j=W(),j!==t?($e=k,k=Mc(j)):(R=k,k=t)):(R=k,k=t),k}function st(){var k,F,j,J;if(k=R,F=W(),F!==t){for(j=[],J=U();J!==t;)j.push(J),J=U();$e=k,k=$o(F,j)}else R=k,k=t;return k}function Je(){var k,F,j,J;if(k=R,n.charCodeAt(R)===94?(F=se,R++):(F=t,Oe===0&&Ae(O)),F===t&&(F=null),j=[],J=st(),J!==t)for(;J!==t;)j.push(J),J=st();else j=t;return j!==t?($e=k,k=Dc(F,j)):(R=k,k=t),k}function ze(){var k,F,j,J,Pe;if(k=R,F=[],j=R,J=g(),J!==t?(Pe=Je(),Pe!==t?j=Pe:(R=j,j=t)):(R=j,j=t),j!==t)for(;j!==t;)F.push(j),j=R,J=g(),J!==t?(Pe=Je(),Pe!==t?j=Pe:(R=j,j=t)):(R=j,j=t);else F=t;return F!==t&&($e=k,F=Bc(F)),k=F,k}function De(){var k,F,j,J,Pe;if(k=R,F=[],j=R,J=b(),J!==t?(Pe=Je(),Pe!==t?j=Pe:(R=j,j=t)):(R=j,j=t),j!==t)for(;j!==t;)F.push(j),j=R,J=b(),J!==t?(Pe=Je(),Pe!==t?j=Pe:(R=j,j=t)):(R=j,j=t);else F=t;return F!==t&&($e=k,F=Bn(F)),k=F,k}function ut(){var k,F,j,J,Pe;if(k=R,F=[],j=R,J=v(),J!==t?(Pe=Je(),Pe!==t?j=Pe:(R=j,j=t)):(R=j,j=t),j!==t)for(;j!==t;)F.push(j),j=R,J=v(),J!==t?(Pe=Je(),Pe!==t?j=Pe:(R=j,j=t)):(R=j,j=t);else F=t;return F!==t&&($e=k,F=Ec(F)),k=F,k}function an(){var k,F,j;return k=R,F=Je(),F!==t?(j=ze(),j===t&&(j=De(),j===t&&(j=ut())),j===t&&(j=null),$e=k,k=Fc(F,j)):(R=k,k=t),k}function Ft(){var k,F,j;return k=R,F=Je(),F!==t?(j=ze(),j===t&&(j=null),$e=k,k=Qo(F,j)):(R=k,k=t),k}function dn(){var k,F,j,J;return k=R,h(),F=x(),F!==t?(h(),j=an(),j!==t?(h(),J=x(),J!==t?($e=k,k=_o(j)):(R=k,k=t)):(R=k,k=t)):(R=k,k=t),k}function Xr(){var k;return k=u2(),k===t&&(k=i2(),k===t&&(k=l2(),k===t&&(k=ls(),k===t&&(k=a2(),k===t&&(k=Zc(),k===t&&(k=o2(),k===t&&(k=s2()))))))),k}function Zc(){var k,F,j;return k=R,n.substr(R,6)===ce?(F=ce,R+=6):(F=t,Oe===0&&Ae(S)),F!==t?(h(),j=oi(),j!==t?($e=k,k=$c(j)):(R=k,k=t)):(R=k,k=t),k}function ls(){var k,F,j,J,Pe;return k=R,n.substr(R,6)===ae?(F=ae,R+=6):(F=t,Oe===0&&Ae(C)),F!==t?(h(),j=x(),j!==t?(J=E(),J!==t?(Pe=x(),Pe!==t?($e=k,k=To(J)):(R=k,k=t)):(R=k,k=t)):(R=k,k=t)):(R=k,k=t),k}function a2(){var k,F,j,J;return k=R,n.substr(R,6)===ne?(F=ne,R+=6):(F=t,Oe===0&&Ae(M)),F!==t?(h(),j=_a(),j!==t?(h(),J=_a(),J!==t?(h(),_a(),$e=k,k=Qc(j,J)):(R=k,k=t)):(R=k,k=t)):(R=k,k=t),k}function i2(){var k,F,j;return k=R,n.substr(R,4)===fe?(F=fe,R+=4):(F=t,Oe===0&&Ae(_)),F!==t?(h(),j=In(),j!==t?($e=k,k=Ro(j)):(R=k,k=t)):(R=k,k=t),k}function s2(){var k,F,j;return k=R,n.substr(R,4)===Ce?(F=Ce,R+=4):(F=t,Oe===0&&Ae(H)),F!==t?(h(),j=In(),j!==t?($e=k,k=_c(j)):(R=k,k=t)):(R=k,k=t),k}function o2(){var k,F,j;return k=R,n.substr(R,4)===Re?(F=Re,R+=4):(F=t,Oe===0&&Ae(ee)),F!==t?(h(),j=In(),j!==t?($e=k,k=jo(j)):(R=k,k=t)):(R=k,k=t),k}function l2(){var k,F,j;return k=R,n.substr(R,4)===Me?(F=Me,R+=4):(F=t,Oe===0&&Ae(ie)),F!==t?(h(),j=In(),j!==t?($e=k,k=En(j)):(R=k,k=t)):(R=k,k=t),k}function u2(){var k,F,j,J,Pe;if(k=R,n.substr(R,5)===te?(F=te,R+=5):(F=t,Oe===0&&Ae(de)),F!==t)if(h(),j=x(),j!==t){if(J=[],Pe=D(),Pe!==t)for(;Pe!==t;)J.push(Pe),Pe=D();else J=t;J!==t?(Pe=x(),Pe!==t?($e=k,k=Ye(J)):(R=k,k=t)):(R=k,k=t)}else R=k,k=t;else R=k,k=t;return k}function Vc(){var k,F,j,J;if(k=R,n.substr(R,2)===qe?(F=qe,R+=2):(F=t,Oe===0&&Ae(Ne)),F!==t){for(j=[],J=n.charAt(R),Da.test(J)?R++:(J=t,Oe===0&&Ae(He));J!==t;)j.push(J),J=n.charAt(R),Da.test(J)?R++:(J=t,Oe===0&&Ae(He));F=[F,j],k=F}else R=k,k=t;return k}function c2(){var k,F,j,J,Pe,vt,ir,li;if(k=R,n.substr(R,3)===ot?(F=ot,R+=3):(F=t,Oe===0&&Ae(rr)),F!==t)if(h(),n.charCodeAt(R)===91?(j=d,R++):(j=t,Oe===0&&Ae(Ie)),j!==t)if(h(),J=oi(),J!==t){for(Pe=[],vt=R,ir=g(),ir!==t?(li=oi(),li!==t?($e=vt,vt=Lo(J,li)):(R=vt,vt=t)):(R=vt,vt=t);vt!==t;)Pe.push(vt),vt=R,ir=g(),ir!==t?(li=oi(),li!==t?($e=vt,vt=Lo(J,li)):(R=vt,vt=t)):(R=vt,vt=t);vt=h(),n.charCodeAt(R)===93?(ir=f,R++):(ir=t,Oe===0&&Ae(Vr)),ir!==t?($e=k,k=si(J,Pe)):(R=k,k=t)}else R=k,k=t;else R=k,k=t;else R=k,k=t;return k}function p2(){var k;return k=c2(),k===t&&(k=dn()),k}function oi(){var k,F,j,J,Pe;if(k=R,F=p2(),F!==t){for(h(),j=[],J=Vc();J!==t;)j.push(J),J=Vc();$e=k,k=Tc(F)}else R=k,k=t;return k===t&&(k=R,F=Xr(),F!==t?(h(),n.charCodeAt(R)===36?(j=bt,R++):(j=t,Oe===0&&Ae(Or)),j!==t?(J=h(),Pe=oi(),Pe!==t?($e=k,k=Fa(F,Pe)):(R=k,k=t)):(R=k,k=t)):(R=k,k=t)),k}function m2(){var k,F;return k=R,F=oi(),F!==t&&($e=k,F=Rc(F)),k=F,k===t&&(k=Vc()),k}function h2(){var k;return k=m2(),k}function d2(){var k,F;return k=R,h(),F=f2(),F===t&&(F=g2(),F===t&&(F=b2())),F!==t?(h(),$e=k,k=$a(F)):(R=k,k=t),k}function f2(){var k,F,j;return k=R,n.substr(R,6)===le?(F=le,R+=6):(F=t,Oe===0&&Ae(rn)),F!==t?(h(),j=In(),j!==t?($e=k,k=as(j)):(R=k,k=t)):(R=k,k=t),k}function g2(){var k,F,j;return k=R,n.substr(R,6)===lt?(F=lt,R+=6):(F=t,Oe===0&&Ae(ia)),F!==t?(h(),j=In(),j!==t?($e=k,k=Io(j)):(R=k,k=t)):(R=k,k=t),k}function b2(){var k,F;return k=R,n.substr(R,4)===Bt?(F=Bt,R+=4):(F=t,Oe===0&&Ae(hn)),F!==t&&($e=k,F=jc()),k=F,k}function y2(){var k;return k=h2(),k===t&&(k=d2()),k}var O2=function(k){this.type_="atom",this.source_=k,this.location_=No()},Uo=function(k,F,j,J){this.type_="pattern",this.arguments_={alignment:F,_steps:J},j!==void 0&&(this.arguments_.seed=j),this.source_=k},k2=function(k,F,j){this.type_=k,this.arguments_=F,this.source_=j},v2=function(k,F){this.type_="element",this.source_=k,this.options_=F,this.location_=No()},qc=function(k,F){this.type_="command",this.name_=k,this.options_=F},Xc=0;if(sa=i(),e.peg$library)return{peg$result:sa,peg$currPos:R,peg$FAILED:t,peg$maxFailExpected:Qa,peg$maxFailPos:Yt};if(sa!==t&&R===n.length)return sa;throw sa!==t&&R<n.length&&Ae(Lc()),Ic(Qa,Yt<n.length?n.charAt(Yt):null,Yt<n.length?ss(Yt,Yt+1):ss(Yt,Yt))}const IE=["start"],q0=3e-4,I2=(n,e)=>(t,r)=>{const s=n.source_[r].options_?.ops,o=t.__steps_source;if(s)for(const l of s)switch(l.type_){case"stretch":{const c=["fast","slow"],{type:p,amount:d}=l.arguments_;if(!c.includes(p))throw new Error(`mini: stretch: type must be one of ${c.join("|")} but got ${p}`);t=ws(t)[p](e(d));break}case"replicate":{const{amount:c}=l.arguments_;t=ws(t),t=t._repeatCycles(c)._fast(c);break}case"bjorklund":{l.arguments_.rotation?t=t.euclidRot(e(l.arguments_.pulse),e(l.arguments_.step),e(l.arguments_.rotation)):t=t.euclid(e(l.arguments_.pulse),e(l.arguments_.step));break}case"degradeBy":{t=ws(t)._degradeByWith(Z0.early(q0*l.arguments_.seed),l.arguments_.amount??.5);break}case"tail":{const c=e(l.arguments_.element);t=t.fmap(p=>d=>Array.isArray(p)?[...p,d]:[p,d]).appLeft(c);break}case"range":{const c=e(l.arguments_.element);t=ws(t);const p=(f,y,P=1)=>Array.from({length:Math.abs(y-f)/P+1},(w,A)=>f<y?f+A*P:f-A*P);t=((f,y)=>f.squeezeBind(P=>y.bind(w=>N0(...p(P,w)))))(t,c);break}default:console.warn(`operator "${l.type_}" not implemented`)}return t.__steps_source=t.__steps_source||o,t};function lo(n,e,t,r=0){t?.(n);const a=i=>lo(i,e,t,r);switch(n.type_){case"pattern":{const i=n.source_.map(c=>a(c)).map(I2(n,a)),s=n.arguments_.alignment,o=i.filter(c=>c.__steps_source);let l;switch(s){case"stack":{l=Fs(...i),o.length&&(l._steps=Yo(...o.map(c=>Wr(c._steps))));break}case"polymeter_slowcat":{l=Fs(...i.map(c=>c._slow(c.__weight))),o.length&&(l._steps=Yo(...o.map(c=>Wr(c._steps))));break}case"polymeter":{const c=n.arguments_.stepsPerCycle?a(n.arguments_.stepsPerCycle).fmap(d=>Wr(d)):Pl(Wr(i.length>0?i[0].__weight:1)),p=i.map(d=>d.fast(c.fmap(f=>f.div(d.__weight))));l=Fs(...p);break}case"rand":{l=S2(Z0.early(q0*n.arguments_.seed).segment(1),i),o.length&&(l._steps=Yo(...o.map(c=>Wr(c._steps))));break}case"feet":{l=N0(...i);break}default:{if(n.source_.some(p=>!!p.options_?.weight)){const p=n.source_.reduce((d,f)=>d.add(f.options_?.weight||Wr(1)),Wr(0));l=A2(...n.source_.map((d,f)=>[d.options_?.weight||Wr(1),i[f]])),l.__weight=p,l._steps=p,o.length&&(l._steps=l._steps.mul(Yo(...o.map(d=>Wr(d._steps)))))}else l=I0(...i),l._steps=i.length;n.arguments_._steps&&(l.__steps_source=!0)}}return o.length&&(l.__steps_source=!0),l}case"element":return a(n.source_);case"atom":{if(n.source_==="~"||n.source_==="-")return zp;if(!n.location_)return console.warn("no location for",n),n.source_;const i=isNaN(Number(n.source_))?n.source_:Number(n.source_);if(r===-1)return Pl(i);const[s,o]=X0(e,n,r);return Pl(i).withLoc(s,o)}case"stretch":return a(n.source_).slow(a(n.arguments_.amount));default:return console.warn(`node type "${n.type_}" not implemented -> returning silence`),zp}}const X0=(n,e,t=0)=>{const{start:r,end:a}=e.location_,i=n?.split("").slice(r.offset,a.offset).join(""),[s=0,o=0]=i?i.split(e.source_).map(l=>l.split("").filter(c=>c===" ").length):[];return[r.offset+s+t,a.offset-o+t]},Nu=(n,e=0,t=n)=>{try{return L2(n)}catch(r){const a=[r.location.start.offset+e,r.location.end.offset+e],i=t.slice(0,a[0]).split(`
`).length;throw new Error(`[mini] parse error at line ${i}: ${r.message}`)}},N2=(n,e,t)=>{const r=Nu(n,e,t);let a=[];return lo(r,n,i=>{i.type_==="atom"&&a.push(i)},-1),a},W0=(n,e=0,t)=>N2(n,e,t).map(r=>X0(n,r,e)),z0=(...n)=>{const e=n.map(t=>{const r=`"${t}"`,a=Nu(r);return lo(a,r)});return I0(...e)},NE=(n,e)=>{const t=`"${n}"`,r=Nu(t);return lo(r,t,null,e)},ZE=n=>{const e=Nu(n);return lo(e,n)};function VE(n){return typeof n=="string"?z0(n):ws(n)}function qE(){M2(z0)}var Z2=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],G0=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],V2="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",U0="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",zc={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Gc="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",q2={5:Gc,"5module":Gc+" export import",6:Gc+" const class extends export import super"},X2=/^in(stanceof)?$/,W2=new RegExp("["+U0+"]"),z2=new RegExp("["+U0+V2+"]");function Gp(n,e){for(var t=65536,r=0;r<e.length;r+=2){if(t+=e[r],t>n)return!1;if(t+=e[r+1],t>=n)return!0}return!1}function Yr(n,e){return n<65?n===36:n<91?!0:n<97?n===95:n<123?!0:n<=65535?n>=170&&W2.test(String.fromCharCode(n)):e===!1?!1:Gp(n,G0)}function Si(n,e){return n<48?n===36:n<58?!0:n<65?!1:n<91?!0:n<97?n===95:n<123?!0:n<=65535?n>=170&&z2.test(String.fromCharCode(n)):e===!1?!1:Gp(n,G0)||Gp(n,Z2)}var Ke=function(e,t){t===void 0&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function Nn(n,e){return new Ke(n,{beforeExpr:!0,binop:e})}var Zn={beforeExpr:!0},fn={startsExpr:!0},bh={};function Ue(n,e){return e===void 0&&(e={}),e.keyword=n,bh[n]=new Ke(n,e)}var B={num:new Ke("num",fn),regexp:new Ke("regexp",fn),string:new Ke("string",fn),name:new Ke("name",fn),privateId:new Ke("privateId",fn),eof:new Ke("eof"),bracketL:new Ke("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Ke("]"),braceL:new Ke("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Ke("}"),parenL:new Ke("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Ke(")"),comma:new Ke(",",Zn),semi:new Ke(";",Zn),colon:new Ke(":",Zn),dot:new Ke("."),question:new Ke("?",Zn),questionDot:new Ke("?."),arrow:new Ke("=>",Zn),template:new Ke("template"),invalidTemplate:new Ke("invalidTemplate"),ellipsis:new Ke("...",Zn),backQuote:new Ke("`",fn),dollarBraceL:new Ke("${",{beforeExpr:!0,startsExpr:!0}),eq:new Ke("=",{beforeExpr:!0,isAssign:!0}),assign:new Ke("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Ke("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Ke("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Nn("||",1),logicalAND:Nn("&&",2),bitwiseOR:Nn("|",3),bitwiseXOR:Nn("^",4),bitwiseAND:Nn("&",5),equality:Nn("==/!=/===/!==",6),relational:Nn("</>/<=/>=",7),bitShift:Nn("<</>>/>>>",8),plusMin:new Ke("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Nn("%",10),star:Nn("*",10),slash:Nn("/",10),starstar:new Ke("**",{beforeExpr:!0}),coalesce:Nn("??",1),_break:Ue("break"),_case:Ue("case",Zn),_catch:Ue("catch"),_continue:Ue("continue"),_debugger:Ue("debugger"),_default:Ue("default",Zn),_do:Ue("do",{isLoop:!0,beforeExpr:!0}),_else:Ue("else",Zn),_finally:Ue("finally"),_for:Ue("for",{isLoop:!0}),_function:Ue("function",fn),_if:Ue("if"),_return:Ue("return",Zn),_switch:Ue("switch"),_throw:Ue("throw",Zn),_try:Ue("try"),_var:Ue("var"),_const:Ue("const"),_while:Ue("while",{isLoop:!0}),_with:Ue("with"),_new:Ue("new",{beforeExpr:!0,startsExpr:!0}),_this:Ue("this",fn),_super:Ue("super",fn),_class:Ue("class",fn),_extends:Ue("extends",Zn),_export:Ue("export"),_import:Ue("import",fn),_null:Ue("null",fn),_true:Ue("true",fn),_false:Ue("false",fn),_in:Ue("in",{beforeExpr:!0,binop:7}),_instanceof:Ue("instanceof",{beforeExpr:!0,binop:7}),_typeof:Ue("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Ue("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Ue("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Jn=/\r\n?|\n|\u2028|\u2029/,G2=new RegExp(Jn.source,"g");function Ii(n){return n===10||n===13||n===8232||n===8233}function Y0(n,e,t){t===void 0&&(t=n.length);for(var r=e;r<t;r++){var a=n.charCodeAt(r);if(Ii(a))return r<t-1&&a===13&&n.charCodeAt(r+1)===10?r+2:r+1}return-1}var H0=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,qn=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,K0=Object.prototype,U2=K0.hasOwnProperty,Y2=K0.toString,Ni=Object.hasOwn||function(n,e){return U2.call(n,e)},qd=Array.isArray||function(n){return Y2.call(n)==="[object Array]"},Xd=Object.create(null);function ca(n){return Xd[n]||(Xd[n]=new RegExp("^(?:"+n.replace(/ /g,"|")+")$"))}function Hr(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}var H2=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Is=function(e,t){this.line=e,this.column=t};Is.prototype.offset=function(e){return new Is(this.line,this.column+e)};var Zu=function(e,t,r){this.start=t,this.end=r,e.sourceFile!==null&&(this.source=e.sourceFile)};function J0(n,e){for(var t=1,r=0;;){var a=Y0(n,r,e);if(a<0)return new Is(t,e-r);++t,r=a}}var Up={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Wd=!1;function K2(n){var e={};for(var t in Up)e[t]=n&&Ni(n,t)?n[t]:Up[t];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!Wd&&typeof console=="object"&&console.warn&&(Wd=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!n||n.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),qd(e.onToken)){var r=e.onToken;e.onToken=function(a){return r.push(a)}}return qd(e.onComment)&&(e.onComment=J2(e,e.onComment)),e}function J2(n,e){return function(t,r,a,i,s,o){var l={type:t?"Block":"Line",value:r,start:a,end:i};n.locations&&(l.loc=new Zu(this,s,o)),n.ranges&&(l.range=[a,i]),e.push(l)}}var Ns=1,Zi=2,yh=4,e1=8,t1=16,n1=32,Oh=64,r1=128,uo=256,kh=Ns|Zi|uo;function vh(n,e){return Zi|(n?yh:0)|(e?e1:0)}var ql=0,xh=1,ea=2,a1=3,i1=4,s1=5,It=function(e,t,r){this.options=e=K2(e),this.sourceFile=e.sourceFile,this.keywords=ca(q2[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var a="";e.allowReserved!==!0&&(a=zc[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(a+=" await")),this.reservedWords=ca(a);var i=(a?a+" ":"")+zc.strict;this.reservedWordsStrict=ca(i),this.reservedWordsStrictBind=ca(i+" "+zc.strictBind),this.input=String(t),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Jn).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=B.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Ns),this.regexpState=null,this.privateNameStack=[]},Ir={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};It.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};Ir.inFunction.get=function(){return(this.currentVarScope().flags&Zi)>0};Ir.inGenerator.get=function(){return(this.currentVarScope().flags&e1)>0&&!this.currentVarScope().inClassFieldInit};Ir.inAsync.get=function(){return(this.currentVarScope().flags&yh)>0&&!this.currentVarScope().inClassFieldInit};Ir.canAwait.get=function(){for(var n=this.scopeStack.length-1;n>=0;n--){var e=this.scopeStack[n];if(e.inClassFieldInit||e.flags&uo)return!1;if(e.flags&Zi)return(e.flags&yh)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Ir.allowSuper.get=function(){var n=this.currentThisScope(),e=n.flags,t=n.inClassFieldInit;return(e&Oh)>0||t||this.options.allowSuperOutsideMethod};Ir.allowDirectSuper.get=function(){return(this.currentThisScope().flags&r1)>0};Ir.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Ir.allowNewDotTarget.get=function(){var n=this.currentThisScope(),e=n.flags,t=n.inClassFieldInit;return(e&(Zi|uo))>0||t};Ir.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&uo)>0};It.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r=this,a=0;a<e.length;a++)r=e[a](r);return r};It.parse=function(e,t){return new this(t,e).parse()};It.parseExpressionAt=function(e,t,r){var a=new this(r,e,t);return a.nextToken(),a.parseExpression()};It.tokenizer=function(e,t){return new this(t,e)};Object.defineProperties(It.prototype,Ir);var cn=It.prototype,ex=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;cn.strictDirective=function(n){if(this.options.ecmaVersion<5)return!1;for(;;){qn.lastIndex=n,n+=qn.exec(this.input)[0].length;var e=ex.exec(this.input.slice(n));if(!e)return!1;if((e[1]||e[2])==="use strict"){qn.lastIndex=n+e[0].length;var t=qn.exec(this.input),r=t.index+t[0].length,a=this.input.charAt(r);return a===";"||a==="}"||Jn.test(t[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(a)||a==="!"&&this.input.charAt(r+1)==="=")}n+=e[0].length,qn.lastIndex=n,n+=qn.exec(this.input)[0].length,this.input[n]===";"&&n++}};cn.eat=function(n){return this.type===n?(this.next(),!0):!1};cn.isContextual=function(n){return this.type===B.name&&this.value===n&&!this.containsEsc};cn.eatContextual=function(n){return this.isContextual(n)?(this.next(),!0):!1};cn.expectContextual=function(n){this.eatContextual(n)||this.unexpected()};cn.canInsertSemicolon=function(){return this.type===B.eof||this.type===B.braceR||Jn.test(this.input.slice(this.lastTokEnd,this.start))};cn.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};cn.semicolon=function(){!this.eat(B.semi)&&!this.insertSemicolon()&&this.unexpected()};cn.afterTrailingComma=function(n,e){if(this.type===n)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};cn.expect=function(n){this.eat(n)||this.unexpected()};cn.unexpected=function(n){this.raise(n??this.start,"Unexpected token")};var Vu=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};cn.checkPatternErrors=function(n,e){if(n){n.trailingComma>-1&&this.raiseRecoverable(n.trailingComma,"Comma is not permitted after the rest element");var t=e?n.parenthesizedAssign:n.parenthesizedBind;t>-1&&this.raiseRecoverable(t,e?"Assigning to rvalue":"Parenthesized pattern")}};cn.checkExpressionErrors=function(n,e){if(!n)return!1;var t=n.shorthandAssign,r=n.doubleProto;if(!e)return t>=0||r>=0;t>=0&&this.raise(t,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};cn.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};cn.isSimpleAssignTarget=function(n){return n.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(n.expression):n.type==="Identifier"||n.type==="MemberExpression"};var ve=It.prototype;ve.parseTopLevel=function(n){var e=Object.create(null);for(n.body||(n.body=[]);this.type!==B.eof;){var t=this.parseStatement(null,!0,e);n.body.push(t)}if(this.inModule)for(var r=0,a=Object.keys(this.undefinedExports);r<a.length;r+=1){var i=a[r];this.raiseRecoverable(this.undefinedExports[i].start,"Export '"+i+"' is not defined")}return this.adaptDirectivePrologue(n.body),this.next(),n.sourceType=this.options.sourceType,this.finishNode(n,"Program")};var Ph={kind:"loop"},tx={kind:"switch"};ve.isLet=function(n){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;qn.lastIndex=this.pos;var e=qn.exec(this.input),t=this.pos+e[0].length,r=this.input.charCodeAt(t);if(r===91||r===92)return!0;if(n)return!1;if(r===123||r>55295&&r<56320)return!0;if(Yr(r,!0)){for(var a=t+1;Si(r=this.input.charCodeAt(a),!0);)++a;if(r===92||r>55295&&r<56320)return!0;var i=this.input.slice(t,a);if(!X2.test(i))return!0}return!1};ve.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;qn.lastIndex=this.pos;var n=qn.exec(this.input),e=this.pos+n[0].length,t;return!Jn.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Si(t=this.input.charCodeAt(e+8))||t>55295&&t<56320))};ve.parseStatement=function(n,e,t){var r=this.type,a=this.startNode(),i;switch(this.isLet(n)&&(r=B._var,i="let"),r){case B._break:case B._continue:return this.parseBreakContinueStatement(a,r.keyword);case B._debugger:return this.parseDebuggerStatement(a);case B._do:return this.parseDoStatement(a);case B._for:return this.parseForStatement(a);case B._function:return n&&(this.strict||n!=="if"&&n!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(a,!1,!n);case B._class:return n&&this.unexpected(),this.parseClass(a,!0);case B._if:return this.parseIfStatement(a);case B._return:return this.parseReturnStatement(a);case B._switch:return this.parseSwitchStatement(a);case B._throw:return this.parseThrowStatement(a);case B._try:return this.parseTryStatement(a);case B._const:case B._var:return i=i||this.value,n&&i!=="var"&&this.unexpected(),this.parseVarStatement(a,i);case B._while:return this.parseWhileStatement(a);case B._with:return this.parseWithStatement(a);case B.braceL:return this.parseBlock(!0,a);case B.semi:return this.parseEmptyStatement(a);case B._export:case B._import:if(this.options.ecmaVersion>10&&r===B._import){qn.lastIndex=this.pos;var s=qn.exec(this.input),o=this.pos+s[0].length,l=this.input.charCodeAt(o);if(l===40||l===46)return this.parseExpressionStatement(a,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===B._import?this.parseImport(a):this.parseExport(a,t);default:if(this.isAsyncFunction())return n&&this.unexpected(),this.next(),this.parseFunctionStatement(a,!0,!n);var c=this.value,p=this.parseExpression();return r===B.name&&p.type==="Identifier"&&this.eat(B.colon)?this.parseLabeledStatement(a,c,p,n):this.parseExpressionStatement(a,p)}};ve.parseBreakContinueStatement=function(n,e){var t=e==="break";this.next(),this.eat(B.semi)||this.insertSemicolon()?n.label=null:this.type!==B.name?this.unexpected():(n.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var a=this.labels[r];if((n.label==null||a.name===n.label.name)&&(a.kind!=null&&(t||a.kind==="loop")||n.label&&t))break}return r===this.labels.length&&this.raise(n.start,"Unsyntactic "+e),this.finishNode(n,t?"BreakStatement":"ContinueStatement")};ve.parseDebuggerStatement=function(n){return this.next(),this.semicolon(),this.finishNode(n,"DebuggerStatement")};ve.parseDoStatement=function(n){return this.next(),this.labels.push(Ph),n.body=this.parseStatement("do"),this.labels.pop(),this.expect(B._while),n.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(B.semi):this.semicolon(),this.finishNode(n,"DoWhileStatement")};ve.parseForStatement=function(n){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Ph),this.enterScope(0),this.expect(B.parenL),this.type===B.semi)return e>-1&&this.unexpected(e),this.parseFor(n,null);var t=this.isLet();if(this.type===B._var||this.type===B._const||t){var r=this.startNode(),a=t?"let":this.value;return this.next(),this.parseVar(r,!0,a),this.finishNode(r,"VariableDeclaration"),(this.type===B._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===B._in?e>-1&&this.unexpected(e):n.await=e>-1),this.parseForIn(n,r)):(e>-1&&this.unexpected(e),this.parseFor(n,r))}var i=this.isContextual("let"),s=!1,o=this.containsEsc,l=new Vu,c=this.start,p=e>-1?this.parseExprSubscripts(l,"await"):this.parseExpression(!0,l);return this.type===B._in||(s=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===B._in&&this.unexpected(e),n.await=!0):s&&this.options.ecmaVersion>=8&&(p.start===c&&!o&&p.type==="Identifier"&&p.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(n.await=!1)),i&&s&&this.raise(p.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(p,!1,l),this.checkLValPattern(p),this.parseForIn(n,p)):(this.checkExpressionErrors(l,!0),e>-1&&this.unexpected(e),this.parseFor(n,p))};ve.parseFunctionStatement=function(n,e,t){return this.next(),this.parseFunction(n,$s|(t?0:Yp),!1,e)};ve.parseIfStatement=function(n){return this.next(),n.test=this.parseParenExpression(),n.consequent=this.parseStatement("if"),n.alternate=this.eat(B._else)?this.parseStatement("if"):null,this.finishNode(n,"IfStatement")};ve.parseReturnStatement=function(n){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(B.semi)||this.insertSemicolon()?n.argument=null:(n.argument=this.parseExpression(),this.semicolon()),this.finishNode(n,"ReturnStatement")};ve.parseSwitchStatement=function(n){this.next(),n.discriminant=this.parseParenExpression(),n.cases=[],this.expect(B.braceL),this.labels.push(tx),this.enterScope(0);for(var e,t=!1;this.type!==B.braceR;)if(this.type===B._case||this.type===B._default){var r=this.type===B._case;e&&this.finishNode(e,"SwitchCase"),n.cases.push(e=this.startNode()),e.consequent=[],this.next(),r?e.test=this.parseExpression():(t&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),t=!0,e.test=null),this.expect(B.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(n,"SwitchStatement")};ve.parseThrowStatement=function(n){return this.next(),Jn.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),n.argument=this.parseExpression(),this.semicolon(),this.finishNode(n,"ThrowStatement")};var nx=[];ve.parseCatchClauseParam=function(){var n=this.parseBindingAtom(),e=n.type==="Identifier";return this.enterScope(e?n1:0),this.checkLValPattern(n,e?i1:ea),this.expect(B.parenR),n};ve.parseTryStatement=function(n){if(this.next(),n.block=this.parseBlock(),n.handler=null,this.type===B._catch){var e=this.startNode();this.next(),this.eat(B.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),n.handler=this.finishNode(e,"CatchClause")}return n.finalizer=this.eat(B._finally)?this.parseBlock():null,!n.handler&&!n.finalizer&&this.raise(n.start,"Missing catch or finally clause"),this.finishNode(n,"TryStatement")};ve.parseVarStatement=function(n,e,t){return this.next(),this.parseVar(n,!1,e,t),this.semicolon(),this.finishNode(n,"VariableDeclaration")};ve.parseWhileStatement=function(n){return this.next(),n.test=this.parseParenExpression(),this.labels.push(Ph),n.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(n,"WhileStatement")};ve.parseWithStatement=function(n){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),n.object=this.parseParenExpression(),n.body=this.parseStatement("with"),this.finishNode(n,"WithStatement")};ve.parseEmptyStatement=function(n){return this.next(),this.finishNode(n,"EmptyStatement")};ve.parseLabeledStatement=function(n,e,t,r){for(var a=0,i=this.labels;a<i.length;a+=1){var s=i[a];s.name===e&&this.raise(t.start,"Label '"+e+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===B._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var c=this.labels[l];if(c.statementStart===n.start)c.statementStart=this.start,c.kind=o;else break}return this.labels.push({name:e,kind:o,statementStart:this.start}),n.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),n.label=t,this.finishNode(n,"LabeledStatement")};ve.parseExpressionStatement=function(n,e){return n.expression=e,this.semicolon(),this.finishNode(n,"ExpressionStatement")};ve.parseBlock=function(n,e,t){for(n===void 0&&(n=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(B.braceL),n&&this.enterScope(0);this.type!==B.braceR;){var r=this.parseStatement(null);e.body.push(r)}return t&&(this.strict=!1),this.next(),n&&this.exitScope(),this.finishNode(e,"BlockStatement")};ve.parseFor=function(n,e){return n.init=e,this.expect(B.semi),n.test=this.type===B.semi?null:this.parseExpression(),this.expect(B.semi),n.update=this.type===B.parenR?null:this.parseExpression(),this.expect(B.parenR),n.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(n,"ForStatement")};ve.parseForIn=function(n,e){var t=this.type===B._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!t||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(t?"for-in":"for-of")+" loop variable declaration may not have an initializer"),n.left=e,n.right=t?this.parseExpression():this.parseMaybeAssign(),this.expect(B.parenR),n.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(n,t?"ForInStatement":"ForOfStatement")};ve.parseVar=function(n,e,t,r){for(n.declarations=[],n.kind=t;;){var a=this.startNode();if(this.parseVarId(a,t),this.eat(B.eq)?a.init=this.parseMaybeAssign(e):!r&&t==="const"&&!(this.type===B._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&a.id.type!=="Identifier"&&!(e&&(this.type===B._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):a.init=null,n.declarations.push(this.finishNode(a,"VariableDeclarator")),!this.eat(B.comma))break}return n};ve.parseVarId=function(n,e){n.id=this.parseBindingAtom(),this.checkLValPattern(n.id,e==="var"?xh:ea,!1)};var $s=1,Yp=2,o1=4;ve.parseFunction=function(n,e,t,r,a){this.initFunction(n),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===B.star&&e&Yp&&this.unexpected(),n.generator=this.eat(B.star)),this.options.ecmaVersion>=8&&(n.async=!!r),e&$s&&(n.id=e&o1&&this.type!==B.name?null:this.parseIdent(),n.id&&!(e&Yp)&&this.checkLValSimple(n.id,this.strict||n.generator||n.async?this.treatFunctionsAsVar?xh:ea:a1));var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(vh(n.async,n.generator)),e&$s||(n.id=this.type===B.name?this.parseIdent():null),this.parseFunctionParams(n),this.parseFunctionBody(n,t,!1,a),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(n,e&$s?"FunctionDeclaration":"FunctionExpression")};ve.parseFunctionParams=function(n){this.expect(B.parenL),n.params=this.parseBindingList(B.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};ve.parseClass=function(n,e){this.next();var t=this.strict;this.strict=!0,this.parseClassId(n,e),this.parseClassSuper(n);var r=this.enterClassBody(),a=this.startNode(),i=!1;for(a.body=[],this.expect(B.braceL);this.type!==B.braceR;){var s=this.parseClassElement(n.superClass!==null);s&&(a.body.push(s),s.type==="MethodDefinition"&&s.kind==="constructor"?(i&&this.raiseRecoverable(s.start,"Duplicate constructor in the same class"),i=!0):s.key&&s.key.type==="PrivateIdentifier"&&rx(r,s)&&this.raiseRecoverable(s.key.start,"Identifier '#"+s.key.name+"' has already been declared"))}return this.strict=t,this.next(),n.body=this.finishNode(a,"ClassBody"),this.exitClassBody(),this.finishNode(n,e?"ClassDeclaration":"ClassExpression")};ve.parseClassElement=function(n){if(this.eat(B.semi))return null;var e=this.options.ecmaVersion,t=this.startNode(),r="",a=!1,i=!1,s="method",o=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(B.braceL))return this.parseClassStaticBlock(t),t;this.isClassElementNameStart()||this.type===B.star?o=!0:r="static"}if(t.static=o,!r&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===B.star)&&!this.canInsertSemicolon()?i=!0:r="async"),!r&&(e>=9||!i)&&this.eat(B.star)&&(a=!0),!r&&!i&&!a){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?s=l:r=l)}if(r?(t.computed=!1,t.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),t.key.name=r,this.finishNode(t.key,"Identifier")):this.parseClassElementName(t),e<13||this.type===B.parenL||s!=="method"||a||i){var c=!t.static&&Xl(t,"constructor"),p=c&&n;c&&s!=="method"&&this.raise(t.key.start,"Constructor can't have get/set modifier"),t.kind=c?"constructor":s,this.parseClassMethod(t,a,i,p)}else this.parseClassField(t);return t};ve.isClassElementNameStart=function(){return this.type===B.name||this.type===B.privateId||this.type===B.num||this.type===B.string||this.type===B.bracketL||this.type.keyword};ve.parseClassElementName=function(n){this.type===B.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),n.computed=!1,n.key=this.parsePrivateIdent()):this.parsePropertyName(n)};ve.parseClassMethod=function(n,e,t,r){var a=n.key;n.kind==="constructor"?(e&&this.raise(a.start,"Constructor can't be a generator"),t&&this.raise(a.start,"Constructor can't be an async method")):n.static&&Xl(n,"prototype")&&this.raise(a.start,"Classes may not have a static property named prototype");var i=n.value=this.parseMethod(e,t,r);return n.kind==="get"&&i.params.length!==0&&this.raiseRecoverable(i.start,"getter should have no params"),n.kind==="set"&&i.params.length!==1&&this.raiseRecoverable(i.start,"setter should have exactly one param"),n.kind==="set"&&i.params[0].type==="RestElement"&&this.raiseRecoverable(i.params[0].start,"Setter cannot use rest params"),this.finishNode(n,"MethodDefinition")};ve.parseClassField=function(n){if(Xl(n,"constructor")?this.raise(n.key.start,"Classes can't have a field named 'constructor'"):n.static&&Xl(n,"prototype")&&this.raise(n.key.start,"Classes can't have a static field named 'prototype'"),this.eat(B.eq)){var e=this.currentThisScope(),t=e.inClassFieldInit;e.inClassFieldInit=!0,n.value=this.parseMaybeAssign(),e.inClassFieldInit=t}else n.value=null;return this.semicolon(),this.finishNode(n,"PropertyDefinition")};ve.parseClassStaticBlock=function(n){n.body=[];var e=this.labels;for(this.labels=[],this.enterScope(uo|Oh);this.type!==B.braceR;){var t=this.parseStatement(null);n.body.push(t)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(n,"StaticBlock")};ve.parseClassId=function(n,e){this.type===B.name?(n.id=this.parseIdent(),e&&this.checkLValSimple(n.id,ea,!1)):(e===!0&&this.unexpected(),n.id=null)};ve.parseClassSuper=function(n){n.superClass=this.eat(B._extends)?this.parseExprSubscripts(null,!1):null};ve.enterClassBody=function(){var n={declared:Object.create(null),used:[]};return this.privateNameStack.push(n),n.declared};ve.exitClassBody=function(){var n=this.privateNameStack.pop(),e=n.declared,t=n.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,a=r===0?null:this.privateNameStack[r-1],i=0;i<t.length;++i){var s=t[i];Ni(e,s.name)||(a?a.used.push(s):this.raiseRecoverable(s.start,"Private field '#"+s.name+"' must be declared in an enclosing class"))}};function rx(n,e){var t=e.key.name,r=n[t],a="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(a=(e.static?"s":"i")+e.kind),r==="iget"&&a==="iset"||r==="iset"&&a==="iget"||r==="sget"&&a==="sset"||r==="sset"&&a==="sget"?(n[t]="true",!1):r?!0:(n[t]=a,!1)}function Xl(n,e){var t=n.computed,r=n.key;return!t&&(r.type==="Identifier"&&r.name===e||r.type==="Literal"&&r.value===e)}ve.parseExportAllDeclaration=function(n,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(n.exported=this.parseModuleExportName(),this.checkExport(e,n.exported,this.lastTokStart)):n.exported=null),this.expectContextual("from"),this.type!==B.string&&this.unexpected(),n.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(n.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(n,"ExportAllDeclaration")};ve.parseExport=function(n,e){if(this.next(),this.eat(B.star))return this.parseExportAllDeclaration(n,e);if(this.eat(B._default))return this.checkExport(e,"default",this.lastTokStart),n.declaration=this.parseExportDefaultDeclaration(),this.finishNode(n,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())n.declaration=this.parseExportDeclaration(n),n.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,n.declaration.declarations):this.checkExport(e,n.declaration.id,n.declaration.id.start),n.specifiers=[],n.source=null;else{if(n.declaration=null,n.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==B.string&&this.unexpected(),n.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(n.attributes=this.parseWithClause());else{for(var t=0,r=n.specifiers;t<r.length;t+=1){var a=r[t];this.checkUnreserved(a.local),this.checkLocalExport(a.local),a.local.type==="Literal"&&this.raise(a.local.start,"A string literal cannot be used as an exported binding without `from`.")}n.source=null}this.semicolon()}return this.finishNode(n,"ExportNamedDeclaration")};ve.parseExportDeclaration=function(n){return this.parseStatement(null)};ve.parseExportDefaultDeclaration=function(){var n;if(this.type===B._function||(n=this.isAsyncFunction())){var e=this.startNode();return this.next(),n&&this.next(),this.parseFunction(e,$s|o1,!1,n)}else if(this.type===B._class){var t=this.startNode();return this.parseClass(t,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};ve.checkExport=function(n,e,t){n&&(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Ni(n,e)&&this.raiseRecoverable(t,"Duplicate export '"+e+"'"),n[e]=!0)};ve.checkPatternExport=function(n,e){var t=e.type;if(t==="Identifier")this.checkExport(n,e,e.start);else if(t==="ObjectPattern")for(var r=0,a=e.properties;r<a.length;r+=1){var i=a[r];this.checkPatternExport(n,i)}else if(t==="ArrayPattern")for(var s=0,o=e.elements;s<o.length;s+=1){var l=o[s];l&&this.checkPatternExport(n,l)}else t==="Property"?this.checkPatternExport(n,e.value):t==="AssignmentPattern"?this.checkPatternExport(n,e.left):t==="RestElement"&&this.checkPatternExport(n,e.argument)};ve.checkVariableExport=function(n,e){if(n)for(var t=0,r=e;t<r.length;t+=1){var a=r[t];this.checkPatternExport(n,a.id)}};ve.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};ve.parseExportSpecifier=function(n){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(n,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};ve.parseExportSpecifiers=function(n){var e=[],t=!0;for(this.expect(B.braceL);!this.eat(B.braceR);){if(t)t=!1;else if(this.expect(B.comma),this.afterTrailingComma(B.braceR))break;e.push(this.parseExportSpecifier(n))}return e};ve.parseImport=function(n){return this.next(),this.type===B.string?(n.specifiers=nx,n.source=this.parseExprAtom()):(n.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),n.source=this.type===B.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(n.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(n,"ImportDeclaration")};ve.parseImportSpecifier=function(){var n=this.startNode();return n.imported=this.parseModuleExportName(),this.eatContextual("as")?n.local=this.parseIdent():(this.checkUnreserved(n.imported),n.local=n.imported),this.checkLValSimple(n.local,ea),this.finishNode(n,"ImportSpecifier")};ve.parseImportDefaultSpecifier=function(){var n=this.startNode();return n.local=this.parseIdent(),this.checkLValSimple(n.local,ea),this.finishNode(n,"ImportDefaultSpecifier")};ve.parseImportNamespaceSpecifier=function(){var n=this.startNode();return this.next(),this.expectContextual("as"),n.local=this.parseIdent(),this.checkLValSimple(n.local,ea),this.finishNode(n,"ImportNamespaceSpecifier")};ve.parseImportSpecifiers=function(){var n=[],e=!0;if(this.type===B.name&&(n.push(this.parseImportDefaultSpecifier()),!this.eat(B.comma)))return n;if(this.type===B.star)return n.push(this.parseImportNamespaceSpecifier()),n;for(this.expect(B.braceL);!this.eat(B.braceR);){if(e)e=!1;else if(this.expect(B.comma),this.afterTrailingComma(B.braceR))break;n.push(this.parseImportSpecifier())}return n};ve.parseWithClause=function(){var n=[];if(!this.eat(B._with))return n;this.expect(B.braceL);for(var e={},t=!0;!this.eat(B.braceR);){if(t)t=!1;else if(this.expect(B.comma),this.afterTrailingComma(B.braceR))break;var r=this.parseImportAttribute(),a=r.key.type==="Identifier"?r.key.name:r.key.value;Ni(e,a)&&this.raiseRecoverable(r.key.start,"Duplicate attribute key '"+a+"'"),e[a]=!0,n.push(r)}return n};ve.parseImportAttribute=function(){var n=this.startNode();return n.key=this.type===B.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(B.colon),this.type!==B.string&&this.unexpected(),n.value=this.parseExprAtom(),this.finishNode(n,"ImportAttribute")};ve.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===B.string){var n=this.parseLiteral(this.value);return H2.test(n.value)&&this.raise(n.start,"An export name cannot include a lone surrogate."),n}return this.parseIdent(!0)};ve.adaptDirectivePrologue=function(n){for(var e=0;e<n.length&&this.isDirectiveCandidate(n[e]);++e)n[e].directive=n[e].expression.raw.slice(1,-1)};ve.isDirectiveCandidate=function(n){return this.options.ecmaVersion>=5&&n.type==="ExpressionStatement"&&n.expression.type==="Literal"&&typeof n.expression.value=="string"&&(this.input[n.start]==='"'||this.input[n.start]==="'")};var er=It.prototype;er.toAssignable=function(n,e,t){if(this.options.ecmaVersion>=6&&n)switch(n.type){case"Identifier":this.inAsync&&n.name==="await"&&this.raise(n.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":n.type="ObjectPattern",t&&this.checkPatternErrors(t,!0);for(var r=0,a=n.properties;r<a.length;r+=1){var i=a[r];this.toAssignable(i,e),i.type==="RestElement"&&(i.argument.type==="ArrayPattern"||i.argument.type==="ObjectPattern")&&this.raise(i.argument.start,"Unexpected token")}break;case"Property":n.kind!=="init"&&this.raise(n.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(n.value,e);break;case"ArrayExpression":n.type="ArrayPattern",t&&this.checkPatternErrors(t,!0),this.toAssignableList(n.elements,e);break;case"SpreadElement":n.type="RestElement",this.toAssignable(n.argument,e),n.argument.type==="AssignmentPattern"&&this.raise(n.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":n.operator!=="="&&this.raise(n.left.end,"Only '=' operator can be used for specifying default value."),n.type="AssignmentPattern",delete n.operator,this.toAssignable(n.left,e);break;case"ParenthesizedExpression":this.toAssignable(n.expression,e,t);break;case"ChainExpression":this.raiseRecoverable(n.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(n.start,"Assigning to rvalue")}else t&&this.checkPatternErrors(t,!0);return n};er.toAssignableList=function(n,e){for(var t=n.length,r=0;r<t;r++){var a=n[r];a&&this.toAssignable(a,e)}if(t){var i=n[t-1];this.options.ecmaVersion===6&&e&&i&&i.type==="RestElement"&&i.argument.type!=="Identifier"&&this.unexpected(i.argument.start)}return n};er.parseSpread=function(n){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,n),this.finishNode(e,"SpreadElement")};er.parseRestBinding=function(){var n=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==B.name&&this.unexpected(),n.argument=this.parseBindingAtom(),this.finishNode(n,"RestElement")};er.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case B.bracketL:var n=this.startNode();return this.next(),n.elements=this.parseBindingList(B.bracketR,!0,!0),this.finishNode(n,"ArrayPattern");case B.braceL:return this.parseObj(!0)}return this.parseIdent()};er.parseBindingList=function(n,e,t,r){for(var a=[],i=!0;!this.eat(n);)if(i?i=!1:this.expect(B.comma),e&&this.type===B.comma)a.push(null);else{if(t&&this.afterTrailingComma(n))break;if(this.type===B.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),a.push(s),this.type===B.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(n);break}else a.push(this.parseAssignableListItem(r))}return a};er.parseAssignableListItem=function(n){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};er.parseBindingListItem=function(n){return n};er.parseMaybeDefault=function(n,e,t){if(t=t||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(B.eq))return t;var r=this.startNodeAt(n,e);return r.left=t,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};er.checkLValSimple=function(n,e,t){e===void 0&&(e=ql);var r=e!==ql;switch(n.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(n.name)&&this.raiseRecoverable(n.start,(r?"Binding ":"Assigning to ")+n.name+" in strict mode"),r&&(e===ea&&n.name==="let"&&this.raiseRecoverable(n.start,"let is disallowed as a lexically bound name"),t&&(Ni(t,n.name)&&this.raiseRecoverable(n.start,"Argument name clash"),t[n.name]=!0),e!==s1&&this.declareName(n.name,e,n.start));break;case"ChainExpression":this.raiseRecoverable(n.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(n.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(n.start,"Binding parenthesized expression"),this.checkLValSimple(n.expression,e,t);default:this.raise(n.start,(r?"Binding":"Assigning to")+" rvalue")}};er.checkLValPattern=function(n,e,t){switch(e===void 0&&(e=ql),n.type){case"ObjectPattern":for(var r=0,a=n.properties;r<a.length;r+=1){var i=a[r];this.checkLValInnerPattern(i,e,t)}break;case"ArrayPattern":for(var s=0,o=n.elements;s<o.length;s+=1){var l=o[s];l&&this.checkLValInnerPattern(l,e,t)}break;default:this.checkLValSimple(n,e,t)}};er.checkLValInnerPattern=function(n,e,t){switch(e===void 0&&(e=ql),n.type){case"Property":this.checkLValInnerPattern(n.value,e,t);break;case"AssignmentPattern":this.checkLValPattern(n.left,e,t);break;case"RestElement":this.checkLValPattern(n.argument,e,t);break;default:this.checkLValPattern(n,e,t)}};var sr=function(e,t,r,a,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!r,this.override=a,this.generator=!!i},xt={b_stat:new sr("{",!1),b_expr:new sr("{",!0),b_tmpl:new sr("${",!1),p_stat:new sr("(",!1),p_expr:new sr("(",!0),q_tmpl:new sr("`",!0,!0,function(n){return n.tryReadTemplateToken()}),f_stat:new sr("function",!1),f_expr:new sr("function",!0),f_expr_gen:new sr("function",!0,!1,null,!0),f_gen:new sr("function",!1,!1,null,!0)},Vi=It.prototype;Vi.initialContext=function(){return[xt.b_stat]};Vi.curContext=function(){return this.context[this.context.length-1]};Vi.braceIsBlock=function(n){var e=this.curContext();return e===xt.f_expr||e===xt.f_stat?!0:n===B.colon&&(e===xt.b_stat||e===xt.b_expr)?!e.isExpr:n===B._return||n===B.name&&this.exprAllowed?Jn.test(this.input.slice(this.lastTokEnd,this.start)):n===B._else||n===B.semi||n===B.eof||n===B.parenR||n===B.arrow?!0:n===B.braceL?e===xt.b_stat:n===B._var||n===B._const||n===B.name?!1:!this.exprAllowed};Vi.inGeneratorContext=function(){for(var n=this.context.length-1;n>=1;n--){var e=this.context[n];if(e.token==="function")return e.generator}return!1};Vi.updateContext=function(n){var e,t=this.type;t.keyword&&n===B.dot?this.exprAllowed=!1:(e=t.updateContext)?e.call(this,n):this.exprAllowed=t.beforeExpr};Vi.overrideContext=function(n){this.curContext()!==n&&(this.context[this.context.length-1]=n)};B.parenR.updateContext=B.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var n=this.context.pop();n===xt.b_stat&&this.curContext().token==="function"&&(n=this.context.pop()),this.exprAllowed=!n.isExpr};B.braceL.updateContext=function(n){this.context.push(this.braceIsBlock(n)?xt.b_stat:xt.b_expr),this.exprAllowed=!0};B.dollarBraceL.updateContext=function(){this.context.push(xt.b_tmpl),this.exprAllowed=!0};B.parenL.updateContext=function(n){var e=n===B._if||n===B._for||n===B._with||n===B._while;this.context.push(e?xt.p_stat:xt.p_expr),this.exprAllowed=!0};B.incDec.updateContext=function(){};B._function.updateContext=B._class.updateContext=function(n){n.beforeExpr&&n!==B._else&&!(n===B.semi&&this.curContext()!==xt.p_stat)&&!(n===B._return&&Jn.test(this.input.slice(this.lastTokEnd,this.start)))&&!((n===B.colon||n===B.braceL)&&this.curContext()===xt.b_stat)?this.context.push(xt.f_expr):this.context.push(xt.f_stat),this.exprAllowed=!1};B.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};B.backQuote.updateContext=function(){this.curContext()===xt.q_tmpl?this.context.pop():this.context.push(xt.q_tmpl),this.exprAllowed=!1};B.star.updateContext=function(n){if(n===B._function){var e=this.context.length-1;this.context[e]===xt.f_expr?this.context[e]=xt.f_expr_gen:this.context[e]=xt.f_gen}this.exprAllowed=!0};B.name.updateContext=function(n){var e=!1;this.options.ecmaVersion>=6&&n!==B.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var Ee=It.prototype;Ee.checkPropClash=function(n,e,t){if(!(this.options.ecmaVersion>=9&&n.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(n.computed||n.method||n.shorthand))){var r=n.key,a;switch(r.type){case"Identifier":a=r.name;break;case"Literal":a=String(r.value);break;default:return}var i=n.kind;if(this.options.ecmaVersion>=6){a==="__proto__"&&i==="init"&&(e.proto&&(t?t.doubleProto<0&&(t.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),e.proto=!0);return}a="$"+a;var s=e[a];if(s){var o;i==="init"?o=this.strict&&s.init||s.get||s.set:o=s.init||s[i],o&&this.raiseRecoverable(r.start,"Redefinition of property")}else s=e[a]={init:!1,get:!1,set:!1};s[i]=!0}};Ee.parseExpression=function(n,e){var t=this.start,r=this.startLoc,a=this.parseMaybeAssign(n,e);if(this.type===B.comma){var i=this.startNodeAt(t,r);for(i.expressions=[a];this.eat(B.comma);)i.expressions.push(this.parseMaybeAssign(n,e));return this.finishNode(i,"SequenceExpression")}return a};Ee.parseMaybeAssign=function(n,e,t){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(n);this.exprAllowed=!1}var r=!1,a=-1,i=-1,s=-1;e?(a=e.parenthesizedAssign,i=e.trailingComma,s=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Vu,r=!0);var o=this.start,l=this.startLoc;(this.type===B.parenL||this.type===B.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=n==="await");var c=this.parseMaybeConditional(n,e);if(t&&(c=t.call(this,c,o,l)),this.type.isAssign){var p=this.startNodeAt(o,l);return p.operator=this.value,this.type===B.eq&&(c=this.toAssignable(c,!1,e)),r||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=c.start&&(e.shorthandAssign=-1),this.type===B.eq?this.checkLValPattern(c):this.checkLValSimple(c),p.left=c,this.next(),p.right=this.parseMaybeAssign(n),s>-1&&(e.doubleProto=s),this.finishNode(p,"AssignmentExpression")}else r&&this.checkExpressionErrors(e,!0);return a>-1&&(e.parenthesizedAssign=a),i>-1&&(e.trailingComma=i),c};Ee.parseMaybeConditional=function(n,e){var t=this.start,r=this.startLoc,a=this.parseExprOps(n,e);if(this.checkExpressionErrors(e))return a;if(this.eat(B.question)){var i=this.startNodeAt(t,r);return i.test=a,i.consequent=this.parseMaybeAssign(),this.expect(B.colon),i.alternate=this.parseMaybeAssign(n),this.finishNode(i,"ConditionalExpression")}return a};Ee.parseExprOps=function(n,e){var t=this.start,r=this.startLoc,a=this.parseMaybeUnary(e,!1,!1,n);return this.checkExpressionErrors(e)||a.start===t&&a.type==="ArrowFunctionExpression"?a:this.parseExprOp(a,t,r,-1,n)};Ee.parseExprOp=function(n,e,t,r,a){var i=this.type.binop;if(i!=null&&(!a||this.type!==B._in)&&i>r){var s=this.type===B.logicalOR||this.type===B.logicalAND,o=this.type===B.coalesce;o&&(i=B.logicalAND.binop);var l=this.value;this.next();var c=this.start,p=this.startLoc,d=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,a),c,p,i,a),f=this.buildBinary(e,t,n,d,l,s||o);return(s&&this.type===B.coalesce||o&&(this.type===B.logicalOR||this.type===B.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(f,e,t,r,a)}return n};Ee.buildBinary=function(n,e,t,r,a,i){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var s=this.startNodeAt(n,e);return s.left=t,s.operator=a,s.right=r,this.finishNode(s,i?"LogicalExpression":"BinaryExpression")};Ee.parseMaybeUnary=function(n,e,t,r){var a=this.start,i=this.startLoc,s;if(this.isContextual("await")&&this.canAwait)s=this.parseAwait(r),e=!0;else if(this.type.prefix){var o=this.startNode(),l=this.type===B.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,l,r),this.checkExpressionErrors(n,!0),l?this.checkLValSimple(o.argument):this.strict&&o.operator==="delete"&&l1(o.argument)?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):o.operator==="delete"&&Hp(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):e=!0,s=this.finishNode(o,l?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===B.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),s=this.parsePrivateIdent(),this.type!==B._in&&this.unexpected();else{if(s=this.parseExprSubscripts(n,r),this.checkExpressionErrors(n))return s;for(;this.type.postfix&&!this.canInsertSemicolon();){var c=this.startNodeAt(a,i);c.operator=this.value,c.prefix=!1,c.argument=s,this.checkLValSimple(s),this.next(),s=this.finishNode(c,"UpdateExpression")}}if(!t&&this.eat(B.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(a,i,s,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return s};function l1(n){return n.type==="Identifier"||n.type==="ParenthesizedExpression"&&l1(n.expression)}function Hp(n){return n.type==="MemberExpression"&&n.property.type==="PrivateIdentifier"||n.type==="ChainExpression"&&Hp(n.expression)||n.type==="ParenthesizedExpression"&&Hp(n.expression)}Ee.parseExprSubscripts=function(n,e){var t=this.start,r=this.startLoc,a=this.parseExprAtom(n,e);if(a.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return a;var i=this.parseSubscripts(a,t,r,!1,e);return n&&i.type==="MemberExpression"&&(n.parenthesizedAssign>=i.start&&(n.parenthesizedAssign=-1),n.parenthesizedBind>=i.start&&(n.parenthesizedBind=-1),n.trailingComma>=i.start&&(n.trailingComma=-1)),i};Ee.parseSubscripts=function(n,e,t,r,a){for(var i=this.options.ecmaVersion>=8&&n.type==="Identifier"&&n.name==="async"&&this.lastTokEnd===n.end&&!this.canInsertSemicolon()&&n.end-n.start===5&&this.potentialArrowAt===n.start,s=!1;;){var o=this.parseSubscript(n,e,t,r,i,s,a);if(o.optional&&(s=!0),o===n||o.type==="ArrowFunctionExpression"){if(s){var l=this.startNodeAt(e,t);l.expression=o,o=this.finishNode(l,"ChainExpression")}return o}n=o}};Ee.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(B.arrow)};Ee.parseSubscriptAsyncArrow=function(n,e,t,r){return this.parseArrowExpression(this.startNodeAt(n,e),t,!0,r)};Ee.parseSubscript=function(n,e,t,r,a,i,s){var o=this.options.ecmaVersion>=11,l=o&&this.eat(B.questionDot);r&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var c=this.eat(B.bracketL);if(c||l&&this.type!==B.parenL&&this.type!==B.backQuote||this.eat(B.dot)){var p=this.startNodeAt(e,t);p.object=n,c?(p.property=this.parseExpression(),this.expect(B.bracketR)):this.type===B.privateId&&n.type!=="Super"?p.property=this.parsePrivateIdent():p.property=this.parseIdent(this.options.allowReserved!=="never"),p.computed=!!c,o&&(p.optional=l),n=this.finishNode(p,"MemberExpression")}else if(!r&&this.eat(B.parenL)){var d=new Vu,f=this.yieldPos,y=this.awaitPos,P=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var w=this.parseExprList(B.parenR,this.options.ecmaVersion>=8,!1,d);if(a&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=y,this.awaitIdentPos=P,this.parseSubscriptAsyncArrow(e,t,w,s);this.checkExpressionErrors(d,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=y||this.awaitPos,this.awaitIdentPos=P||this.awaitIdentPos;var A=this.startNodeAt(e,t);A.callee=n,A.arguments=w,o&&(A.optional=l),n=this.finishNode(A,"CallExpression")}else if(this.type===B.backQuote){(l||i)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var T=this.startNodeAt(e,t);T.tag=n,T.quasi=this.parseTemplate({isTagged:!0}),n=this.finishNode(T,"TaggedTemplateExpression")}return n};Ee.parseExprAtom=function(n,e,t){this.type===B.slash&&this.readRegexp();var r,a=this.potentialArrowAt===this.start;switch(this.type){case B._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===B.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==B.dot&&this.type!==B.bracketL&&this.type!==B.parenL&&this.unexpected(),this.finishNode(r,"Super");case B._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case B.name:var i=this.start,s=this.startLoc,o=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&l.name==="async"&&!this.canInsertSemicolon()&&this.eat(B._function))return this.overrideContext(xt.f_expr),this.parseFunction(this.startNodeAt(i,s),0,!1,!0,e);if(a&&!this.canInsertSemicolon()){if(this.eat(B.arrow))return this.parseArrowExpression(this.startNodeAt(i,s),[l],!1,e);if(this.options.ecmaVersion>=8&&l.name==="async"&&this.type===B.name&&!o&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(B.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,s),[l],!0,e)}return l;case B.regexp:var c=this.value;return r=this.parseLiteral(c.value),r.regex={pattern:c.pattern,flags:c.flags},r;case B.num:case B.string:return this.parseLiteral(this.value);case B._null:case B._true:case B._false:return r=this.startNode(),r.value=this.type===B._null?null:this.type===B._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case B.parenL:var p=this.start,d=this.parseParenAndDistinguishExpression(a,e);return n&&(n.parenthesizedAssign<0&&!this.isSimpleAssignTarget(d)&&(n.parenthesizedAssign=p),n.parenthesizedBind<0&&(n.parenthesizedBind=p)),d;case B.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(B.bracketR,!0,!0,n),this.finishNode(r,"ArrayExpression");case B.braceL:return this.overrideContext(xt.b_expr),this.parseObj(!1,n);case B._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case B._class:return this.parseClass(this.startNode(),!1);case B._new:return this.parseNew();case B.backQuote:return this.parseTemplate();case B._import:return this.options.ecmaVersion>=11?this.parseExprImport(t):this.unexpected();default:return this.parseExprAtomDefault()}};Ee.parseExprAtomDefault=function(){this.unexpected()};Ee.parseExprImport=function(n){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===B.parenL&&!n)return this.parseDynamicImport(e);if(this.type===B.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);return t.name="import",e.meta=this.finishNode(t,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};Ee.parseDynamicImport=function(n){if(this.next(),n.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(B.parenR)?n.options=null:(this.expect(B.comma),this.afterTrailingComma(B.parenR)?n.options=null:(n.options=this.parseMaybeAssign(),this.eat(B.parenR)||(this.expect(B.comma),this.afterTrailingComma(B.parenR)||this.unexpected())));else if(!this.eat(B.parenR)){var e=this.start;this.eat(B.comma)&&this.eat(B.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(n,"ImportExpression")};Ee.parseImportMeta=function(n){this.next();var e=this.containsEsc;return n.property=this.parseIdent(!0),n.property.name!=="meta"&&this.raiseRecoverable(n.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(n.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(n.start,"Cannot use 'import.meta' outside a module"),this.finishNode(n,"MetaProperty")};Ee.parseLiteral=function(n){var e=this.startNode();return e.value=n,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};Ee.parseParenExpression=function(){this.expect(B.parenL);var n=this.parseExpression();return this.expect(B.parenR),n};Ee.shouldParseArrow=function(n){return!this.canInsertSemicolon()};Ee.parseParenAndDistinguishExpression=function(n,e){var t=this.start,r=this.startLoc,a,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s=this.start,o=this.startLoc,l=[],c=!0,p=!1,d=new Vu,f=this.yieldPos,y=this.awaitPos,P;for(this.yieldPos=0,this.awaitPos=0;this.type!==B.parenR;)if(c?c=!1:this.expect(B.comma),i&&this.afterTrailingComma(B.parenR,!0)){p=!0;break}else if(this.type===B.ellipsis){P=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===B.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else l.push(this.parseMaybeAssign(!1,d,this.parseParenItem));var w=this.lastTokEnd,A=this.lastTokEndLoc;if(this.expect(B.parenR),n&&this.shouldParseArrow(l)&&this.eat(B.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=y,this.parseParenArrowList(t,r,l,e);(!l.length||p)&&this.unexpected(this.lastTokStart),P&&this.unexpected(P),this.checkExpressionErrors(d,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=y||this.awaitPos,l.length>1?(a=this.startNodeAt(s,o),a.expressions=l,this.finishNodeAt(a,"SequenceExpression",w,A)):a=l[0]}else a=this.parseParenExpression();if(this.options.preserveParens){var T=this.startNodeAt(t,r);return T.expression=a,this.finishNode(T,"ParenthesizedExpression")}else return a};Ee.parseParenItem=function(n){return n};Ee.parseParenArrowList=function(n,e,t,r){return this.parseArrowExpression(this.startNodeAt(n,e),t,!1,r)};var ax=[];Ee.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var n=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===B.dot){var e=this.startNodeAt(n.start,n.loc&&n.loc.start);e.name="new",n.meta=this.finishNode(e,"Identifier"),this.next();var t=this.containsEsc;return n.property=this.parseIdent(!0),n.property.name!=="target"&&this.raiseRecoverable(n.property.start,"The only valid meta property for new is 'new.target'"),t&&this.raiseRecoverable(n.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(n.start,"'new.target' can only be used in functions and class static block"),this.finishNode(n,"MetaProperty")}var r=this.start,a=this.startLoc;return n.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,a,!0,!1),this.eat(B.parenL)?n.arguments=this.parseExprList(B.parenR,this.options.ecmaVersion>=8,!1):n.arguments=ax,this.finishNode(n,"NewExpression")};Ee.parseTemplateElement=function(n){var e=n.isTagged,t=this.startNode();return this.type===B.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),t.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):t.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),t.tail=this.type===B.backQuote,this.finishNode(t,"TemplateElement")};Ee.parseTemplate=function(n){n===void 0&&(n={});var e=n.isTagged;e===void 0&&(e=!1);var t=this.startNode();this.next(),t.expressions=[];var r=this.parseTemplateElement({isTagged:e});for(t.quasis=[r];!r.tail;)this.type===B.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(B.dollarBraceL),t.expressions.push(this.parseExpression()),this.expect(B.braceR),t.quasis.push(r=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(t,"TemplateLiteral")};Ee.isAsyncProp=function(n){return!n.computed&&n.key.type==="Identifier"&&n.key.name==="async"&&(this.type===B.name||this.type===B.num||this.type===B.string||this.type===B.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===B.star)&&!Jn.test(this.input.slice(this.lastTokEnd,this.start))};Ee.parseObj=function(n,e){var t=this.startNode(),r=!0,a={};for(t.properties=[],this.next();!this.eat(B.braceR);){if(r)r=!1;else if(this.expect(B.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(B.braceR))break;var i=this.parseProperty(n,e);n||this.checkPropClash(i,a,e),t.properties.push(i)}return this.finishNode(t,n?"ObjectPattern":"ObjectExpression")};Ee.parseProperty=function(n,e){var t=this.startNode(),r,a,i,s;if(this.options.ecmaVersion>=9&&this.eat(B.ellipsis))return n?(t.argument=this.parseIdent(!1),this.type===B.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(t,"RestElement")):(t.argument=this.parseMaybeAssign(!1,e),this.type===B.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(t,"SpreadElement"));this.options.ecmaVersion>=6&&(t.method=!1,t.shorthand=!1,(n||e)&&(i=this.start,s=this.startLoc),n||(r=this.eat(B.star)));var o=this.containsEsc;return this.parsePropertyName(t),!n&&!o&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(t)?(a=!0,r=this.options.ecmaVersion>=9&&this.eat(B.star),this.parsePropertyName(t)):a=!1,this.parsePropertyValue(t,n,r,a,i,s,e,o),this.finishNode(t,"Property")};Ee.parseGetterSetter=function(n){n.kind=n.key.name,this.parsePropertyName(n),n.value=this.parseMethod(!1);var e=n.kind==="get"?0:1;if(n.value.params.length!==e){var t=n.value.start;n.kind==="get"?this.raiseRecoverable(t,"getter should have no params"):this.raiseRecoverable(t,"setter should have exactly one param")}else n.kind==="set"&&n.value.params[0].type==="RestElement"&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params")};Ee.parsePropertyValue=function(n,e,t,r,a,i,s,o){(t||r)&&this.type===B.colon&&this.unexpected(),this.eat(B.colon)?(n.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,s),n.kind="init"):this.options.ecmaVersion>=6&&this.type===B.parenL?(e&&this.unexpected(),n.kind="init",n.method=!0,n.value=this.parseMethod(t,r)):!e&&!o&&this.options.ecmaVersion>=5&&!n.computed&&n.key.type==="Identifier"&&(n.key.name==="get"||n.key.name==="set")&&this.type!==B.comma&&this.type!==B.braceR&&this.type!==B.eq?((t||r)&&this.unexpected(),this.parseGetterSetter(n)):this.options.ecmaVersion>=6&&!n.computed&&n.key.type==="Identifier"?((t||r)&&this.unexpected(),this.checkUnreserved(n.key),n.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=a),n.kind="init",e?n.value=this.parseMaybeDefault(a,i,this.copyNode(n.key)):this.type===B.eq&&s?(s.shorthandAssign<0&&(s.shorthandAssign=this.start),n.value=this.parseMaybeDefault(a,i,this.copyNode(n.key))):n.value=this.copyNode(n.key),n.shorthand=!0):this.unexpected()};Ee.parsePropertyName=function(n){if(this.options.ecmaVersion>=6){if(this.eat(B.bracketL))return n.computed=!0,n.key=this.parseMaybeAssign(),this.expect(B.bracketR),n.key;n.computed=!1}return n.key=this.type===B.num||this.type===B.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Ee.initFunction=function(n){n.id=null,this.options.ecmaVersion>=6&&(n.generator=n.expression=!1),this.options.ecmaVersion>=8&&(n.async=!1)};Ee.parseMethod=function(n,e,t){var r=this.startNode(),a=this.yieldPos,i=this.awaitPos,s=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=n),this.options.ecmaVersion>=8&&(r.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(vh(e,r.generator)|Oh|(t?r1:0)),this.expect(B.parenL),r.params=this.parseBindingList(B.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=a,this.awaitPos=i,this.awaitIdentPos=s,this.finishNode(r,"FunctionExpression")};Ee.parseArrowExpression=function(n,e,t,r){var a=this.yieldPos,i=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(vh(t,!1)|t1),this.initFunction(n),this.options.ecmaVersion>=8&&(n.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,n.params=this.toAssignableList(e,!0),this.parseFunctionBody(n,!0,!1,r),this.yieldPos=a,this.awaitPos=i,this.awaitIdentPos=s,this.finishNode(n,"ArrowFunctionExpression")};Ee.parseFunctionBody=function(n,e,t,r){var a=e&&this.type!==B.braceL,i=this.strict,s=!1;if(a)n.body=this.parseMaybeAssign(r),n.expression=!0,this.checkParams(n,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(n.params);(!i||o)&&(s=this.strictDirective(this.end),s&&o&&this.raiseRecoverable(n.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var l=this.labels;this.labels=[],s&&(this.strict=!0),this.checkParams(n,!i&&!s&&!e&&!t&&this.isSimpleParamList(n.params)),this.strict&&n.id&&this.checkLValSimple(n.id,s1),n.body=this.parseBlock(!1,void 0,s&&!i),n.expression=!1,this.adaptDirectivePrologue(n.body.body),this.labels=l}this.exitScope()};Ee.isSimpleParamList=function(n){for(var e=0,t=n;e<t.length;e+=1){var r=t[e];if(r.type!=="Identifier")return!1}return!0};Ee.checkParams=function(n,e){for(var t=Object.create(null),r=0,a=n.params;r<a.length;r+=1){var i=a[r];this.checkLValInnerPattern(i,xh,e?null:t)}};Ee.parseExprList=function(n,e,t,r){for(var a=[],i=!0;!this.eat(n);){if(i)i=!1;else if(this.expect(B.comma),e&&this.afterTrailingComma(n))break;var s=void 0;t&&this.type===B.comma?s=null:this.type===B.ellipsis?(s=this.parseSpread(r),r&&this.type===B.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):s=this.parseMaybeAssign(!1,r),a.push(s)}return a};Ee.checkUnreserved=function(n){var e=n.start,t=n.end,r=n.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(e,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(e,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,t).indexOf("\\")!==-1)){var a=this.strict?this.reservedWordsStrict:this.reservedWords;a.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+r+"' is reserved"))}};Ee.parseIdent=function(n){var e=this.parseIdentNode();return this.next(!!n),this.finishNode(e,"Identifier"),n||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};Ee.parseIdentNode=function(){var n=this.startNode();return this.type===B.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,(n.name==="class"||n.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=B.name):this.unexpected(),n};Ee.parsePrivateIdent=function(){var n=this.startNode();return this.type===B.privateId?n.name=this.value:this.unexpected(),this.next(),this.finishNode(n,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(n.start,"Private field '#"+n.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(n)),n};Ee.parseYield=function(n){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===B.semi||this.canInsertSemicolon()||this.type!==B.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(B.star),e.argument=this.parseMaybeAssign(n)),this.finishNode(e,"YieldExpression")};Ee.parseAwait=function(n){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,n),this.finishNode(e,"AwaitExpression")};var Wl=It.prototype;Wl.raise=function(n,e){var t=J0(this.input,n);e+=" ("+t.line+":"+t.column+")";var r=new SyntaxError(e);throw r.pos=n,r.loc=t,r.raisedAt=this.pos,r};Wl.raiseRecoverable=Wl.raise;Wl.curPosition=function(){if(this.options.locations)return new Is(this.curLine,this.pos-this.lineStart)};var Aa=It.prototype,ix=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Aa.enterScope=function(n){this.scopeStack.push(new ix(n))};Aa.exitScope=function(){this.scopeStack.pop()};Aa.treatFunctionsAsVarInScope=function(n){return n.flags&Zi||!this.inModule&&n.flags&Ns};Aa.declareName=function(n,e,t){var r=!1;if(e===ea){var a=this.currentScope();r=a.lexical.indexOf(n)>-1||a.functions.indexOf(n)>-1||a.var.indexOf(n)>-1,a.lexical.push(n),this.inModule&&a.flags&Ns&&delete this.undefinedExports[n]}else if(e===i1){var i=this.currentScope();i.lexical.push(n)}else if(e===a1){var s=this.currentScope();this.treatFunctionsAsVar?r=s.lexical.indexOf(n)>-1:r=s.lexical.indexOf(n)>-1||s.var.indexOf(n)>-1,s.functions.push(n)}else for(var o=this.scopeStack.length-1;o>=0;--o){var l=this.scopeStack[o];if(l.lexical.indexOf(n)>-1&&!(l.flags&n1&&l.lexical[0]===n)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(n)>-1){r=!0;break}if(l.var.push(n),this.inModule&&l.flags&Ns&&delete this.undefinedExports[n],l.flags&kh)break}r&&this.raiseRecoverable(t,"Identifier '"+n+"' has already been declared")};Aa.checkLocalExport=function(n){this.scopeStack[0].lexical.indexOf(n.name)===-1&&this.scopeStack[0].var.indexOf(n.name)===-1&&(this.undefinedExports[n.name]=n)};Aa.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Aa.currentVarScope=function(){for(var n=this.scopeStack.length-1;;n--){var e=this.scopeStack[n];if(e.flags&kh)return e}};Aa.currentThisScope=function(){for(var n=this.scopeStack.length-1;;n--){var e=this.scopeStack[n];if(e.flags&kh&&!(e.flags&t1))return e}};var qu=function(e,t,r){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new Zu(e,r)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},co=It.prototype;co.startNode=function(){return new qu(this,this.start,this.startLoc)};co.startNodeAt=function(n,e){return new qu(this,n,e)};function u1(n,e,t,r){return n.type=e,n.end=t,this.options.locations&&(n.loc.end=r),this.options.ranges&&(n.range[1]=t),n}co.finishNode=function(n,e){return u1.call(this,n,e,this.lastTokEnd,this.lastTokEndLoc)};co.finishNodeAt=function(n,e,t,r){return u1.call(this,n,e,t,r)};co.copyNode=function(n){var e=new qu(this,n.start,this.startLoc);for(var t in n)e[t]=n[t];return e};var sx="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",c1="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",p1=c1+" Extended_Pictographic",m1=p1,h1=m1+" EBase EComp EMod EPres ExtPict",d1=h1,ox=d1,lx={9:c1,10:p1,11:m1,12:h1,13:d1,14:ox},ux="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",cx={9:"",10:"",11:"",12:"",13:"",14:ux},zd="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",f1="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",g1=f1+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",b1=g1+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",y1=b1+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",O1=y1+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",px=O1+" "+sx,mx={9:f1,10:g1,11:b1,12:y1,13:O1,14:px},k1={};function hx(n){var e=k1[n]={binary:ca(lx[n]+" "+zd),binaryOfStrings:ca(cx[n]),nonBinary:{General_Category:ca(zd),Script:ca(mx[n])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(var Uc=0,Gd=[9,10,11,12,13,14];Uc<Gd.length;Uc+=1){var dx=Gd[Uc];hx(dx)}var ye=It.prototype,zl=function(e,t){this.parent=e,this.base=t||this};zl.prototype.separatedFrom=function(e){for(var t=this;t;t=t.parent)for(var r=e;r;r=r.parent)if(t.base===r.base&&t!==r)return!0;return!1};zl.prototype.sibling=function(){return new zl(this.parent,this.base)};var Nr=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=k1[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Nr.prototype.reset=function(e,t,r){var a=r.indexOf("v")!==-1,i=r.indexOf("u")!==-1;this.start=e|0,this.source=t+"",this.flags=r,a&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=i&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=i&&this.parser.options.ecmaVersion>=9)};Nr.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)};Nr.prototype.at=function(e,t){t===void 0&&(t=!1);var r=this.source,a=r.length;if(e>=a)return-1;var i=r.charCodeAt(e);if(!(t||this.switchU)||i<=55295||i>=57344||e+1>=a)return i;var s=r.charCodeAt(e+1);return s>=56320&&s<=57343?(i<<10)+s-56613888:i};Nr.prototype.nextIndex=function(e,t){t===void 0&&(t=!1);var r=this.source,a=r.length;if(e>=a)return a;var i=r.charCodeAt(e),s;return!(t||this.switchU)||i<=55295||i>=57344||e+1>=a||(s=r.charCodeAt(e+1))<56320||s>57343?e+1:e+2};Nr.prototype.current=function(e){return e===void 0&&(e=!1),this.at(this.pos,e)};Nr.prototype.lookahead=function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)};Nr.prototype.advance=function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)};Nr.prototype.eat=function(e,t){return t===void 0&&(t=!1),this.current(t)===e?(this.advance(t),!0):!1};Nr.prototype.eatChars=function(e,t){t===void 0&&(t=!1);for(var r=this.pos,a=0,i=e;a<i.length;a+=1){var s=i[a],o=this.at(r,t);if(o===-1||o!==s)return!1;r=this.nextIndex(r,t)}return this.pos=r,!0};ye.validateRegExpFlags=function(n){for(var e=n.validFlags,t=n.flags,r=!1,a=!1,i=0;i<t.length;i++){var s=t.charAt(i);e.indexOf(s)===-1&&this.raise(n.start,"Invalid regular expression flag"),t.indexOf(s,i+1)>-1&&this.raise(n.start,"Duplicate regular expression flag"),s==="u"&&(r=!0),s==="v"&&(a=!0)}this.options.ecmaVersion>=15&&r&&a&&this.raise(n.start,"Invalid regular expression flag")};function fx(n){for(var e in n)return!0;return!1}ye.validateRegExpPattern=function(n){this.regexp_pattern(n),!n.switchN&&this.options.ecmaVersion>=9&&fx(n.groupNames)&&(n.switchN=!0,this.regexp_pattern(n))};ye.regexp_pattern=function(n){n.pos=0,n.lastIntValue=0,n.lastStringValue="",n.lastAssertionIsQuantifiable=!1,n.numCapturingParens=0,n.maxBackReference=0,n.groupNames=Object.create(null),n.backReferenceNames.length=0,n.branchID=null,this.regexp_disjunction(n),n.pos!==n.source.length&&(n.eat(41)&&n.raise("Unmatched ')'"),(n.eat(93)||n.eat(125))&&n.raise("Lone quantifier brackets")),n.maxBackReference>n.numCapturingParens&&n.raise("Invalid escape");for(var e=0,t=n.backReferenceNames;e<t.length;e+=1){var r=t[e];n.groupNames[r]||n.raise("Invalid named capture referenced")}};ye.regexp_disjunction=function(n){var e=this.options.ecmaVersion>=16;for(e&&(n.branchID=new zl(n.branchID,null)),this.regexp_alternative(n);n.eat(124);)e&&(n.branchID=n.branchID.sibling()),this.regexp_alternative(n);e&&(n.branchID=n.branchID.parent),this.regexp_eatQuantifier(n,!0)&&n.raise("Nothing to repeat"),n.eat(123)&&n.raise("Lone quantifier brackets")};ye.regexp_alternative=function(n){for(;n.pos<n.source.length&&this.regexp_eatTerm(n););};ye.regexp_eatTerm=function(n){return this.regexp_eatAssertion(n)?(n.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(n)&&n.switchU&&n.raise("Invalid quantifier"),!0):(n.switchU?this.regexp_eatAtom(n):this.regexp_eatExtendedAtom(n))?(this.regexp_eatQuantifier(n),!0):!1};ye.regexp_eatAssertion=function(n){var e=n.pos;if(n.lastAssertionIsQuantifiable=!1,n.eat(94)||n.eat(36))return!0;if(n.eat(92)){if(n.eat(66)||n.eat(98))return!0;n.pos=e}if(n.eat(40)&&n.eat(63)){var t=!1;if(this.options.ecmaVersion>=9&&(t=n.eat(60)),n.eat(61)||n.eat(33))return this.regexp_disjunction(n),n.eat(41)||n.raise("Unterminated group"),n.lastAssertionIsQuantifiable=!t,!0}return n.pos=e,!1};ye.regexp_eatQuantifier=function(n,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(n,e)?(n.eat(63),!0):!1};ye.regexp_eatQuantifierPrefix=function(n,e){return n.eat(42)||n.eat(43)||n.eat(63)||this.regexp_eatBracedQuantifier(n,e)};ye.regexp_eatBracedQuantifier=function(n,e){var t=n.pos;if(n.eat(123)){var r=0,a=-1;if(this.regexp_eatDecimalDigits(n)&&(r=n.lastIntValue,n.eat(44)&&this.regexp_eatDecimalDigits(n)&&(a=n.lastIntValue),n.eat(125)))return a!==-1&&a<r&&!e&&n.raise("numbers out of order in {} quantifier"),!0;n.switchU&&!e&&n.raise("Incomplete quantifier"),n.pos=t}return!1};ye.regexp_eatAtom=function(n){return this.regexp_eatPatternCharacters(n)||n.eat(46)||this.regexp_eatReverseSolidusAtomEscape(n)||this.regexp_eatCharacterClass(n)||this.regexp_eatUncapturingGroup(n)||this.regexp_eatCapturingGroup(n)};ye.regexp_eatReverseSolidusAtomEscape=function(n){var e=n.pos;if(n.eat(92)){if(this.regexp_eatAtomEscape(n))return!0;n.pos=e}return!1};ye.regexp_eatUncapturingGroup=function(n){var e=n.pos;if(n.eat(40)){if(n.eat(63)){if(this.options.ecmaVersion>=16){var t=this.regexp_eatModifiers(n),r=n.eat(45);if(t||r){for(var a=0;a<t.length;a++){var i=t.charAt(a);t.indexOf(i,a+1)>-1&&n.raise("Duplicate regular expression modifiers")}if(r){var s=this.regexp_eatModifiers(n);!t&&!s&&n.current()===58&&n.raise("Invalid regular expression modifiers");for(var o=0;o<s.length;o++){var l=s.charAt(o);(s.indexOf(l,o+1)>-1||t.indexOf(l)>-1)&&n.raise("Duplicate regular expression modifiers")}}}}if(n.eat(58)){if(this.regexp_disjunction(n),n.eat(41))return!0;n.raise("Unterminated group")}}n.pos=e}return!1};ye.regexp_eatCapturingGroup=function(n){if(n.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(n):n.current()===63&&n.raise("Invalid group"),this.regexp_disjunction(n),n.eat(41))return n.numCapturingParens+=1,!0;n.raise("Unterminated group")}return!1};ye.regexp_eatModifiers=function(n){for(var e="",t=0;(t=n.current())!==-1&&gx(t);)e+=Hr(t),n.advance();return e};function gx(n){return n===105||n===109||n===115}ye.regexp_eatExtendedAtom=function(n){return n.eat(46)||this.regexp_eatReverseSolidusAtomEscape(n)||this.regexp_eatCharacterClass(n)||this.regexp_eatUncapturingGroup(n)||this.regexp_eatCapturingGroup(n)||this.regexp_eatInvalidBracedQuantifier(n)||this.regexp_eatExtendedPatternCharacter(n)};ye.regexp_eatInvalidBracedQuantifier=function(n){return this.regexp_eatBracedQuantifier(n,!0)&&n.raise("Nothing to repeat"),!1};ye.regexp_eatSyntaxCharacter=function(n){var e=n.current();return v1(e)?(n.lastIntValue=e,n.advance(),!0):!1};function v1(n){return n===36||n>=40&&n<=43||n===46||n===63||n>=91&&n<=94||n>=123&&n<=125}ye.regexp_eatPatternCharacters=function(n){for(var e=n.pos,t=0;(t=n.current())!==-1&&!v1(t);)n.advance();return n.pos!==e};ye.regexp_eatExtendedPatternCharacter=function(n){var e=n.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(n.advance(),!0):!1};ye.regexp_groupSpecifier=function(n){if(n.eat(63)){this.regexp_eatGroupName(n)||n.raise("Invalid group");var e=this.options.ecmaVersion>=16,t=n.groupNames[n.lastStringValue];if(t)if(e)for(var r=0,a=t;r<a.length;r+=1){var i=a[r];i.separatedFrom(n.branchID)||n.raise("Duplicate capture group name")}else n.raise("Duplicate capture group name");e?(t||(n.groupNames[n.lastStringValue]=[])).push(n.branchID):n.groupNames[n.lastStringValue]=!0}};ye.regexp_eatGroupName=function(n){if(n.lastStringValue="",n.eat(60)){if(this.regexp_eatRegExpIdentifierName(n)&&n.eat(62))return!0;n.raise("Invalid capture group name")}return!1};ye.regexp_eatRegExpIdentifierName=function(n){if(n.lastStringValue="",this.regexp_eatRegExpIdentifierStart(n)){for(n.lastStringValue+=Hr(n.lastIntValue);this.regexp_eatRegExpIdentifierPart(n);)n.lastStringValue+=Hr(n.lastIntValue);return!0}return!1};ye.regexp_eatRegExpIdentifierStart=function(n){var e=n.pos,t=this.options.ecmaVersion>=11,r=n.current(t);return n.advance(t),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(n,t)&&(r=n.lastIntValue),bx(r)?(n.lastIntValue=r,!0):(n.pos=e,!1)};function bx(n){return Yr(n,!0)||n===36||n===95}ye.regexp_eatRegExpIdentifierPart=function(n){var e=n.pos,t=this.options.ecmaVersion>=11,r=n.current(t);return n.advance(t),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(n,t)&&(r=n.lastIntValue),yx(r)?(n.lastIntValue=r,!0):(n.pos=e,!1)};function yx(n){return Si(n,!0)||n===36||n===95||n===8204||n===8205}ye.regexp_eatAtomEscape=function(n){return this.regexp_eatBackReference(n)||this.regexp_eatCharacterClassEscape(n)||this.regexp_eatCharacterEscape(n)||n.switchN&&this.regexp_eatKGroupName(n)?!0:(n.switchU&&(n.current()===99&&n.raise("Invalid unicode escape"),n.raise("Invalid escape")),!1)};ye.regexp_eatBackReference=function(n){var e=n.pos;if(this.regexp_eatDecimalEscape(n)){var t=n.lastIntValue;if(n.switchU)return t>n.maxBackReference&&(n.maxBackReference=t),!0;if(t<=n.numCapturingParens)return!0;n.pos=e}return!1};ye.regexp_eatKGroupName=function(n){if(n.eat(107)){if(this.regexp_eatGroupName(n))return n.backReferenceNames.push(n.lastStringValue),!0;n.raise("Invalid named reference")}return!1};ye.regexp_eatCharacterEscape=function(n){return this.regexp_eatControlEscape(n)||this.regexp_eatCControlLetter(n)||this.regexp_eatZero(n)||this.regexp_eatHexEscapeSequence(n)||this.regexp_eatRegExpUnicodeEscapeSequence(n,!1)||!n.switchU&&this.regexp_eatLegacyOctalEscapeSequence(n)||this.regexp_eatIdentityEscape(n)};ye.regexp_eatCControlLetter=function(n){var e=n.pos;if(n.eat(99)){if(this.regexp_eatControlLetter(n))return!0;n.pos=e}return!1};ye.regexp_eatZero=function(n){return n.current()===48&&!Xu(n.lookahead())?(n.lastIntValue=0,n.advance(),!0):!1};ye.regexp_eatControlEscape=function(n){var e=n.current();return e===116?(n.lastIntValue=9,n.advance(),!0):e===110?(n.lastIntValue=10,n.advance(),!0):e===118?(n.lastIntValue=11,n.advance(),!0):e===102?(n.lastIntValue=12,n.advance(),!0):e===114?(n.lastIntValue=13,n.advance(),!0):!1};ye.regexp_eatControlLetter=function(n){var e=n.current();return x1(e)?(n.lastIntValue=e%32,n.advance(),!0):!1};function x1(n){return n>=65&&n<=90||n>=97&&n<=122}ye.regexp_eatRegExpUnicodeEscapeSequence=function(n,e){e===void 0&&(e=!1);var t=n.pos,r=e||n.switchU;if(n.eat(117)){if(this.regexp_eatFixedHexDigits(n,4)){var a=n.lastIntValue;if(r&&a>=55296&&a<=56319){var i=n.pos;if(n.eat(92)&&n.eat(117)&&this.regexp_eatFixedHexDigits(n,4)){var s=n.lastIntValue;if(s>=56320&&s<=57343)return n.lastIntValue=(a-55296)*1024+(s-56320)+65536,!0}n.pos=i,n.lastIntValue=a}return!0}if(r&&n.eat(123)&&this.regexp_eatHexDigits(n)&&n.eat(125)&&Ox(n.lastIntValue))return!0;r&&n.raise("Invalid unicode escape"),n.pos=t}return!1};function Ox(n){return n>=0&&n<=1114111}ye.regexp_eatIdentityEscape=function(n){if(n.switchU)return this.regexp_eatSyntaxCharacter(n)?!0:n.eat(47)?(n.lastIntValue=47,!0):!1;var e=n.current();return e!==99&&(!n.switchN||e!==107)?(n.lastIntValue=e,n.advance(),!0):!1};ye.regexp_eatDecimalEscape=function(n){n.lastIntValue=0;var e=n.current();if(e>=49&&e<=57){do n.lastIntValue=10*n.lastIntValue+(e-48),n.advance();while((e=n.current())>=48&&e<=57);return!0}return!1};var P1=0,Kr=1,Wn=2;ye.regexp_eatCharacterClassEscape=function(n){var e=n.current();if(kx(e))return n.lastIntValue=-1,n.advance(),Kr;var t=!1;if(n.switchU&&this.options.ecmaVersion>=9&&((t=e===80)||e===112)){n.lastIntValue=-1,n.advance();var r;if(n.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(n))&&n.eat(125))return t&&r===Wn&&n.raise("Invalid property name"),r;n.raise("Invalid property name")}return P1};function kx(n){return n===100||n===68||n===115||n===83||n===119||n===87}ye.regexp_eatUnicodePropertyValueExpression=function(n){var e=n.pos;if(this.regexp_eatUnicodePropertyName(n)&&n.eat(61)){var t=n.lastStringValue;if(this.regexp_eatUnicodePropertyValue(n)){var r=n.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(n,t,r),Kr}}if(n.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(n)){var a=n.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(n,a)}return P1};ye.regexp_validateUnicodePropertyNameAndValue=function(n,e,t){Ni(n.unicodeProperties.nonBinary,e)||n.raise("Invalid property name"),n.unicodeProperties.nonBinary[e].test(t)||n.raise("Invalid property value")};ye.regexp_validateUnicodePropertyNameOrValue=function(n,e){if(n.unicodeProperties.binary.test(e))return Kr;if(n.switchV&&n.unicodeProperties.binaryOfStrings.test(e))return Wn;n.raise("Invalid property name")};ye.regexp_eatUnicodePropertyName=function(n){var e=0;for(n.lastStringValue="";w1(e=n.current());)n.lastStringValue+=Hr(e),n.advance();return n.lastStringValue!==""};function w1(n){return x1(n)||n===95}ye.regexp_eatUnicodePropertyValue=function(n){var e=0;for(n.lastStringValue="";vx(e=n.current());)n.lastStringValue+=Hr(e),n.advance();return n.lastStringValue!==""};function vx(n){return w1(n)||Xu(n)}ye.regexp_eatLoneUnicodePropertyNameOrValue=function(n){return this.regexp_eatUnicodePropertyValue(n)};ye.regexp_eatCharacterClass=function(n){if(n.eat(91)){var e=n.eat(94),t=this.regexp_classContents(n);return n.eat(93)||n.raise("Unterminated character class"),e&&t===Wn&&n.raise("Negated character class may contain strings"),!0}return!1};ye.regexp_classContents=function(n){return n.current()===93?Kr:n.switchV?this.regexp_classSetExpression(n):(this.regexp_nonEmptyClassRanges(n),Kr)};ye.regexp_nonEmptyClassRanges=function(n){for(;this.regexp_eatClassAtom(n);){var e=n.lastIntValue;if(n.eat(45)&&this.regexp_eatClassAtom(n)){var t=n.lastIntValue;n.switchU&&(e===-1||t===-1)&&n.raise("Invalid character class"),e!==-1&&t!==-1&&e>t&&n.raise("Range out of order in character class")}}};ye.regexp_eatClassAtom=function(n){var e=n.pos;if(n.eat(92)){if(this.regexp_eatClassEscape(n))return!0;if(n.switchU){var t=n.current();(t===99||S1(t))&&n.raise("Invalid class escape"),n.raise("Invalid escape")}n.pos=e}var r=n.current();return r!==93?(n.lastIntValue=r,n.advance(),!0):!1};ye.regexp_eatClassEscape=function(n){var e=n.pos;if(n.eat(98))return n.lastIntValue=8,!0;if(n.switchU&&n.eat(45))return n.lastIntValue=45,!0;if(!n.switchU&&n.eat(99)){if(this.regexp_eatClassControlLetter(n))return!0;n.pos=e}return this.regexp_eatCharacterClassEscape(n)||this.regexp_eatCharacterEscape(n)};ye.regexp_classSetExpression=function(n){var e=Kr,t;if(!this.regexp_eatClassSetRange(n))if(t=this.regexp_eatClassSetOperand(n)){t===Wn&&(e=Wn);for(var r=n.pos;n.eatChars([38,38]);){if(n.current()!==38&&(t=this.regexp_eatClassSetOperand(n))){t!==Wn&&(e=Kr);continue}n.raise("Invalid character in character class")}if(r!==n.pos)return e;for(;n.eatChars([45,45]);)this.regexp_eatClassSetOperand(n)||n.raise("Invalid character in character class");if(r!==n.pos)return e}else n.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(n)){if(t=this.regexp_eatClassSetOperand(n),!t)return e;t===Wn&&(e=Wn)}};ye.regexp_eatClassSetRange=function(n){var e=n.pos;if(this.regexp_eatClassSetCharacter(n)){var t=n.lastIntValue;if(n.eat(45)&&this.regexp_eatClassSetCharacter(n)){var r=n.lastIntValue;return t!==-1&&r!==-1&&t>r&&n.raise("Range out of order in character class"),!0}n.pos=e}return!1};ye.regexp_eatClassSetOperand=function(n){return this.regexp_eatClassSetCharacter(n)?Kr:this.regexp_eatClassStringDisjunction(n)||this.regexp_eatNestedClass(n)};ye.regexp_eatNestedClass=function(n){var e=n.pos;if(n.eat(91)){var t=n.eat(94),r=this.regexp_classContents(n);if(n.eat(93))return t&&r===Wn&&n.raise("Negated character class may contain strings"),r;n.pos=e}if(n.eat(92)){var a=this.regexp_eatCharacterClassEscape(n);if(a)return a;n.pos=e}return null};ye.regexp_eatClassStringDisjunction=function(n){var e=n.pos;if(n.eatChars([92,113])){if(n.eat(123)){var t=this.regexp_classStringDisjunctionContents(n);if(n.eat(125))return t}else n.raise("Invalid escape");n.pos=e}return null};ye.regexp_classStringDisjunctionContents=function(n){for(var e=this.regexp_classString(n);n.eat(124);)this.regexp_classString(n)===Wn&&(e=Wn);return e};ye.regexp_classString=function(n){for(var e=0;this.regexp_eatClassSetCharacter(n);)e++;return e===1?Kr:Wn};ye.regexp_eatClassSetCharacter=function(n){var e=n.pos;if(n.eat(92))return this.regexp_eatCharacterEscape(n)||this.regexp_eatClassSetReservedPunctuator(n)?!0:n.eat(98)?(n.lastIntValue=8,!0):(n.pos=e,!1);var t=n.current();return t<0||t===n.lookahead()&&xx(t)||Px(t)?!1:(n.advance(),n.lastIntValue=t,!0)};function xx(n){return n===33||n>=35&&n<=38||n>=42&&n<=44||n===46||n>=58&&n<=64||n===94||n===96||n===126}function Px(n){return n===40||n===41||n===45||n===47||n>=91&&n<=93||n>=123&&n<=125}ye.regexp_eatClassSetReservedPunctuator=function(n){var e=n.current();return wx(e)?(n.lastIntValue=e,n.advance(),!0):!1};function wx(n){return n===33||n===35||n===37||n===38||n===44||n===45||n>=58&&n<=62||n===64||n===96||n===126}ye.regexp_eatClassControlLetter=function(n){var e=n.current();return Xu(e)||e===95?(n.lastIntValue=e%32,n.advance(),!0):!1};ye.regexp_eatHexEscapeSequence=function(n){var e=n.pos;if(n.eat(120)){if(this.regexp_eatFixedHexDigits(n,2))return!0;n.switchU&&n.raise("Invalid escape"),n.pos=e}return!1};ye.regexp_eatDecimalDigits=function(n){var e=n.pos,t=0;for(n.lastIntValue=0;Xu(t=n.current());)n.lastIntValue=10*n.lastIntValue+(t-48),n.advance();return n.pos!==e};function Xu(n){return n>=48&&n<=57}ye.regexp_eatHexDigits=function(n){var e=n.pos,t=0;for(n.lastIntValue=0;C1(t=n.current());)n.lastIntValue=16*n.lastIntValue+A1(t),n.advance();return n.pos!==e};function C1(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}function A1(n){return n>=65&&n<=70?10+(n-65):n>=97&&n<=102?10+(n-97):n-48}ye.regexp_eatLegacyOctalEscapeSequence=function(n){if(this.regexp_eatOctalDigit(n)){var e=n.lastIntValue;if(this.regexp_eatOctalDigit(n)){var t=n.lastIntValue;e<=3&&this.regexp_eatOctalDigit(n)?n.lastIntValue=e*64+t*8+n.lastIntValue:n.lastIntValue=e*8+t}else n.lastIntValue=e;return!0}return!1};ye.regexp_eatOctalDigit=function(n){var e=n.current();return S1(e)?(n.lastIntValue=e-48,n.advance(),!0):(n.lastIntValue=0,!1)};function S1(n){return n>=48&&n<=55}ye.regexp_eatFixedHexDigits=function(n,e){var t=n.pos;n.lastIntValue=0;for(var r=0;r<e;++r){var a=n.current();if(!C1(a))return n.pos=t,!1;n.lastIntValue=16*n.lastIntValue+A1(a),n.advance()}return!0};var wh=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Zu(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Ge=It.prototype;Ge.next=function(n){!n&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new wh(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Ge.getToken=function(){return this.next(),new wh(this)};typeof Symbol<"u"&&(Ge[Symbol.iterator]=function(){var n=this;return{next:function(){var e=n.getToken();return{done:e.type===B.eof,value:e}}}});Ge.nextToken=function(){var n=this.curContext();if((!n||!n.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(B.eof);if(n.override)return n.override(this);this.readToken(this.fullCharCodeAtPos())};Ge.readToken=function(n){return Yr(n,this.options.ecmaVersion>=6)||n===92?this.readWord():this.getTokenFromCode(n)};Ge.fullCharCodeAtPos=function(){var n=this.input.charCodeAt(this.pos);if(n<=55295||n>=56320)return n;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?n:(n<<10)+e-56613888};Ge.skipBlockComment=function(){var n=this.options.onComment&&this.curPosition(),e=this.pos,t=this.input.indexOf("*/",this.pos+=2);if(t===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=t+2,this.options.locations)for(var r=void 0,a=e;(r=Y0(this.input,a,this.pos))>-1;)++this.curLine,a=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,t),e,this.pos,n,this.curPosition())};Ge.skipLineComment=function(n){for(var e=this.pos,t=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=n);this.pos<this.input.length&&!Ii(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+n,this.pos),e,this.pos,t,this.curPosition())};Ge.skipSpace=function(){e:for(;this.pos<this.input.length;){var n=this.input.charCodeAt(this.pos);switch(n){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(n>8&&n<14||n>=5760&&H0.test(String.fromCharCode(n)))++this.pos;else break e}}};Ge.finishToken=function(n,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var t=this.type;this.type=n,this.value=e,this.updateContext(t)};Ge.readToken_dot=function(){var n=this.input.charCodeAt(this.pos+1);if(n>=48&&n<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&n===46&&e===46?(this.pos+=3,this.finishToken(B.ellipsis)):(++this.pos,this.finishToken(B.dot))};Ge.readToken_slash=function(){var n=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):n===61?this.finishOp(B.assign,2):this.finishOp(B.slash,1)};Ge.readToken_mult_modulo_exp=function(n){var e=this.input.charCodeAt(this.pos+1),t=1,r=n===42?B.star:B.modulo;return this.options.ecmaVersion>=7&&n===42&&e===42&&(++t,r=B.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(B.assign,t+1):this.finishOp(r,t)};Ge.readToken_pipe_amp=function(n){var e=this.input.charCodeAt(this.pos+1);if(e===n){if(this.options.ecmaVersion>=12){var t=this.input.charCodeAt(this.pos+2);if(t===61)return this.finishOp(B.assign,3)}return this.finishOp(n===124?B.logicalOR:B.logicalAND,2)}return e===61?this.finishOp(B.assign,2):this.finishOp(n===124?B.bitwiseOR:B.bitwiseAND,1)};Ge.readToken_caret=function(){var n=this.input.charCodeAt(this.pos+1);return n===61?this.finishOp(B.assign,2):this.finishOp(B.bitwiseXOR,1)};Ge.readToken_plus_min=function(n){var e=this.input.charCodeAt(this.pos+1);return e===n?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Jn.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(B.incDec,2):e===61?this.finishOp(B.assign,2):this.finishOp(B.plusMin,1)};Ge.readToken_lt_gt=function(n){var e=this.input.charCodeAt(this.pos+1),t=1;return e===n?(t=n===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+t)===61?this.finishOp(B.assign,t+1):this.finishOp(B.bitShift,t)):e===33&&n===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(t=2),this.finishOp(B.relational,t))};Ge.readToken_eq_excl=function(n){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(B.equality,this.input.charCodeAt(this.pos+2)===61?3:2):n===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(B.arrow)):this.finishOp(n===61?B.eq:B.prefix,1)};Ge.readToken_question=function(){var n=this.options.ecmaVersion;if(n>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var t=this.input.charCodeAt(this.pos+2);if(t<48||t>57)return this.finishOp(B.questionDot,2)}if(e===63){if(n>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(B.assign,3)}return this.finishOp(B.coalesce,2)}}return this.finishOp(B.question,1)};Ge.readToken_numberSign=function(){var n=this.options.ecmaVersion,e=35;if(n>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Yr(e,!0)||e===92))return this.finishToken(B.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Hr(e)+"'")};Ge.getTokenFromCode=function(n){switch(n){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(B.parenL);case 41:return++this.pos,this.finishToken(B.parenR);case 59:return++this.pos,this.finishToken(B.semi);case 44:return++this.pos,this.finishToken(B.comma);case 91:return++this.pos,this.finishToken(B.bracketL);case 93:return++this.pos,this.finishToken(B.bracketR);case 123:return++this.pos,this.finishToken(B.braceL);case 125:return++this.pos,this.finishToken(B.braceR);case 58:return++this.pos,this.finishToken(B.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(B.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(n);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(n);case 124:case 38:return this.readToken_pipe_amp(n);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(n);case 60:case 62:return this.readToken_lt_gt(n);case 61:case 33:return this.readToken_eq_excl(n);case 63:return this.readToken_question();case 126:return this.finishOp(B.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Hr(n)+"'")};Ge.finishOp=function(n,e){var t=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(n,t)};Ge.readRegexp=function(){for(var n,e,t=this.pos;;){this.pos>=this.input.length&&this.raise(t,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Jn.test(r)&&this.raise(t,"Unterminated regular expression"),n)n=!1;else{if(r==="[")e=!0;else if(r==="]"&&e)e=!1;else if(r==="/"&&!e)break;n=r==="\\"}++this.pos}var a=this.input.slice(t,this.pos);++this.pos;var i=this.pos,s=this.readWord1();this.containsEsc&&this.unexpected(i);var o=this.regexpState||(this.regexpState=new Nr(this));o.reset(t,a,s),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var l=null;try{l=new RegExp(a,s)}catch{}return this.finishToken(B.regexp,{pattern:a,flags:s,value:l})};Ge.readInt=function(n,e,t){for(var r=this.options.ecmaVersion>=12&&e===void 0,a=t&&this.input.charCodeAt(this.pos)===48,i=this.pos,s=0,o=0,l=0,c=e??1/0;l<c;++l,++this.pos){var p=this.input.charCodeAt(this.pos),d=void 0;if(r&&p===95){a&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),o===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),l===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=p;continue}if(p>=97?d=p-97+10:p>=65?d=p-65+10:p>=48&&p<=57?d=p-48:d=1/0,d>=n)break;o=p,s=s*n+d}return r&&o===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===i||e!=null&&this.pos-i!==e?null:s};function Cx(n,e){return e?parseInt(n,8):parseFloat(n.replace(/_/g,""))}function M1(n){return typeof BigInt!="function"?null:BigInt(n.replace(/_/g,""))}Ge.readRadixNumber=function(n){var e=this.pos;this.pos+=2;var t=this.readInt(n);return t==null&&this.raise(this.start+2,"Expected number in radix "+n),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(t=M1(this.input.slice(e,this.pos)),++this.pos):Yr(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(B.num,t)};Ge.readNumber=function(n){var e=this.pos;!n&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var t=this.pos-e>=2&&this.input.charCodeAt(e)===48;t&&this.strict&&this.raise(e,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!t&&!n&&this.options.ecmaVersion>=11&&r===110){var a=M1(this.input.slice(e,this.pos));return++this.pos,Yr(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(B.num,a)}t&&/[89]/.test(this.input.slice(e,this.pos))&&(t=!1),r===46&&!t&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!t&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Yr(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var i=Cx(this.input.slice(e,this.pos),t);return this.finishToken(B.num,i)};Ge.readCodePoint=function(){var n=this.input.charCodeAt(this.pos),e;if(n===123){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e};Ge.readString=function(n){for(var e="",t=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===n)break;r===92?(e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!1),t=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Ii(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(t,this.pos++),this.finishToken(B.string,e)};var D1={};Ge.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(n){if(n===D1)this.readInvalidTemplateToken();else throw n}this.inTemplateElement=!1};Ge.invalidStringToken=function(n,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw D1;this.raise(n,e)};Ge.readTmplToken=function(){for(var n="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var t=this.input.charCodeAt(this.pos);if(t===96||t===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===B.template||this.type===B.invalidTemplate)?t===36?(this.pos+=2,this.finishToken(B.dollarBraceL)):(++this.pos,this.finishToken(B.backQuote)):(n+=this.input.slice(e,this.pos),this.finishToken(B.template,n));if(t===92)n+=this.input.slice(e,this.pos),n+=this.readEscapedChar(!0),e=this.pos;else if(Ii(t)){switch(n+=this.input.slice(e,this.pos),++this.pos,t){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:n+=`
`;break;default:n+=String.fromCharCode(t);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};Ge.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(B.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};Ge.readEscapedChar=function(n){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Hr(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),n){var t=this.pos-1;this.invalidStringToken(t,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],a=parseInt(r,8);return a>255&&(r=r.slice(0,-1),a=parseInt(r,8)),this.pos+=r.length-1,e=this.input.charCodeAt(this.pos),(r!=="0"||e===56||e===57)&&(this.strict||n)&&this.invalidStringToken(this.pos-1-r.length,n?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(a)}return Ii(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};Ge.readHexChar=function(n){var e=this.pos,t=this.readInt(16,n);return t===null&&this.invalidStringToken(e,"Bad character escape sequence"),t};Ge.readWord1=function(){this.containsEsc=!1;for(var n="",e=!0,t=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var a=this.fullCharCodeAtPos();if(Si(a,r))this.pos+=a<=65535?1:2;else if(a===92){this.containsEsc=!0,n+=this.input.slice(t,this.pos);var i=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var s=this.readCodePoint();(e?Yr:Si)(s,r)||this.invalidStringToken(i,"Invalid Unicode escape"),n+=Hr(s),t=this.pos}else break;e=!1}return n+this.input.slice(t,this.pos)};Ge.readWord=function(){var n=this.readWord1(),e=B.name;return this.keywords.test(n)&&(e=bh[n]),this.finishToken(e,n)};var Ax="8.14.0";It.acorn={Parser:It,version:Ax,defaultOptions:Up,Position:Is,SourceLocation:Zu,getLineInfo:J0,Node:qu,TokenType:Ke,tokTypes:B,keywordTypes:bh,TokContext:sr,tokContexts:xt,isIdentifierChar:Si,isIdentifierStart:Yr,Token:wh,isNewLine:Ii,lineBreak:Jn,lineBreakG:G2,nonASCIIwhitespace:H0};function Sx(n,e){return It.parse(n,e)}var Yc={},Hc={},Ud;function Mx(){return Ud||(Ud=1,function(n){(function e(t){var r,a,i,s,o,l;function c(Q){var Z={},V,Y;for(V in Q)Q.hasOwnProperty(V)&&(Y=Q[V],typeof Y=="object"&&Y!==null?Z[V]=c(Y):Z[V]=Y);return Z}function p(Q,Z){var V,Y,ue,se;for(Y=Q.length,ue=0;Y;)V=Y>>>1,se=ue+V,Z(Q[se])?Y=V:(ue=se+1,Y-=V+1);return ue}r={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},i={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},s={},o={},l={},a={Break:s,Skip:o,Remove:l};function d(Q,Z){this.parent=Q,this.key=Z}d.prototype.replace=function(Z){this.parent[this.key]=Z},d.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function f(Q,Z,V,Y){this.node=Q,this.path=Z,this.wrap=V,this.ref=Y}function y(){}y.prototype.path=function(){var Z,V,Y,ue,se,ce;function ae(ne,fe){if(Array.isArray(fe))for(Y=0,ue=fe.length;Y<ue;++Y)ne.push(fe[Y]);else ne.push(fe)}if(!this.__current.path)return null;for(se=[],Z=2,V=this.__leavelist.length;Z<V;++Z)ce=this.__leavelist[Z],ae(se,ce.path);return ae(se,this.__current.path),se},y.prototype.type=function(){var Q=this.current();return Q.type||this.__current.wrap},y.prototype.parents=function(){var Z,V,Y;for(Y=[],Z=1,V=this.__leavelist.length;Z<V;++Z)Y.push(this.__leavelist[Z].node);return Y},y.prototype.current=function(){return this.__current.node},y.prototype.__execute=function(Z,V){var Y,ue;return ue=void 0,Y=this.__current,this.__current=V,this.__state=null,Z&&(ue=Z.call(this,V.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=Y,ue},y.prototype.notify=function(Z){this.__state=Z},y.prototype.skip=function(){this.notify(o)},y.prototype.break=function(){this.notify(s)},y.prototype.remove=function(){this.notify(l)},y.prototype.__initialize=function(Q,Z){this.visitor=Z,this.root=Q,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,Z.fallback==="iteration"?this.__fallback=Object.keys:typeof Z.fallback=="function"&&(this.__fallback=Z.fallback),this.__keys=i,Z.keys&&(this.__keys=Object.assign(Object.create(this.__keys),Z.keys))};function P(Q){return Q==null?!1:typeof Q=="object"&&typeof Q.type=="string"}function w(Q,Z){return(Q===r.ObjectExpression||Q===r.ObjectPattern)&&Z==="properties"}function A(Q,Z){for(var V=Q.length-1;V>=0;--V)if(Q[V].node===Z)return!0;return!1}y.prototype.traverse=function(Z,V){var Y,ue,se,ce,ae,ne,fe,Ce,Re,Me,te,qe;for(this.__initialize(Z,V),qe={},Y=this.__worklist,ue=this.__leavelist,Y.push(new f(Z,null,null,null)),ue.push(new f(null,null,null,null));Y.length;){if(se=Y.pop(),se===qe){if(se=ue.pop(),ne=this.__execute(V.leave,se),this.__state===s||ne===s)return;continue}if(se.node){if(ne=this.__execute(V.enter,se),this.__state===s||ne===s)return;if(Y.push(qe),ue.push(se),this.__state===o||ne===o)continue;if(ce=se.node,ae=ce.type||se.wrap,Me=this.__keys[ae],!Me)if(this.__fallback)Me=this.__fallback(ce);else throw new Error("Unknown node type "+ae+".");for(Ce=Me.length;(Ce-=1)>=0;)if(fe=Me[Ce],te=ce[fe],!!te){if(Array.isArray(te)){for(Re=te.length;(Re-=1)>=0;)if(te[Re]&&!A(ue,te[Re])){if(w(ae,Me[Ce]))se=new f(te[Re],[fe,Re],"Property",null);else if(P(te[Re]))se=new f(te[Re],[fe,Re],null,null);else continue;Y.push(se)}}else if(P(te)){if(A(ue,te))continue;Y.push(new f(te,fe,null,null))}}}}},y.prototype.replace=function(Z,V){var Y,ue,se,ce,ae,ne,fe,Ce,Re,Me,te,qe,ot;function bt(le){var lt,Bt,Le,Xe;if(le.ref.remove()){for(Bt=le.ref.key,Xe=le.ref.parent,lt=Y.length;lt--;)if(Le=Y[lt],Le.ref&&Le.ref.parent===Xe){if(Le.ref.key<Bt)break;--Le.ref.key}}}for(this.__initialize(Z,V),te={},Y=this.__worklist,ue=this.__leavelist,qe={root:Z},ne=new f(Z,null,null,new d(qe,"root")),Y.push(ne),ue.push(ne);Y.length;){if(ne=Y.pop(),ne===te){if(ne=ue.pop(),ae=this.__execute(V.leave,ne),ae!==void 0&&ae!==s&&ae!==o&&ae!==l&&ne.ref.replace(ae),(this.__state===l||ae===l)&&bt(ne),this.__state===s||ae===s)return qe.root;continue}if(ae=this.__execute(V.enter,ne),ae!==void 0&&ae!==s&&ae!==o&&ae!==l&&(ne.ref.replace(ae),ne.node=ae),(this.__state===l||ae===l)&&(bt(ne),ne.node=null),this.__state===s||ae===s)return qe.root;if(se=ne.node,!!se&&(Y.push(te),ue.push(ne),!(this.__state===o||ae===o))){if(ce=se.type||ne.wrap,Re=this.__keys[ce],!Re)if(this.__fallback)Re=this.__fallback(se);else throw new Error("Unknown node type "+ce+".");for(fe=Re.length;(fe-=1)>=0;)if(ot=Re[fe],Me=se[ot],!!Me)if(Array.isArray(Me)){for(Ce=Me.length;(Ce-=1)>=0;)if(Me[Ce]){if(w(ce,Re[fe]))ne=new f(Me[Ce],[ot,Ce],"Property",new d(Me,Ce));else if(P(Me[Ce]))ne=new f(Me[Ce],[ot,Ce],null,new d(Me,Ce));else continue;Y.push(ne)}}else P(Me)&&Y.push(new f(Me,ot,null,new d(se,ot)))}}return qe.root};function T(Q,Z){var V=new y;return V.traverse(Q,Z)}function q(Q,Z){var V=new y;return V.replace(Q,Z)}function G(Q,Z){var V;return V=p(Z,function(ue){return ue.range[0]>Q.range[0]}),Q.extendedRange=[Q.range[0],Q.range[1]],V!==Z.length&&(Q.extendedRange[1]=Z[V].range[0]),V-=1,V>=0&&(Q.extendedRange[0]=Z[V].range[1]),Q}function I(Q,Z,V){var Y=[],ue,se,ce,ae;if(!Q.range)throw new Error("attachComments needs range information");if(!V.length){if(Z.length){for(ce=0,se=Z.length;ce<se;ce+=1)ue=c(Z[ce]),ue.extendedRange=[0,Q.range[0]],Y.push(ue);Q.leadingComments=Y}return Q}for(ce=0,se=Z.length;ce<se;ce+=1)Y.push(G(c(Z[ce]),V));return ae=0,T(Q,{enter:function(ne){for(var fe;ae<Y.length&&(fe=Y[ae],!(fe.extendedRange[1]>ne.range[0]));)fe.extendedRange[1]===ne.range[0]?(ne.leadingComments||(ne.leadingComments=[]),ne.leadingComments.push(fe),Y.splice(ae,1)):ae+=1;if(ae===Y.length)return a.Break;if(Y[ae].extendedRange[0]>ne.range[1])return a.Skip}}),ae=0,T(Q,{leave:function(ne){for(var fe;ae<Y.length&&(fe=Y[ae],!(ne.range[1]<fe.extendedRange[0]));)ne.range[1]===fe.extendedRange[0]?(ne.trailingComments||(ne.trailingComments=[]),ne.trailingComments.push(fe),Y.splice(ae,1)):ae+=1;if(ae===Y.length)return a.Break;if(Y[ae].extendedRange[0]>ne.range[1])return a.Skip}}),Q}return t.Syntax=r,t.traverse=T,t.replace=q,t.attachComments=I,t.VisitorKeys=i,t.VisitorOption=a,t.Controller=y,t.cloneEnvironment=function(){return e({})},t})(n)}(Hc)),Hc}var us={},Kc={exports:{}},Yd;function Dx(){return Yd||(Yd=1,function(){function n(s){if(s==null)return!1;switch(s.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function e(s){if(s==null)return!1;switch(s.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function t(s){if(s==null)return!1;switch(s.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function r(s){return t(s)||s!=null&&s.type==="FunctionDeclaration"}function a(s){switch(s.type){case"IfStatement":return s.alternate!=null?s.alternate:s.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return s.body}return null}function i(s){var o;if(s.type!=="IfStatement"||s.alternate==null)return!1;o=s.consequent;do{if(o.type==="IfStatement"&&o.alternate==null)return!0;o=a(o)}while(o);return!1}Kc.exports={isExpression:n,isStatement:t,isIterationStatement:e,isSourceElement:r,isProblematicIfStatement:i,trailingStatement:a}}()),Kc.exports}var Jc={exports:{}},Hd;function B1(){return Hd||(Hd=1,function(){var n,e,t,r,a,i;e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function s(A){return 48<=A&&A<=57}function o(A){return 48<=A&&A<=57||97<=A&&A<=102||65<=A&&A<=70}function l(A){return A>=48&&A<=55}t=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function c(A){return A===32||A===9||A===11||A===12||A===160||A>=5760&&t.indexOf(A)>=0}function p(A){return A===10||A===13||A===8232||A===8233}function d(A){if(A<=65535)return String.fromCharCode(A);var T=String.fromCharCode(Math.floor((A-65536)/1024)+55296),q=String.fromCharCode((A-65536)%1024+56320);return T+q}for(r=new Array(128),i=0;i<128;++i)r[i]=i>=97&&i<=122||i>=65&&i<=90||i===36||i===95;for(a=new Array(128),i=0;i<128;++i)a[i]=i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||i===36||i===95;function f(A){return A<128?r[A]:e.NonAsciiIdentifierStart.test(d(A))}function y(A){return A<128?a[A]:e.NonAsciiIdentifierPart.test(d(A))}function P(A){return A<128?r[A]:n.NonAsciiIdentifierStart.test(d(A))}function w(A){return A<128?a[A]:n.NonAsciiIdentifierPart.test(d(A))}Jc.exports={isDecimalDigit:s,isHexDigit:o,isOctalDigit:l,isWhiteSpace:c,isLineTerminator:p,isIdentifierStartES5:f,isIdentifierPartES5:y,isIdentifierStartES6:P,isIdentifierPartES6:w}}()),Jc.exports}var ep={exports:{}},Kd;function Bx(){return Kd||(Kd=1,function(){var n=B1();function e(f){switch(f){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function t(f,y){return!y&&f==="yield"?!1:r(f,y)}function r(f,y){if(y&&e(f))return!0;switch(f.length){case 2:return f==="if"||f==="in"||f==="do";case 3:return f==="var"||f==="for"||f==="new"||f==="try";case 4:return f==="this"||f==="else"||f==="case"||f==="void"||f==="with"||f==="enum";case 5:return f==="while"||f==="break"||f==="catch"||f==="throw"||f==="const"||f==="yield"||f==="class"||f==="super";case 6:return f==="return"||f==="typeof"||f==="delete"||f==="switch"||f==="export"||f==="import";case 7:return f==="default"||f==="finally"||f==="extends";case 8:return f==="function"||f==="continue"||f==="debugger";case 10:return f==="instanceof";default:return!1}}function a(f,y){return f==="null"||f==="true"||f==="false"||t(f,y)}function i(f,y){return f==="null"||f==="true"||f==="false"||r(f,y)}function s(f){return f==="eval"||f==="arguments"}function o(f){var y,P,w;if(f.length===0||(w=f.charCodeAt(0),!n.isIdentifierStartES5(w)))return!1;for(y=1,P=f.length;y<P;++y)if(w=f.charCodeAt(y),!n.isIdentifierPartES5(w))return!1;return!0}function l(f,y){return(f-55296)*1024+(y-56320)+65536}function c(f){var y,P,w,A,T;if(f.length===0)return!1;for(T=n.isIdentifierStartES6,y=0,P=f.length;y<P;++y){if(w=f.charCodeAt(y),55296<=w&&w<=56319){if(++y,y>=P||(A=f.charCodeAt(y),!(56320<=A&&A<=57343)))return!1;w=l(w,A)}if(!T(w))return!1;T=n.isIdentifierPartES6}return!0}function p(f,y){return o(f)&&!a(f,y)}function d(f,y){return c(f)&&!i(f,y)}ep.exports={isKeywordES5:t,isKeywordES6:r,isReservedWordES5:a,isReservedWordES6:i,isRestrictedWord:s,isIdentifierNameES5:o,isIdentifierNameES6:c,isIdentifierES5:p,isIdentifierES6:d}}()),ep.exports}var Jd;function Ex(){return Jd||(Jd=1,function(){us.ast=Dx(),us.code=B1(),us.keyword=Bx()}()),us}var cs={},tp={},Ho={},Ko={},ef;function Fx(){if(ef)return Ko;ef=1;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Ko.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},Ko.decode=function(e){var t=65,r=90,a=97,i=122,s=48,o=57,l=43,c=47,p=26,d=52;return t<=e&&e<=r?e-t:a<=e&&e<=i?e-a+p:s<=e&&e<=o?e-s+d:e==l?62:e==c?63:-1},Ko}var tf;function E1(){if(tf)return Ho;tf=1;var n=Fx(),e=5,t=1<<e,r=t-1,a=t;function i(o){return o<0?(-o<<1)+1:(o<<1)+0}function s(o){var l=(o&1)===1,c=o>>1;return l?-c:c}return Ho.encode=function(l){var c="",p,d=i(l);do p=d&r,d>>>=e,d>0&&(p|=a),c+=n.encode(p);while(d>0);return c},Ho.decode=function(l,c,p){var d=l.length,f=0,y=0,P,w;do{if(c>=d)throw new Error("Expected more digits in base 64 VLQ value.");if(w=n.decode(l.charCodeAt(c++)),w===-1)throw new Error("Invalid base64 digit: "+l.charAt(c-1));P=!!(w&a),w&=r,f=f+(w<<y),y+=e}while(P);p.value=s(f),p.rest=c},Ho}var np={},nf;function po(){return nf||(nf=1,function(n){function e(I,Q,Z){if(Q in I)return I[Q];if(arguments.length===3)return Z;throw new Error('"'+Q+'" is a required argument.')}n.getArg=e;var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function a(I){var Q=I.match(t);return Q?{scheme:Q[1],auth:Q[2],host:Q[3],port:Q[4],path:Q[5]}:null}n.urlParse=a;function i(I){var Q="";return I.scheme&&(Q+=I.scheme+":"),Q+="//",I.auth&&(Q+=I.auth+"@"),I.host&&(Q+=I.host),I.port&&(Q+=":"+I.port),I.path&&(Q+=I.path),Q}n.urlGenerate=i;function s(I){var Q=I,Z=a(I);if(Z){if(!Z.path)return I;Q=Z.path}for(var V=n.isAbsolute(Q),Y=Q.split(/\/+/),ue,se=0,ce=Y.length-1;ce>=0;ce--)ue=Y[ce],ue==="."?Y.splice(ce,1):ue===".."?se++:se>0&&(ue===""?(Y.splice(ce+1,se),se=0):(Y.splice(ce,2),se--));return Q=Y.join("/"),Q===""&&(Q=V?"/":"."),Z?(Z.path=Q,i(Z)):Q}n.normalize=s;function o(I,Q){I===""&&(I="."),Q===""&&(Q=".");var Z=a(Q),V=a(I);if(V&&(I=V.path||"/"),Z&&!Z.scheme)return V&&(Z.scheme=V.scheme),i(Z);if(Z||Q.match(r))return Q;if(V&&!V.host&&!V.path)return V.host=Q,i(V);var Y=Q.charAt(0)==="/"?Q:s(I.replace(/\/+$/,"")+"/"+Q);return V?(V.path=Y,i(V)):Y}n.join=o,n.isAbsolute=function(I){return I.charAt(0)==="/"||t.test(I)};function l(I,Q){I===""&&(I="."),I=I.replace(/\/$/,"");for(var Z=0;Q.indexOf(I+"/")!==0;){var V=I.lastIndexOf("/");if(V<0||(I=I.slice(0,V),I.match(/^([^\/]+:\/)?\/*$/)))return Q;++Z}return Array(Z+1).join("../")+Q.substr(I.length+1)}n.relative=l;var c=function(){var I=Object.create(null);return!("__proto__"in I)}();function p(I){return I}function d(I){return y(I)?"$"+I:I}n.toSetString=c?p:d;function f(I){return y(I)?I.slice(1):I}n.fromSetString=c?p:f;function y(I){if(!I)return!1;var Q=I.length;if(Q<9||I.charCodeAt(Q-1)!==95||I.charCodeAt(Q-2)!==95||I.charCodeAt(Q-3)!==111||I.charCodeAt(Q-4)!==116||I.charCodeAt(Q-5)!==111||I.charCodeAt(Q-6)!==114||I.charCodeAt(Q-7)!==112||I.charCodeAt(Q-8)!==95||I.charCodeAt(Q-9)!==95)return!1;for(var Z=Q-10;Z>=0;Z--)if(I.charCodeAt(Z)!==36)return!1;return!0}function P(I,Q,Z){var V=A(I.source,Q.source);return V!==0||(V=I.originalLine-Q.originalLine,V!==0)||(V=I.originalColumn-Q.originalColumn,V!==0||Z)||(V=I.generatedColumn-Q.generatedColumn,V!==0)||(V=I.generatedLine-Q.generatedLine,V!==0)?V:A(I.name,Q.name)}n.compareByOriginalPositions=P;function w(I,Q,Z){var V=I.generatedLine-Q.generatedLine;return V!==0||(V=I.generatedColumn-Q.generatedColumn,V!==0||Z)||(V=A(I.source,Q.source),V!==0)||(V=I.originalLine-Q.originalLine,V!==0)||(V=I.originalColumn-Q.originalColumn,V!==0)?V:A(I.name,Q.name)}n.compareByGeneratedPositionsDeflated=w;function A(I,Q){return I===Q?0:I===null?1:Q===null?-1:I>Q?1:-1}function T(I,Q){var Z=I.generatedLine-Q.generatedLine;return Z!==0||(Z=I.generatedColumn-Q.generatedColumn,Z!==0)||(Z=A(I.source,Q.source),Z!==0)||(Z=I.originalLine-Q.originalLine,Z!==0)||(Z=I.originalColumn-Q.originalColumn,Z!==0)?Z:A(I.name,Q.name)}n.compareByGeneratedPositionsInflated=T;function q(I){return JSON.parse(I.replace(/^\)]}'[^\n]*\n/,""))}n.parseSourceMapInput=q;function G(I,Q,Z){if(Q=Q||"",I&&(I[I.length-1]!=="/"&&Q[0]!=="/"&&(I+="/"),Q=I+Q),Z){var V=a(Z);if(!V)throw new Error("sourceMapURL could not be parsed");if(V.path){var Y=V.path.lastIndexOf("/");Y>=0&&(V.path=V.path.substring(0,Y+1))}Q=o(i(V),Q)}return s(Q)}n.computeSourceURL=G}(np)),np}var rp={},rf;function F1(){if(rf)return rp;rf=1;var n=po(),e=Object.prototype.hasOwnProperty,t=typeof Map<"u";function r(){this._array=[],this._set=t?new Map:Object.create(null)}return r.fromArray=function(i,s){for(var o=new r,l=0,c=i.length;l<c;l++)o.add(i[l],s);return o},r.prototype.size=function(){return t?this._set.size:Object.getOwnPropertyNames(this._set).length},r.prototype.add=function(i,s){var o=t?i:n.toSetString(i),l=t?this.has(i):e.call(this._set,o),c=this._array.length;(!l||s)&&this._array.push(i),l||(t?this._set.set(i,c):this._set[o]=c)},r.prototype.has=function(i){if(t)return this._set.has(i);var s=n.toSetString(i);return e.call(this._set,s)},r.prototype.indexOf=function(i){if(t){var s=this._set.get(i);if(s>=0)return s}else{var o=n.toSetString(i);if(e.call(this._set,o))return this._set[o]}throw new Error('"'+i+'" is not in the set.')},r.prototype.at=function(i){if(i>=0&&i<this._array.length)return this._array[i];throw new Error("No element indexed by "+i)},r.prototype.toArray=function(){return this._array.slice()},rp.ArraySet=r,rp}var ap={},af;function $x(){if(af)return ap;af=1;var n=po();function e(r,a){var i=r.generatedLine,s=a.generatedLine,o=r.generatedColumn,l=a.generatedColumn;return s>i||s==i&&l>=o||n.compareByGeneratedPositionsInflated(r,a)<=0}function t(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return t.prototype.unsortedForEach=function(a,i){this._array.forEach(a,i)},t.prototype.add=function(a){e(this._last,a)?(this._last=a,this._array.push(a)):(this._sorted=!1,this._array.push(a))},t.prototype.toArray=function(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},ap.MappingList=t,ap}var sf;function $1(){if(sf)return tp;sf=1;var n=E1(),e=po(),t=F1().ArraySet,r=$x().MappingList;function a(i){i||(i={}),this._file=e.getArg(i,"file",null),this._sourceRoot=e.getArg(i,"sourceRoot",null),this._skipValidation=e.getArg(i,"skipValidation",!1),this._sources=new t,this._names=new t,this._mappings=new r,this._sourcesContents=null}return a.prototype._version=3,a.fromSourceMap=function(s){var o=s.sourceRoot,l=new a({file:s.file,sourceRoot:o});return s.eachMapping(function(c){var p={generated:{line:c.generatedLine,column:c.generatedColumn}};c.source!=null&&(p.source=c.source,o!=null&&(p.source=e.relative(o,p.source)),p.original={line:c.originalLine,column:c.originalColumn},c.name!=null&&(p.name=c.name)),l.addMapping(p)}),s.sources.forEach(function(c){var p=c;o!==null&&(p=e.relative(o,c)),l._sources.has(p)||l._sources.add(p);var d=s.sourceContentFor(c);d!=null&&l.setSourceContent(c,d)}),l},a.prototype.addMapping=function(s){var o=e.getArg(s,"generated"),l=e.getArg(s,"original",null),c=e.getArg(s,"source",null),p=e.getArg(s,"name",null);this._skipValidation||this._validateMapping(o,l,c,p),c!=null&&(c=String(c),this._sources.has(c)||this._sources.add(c)),p!=null&&(p=String(p),this._names.has(p)||this._names.add(p)),this._mappings.add({generatedLine:o.line,generatedColumn:o.column,originalLine:l!=null&&l.line,originalColumn:l!=null&&l.column,source:c,name:p})},a.prototype.setSourceContent=function(s,o){var l=s;this._sourceRoot!=null&&(l=e.relative(this._sourceRoot,l)),o!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[e.toSetString(l)]=o):this._sourcesContents&&(delete this._sourcesContents[e.toSetString(l)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(s,o,l){var c=o;if(o==null){if(s.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);c=s.file}var p=this._sourceRoot;p!=null&&(c=e.relative(p,c));var d=new t,f=new t;this._mappings.unsortedForEach(function(y){if(y.source===c&&y.originalLine!=null){var P=s.originalPositionFor({line:y.originalLine,column:y.originalColumn});P.source!=null&&(y.source=P.source,l!=null&&(y.source=e.join(l,y.source)),p!=null&&(y.source=e.relative(p,y.source)),y.originalLine=P.line,y.originalColumn=P.column,P.name!=null&&(y.name=P.name))}var w=y.source;w!=null&&!d.has(w)&&d.add(w);var A=y.name;A!=null&&!f.has(A)&&f.add(A)},this),this._sources=d,this._names=f,s.sources.forEach(function(y){var P=s.sourceContentFor(y);P!=null&&(l!=null&&(y=e.join(l,y)),p!=null&&(y=e.relative(p,y)),this.setSourceContent(y,P))},this)},a.prototype._validateMapping=function(s,o,l,c){if(o&&typeof o.line!="number"&&typeof o.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(s&&"line"in s&&"column"in s&&s.line>0&&s.column>=0&&!o&&!l&&!c)){if(s&&"line"in s&&"column"in s&&o&&"line"in o&&"column"in o&&s.line>0&&s.column>=0&&o.line>0&&o.column>=0&&l)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:s,source:l,original:o,name:c}))}},a.prototype._serializeMappings=function(){for(var s=0,o=1,l=0,c=0,p=0,d=0,f="",y,P,w,A,T=this._mappings.toArray(),q=0,G=T.length;q<G;q++){if(P=T[q],y="",P.generatedLine!==o)for(s=0;P.generatedLine!==o;)y+=";",o++;else if(q>0){if(!e.compareByGeneratedPositionsInflated(P,T[q-1]))continue;y+=","}y+=n.encode(P.generatedColumn-s),s=P.generatedColumn,P.source!=null&&(A=this._sources.indexOf(P.source),y+=n.encode(A-d),d=A,y+=n.encode(P.originalLine-1-c),c=P.originalLine-1,y+=n.encode(P.originalColumn-l),l=P.originalColumn,P.name!=null&&(w=this._names.indexOf(P.name),y+=n.encode(w-p),p=w)),f+=y}return f},a.prototype._generateSourcesContent=function(s,o){return s.map(function(l){if(!this._sourcesContents)return null;o!=null&&(l=e.relative(o,l));var c=e.toSetString(l);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},a.prototype.toJSON=function(){var s={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(s.file=this._file),this._sourceRoot!=null&&(s.sourceRoot=this._sourceRoot),this._sourcesContents&&(s.sourcesContent=this._generateSourcesContent(s.sources,s.sourceRoot)),s},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},tp.SourceMapGenerator=a,tp}var ps={},ip={},of;function Qx(){return of||(of=1,function(n){n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2;function e(t,r,a,i,s,o){var l=Math.floor((r-t)/2)+t,c=s(a,i[l],!0);return c===0?l:c>0?r-l>1?e(l,r,a,i,s,o):o==n.LEAST_UPPER_BOUND?r<i.length?r:-1:l:l-t>1?e(t,l,a,i,s,o):o==n.LEAST_UPPER_BOUND?l:t<0?-1:t}n.search=function(r,a,i,s){if(a.length===0)return-1;var o=e(-1,a.length,r,a,i,s||n.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&i(a[o],a[o-1],!0)===0;)--o;return o}}(ip)),ip}var sp={},lf;function _x(){if(lf)return sp;lf=1;function n(r,a,i){var s=r[a];r[a]=r[i],r[i]=s}function e(r,a){return Math.round(r+Math.random()*(a-r))}function t(r,a,i,s){if(i<s){var o=e(i,s),l=i-1;n(r,o,s);for(var c=r[s],p=i;p<s;p++)a(r[p],c)<=0&&(l+=1,n(r,l,p));n(r,l+1,p);var d=l+1;t(r,a,i,d-1),t(r,a,d+1,s)}}return sp.quickSort=function(r,a){t(r,a,0,r.length-1)},sp}var uf;function Tx(){if(uf)return ps;uf=1;var n=po(),e=Qx(),t=F1().ArraySet,r=E1(),a=_x().quickSort;function i(c,p){var d=c;return typeof c=="string"&&(d=n.parseSourceMapInput(c)),d.sections!=null?new l(d,p):new s(d,p)}i.fromSourceMap=function(c,p){return s.fromSourceMap(c,p)},i.prototype._version=3,i.prototype.__generatedMappings=null,Object.defineProperty(i.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),i.prototype.__originalMappings=null,Object.defineProperty(i.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),i.prototype._charIsMappingSeparator=function(p,d){var f=p.charAt(d);return f===";"||f===","},i.prototype._parseMappings=function(p,d){throw new Error("Subclasses must implement _parseMappings")},i.GENERATED_ORDER=1,i.ORIGINAL_ORDER=2,i.GREATEST_LOWER_BOUND=1,i.LEAST_UPPER_BOUND=2,i.prototype.eachMapping=function(p,d,f){var y=d||null,P=f||i.GENERATED_ORDER,w;switch(P){case i.GENERATED_ORDER:w=this._generatedMappings;break;case i.ORIGINAL_ORDER:w=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var A=this.sourceRoot;w.map(function(T){var q=T.source===null?null:this._sources.at(T.source);return q=n.computeSourceURL(A,q,this._sourceMapURL),{source:q,generatedLine:T.generatedLine,generatedColumn:T.generatedColumn,originalLine:T.originalLine,originalColumn:T.originalColumn,name:T.name===null?null:this._names.at(T.name)}},this).forEach(p,y)},i.prototype.allGeneratedPositionsFor=function(p){var d=n.getArg(p,"line"),f={source:n.getArg(p,"source"),originalLine:d,originalColumn:n.getArg(p,"column",0)};if(f.source=this._findSourceIndex(f.source),f.source<0)return[];var y=[],P=this._findMapping(f,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,e.LEAST_UPPER_BOUND);if(P>=0){var w=this._originalMappings[P];if(p.column===void 0)for(var A=w.originalLine;w&&w.originalLine===A;)y.push({line:n.getArg(w,"generatedLine",null),column:n.getArg(w,"generatedColumn",null),lastColumn:n.getArg(w,"lastGeneratedColumn",null)}),w=this._originalMappings[++P];else for(var T=w.originalColumn;w&&w.originalLine===d&&w.originalColumn==T;)y.push({line:n.getArg(w,"generatedLine",null),column:n.getArg(w,"generatedColumn",null),lastColumn:n.getArg(w,"lastGeneratedColumn",null)}),w=this._originalMappings[++P]}return y},ps.SourceMapConsumer=i;function s(c,p){var d=c;typeof c=="string"&&(d=n.parseSourceMapInput(c));var f=n.getArg(d,"version"),y=n.getArg(d,"sources"),P=n.getArg(d,"names",[]),w=n.getArg(d,"sourceRoot",null),A=n.getArg(d,"sourcesContent",null),T=n.getArg(d,"mappings"),q=n.getArg(d,"file",null);if(f!=this._version)throw new Error("Unsupported version: "+f);w&&(w=n.normalize(w)),y=y.map(String).map(n.normalize).map(function(G){return w&&n.isAbsolute(w)&&n.isAbsolute(G)?n.relative(w,G):G}),this._names=t.fromArray(P.map(String),!0),this._sources=t.fromArray(y,!0),this._absoluteSources=this._sources.toArray().map(function(G){return n.computeSourceURL(w,G,p)}),this.sourceRoot=w,this.sourcesContent=A,this._mappings=T,this._sourceMapURL=p,this.file=q}s.prototype=Object.create(i.prototype),s.prototype.consumer=i,s.prototype._findSourceIndex=function(c){var p=c;if(this.sourceRoot!=null&&(p=n.relative(this.sourceRoot,p)),this._sources.has(p))return this._sources.indexOf(p);var d;for(d=0;d<this._absoluteSources.length;++d)if(this._absoluteSources[d]==c)return d;return-1},s.fromSourceMap=function(p,d){var f=Object.create(s.prototype),y=f._names=t.fromArray(p._names.toArray(),!0),P=f._sources=t.fromArray(p._sources.toArray(),!0);f.sourceRoot=p._sourceRoot,f.sourcesContent=p._generateSourcesContent(f._sources.toArray(),f.sourceRoot),f.file=p._file,f._sourceMapURL=d,f._absoluteSources=f._sources.toArray().map(function(Z){return n.computeSourceURL(f.sourceRoot,Z,d)});for(var w=p._mappings.toArray().slice(),A=f.__generatedMappings=[],T=f.__originalMappings=[],q=0,G=w.length;q<G;q++){var I=w[q],Q=new o;Q.generatedLine=I.generatedLine,Q.generatedColumn=I.generatedColumn,I.source&&(Q.source=P.indexOf(I.source),Q.originalLine=I.originalLine,Q.originalColumn=I.originalColumn,I.name&&(Q.name=y.indexOf(I.name)),T.push(Q)),A.push(Q)}return a(f.__originalMappings,n.compareByOriginalPositions),f},s.prototype._version=3,Object.defineProperty(s.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function o(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}s.prototype._parseMappings=function(p,d){for(var f=1,y=0,P=0,w=0,A=0,T=0,q=p.length,G=0,I={},Q={},Z=[],V=[],Y,ue,se,ce,ae;G<q;)if(p.charAt(G)===";")f++,G++,y=0;else if(p.charAt(G)===",")G++;else{for(Y=new o,Y.generatedLine=f,ce=G;ce<q&&!this._charIsMappingSeparator(p,ce);ce++);if(ue=p.slice(G,ce),se=I[ue],se)G+=ue.length;else{for(se=[];G<ce;)r.decode(p,G,Q),ae=Q.value,G=Q.rest,se.push(ae);if(se.length===2)throw new Error("Found a source, but no line and column");if(se.length===3)throw new Error("Found a source and line, but no column");I[ue]=se}Y.generatedColumn=y+se[0],y=Y.generatedColumn,se.length>1&&(Y.source=A+se[1],A+=se[1],Y.originalLine=P+se[2],P=Y.originalLine,Y.originalLine+=1,Y.originalColumn=w+se[3],w=Y.originalColumn,se.length>4&&(Y.name=T+se[4],T+=se[4])),V.push(Y),typeof Y.originalLine=="number"&&Z.push(Y)}a(V,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=V,a(Z,n.compareByOriginalPositions),this.__originalMappings=Z},s.prototype._findMapping=function(p,d,f,y,P,w){if(p[f]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+p[f]);if(p[y]<0)throw new TypeError("Column must be greater than or equal to 0, got "+p[y]);return e.search(p,d,P,w)},s.prototype.computeColumnSpans=function(){for(var p=0;p<this._generatedMappings.length;++p){var d=this._generatedMappings[p];if(p+1<this._generatedMappings.length){var f=this._generatedMappings[p+1];if(d.generatedLine===f.generatedLine){d.lastGeneratedColumn=f.generatedColumn-1;continue}}d.lastGeneratedColumn=1/0}},s.prototype.originalPositionFor=function(p){var d={generatedLine:n.getArg(p,"line"),generatedColumn:n.getArg(p,"column")},f=this._findMapping(d,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(p,"bias",i.GREATEST_LOWER_BOUND));if(f>=0){var y=this._generatedMappings[f];if(y.generatedLine===d.generatedLine){var P=n.getArg(y,"source",null);P!==null&&(P=this._sources.at(P),P=n.computeSourceURL(this.sourceRoot,P,this._sourceMapURL));var w=n.getArg(y,"name",null);return w!==null&&(w=this._names.at(w)),{source:P,line:n.getArg(y,"originalLine",null),column:n.getArg(y,"originalColumn",null),name:w}}}return{source:null,line:null,column:null,name:null}},s.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(p){return p==null}):!1},s.prototype.sourceContentFor=function(p,d){if(!this.sourcesContent)return null;var f=this._findSourceIndex(p);if(f>=0)return this.sourcesContent[f];var y=p;this.sourceRoot!=null&&(y=n.relative(this.sourceRoot,y));var P;if(this.sourceRoot!=null&&(P=n.urlParse(this.sourceRoot))){var w=y.replace(/^file:\/\//,"");if(P.scheme=="file"&&this._sources.has(w))return this.sourcesContent[this._sources.indexOf(w)];if((!P.path||P.path=="/")&&this._sources.has("/"+y))return this.sourcesContent[this._sources.indexOf("/"+y)]}if(d)return null;throw new Error('"'+y+'" is not in the SourceMap.')},s.prototype.generatedPositionFor=function(p){var d=n.getArg(p,"source");if(d=this._findSourceIndex(d),d<0)return{line:null,column:null,lastColumn:null};var f={source:d,originalLine:n.getArg(p,"line"),originalColumn:n.getArg(p,"column")},y=this._findMapping(f,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(p,"bias",i.GREATEST_LOWER_BOUND));if(y>=0){var P=this._originalMappings[y];if(P.source===f.source)return{line:n.getArg(P,"generatedLine",null),column:n.getArg(P,"generatedColumn",null),lastColumn:n.getArg(P,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},ps.BasicSourceMapConsumer=s;function l(c,p){var d=c;typeof c=="string"&&(d=n.parseSourceMapInput(c));var f=n.getArg(d,"version"),y=n.getArg(d,"sections");if(f!=this._version)throw new Error("Unsupported version: "+f);this._sources=new t,this._names=new t;var P={line:-1,column:0};this._sections=y.map(function(w){if(w.url)throw new Error("Support for url field in sections not implemented.");var A=n.getArg(w,"offset"),T=n.getArg(A,"line"),q=n.getArg(A,"column");if(T<P.line||T===P.line&&q<P.column)throw new Error("Section offsets must be ordered and non-overlapping.");return P=A,{generatedOffset:{generatedLine:T+1,generatedColumn:q+1},consumer:new i(n.getArg(w,"map"),p)}})}return l.prototype=Object.create(i.prototype),l.prototype.constructor=i,l.prototype._version=3,Object.defineProperty(l.prototype,"sources",{get:function(){for(var c=[],p=0;p<this._sections.length;p++)for(var d=0;d<this._sections[p].consumer.sources.length;d++)c.push(this._sections[p].consumer.sources[d]);return c}}),l.prototype.originalPositionFor=function(p){var d={generatedLine:n.getArg(p,"line"),generatedColumn:n.getArg(p,"column")},f=e.search(d,this._sections,function(P,w){var A=P.generatedLine-w.generatedOffset.generatedLine;return A||P.generatedColumn-w.generatedOffset.generatedColumn}),y=this._sections[f];return y?y.consumer.originalPositionFor({line:d.generatedLine-(y.generatedOffset.generatedLine-1),column:d.generatedColumn-(y.generatedOffset.generatedLine===d.generatedLine?y.generatedOffset.generatedColumn-1:0),bias:p.bias}):{source:null,line:null,column:null,name:null}},l.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(p){return p.consumer.hasContentsOfAllSources()})},l.prototype.sourceContentFor=function(p,d){for(var f=0;f<this._sections.length;f++){var y=this._sections[f],P=y.consumer.sourceContentFor(p,!0);if(P)return P}if(d)return null;throw new Error('"'+p+'" is not in the SourceMap.')},l.prototype.generatedPositionFor=function(p){for(var d=0;d<this._sections.length;d++){var f=this._sections[d];if(f.consumer._findSourceIndex(n.getArg(p,"source"))!==-1){var y=f.consumer.generatedPositionFor(p);if(y){var P={line:y.line+(f.generatedOffset.generatedLine-1),column:y.column+(f.generatedOffset.generatedLine===y.line?f.generatedOffset.generatedColumn-1:0)};return P}}}return{line:null,column:null}},l.prototype._parseMappings=function(p,d){this.__generatedMappings=[],this.__originalMappings=[];for(var f=0;f<this._sections.length;f++)for(var y=this._sections[f],P=y.consumer._generatedMappings,w=0;w<P.length;w++){var A=P[w],T=y.consumer._sources.at(A.source);T=n.computeSourceURL(y.consumer.sourceRoot,T,this._sourceMapURL),this._sources.add(T),T=this._sources.indexOf(T);var q=null;A.name&&(q=y.consumer._names.at(A.name),this._names.add(q),q=this._names.indexOf(q));var G={source:T,generatedLine:A.generatedLine+(y.generatedOffset.generatedLine-1),generatedColumn:A.generatedColumn+(y.generatedOffset.generatedLine===A.generatedLine?y.generatedOffset.generatedColumn-1:0),originalLine:A.originalLine,originalColumn:A.originalColumn,name:q};this.__generatedMappings.push(G),typeof G.originalLine=="number"&&this.__originalMappings.push(G)}a(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),a(this.__originalMappings,n.compareByOriginalPositions)},ps.IndexedSourceMapConsumer=l,ps}var op={},cf;function Rx(){if(cf)return op;cf=1;var n=$1().SourceMapGenerator,e=po(),t=/(\r?\n)/,r=10,a="$$$isSourceNode$$$";function i(s,o,l,c,p){this.children=[],this.sourceContents={},this.line=s??null,this.column=o??null,this.source=l??null,this.name=p??null,this[a]=!0,c!=null&&this.add(c)}return i.fromStringWithSourceMap=function(o,l,c){var p=new i,d=o.split(t),f=0,y=function(){var q=I(),G=I()||"";return q+G;function I(){return f<d.length?d[f++]:void 0}},P=1,w=0,A=null;return l.eachMapping(function(q){if(A!==null)if(P<q.generatedLine)T(A,y()),P++,w=0;else{var G=d[f]||"",I=G.substr(0,q.generatedColumn-w);d[f]=G.substr(q.generatedColumn-w),w=q.generatedColumn,T(A,I),A=q;return}for(;P<q.generatedLine;)p.add(y()),P++;if(w<q.generatedColumn){var G=d[f]||"";p.add(G.substr(0,q.generatedColumn)),d[f]=G.substr(q.generatedColumn),w=q.generatedColumn}A=q},this),f<d.length&&(A&&T(A,y()),p.add(d.splice(f).join(""))),l.sources.forEach(function(q){var G=l.sourceContentFor(q);G!=null&&(c!=null&&(q=e.join(c,q)),p.setSourceContent(q,G))}),p;function T(q,G){if(q===null||q.source===void 0)p.add(G);else{var I=c?e.join(c,q.source):q.source;p.add(new i(q.originalLine,q.originalColumn,I,G,q.name))}}},i.prototype.add=function(o){if(Array.isArray(o))o.forEach(function(l){this.add(l)},this);else if(o[a]||typeof o=="string")o&&this.children.push(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this},i.prototype.prepend=function(o){if(Array.isArray(o))for(var l=o.length-1;l>=0;l--)this.prepend(o[l]);else if(o[a]||typeof o=="string")this.children.unshift(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this},i.prototype.walk=function(o){for(var l,c=0,p=this.children.length;c<p;c++)l=this.children[c],l[a]?l.walk(o):l!==""&&o(l,{source:this.source,line:this.line,column:this.column,name:this.name})},i.prototype.join=function(o){var l,c,p=this.children.length;if(p>0){for(l=[],c=0;c<p-1;c++)l.push(this.children[c]),l.push(o);l.push(this.children[c]),this.children=l}return this},i.prototype.replaceRight=function(o,l){var c=this.children[this.children.length-1];return c[a]?c.replaceRight(o,l):typeof c=="string"?this.children[this.children.length-1]=c.replace(o,l):this.children.push("".replace(o,l)),this},i.prototype.setSourceContent=function(o,l){this.sourceContents[e.toSetString(o)]=l},i.prototype.walkSourceContents=function(o){for(var l=0,c=this.children.length;l<c;l++)this.children[l][a]&&this.children[l].walkSourceContents(o);for(var p=Object.keys(this.sourceContents),l=0,c=p.length;l<c;l++)o(e.fromSetString(p[l]),this.sourceContents[p[l]])},i.prototype.toString=function(){var o="";return this.walk(function(l){o+=l}),o},i.prototype.toStringWithSourceMap=function(o){var l={code:"",line:1,column:0},c=new n(o),p=!1,d=null,f=null,y=null,P=null;return this.walk(function(w,A){l.code+=w,A.source!==null&&A.line!==null&&A.column!==null?((d!==A.source||f!==A.line||y!==A.column||P!==A.name)&&c.addMapping({source:A.source,original:{line:A.line,column:A.column},generated:{line:l.line,column:l.column},name:A.name}),d=A.source,f=A.line,y=A.column,P=A.name,p=!0):p&&(c.addMapping({generated:{line:l.line,column:l.column}}),d=null,p=!1);for(var T=0,q=w.length;T<q;T++)w.charCodeAt(T)===r?(l.line++,l.column=0,T+1===q?(d=null,p=!1):p&&c.addMapping({source:A.source,original:{line:A.line,column:A.column},generated:{line:l.line,column:l.column},name:A.name})):l.column++}),this.walkSourceContents(function(w,A){c.setSourceContent(w,A)}),{code:l.code,map:c}},op.SourceNode=i,op}var pf;function jx(){return pf||(pf=1,cs.SourceMapGenerator=$1().SourceMapGenerator,cs.SourceMapConsumer=Tx().SourceMapConsumer,cs.SourceNode=Rx().SourceNode),cs}const Lx="escodegen",Ix="ECMAScript code generator",Nx="http://github.com/estools/escodegen",Zx="escodegen.js",Vx={esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},qx=["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],Xx="2.1.0",Wx={node:">=6.0"},zx=[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],Gx={type:"git",url:"http://github.com/estools/escodegen.git"},Ux={estraverse:"^5.2.0",esutils:"^2.0.2",esprima:"^4.0.1"},Yx={"source-map":"~0.6.1"},Hx={acorn:"^8.0.4",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^4.2.0","chai-exclude":"^2.0.2","commonjs-everywhere":"^0.9.7",gulp:"^4.0.2","gulp-eslint":"^6.0.0","gulp-mocha":"^7.0.2",minimist:"^1.2.5",optionator:"^0.9.1",semver:"^7.3.4"},Kx="BSD-2-Clause",Jx={test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"},eP={name:Lx,description:Ix,homepage:Nx,main:Zx,bin:Vx,files:qx,version:Xx,engines:Wx,maintainers:zx,repository:Gx,dependencies:Ux,optionalDependencies:Yx,devDependencies:Hx,license:Kx,scripts:Jx};var mf;function tP(){return mf||(mf=1,function(n){(function(){var e,t,r,a,i,s,o,l,c,p,d,f,y,P,w,A,T,q,G,I,Q,Z,V,Y,ue,se;i=Mx(),s=Ex(),e=i.Syntax;function ce(O){return Fe.Expression.hasOwnProperty(O.type)}function ae(O){return Fe.Statement.hasOwnProperty(O.type)}t={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},r={"??":t.Coalesce,"||":t.LogicalOR,"&&":t.LogicalAND,"|":t.BitwiseOR,"^":t.BitwiseXOR,"&":t.BitwiseAND,"==":t.Equality,"!=":t.Equality,"===":t.Equality,"!==":t.Equality,is:t.Equality,isnt:t.Equality,"<":t.Relational,">":t.Relational,"<=":t.Relational,">=":t.Relational,in:t.Relational,instanceof:t.Relational,"<<":t.BitwiseSHIFT,">>":t.BitwiseSHIFT,">>>":t.BitwiseSHIFT,"+":t.Additive,"-":t.Additive,"*":t.Multiplicative,"%":t.Multiplicative,"/":t.Multiplicative,"**":t.Exponentiation};var ne=1,fe=2,Ce=4,Re=8,Me=16,te=32,qe=64,ot=fe|Ce,bt=ne|fe,le=ne|fe|Ce,lt=ne,Bt=Ce,Le=ne|Ce,Xe=ne,At=ne|te,fr=0,ti=ne|Me,gr=ne|Re;function br(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Ln(O,S){var C="";for(S|=0;S>0;S>>>=1,O+=O)S&1&&(C+=O);return C}function Da(O){return/[\r\n]/g.test(O)}function wt(O){var S=O.length;return S&&s.code.isLineTerminator(O.charCodeAt(S-1))}function yt(O,S){var C;for(C in S)S.hasOwnProperty(C)&&(O[C]=S[C]);return O}function aa(O,S){var C,M;function _(H){return typeof H=="object"&&H instanceof Object&&!(H instanceof RegExp)}for(C in S)S.hasOwnProperty(C)&&(M=S[C],_(M)?_(O[C])?aa(O[C],M):O[C]=aa({},M):O[C]=M);return O}function pn(O){var S,C,M,_,H;if(O!==O)throw new Error("Numeric literal whose value is NaN");if(O<0||O===0&&1/O<0)throw new Error("Numeric literal whose value is negative");if(O===1/0)return c?"null":p?"1e400":"1e+400";if(S=""+O,!p||S.length<3)return S;for(C=S.indexOf("."),!c&&S.charCodeAt(0)===48&&C===1&&(C=0,S=S.slice(1)),M=S,S=S.replace("e+","e"),_=0,(H=M.indexOf("e"))>0&&(_=+M.slice(H+1),M=M.slice(0,H)),C>=0&&(_-=M.length-C-1,M=+(M.slice(0,C)+M.slice(C+1))+""),H=0;M.charCodeAt(M.length+H-1)===48;)--H;return H!==0&&(_-=H,M=M.slice(0,H)),_!==0&&(M+="e"+_),(M.length<S.length||d&&O>1e12&&Math.floor(O)===O&&(M="0x"+O.toString(16)).length<S.length)&&+M===O&&(S=M),S}function ni(O,S){return(O&-2)===8232?(S?"u":"\\u")+(O===8232?"2028":"2029"):O===10||O===13?(S?"":"\\")+(O===10?"n":"r"):String.fromCharCode(O)}function ts(O){var S,C,M,_,H,ee,ie,de;if(C=O.toString(),O.source){if(S=C.match(/\/([^/]*)$/),!S)return C;for(M=S[1],C="",ie=!1,de=!1,_=0,H=O.source.length;_<H;++_)ee=O.source.charCodeAt(_),de?(C+=ni(ee,de),de=!1):(ie?ee===93&&(ie=!1):ee===47?C+="\\":ee===91&&(ie=!0),C+=ni(ee,de),de=ee===92);return"/"+C+"/"+M}return C}function ri(O,S){var C;return O===8?"\\b":O===12?"\\f":O===9?"\\t":(C=O.toString(16).toUpperCase(),c||O>255?"\\u"+"0000".slice(C.length)+C:O===0&&!s.code.isDecimalDigit(S)?"\\0":O===11?"\\x0B":"\\x"+"00".slice(C.length)+C)}function nr(O){if(O===92)return"\\\\";if(O===10)return"\\n";if(O===13)return"\\r";if(O===8232)return"\\u2028";if(O===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function mn(O){var S,C,M,_;for(_=f==="double"?'"':"'",S=0,C=O.length;S<C;++S)if(M=O.charCodeAt(S),M===39){_='"';break}else if(M===34){_="'";break}else M===92&&++S;return _+O+_}function ai(O){var S="",C,M,_,H=0,ee=0,ie,de;for(C=0,M=O.length;C<M;++C){if(_=O.charCodeAt(C),_===39)++H;else if(_===34)++ee;else if(_===47&&c)S+="\\";else if(s.code.isLineTerminator(_)||_===92){S+=nr(_);continue}else if(!s.code.isIdentifierPartES5(_)&&(c&&_<32||!c&&!y&&(_<32||_>126))){S+=ri(_,O.charCodeAt(C+1));continue}S+=String.fromCharCode(_)}if(ie=!(f==="double"||f==="auto"&&ee<H),de=ie?"'":'"',!(ie?H:ee))return de+S+de;for(O=S,S=de,C=0,M=O.length;C<M;++C)_=O.charCodeAt(C),(_===39&&ie||_===34&&!ie)&&(S+="\\"),S+=String.fromCharCode(_);return S+de}function Ba(O){var S,C,M,_="";for(S=0,C=O.length;S<C;++S)M=O[S],_+=Array.isArray(M)?Ba(M):M;return _}function We(O,S){if(!Z)return Array.isArray(O)?Ba(O):O;if(S==null){if(O instanceof a)return O;S={}}return S.loc==null?new a(null,null,Z,O,S.name||null):new a(S.loc.start.line,S.loc.start.column,Z===!0?S.loc.source||null:Z,O,S.name||null)}function St(){return w||" "}function we(O,S){var C,M,_,H;return C=We(O).toString(),C.length===0?[S]:(M=We(S).toString(),M.length===0?[O]:(_=C.charCodeAt(C.length-1),H=M.charCodeAt(0),(_===43||_===45)&&_===H||s.code.isIdentifierPartES5(_)&&s.code.isIdentifierPartES5(H)||_===47&&H===105?[O,St(),S]:s.code.isWhiteSpace(_)||s.code.isLineTerminator(_)||s.code.isWhiteSpace(H)||s.code.isLineTerminator(H)?[O,S]:[O,w,S]))}function Et(O){return[o,O]}function Ie(O){var S;S=o,o+=l,O(o),o=S}function Vr(O){var S;for(S=O.length-1;S>=0&&!s.code.isLineTerminator(O.charCodeAt(S));--S);return O.length-1-S}function Ot(O,S){var C,M,_,H,ee,ie,de,Ne;for(C=O.split(/\r\n|[\r\n]/),ie=Number.MAX_VALUE,M=1,_=C.length;M<_;++M){for(H=C[M],ee=0;ee<H.length&&s.code.isWhiteSpace(H.charCodeAt(ee));)++ee;ie>ee&&(ie=ee)}for(typeof S<"u"?(de=o,C[1][ie]==="*"&&(S+=" "),o=S):(ie&1&&--ie,de=o),M=1,_=C.length;M<_;++M)Ne=We(Et(C[M].slice(ie))),C[M]=Z?Ne.join(""):Ne;return o=de,C.join(`
`)}function Dn(O,S){if(O.type==="Line"){if(wt(O.value))return"//"+O.value;var C="//"+O.value;return Y||(C+=`
`),C}return I.format.indent.adjustMultilineComment&&/[\n\r]/.test(O.value)?Ot("/*"+O.value+"*/",S):"/*"+O.value+"*/"}function ii(O,S){var C,M,_,H,ee,ie,de,Ne,He,rr,Or,rn,ia,hn;if(O.leadingComments&&O.leadingComments.length>0){if(H=S,Y){for(_=O.leadingComments[0],S=[],Ne=_.extendedRange,He=_.range,Or=V.substring(Ne[0],He[0]),hn=(Or.match(/\n/g)||[]).length,hn>0?(S.push(Ln(`
`,hn)),S.push(Et(Dn(_)))):(S.push(Or),S.push(Dn(_))),rr=He,C=1,M=O.leadingComments.length;C<M;C++)_=O.leadingComments[C],He=_.range,rn=V.substring(rr[1],He[0]),hn=(rn.match(/\n/g)||[]).length,S.push(Ln(`
`,hn)),S.push(Et(Dn(_))),rr=He;ia=V.substring(He[1],Ne[1]),hn=(ia.match(/\n/g)||[]).length,S.push(Ln(`
`,hn))}else for(_=O.leadingComments[0],S=[],q&&O.type===e.Program&&O.body.length===0&&S.push(`
`),S.push(Dn(_)),wt(We(S).toString())||S.push(`
`),C=1,M=O.leadingComments.length;C<M;++C)_=O.leadingComments[C],de=[Dn(_)],wt(We(de).toString())||de.push(`
`),S.push(Et(de));S.push(Et(H))}if(O.trailingComments)if(Y)_=O.trailingComments[0],Ne=_.extendedRange,He=_.range,Or=V.substring(Ne[0],He[0]),hn=(Or.match(/\n/g)||[]).length,hn>0?(S.push(Ln(`
`,hn)),S.push(Et(Dn(_)))):(S.push(Or),S.push(Dn(_)));else for(ee=!wt(We(S).toString()),ie=Ln(" ",Vr(We([o,S,l]).toString())),C=0,M=O.trailingComments.length;C<M;++C)_=O.trailingComments[C],ee?(C===0?S=[S,l]:S=[S,ie],S.push(Dn(_,ie))):S=[S,Et(Dn(_))],C!==M-1&&!wt(We(S).toString())&&(S=[S,`
`]);return S}function yr(O,S,C){var M,_=0;for(M=O;M<S;M++)V[M]===`
`&&_++;for(M=1;M<_;M++)C.push(P)}function kt(O,S,C){return S<C?["(",O,")"]:O}function rt(O){var S,C,M;for(M=O.split(/\r\n|\n/),S=1,C=M.length;S<C;S++)M[S]=P+o+M[S];return M}function Gt(O,S){var C,M,_;return C=O[I.verbatim],typeof C=="string"?M=kt(rt(C),t.Sequence,S):(M=rt(C.content),_=C.precedence!=null?C.precedence:t.Sequence,M=kt(M,_,S)),We(M,O)}function Fe(){}Fe.prototype.maybeBlock=function(O,S){var C,M,_=this;return M=!I.comment||!O.leadingComments,O.type===e.BlockStatement&&M?[w,this.generateStatement(O,S)]:O.type===e.EmptyStatement&&M?";":(Ie(function(){C=[P,Et(_.generateStatement(O,S))]}),C)},Fe.prototype.maybeBlockSuffix=function(O,S){var C=wt(We(S).toString());return O.type===e.BlockStatement&&(!I.comment||!O.leadingComments)&&!C?[S,w]:C?[S,o]:[S,P,o]};function at(O){return We(O.name,O)}function Ut(O,S){return O.async?"async"+(S?St():w):""}function qr(O){var S=O.generator&&!I.moz.starlessGenerator;return S?"*"+w:""}function Mt(O){var S=O.value,C="";return S.async&&(C+=Ut(S,!O.computed)),S.generator&&(C+=qr(S)?"*":""),C}Fe.prototype.generatePattern=function(O,S,C){return O.type===e.Identifier?at(O):this.generateExpression(O,S,C)},Fe.prototype.generateFunctionParams=function(O){var S,C,M,_;if(_=!1,O.type===e.ArrowFunctionExpression&&!O.rest&&(!O.defaults||O.defaults.length===0)&&O.params.length===1&&O.params[0].type===e.Identifier)M=[Ut(O,!0),at(O.params[0])];else{for(M=O.type===e.ArrowFunctionExpression?[Ut(O,!1)]:[],M.push("("),O.defaults&&(_=!0),S=0,C=O.params.length;S<C;++S)_&&O.defaults[S]?M.push(this.generateAssignment(O.params[S],O.defaults[S],"=",t.Assignment,le)):M.push(this.generatePattern(O.params[S],t.Assignment,le)),S+1<C&&M.push(","+w);O.rest&&(O.params.length&&M.push(","+w),M.push("..."),M.push(at(O.rest))),M.push(")")}return M},Fe.prototype.generateFunctionBody=function(O){var S,C;return S=this.generateFunctionParams(O),O.type===e.ArrowFunctionExpression&&(S.push(w),S.push("=>")),O.expression?(S.push(w),C=this.generateExpression(O.body,t.Assignment,le),C.toString().charAt(0)==="{"&&(C=["(",C,")"]),S.push(C)):S.push(this.maybeBlock(O.body,gr)),S},Fe.prototype.generateIterationForStatement=function(O,S,C){var M=["for"+(S.await?St()+"await":"")+w+"("],_=this;return Ie(function(){S.left.type===e.VariableDeclaration?Ie(function(){M.push(S.left.kind+St()),M.push(_.generateStatement(S.left.declarations[0],fr))}):M.push(_.generateExpression(S.left,t.Call,le)),M=we(M,O),M=[we(M,_.generateExpression(S.right,t.Assignment,le)),")"]}),M.push(this.maybeBlock(S.body,C)),M},Fe.prototype.generatePropertyKey=function(O,S){var C=[];return S&&C.push("["),C.push(this.generateExpression(O,t.Assignment,le)),S&&C.push("]"),C},Fe.prototype.generateAssignment=function(O,S,C,M,_){return t.Assignment<M&&(_|=ne),kt([this.generateExpression(O,t.Call,_),w+C+w,this.generateExpression(S,t.Assignment,_)],t.Assignment,M)},Fe.prototype.semicolon=function(O){return!T&&O&te?"":";"},Fe.Statement={BlockStatement:function(O,S){var C,M,_=["{",P],H=this;return Ie(function(){O.body.length===0&&Y&&(C=O.range,C[1]-C[0]>2&&(M=V.substring(C[0]+1,C[1]-1),M[0]===`
`&&(_=["{"]),_.push(M)));var ee,ie,de,Ne;for(Ne=Xe,S&Re&&(Ne|=Me),ee=0,ie=O.body.length;ee<ie;++ee)Y&&(ee===0&&(O.body[0].leadingComments&&(C=O.body[0].leadingComments[0].extendedRange,M=V.substring(C[0],C[1]),M[0]===`
`&&(_=["{"])),O.body[0].leadingComments||yr(O.range[0],O.body[0].range[0],_)),ee>0&&!O.body[ee-1].trailingComments&&!O.body[ee].leadingComments&&yr(O.body[ee-1].range[1],O.body[ee].range[0],_)),ee===ie-1&&(Ne|=te),O.body[ee].leadingComments&&Y?de=H.generateStatement(O.body[ee],Ne):de=Et(H.generateStatement(O.body[ee],Ne)),_.push(de),wt(We(de).toString())||Y&&ee<ie-1&&O.body[ee+1].leadingComments||_.push(P),Y&&ee===ie-1&&(O.body[ee].trailingComments||yr(O.body[ee].range[1],O.range[1],_))}),_.push(Et("}")),_},BreakStatement:function(O,S){return O.label?"break "+O.label.name+this.semicolon(S):"break"+this.semicolon(S)},ContinueStatement:function(O,S){return O.label?"continue "+O.label.name+this.semicolon(S):"continue"+this.semicolon(S)},ClassBody:function(O,S){var C=["{",P],M=this;return Ie(function(_){var H,ee;for(H=0,ee=O.body.length;H<ee;++H)C.push(_),C.push(M.generateExpression(O.body[H],t.Sequence,le)),H+1<ee&&C.push(P)}),wt(We(C).toString())||C.push(P),C.push(o),C.push("}"),C},ClassDeclaration:function(O,S){var C,M;return C=["class"],O.id&&(C=we(C,this.generateExpression(O.id,t.Sequence,le))),O.superClass&&(M=we("extends",this.generateExpression(O.superClass,t.Unary,le)),C=we(C,M)),C.push(w),C.push(this.generateStatement(O.body,At)),C},DirectiveStatement:function(O,S){return I.raw&&O.raw?O.raw+this.semicolon(S):mn(O.directive)+this.semicolon(S)},DoWhileStatement:function(O,S){var C=we("do",this.maybeBlock(O.body,Xe));return C=this.maybeBlockSuffix(O.body,C),we(C,["while"+w+"(",this.generateExpression(O.test,t.Sequence,le),")"+this.semicolon(S)])},CatchClause:function(O,S){var C,M=this;return Ie(function(){var _;O.param?(C=["catch"+w+"(",M.generateExpression(O.param,t.Sequence,le),")"],O.guard&&(_=M.generateExpression(O.guard,t.Sequence,le),C.splice(2,0," if ",_))):C=["catch"]}),C.push(this.maybeBlock(O.body,Xe)),C},DebuggerStatement:function(O,S){return"debugger"+this.semicolon(S)},EmptyStatement:function(O,S){return";"},ExportDefaultDeclaration:function(O,S){var C=["export"],M;return M=S&te?At:Xe,C=we(C,"default"),ae(O.declaration)?C=we(C,this.generateStatement(O.declaration,M)):C=we(C,this.generateExpression(O.declaration,t.Assignment,le)+this.semicolon(S)),C},ExportNamedDeclaration:function(O,S){var C=["export"],M,_=this;return M=S&te?At:Xe,O.declaration?we(C,this.generateStatement(O.declaration,M)):(O.specifiers&&(O.specifiers.length===0?C=we(C,"{"+w+"}"):O.specifiers[0].type===e.ExportBatchSpecifier?C=we(C,this.generateExpression(O.specifiers[0],t.Sequence,le)):(C=we(C,"{"),Ie(function(H){var ee,ie;for(C.push(P),ee=0,ie=O.specifiers.length;ee<ie;++ee)C.push(H),C.push(_.generateExpression(O.specifiers[ee],t.Sequence,le)),ee+1<ie&&C.push(","+P)}),wt(We(C).toString())||C.push(P),C.push(o+"}")),O.source?C=we(C,["from"+w,this.generateExpression(O.source,t.Sequence,le),this.semicolon(S)]):C.push(this.semicolon(S))),C)},ExportAllDeclaration:function(O,S){return["export"+w,"*"+w,"from"+w,this.generateExpression(O.source,t.Sequence,le),this.semicolon(S)]},ExpressionStatement:function(O,S){var C,M;function _(ie){var de;return ie.slice(0,5)!=="class"?!1:(de=ie.charCodeAt(5),de===123||s.code.isWhiteSpace(de)||s.code.isLineTerminator(de))}function H(ie){var de;return ie.slice(0,8)!=="function"?!1:(de=ie.charCodeAt(8),de===40||s.code.isWhiteSpace(de)||de===42||s.code.isLineTerminator(de))}function ee(ie){var de,Ne,He;if(ie.slice(0,5)!=="async"||!s.code.isWhiteSpace(ie.charCodeAt(5)))return!1;for(Ne=6,He=ie.length;Ne<He&&s.code.isWhiteSpace(ie.charCodeAt(Ne));++Ne);return Ne===He||ie.slice(Ne,Ne+8)!=="function"?!1:(de=ie.charCodeAt(Ne+8),de===40||s.code.isWhiteSpace(de)||de===42||s.code.isLineTerminator(de))}return C=[this.generateExpression(O.expression,t.Sequence,le)],M=We(C).toString(),M.charCodeAt(0)===123||_(M)||H(M)||ee(M)||G&&S&Me&&O.expression.type===e.Literal&&typeof O.expression.value=="string"?C=["(",C,")"+this.semicolon(S)]:C.push(this.semicolon(S)),C},ImportDeclaration:function(O,S){var C,M,_=this;return O.specifiers.length===0?["import",w,this.generateExpression(O.source,t.Sequence,le),this.semicolon(S)]:(C=["import"],M=0,O.specifiers[M].type===e.ImportDefaultSpecifier&&(C=we(C,[this.generateExpression(O.specifiers[M],t.Sequence,le)]),++M),O.specifiers[M]&&(M!==0&&C.push(","),O.specifiers[M].type===e.ImportNamespaceSpecifier?C=we(C,[w,this.generateExpression(O.specifiers[M],t.Sequence,le)]):(C.push(w+"{"),O.specifiers.length-M===1?(C.push(w),C.push(this.generateExpression(O.specifiers[M],t.Sequence,le)),C.push(w+"}"+w)):(Ie(function(H){var ee,ie;for(C.push(P),ee=M,ie=O.specifiers.length;ee<ie;++ee)C.push(H),C.push(_.generateExpression(O.specifiers[ee],t.Sequence,le)),ee+1<ie&&C.push(","+P)}),wt(We(C).toString())||C.push(P),C.push(o+"}"+w)))),C=we(C,["from"+w,this.generateExpression(O.source,t.Sequence,le),this.semicolon(S)]),C)},VariableDeclarator:function(O,S){var C=S&ne?le:ot;return O.init?[this.generateExpression(O.id,t.Assignment,C),w,"=",w,this.generateExpression(O.init,t.Assignment,C)]:this.generatePattern(O.id,t.Assignment,C)},VariableDeclaration:function(O,S){var C,M,_,H,ee,ie=this;C=[O.kind],ee=S&ne?Xe:fr;function de(){for(H=O.declarations[0],I.comment&&H.leadingComments?(C.push(`
`),C.push(Et(ie.generateStatement(H,ee)))):(C.push(St()),C.push(ie.generateStatement(H,ee))),M=1,_=O.declarations.length;M<_;++M)H=O.declarations[M],I.comment&&H.leadingComments?(C.push(","+P),C.push(Et(ie.generateStatement(H,ee)))):(C.push(","+w),C.push(ie.generateStatement(H,ee)))}return O.declarations.length>1?Ie(de):de(),C.push(this.semicolon(S)),C},ThrowStatement:function(O,S){return[we("throw",this.generateExpression(O.argument,t.Sequence,le)),this.semicolon(S)]},TryStatement:function(O,S){var C,M,_,H;if(C=["try",this.maybeBlock(O.block,Xe)],C=this.maybeBlockSuffix(O.block,C),O.handlers)for(M=0,_=O.handlers.length;M<_;++M)C=we(C,this.generateStatement(O.handlers[M],Xe)),(O.finalizer||M+1!==_)&&(C=this.maybeBlockSuffix(O.handlers[M].body,C));else{for(H=O.guardedHandlers||[],M=0,_=H.length;M<_;++M)C=we(C,this.generateStatement(H[M],Xe)),(O.finalizer||M+1!==_)&&(C=this.maybeBlockSuffix(H[M].body,C));if(O.handler)if(Array.isArray(O.handler))for(M=0,_=O.handler.length;M<_;++M)C=we(C,this.generateStatement(O.handler[M],Xe)),(O.finalizer||M+1!==_)&&(C=this.maybeBlockSuffix(O.handler[M].body,C));else C=we(C,this.generateStatement(O.handler,Xe)),O.finalizer&&(C=this.maybeBlockSuffix(O.handler.body,C))}return O.finalizer&&(C=we(C,["finally",this.maybeBlock(O.finalizer,Xe)])),C},SwitchStatement:function(O,S){var C,M,_,H,ee,ie=this;if(Ie(function(){C=["switch"+w+"(",ie.generateExpression(O.discriminant,t.Sequence,le),")"+w+"{"+P]}),O.cases)for(ee=Xe,_=0,H=O.cases.length;_<H;++_)_===H-1&&(ee|=te),M=Et(this.generateStatement(O.cases[_],ee)),C.push(M),wt(We(M).toString())||C.push(P);return C.push(Et("}")),C},SwitchCase:function(O,S){var C,M,_,H,ee,ie=this;return Ie(function(){for(O.test?C=[we("case",ie.generateExpression(O.test,t.Sequence,le)),":"]:C=["default:"],_=0,H=O.consequent.length,H&&O.consequent[0].type===e.BlockStatement&&(M=ie.maybeBlock(O.consequent[0],Xe),C.push(M),_=1),_!==H&&!wt(We(C).toString())&&C.push(P),ee=Xe;_<H;++_)_===H-1&&S&te&&(ee|=te),M=Et(ie.generateStatement(O.consequent[_],ee)),C.push(M),_+1!==H&&!wt(We(M).toString())&&C.push(P)}),C},IfStatement:function(O,S){var C,M,_,H=this;return Ie(function(){C=["if"+w+"(",H.generateExpression(O.test,t.Sequence,le),")"]}),_=S&te,M=Xe,_&&(M|=te),O.alternate?(C.push(this.maybeBlock(O.consequent,Xe)),C=this.maybeBlockSuffix(O.consequent,C),O.alternate.type===e.IfStatement?C=we(C,["else ",this.generateStatement(O.alternate,M)]):C=we(C,we("else",this.maybeBlock(O.alternate,M)))):C.push(this.maybeBlock(O.consequent,M)),C},ForStatement:function(O,S){var C,M=this;return Ie(function(){C=["for"+w+"("],O.init?O.init.type===e.VariableDeclaration?C.push(M.generateStatement(O.init,fr)):(C.push(M.generateExpression(O.init,t.Sequence,ot)),C.push(";")):C.push(";"),O.test&&(C.push(w),C.push(M.generateExpression(O.test,t.Sequence,le))),C.push(";"),O.update&&(C.push(w),C.push(M.generateExpression(O.update,t.Sequence,le))),C.push(")")}),C.push(this.maybeBlock(O.body,S&te?At:Xe)),C},ForInStatement:function(O,S){return this.generateIterationForStatement("in",O,S&te?At:Xe)},ForOfStatement:function(O,S){return this.generateIterationForStatement("of",O,S&te?At:Xe)},LabeledStatement:function(O,S){return[O.label.name+":",this.maybeBlock(O.body,S&te?At:Xe)]},Program:function(O,S){var C,M,_,H,ee;for(H=O.body.length,C=[q&&H>0?`
`:""],ee=ti,_=0;_<H;++_)!q&&_===H-1&&(ee|=te),Y&&(_===0&&(O.body[0].leadingComments||yr(O.range[0],O.body[_].range[0],C)),_>0&&!O.body[_-1].trailingComments&&!O.body[_].leadingComments&&yr(O.body[_-1].range[1],O.body[_].range[0],C)),M=Et(this.generateStatement(O.body[_],ee)),C.push(M),_+1<H&&!wt(We(M).toString())&&(Y&&O.body[_+1].leadingComments||C.push(P)),Y&&_===H-1&&(O.body[_].trailingComments||yr(O.body[_].range[1],O.range[1],C));return C},FunctionDeclaration:function(O,S){return[Ut(O,!0),"function",qr(O)||St(),O.id?at(O.id):"",this.generateFunctionBody(O)]},ReturnStatement:function(O,S){return O.argument?[we("return",this.generateExpression(O.argument,t.Sequence,le)),this.semicolon(S)]:["return"+this.semicolon(S)]},WhileStatement:function(O,S){var C,M=this;return Ie(function(){C=["while"+w+"(",M.generateExpression(O.test,t.Sequence,le),")"]}),C.push(this.maybeBlock(O.body,S&te?At:Xe)),C},WithStatement:function(O,S){var C,M=this;return Ie(function(){C=["with"+w+"(",M.generateExpression(O.object,t.Sequence,le),")"]}),C.push(this.maybeBlock(O.body,S&te?At:Xe)),C}},yt(Fe.prototype,Fe.Statement),Fe.Expression={SequenceExpression:function(O,S,C){var M,_,H;for(t.Sequence<S&&(C|=ne),M=[],_=0,H=O.expressions.length;_<H;++_)M.push(this.generateExpression(O.expressions[_],t.Assignment,C)),_+1<H&&M.push(","+w);return kt(M,t.Sequence,S)},AssignmentExpression:function(O,S,C){return this.generateAssignment(O.left,O.right,O.operator,S,C)},ArrowFunctionExpression:function(O,S,C){return kt(this.generateFunctionBody(O),t.ArrowFunction,S)},ConditionalExpression:function(O,S,C){return t.Conditional<S&&(C|=ne),kt([this.generateExpression(O.test,t.Coalesce,C),w+"?"+w,this.generateExpression(O.consequent,t.Assignment,C),w+":"+w,this.generateExpression(O.alternate,t.Assignment,C)],t.Conditional,S)},LogicalExpression:function(O,S,C){return O.operator==="??"&&(C|=qe),this.BinaryExpression(O,S,C)},BinaryExpression:function(O,S,C){var M,_,H,ee,ie,de;return ee=r[O.operator],_=O.operator==="**"?t.Postfix:ee,H=O.operator==="**"?ee:ee+1,ee<S&&(C|=ne),ie=this.generateExpression(O.left,_,C),de=ie.toString(),de.charCodeAt(de.length-1)===47&&s.code.isIdentifierPartES5(O.operator.charCodeAt(0))?M=[ie,St(),O.operator]:M=we(ie,O.operator),ie=this.generateExpression(O.right,H,C),O.operator==="/"&&ie.toString().charAt(0)==="/"||O.operator.slice(-1)==="<"&&ie.toString().slice(0,3)==="!--"?(M.push(St()),M.push(ie)):M=we(M,ie),O.operator==="in"&&!(C&ne)?["(",M,")"]:(O.operator==="||"||O.operator==="&&")&&C&qe?["(",M,")"]:kt(M,ee,S)},CallExpression:function(O,S,C){var M,_,H;for(M=[this.generateExpression(O.callee,t.Call,bt)],O.optional&&M.push("?."),M.push("("),_=0,H=O.arguments.length;_<H;++_)M.push(this.generateExpression(O.arguments[_],t.Assignment,le)),_+1<H&&M.push(","+w);return M.push(")"),C&fe?kt(M,t.Call,S):["(",M,")"]},ChainExpression:function(O,S,C){t.OptionalChaining<S&&(C|=fe);var M=this.generateExpression(O.expression,t.OptionalChaining,C);return kt(M,t.OptionalChaining,S)},NewExpression:function(O,S,C){var M,_,H,ee,ie;if(_=O.arguments.length,ie=C&Ce&&!A&&_===0?Le:lt,M=we("new",this.generateExpression(O.callee,t.New,ie)),!(C&Ce)||A||_>0){for(M.push("("),H=0,ee=_;H<ee;++H)M.push(this.generateExpression(O.arguments[H],t.Assignment,le)),H+1<ee&&M.push(","+w);M.push(")")}return kt(M,t.New,S)},MemberExpression:function(O,S,C){var M,_;return M=[this.generateExpression(O.object,t.Call,C&fe?bt:lt)],O.computed?(O.optional&&M.push("?."),M.push("["),M.push(this.generateExpression(O.property,t.Sequence,C&fe?le:Le)),M.push("]")):(!O.optional&&O.object.type===e.Literal&&typeof O.object.value=="number"&&(_=We(M).toString(),_.indexOf(".")<0&&!/[eExX]/.test(_)&&s.code.isDecimalDigit(_.charCodeAt(_.length-1))&&!(_.length>=2&&_.charCodeAt(0)===48)&&M.push(" ")),M.push(O.optional?"?.":"."),M.push(at(O.property))),kt(M,t.Member,S)},MetaProperty:function(O,S,C){var M;return M=[],M.push(typeof O.meta=="string"?O.meta:at(O.meta)),M.push("."),M.push(typeof O.property=="string"?O.property:at(O.property)),kt(M,t.Member,S)},UnaryExpression:function(O,S,C){var M,_,H,ee,ie;return _=this.generateExpression(O.argument,t.Unary,le),w===""?M=we(O.operator,_):(M=[O.operator],O.operator.length>2?M=we(M,_):(ee=We(M).toString(),ie=ee.charCodeAt(ee.length-1),H=_.toString().charCodeAt(0),((ie===43||ie===45)&&ie===H||s.code.isIdentifierPartES5(ie)&&s.code.isIdentifierPartES5(H))&&M.push(St()),M.push(_))),kt(M,t.Unary,S)},YieldExpression:function(O,S,C){var M;return O.delegate?M="yield*":M="yield",O.argument&&(M=we(M,this.generateExpression(O.argument,t.Yield,le))),kt(M,t.Yield,S)},AwaitExpression:function(O,S,C){var M=we(O.all?"await*":"await",this.generateExpression(O.argument,t.Await,le));return kt(M,t.Await,S)},UpdateExpression:function(O,S,C){return O.prefix?kt([O.operator,this.generateExpression(O.argument,t.Unary,le)],t.Unary,S):kt([this.generateExpression(O.argument,t.Postfix,le),O.operator],t.Postfix,S)},FunctionExpression:function(O,S,C){var M=[Ut(O,!0),"function"];return O.id?(M.push(qr(O)||St()),M.push(at(O.id))):M.push(qr(O)||w),M.push(this.generateFunctionBody(O)),M},ArrayPattern:function(O,S,C){return this.ArrayExpression(O,S,C,!0)},ArrayExpression:function(O,S,C,M){var _,H,ee=this;return O.elements.length?(H=M?!1:O.elements.length>1,_=["[",H?P:""],Ie(function(ie){var de,Ne;for(de=0,Ne=O.elements.length;de<Ne;++de)O.elements[de]?(_.push(H?ie:""),_.push(ee.generateExpression(O.elements[de],t.Assignment,le))):(H&&_.push(ie),de+1===Ne&&_.push(",")),de+1<Ne&&_.push(","+(H?P:w))}),H&&!wt(We(_).toString())&&_.push(P),_.push(H?o:""),_.push("]"),_):"[]"},RestElement:function(O,S,C){return"..."+this.generatePattern(O.argument)},ClassExpression:function(O,S,C){var M,_;return M=["class"],O.id&&(M=we(M,this.generateExpression(O.id,t.Sequence,le))),O.superClass&&(_=we("extends",this.generateExpression(O.superClass,t.Unary,le)),M=we(M,_)),M.push(w),M.push(this.generateStatement(O.body,At)),M},MethodDefinition:function(O,S,C){var M,_;return O.static?M=["static"+w]:M=[],O.kind==="get"||O.kind==="set"?_=[we(O.kind,this.generatePropertyKey(O.key,O.computed)),this.generateFunctionBody(O.value)]:_=[Mt(O),this.generatePropertyKey(O.key,O.computed),this.generateFunctionBody(O.value)],we(M,_)},Property:function(O,S,C){return O.kind==="get"||O.kind==="set"?[O.kind,St(),this.generatePropertyKey(O.key,O.computed),this.generateFunctionBody(O.value)]:O.shorthand?O.value.type==="AssignmentPattern"?this.AssignmentPattern(O.value,t.Sequence,le):this.generatePropertyKey(O.key,O.computed):O.method?[Mt(O),this.generatePropertyKey(O.key,O.computed),this.generateFunctionBody(O.value)]:[this.generatePropertyKey(O.key,O.computed),":"+w,this.generateExpression(O.value,t.Assignment,le)]},ObjectExpression:function(O,S,C){var M,_,H,ee=this;return O.properties.length?(M=O.properties.length>1,Ie(function(){H=ee.generateExpression(O.properties[0],t.Sequence,le)}),!M&&!Da(We(H).toString())?["{",w,H,w,"}"]:(Ie(function(ie){var de,Ne;if(_=["{",P,ie,H],M)for(_.push(","+P),de=1,Ne=O.properties.length;de<Ne;++de)_.push(ie),_.push(ee.generateExpression(O.properties[de],t.Sequence,le)),de+1<Ne&&_.push(","+P)}),wt(We(_).toString())||_.push(P),_.push(o),_.push("}"),_)):"{}"},AssignmentPattern:function(O,S,C){return this.generateAssignment(O.left,O.right,"=",S,C)},ObjectPattern:function(O,S,C){var M,_,H,ee,ie,de=this;if(!O.properties.length)return"{}";if(ee=!1,O.properties.length===1)ie=O.properties[0],ie.type===e.Property&&ie.value.type!==e.Identifier&&(ee=!0);else for(_=0,H=O.properties.length;_<H;++_)if(ie=O.properties[_],ie.type===e.Property&&!ie.shorthand){ee=!0;break}return M=["{",ee?P:""],Ie(function(Ne){var He,rr;for(He=0,rr=O.properties.length;He<rr;++He)M.push(ee?Ne:""),M.push(de.generateExpression(O.properties[He],t.Sequence,le)),He+1<rr&&M.push(","+(ee?P:w))}),ee&&!wt(We(M).toString())&&M.push(P),M.push(ee?o:""),M.push("}"),M},ThisExpression:function(O,S,C){return"this"},Super:function(O,S,C){return"super"},Identifier:function(O,S,C){return at(O)},ImportDefaultSpecifier:function(O,S,C){return at(O.id||O.local)},ImportNamespaceSpecifier:function(O,S,C){var M=["*"],_=O.id||O.local;return _&&M.push(w+"as"+St()+at(_)),M},ImportSpecifier:function(O,S,C){var M=O.imported,_=[M.name],H=O.local;return H&&H.name!==M.name&&_.push(St()+"as"+St()+at(H)),_},ExportSpecifier:function(O,S,C){var M=O.local,_=[M.name],H=O.exported;return H&&H.name!==M.name&&_.push(St()+"as"+St()+at(H)),_},Literal:function(O,S,C){var M;if(O.hasOwnProperty("raw")&&Q&&I.raw)try{if(M=Q(O.raw).body[0].expression,M.type===e.Literal&&M.value===O.value)return O.raw}catch{}return O.regex?"/"+O.regex.pattern+"/"+O.regex.flags:typeof O.value=="bigint"?O.value.toString()+"n":O.bigint?O.bigint+"n":O.value===null?"null":typeof O.value=="string"?ai(O.value):typeof O.value=="number"?pn(O.value):typeof O.value=="boolean"?O.value?"true":"false":ts(O.value)},GeneratorExpression:function(O,S,C){return this.ComprehensionExpression(O,S,C)},ComprehensionExpression:function(O,S,C){var M,_,H,ee,ie=this;return M=O.type===e.GeneratorExpression?["("]:["["],I.moz.comprehensionExpressionStartsWithAssignment&&(ee=this.generateExpression(O.body,t.Assignment,le),M.push(ee)),O.blocks&&Ie(function(){for(_=0,H=O.blocks.length;_<H;++_)ee=ie.generateExpression(O.blocks[_],t.Sequence,le),_>0||I.moz.comprehensionExpressionStartsWithAssignment?M=we(M,ee):M.push(ee)}),O.filter&&(M=we(M,"if"+w),ee=this.generateExpression(O.filter,t.Sequence,le),M=we(M,["(",ee,")"])),I.moz.comprehensionExpressionStartsWithAssignment||(ee=this.generateExpression(O.body,t.Assignment,le),M=we(M,ee)),M.push(O.type===e.GeneratorExpression?")":"]"),M},ComprehensionBlock:function(O,S,C){var M;return O.left.type===e.VariableDeclaration?M=[O.left.kind,St(),this.generateStatement(O.left.declarations[0],fr)]:M=this.generateExpression(O.left,t.Call,le),M=we(M,O.of?"of":"in"),M=we(M,this.generateExpression(O.right,t.Sequence,le)),["for"+w+"(",M,")"]},SpreadElement:function(O,S,C){return["...",this.generateExpression(O.argument,t.Assignment,le)]},TaggedTemplateExpression:function(O,S,C){var M=bt;C&fe||(M=lt);var _=[this.generateExpression(O.tag,t.Call,M),this.generateExpression(O.quasi,t.Primary,Bt)];return kt(_,t.TaggedTemplate,S)},TemplateElement:function(O,S,C){return O.value.raw},TemplateLiteral:function(O,S,C){var M,_,H;for(M=["`"],_=0,H=O.quasis.length;_<H;++_)M.push(this.generateExpression(O.quasis[_],t.Primary,le)),_+1<H&&(M.push("${"+w),M.push(this.generateExpression(O.expressions[_],t.Sequence,le)),M.push(w+"}"));return M.push("`"),M},ModuleSpecifier:function(O,S,C){return this.Literal(O,S,C)},ImportExpression:function(O,S,C){return kt(["import(",this.generateExpression(O.source,t.Assignment,le),")"],t.Call,S)}},yt(Fe.prototype,Fe.Expression),Fe.prototype.generateExpression=function(O,S,C){var M,_;return _=O.type||e.Property,I.verbatim&&O.hasOwnProperty(I.verbatim)?Gt(O,S):(M=this[_](O,S,C),I.comment&&(M=ii(O,M)),We(M,O))},Fe.prototype.generateStatement=function(O,S){var C,M;return C=this[O.type](O,S),I.comment&&(C=ii(O,C)),M=We(C).toString(),O.type===e.Program&&!q&&P===""&&M.charAt(M.length-1)===`
`&&(C=Z?We(C).replaceRight(/\s+$/,""):M.replace(/\s+$/,"")),We(C,O)};function Ea(O){var S;if(S=new Fe,ae(O))return S.generateStatement(O,Xe);if(ce(O))return S.generateExpression(O,t.Sequence,le);throw new Error("Unknown node type: "+O.type)}function ns(O,S){var C=br(),M,_;return S!=null?(typeof S.indent=="string"&&(C.format.indent.style=S.indent),typeof S.base=="number"&&(C.format.indent.base=S.base),S=aa(C,S),l=S.format.indent.style,typeof S.base=="string"?o=S.base:o=Ln(l,S.format.indent.base)):(S=C,l=S.format.indent.style,o=Ln(l,S.format.indent.base)),c=S.format.json,p=S.format.renumber,d=c?!1:S.format.hexadecimal,f=c?"double":S.format.quotes,y=S.format.escapeless,P=S.format.newline,w=S.format.space,S.format.compact&&(P=w=l=o=""),A=S.format.parentheses,T=S.format.semicolons,q=S.format.safeConcatenation,G=S.directive,Q=c?null:S.parse,Z=S.sourceMap,V=S.sourceCode,Y=S.format.preserveBlankLines&&V!==null,I=S,Z&&(n.browser?a=T2.sourceMap.SourceNode:a=jx().SourceNode),M=Ea(O),Z?(_=M.toStringWithSourceMap({file:S.file,sourceRoot:S.sourceMapRoot}),S.sourceContent&&_.map.setSourceContent(S.sourceMap,S.sourceContent),S.sourceMapWithCode?_:_.map.toString()):(_={code:M.toString(),map:null},S.sourceMapWithCode?_:_.code)}ue={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},se=br().format,n.version=eP.version,n.generate=ns,n.attachComments=i.attachComments,n.Precedence=aa({},t),n.browser=!1,n.FORMAT_MINIFY=ue,n.FORMAT_DEFAULTS=se})()}(Yc)),Yc}var nP=tP();const rP=V0(nP);class aP{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:e=>this.replacement=e}}replace(e,t,r,a){e&&t&&(r!=null?e[t][r]=a:e[t]=a)}remove(e,t,r){e&&t&&(r!=null?e[t].splice(r,1):delete e[t])}}class iP extends aP{constructor(e,t){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:r=>this.replacement=r},this.enter=e,this.leave=t}visit(e,t,r,a){if(e){if(this.enter){const s=this.should_skip,o=this.should_remove,l=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,e,t,r,a),this.replacement&&(e=this.replacement,this.replace(t,r,a,e)),this.should_remove&&this.remove(t,r,a);const c=this.should_skip,p=this.should_remove;if(this.should_skip=s,this.should_remove=o,this.replacement=l,c)return e;if(p)return null}let i;for(i in e){const s=e[i];if(s&&typeof s=="object")if(Array.isArray(s)){const o=s;for(let l=0;l<o.length;l+=1){const c=o[l];hf(c)&&(this.visit(c,e,i,l)||l--)}}else hf(s)&&this.visit(s,e,i,null)}if(this.leave){const s=this.replacement,o=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,e,t,r,a),this.replacement&&(e=this.replacement,this.replace(t,r,a,e)),this.should_remove&&this.remove(t,r,a);const l=this.should_remove;if(this.replacement=s,this.should_remove=o,l)return null}}return e}}function hf(n){return n!==null&&typeof n=="object"&&"type"in n&&typeof n.type=="string"}function sP(n,{enter:e,leave:t}){return new iP(e,t).visit(n,null)}let Q1=[];function oP(n){Q1.push(n)}let Zs=new Map;function XE(n,e){Zs.set(n,e)}function WE(n,e={}){const{wrapAsync:t=!1,addReturn:r=!0,emitMiniLocations:a=!0,emitWidgets:i=!0}=e;let s=Sx(n,{ecmaVersion:2022,allowAwaitOutsideFunction:!0,locations:!0}),o=[];const l=(f,y)=>{const P=Zs.get("minilang");if(P){const w=`[${f}]`,A=P.getLocations(w,y.start);o=o.concat(A)}else{const w=W0(`"${f}"`,y.start,n);o=o.concat(w)}};let c=[];sP(s,{enter(f,y){if(yP(f)){const{name:P}=f.tag,w=Zs.get(P),A=f.quasi.quasis[0].value.raw,T=f.quasi.start+1;if(a){const q=w.getLocations(A,T);o=o.concat(q)}return this.skip(),this.replace(xP(P,A,T))}if(OP(f,"tidal")){const P=f.quasi.quasis[0].value.raw,w=f.quasi.start+1;if(a){const A=kP(P,w);o=o.concat(A)}return this.skip(),this.replace(vP(P,w))}if(uP(f,y)){const{quasis:P}=f,{raw:w}=P[0].value;return this.skip(),a&&l(w,f),this.replace(df(w,f))}if(lP(f)){const{value:P}=f;return this.skip(),a&&l(P,f),this.replace(df(P,f))}if(cP(f))return i&&c.push({from:f.arguments[0].start,to:f.arguments[0].end,value:f.arguments[0].raw,min:f.arguments[1]?.value??0,max:f.arguments[2]?.value??1,step:f.arguments[3]?.value,type:"slider"}),this.replace(mP(f));if(pP(f)){const P=f.callee.property.name,w=c.filter(T=>T.type===P).length,A={to:f.end,index:w,type:P,id:e.id};return i&&c.push(A),this.replace(hP(f,A))}if(dP(f,y))return this.replace(fP(f));if(gP(f))return this.replace(bP(f))},leave(f,y,P,w){}});let{body:p}=s;if(!p.length)console.warn("empty body -> fallback to silence"),p.push({type:"ExpressionStatement",expression:{type:"Identifier",name:"silence"}});else if(!p?.[p.length-1]?.expression)throw new Error("unexpected ast format without body expression");if(r){const{expression:f}=p[p.length-1];p[p.length-1]={type:"ReturnStatement",argument:f}}let d=rP.generate(s);return t&&(d=`(async ()=>{${d}})()`),a?{output:d,miniLocations:o,widgets:c}:{output:d}}function lP(n,e,t){return n.type!=="Literal"?!1:n.raw[0]==='"'}function uP(n,e){return n.type==="TemplateLiteral"&&e.type!=="TaggedTemplateExpression"}function df(n,e){const{start:t}=e,r=Zs.get("minilang");let a="m";return r&&r.name&&(a=r.name),{type:"CallExpression",callee:{type:"Identifier",name:a},arguments:[{type:"Literal",value:n},{type:"Literal",value:t}],optional:!1}}function cP(n){return n.type==="CallExpression"&&n.callee.name==="slider"}function pP(n){return n.type==="CallExpression"&&Q1.includes(n.callee.property?.name)}function mP(n){const e="slider_"+n.arguments[0].start;return n.arguments.unshift({type:"Literal",value:e,raw:e}),n.callee.name="sliderWithID",n}function _1(n){return`${n.id||""}_widget_${n.type}_${n.index}`}function hP(n,e){const t=_1(e);return n.arguments.unshift({type:"Literal",value:t,raw:t}),n}function dP(n,e){return n.type==="CallExpression"&&n.callee.name==="samples"&&e.type!=="AwaitExpression"}function fP(n){return{type:"AwaitExpression",argument:n}}function gP(n){return n.type==="LabeledStatement"}function bP(n){return{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:n.body.expression,property:{type:"Identifier",name:"p"}},arguments:[{type:"Literal",value:n.label.name,raw:`'${n.label.name}'`}]}}}function yP(n){return n.type==="TaggedTemplateExpression"&&Zs.has(n.tag.name)}function OP(n,e){return n.type==="TaggedTemplateExpression"&&n.tag.name===e}function kP(n,e){return n.split("").reduce((t,r,a)=>(r!=='"'||(!t.length||t[t.length-1].length>1?t.push([a+1]):t[t.length-1].push(a)),t),[]).map(([t,r])=>{const a=n.slice(t,r);return W0(`"${a}"`,e+t-1)}).flat()}function vP(n,e){return{type:"CallExpression",callee:{type:"Identifier",name:"tidal"},arguments:[{type:"Literal",value:n},{type:"Literal",value:e}],optional:!1}}function xP(n,e,t){return{type:"CallExpression",callee:{type:"Identifier",name:n},arguments:[{type:"Literal",value:e},{type:"Literal",value:t}],optional:!1}}const PP=5,Jo=6,el=10;let wP=(n,e,t,r)=>(n.events=n.events||{},n.events[t+el]||(n.events[t+el]=r(a=>{n.events[t].reduceRight((i,s)=>(s(i),i),{shared:{},...a})})),n.events[t]=n.events[t]||[],n.events[t].push(e),()=>{let a=n.events[t],i=a.indexOf(e);a.splice(i,1),a.length||(delete n.events[t],n.events[t+el](),delete n.events[t+el])}),CP=1e3,T1=(n,e)=>wP(n,r=>{let a=e(r);a&&n.events[Jo].push(a)},PP,r=>{let a=n.listen;n.listen=(...s)=>(!n.lc&&!n.active&&(n.active=!0,r()),a(...s));let i=n.off;return n.events[Jo]=[],n.off=()=>{i(),setTimeout(()=>{if(n.active&&!n.lc){n.active=!1;for(let s of n.events[Jo])s();n.events[Jo]=[]}},CP)},()=>{n.listen=a,n.off=i}}),Kp=[],R1=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?R1:Kp).push(t=t+n[e])})();function AP(n){if(n<768)return!1;for(let e=0,t=Kp.length;;){let r=e+t>>1;if(n<Kp[r])t=r;else if(n>=R1[r])e=r+1;else return!0;if(e==t)return!1}}function ff(n){return n>=127462&&n<=127487}const gf=8205;function SP(n,e,t=!0,r=!0){return(t?j1:MP)(n,e,r)}function j1(n,e,t){if(e==n.length)return e;e&&L1(n.charCodeAt(e))&&I1(n.charCodeAt(e-1))&&e--;let r=lp(n,e);for(e+=bf(r);e<n.length;){let a=lp(n,e);if(r==gf||a==gf||t&&AP(a))e+=bf(a),r=a;else if(ff(a)){let i=0,s=e-2;for(;s>=0&&ff(lp(n,s));)i++,s-=2;if(i%2==0)break;e+=2}else break}return e}function MP(n,e,t){for(;e>0;){let r=j1(n,e-2,t);if(r<e)return r;e--}return 0}function lp(n,e){let t=n.charCodeAt(e);if(!I1(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return L1(r)?(t-55296<<10)+(r-56320)+65536:t}function L1(n){return n>=56320&&n<57344}function I1(n){return n>=55296&&n<56320}function bf(n){return n<65536?1:2}let tt=class N1{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=Mi(this,e,t);let a=[];return this.decompose(0,e,a,2),r.length&&r.decompose(0,r.length,a,3),this.decompose(t,this.length,a,1),Sr.from(a,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Mi(this,e,t);let r=[];return this.decompose(e,t,r,0),Sr.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),a=new Qs(this),i=new Qs(e);for(let s=t,o=t;;){if(a.next(s),i.next(s),s=0,a.lineBreak!=i.lineBreak||a.done!=i.done||a.value!=i.value)return!1;if(o+=a.value.length,a.done||o>=r)return!0}}iter(e=1){return new Qs(this,e)}iterRange(e,t=this.length){return new Z1(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let a=this.line(e).from;r=this.iterRange(a,Math.max(a,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new V1(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?N1.empty:e.length<=32?new Dt(e):Sr.from(Dt.split(e,[]))}};class Dt extends tt{constructor(e,t=DP(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,a){for(let i=0;;i++){let s=this.text[i],o=a+s.length;if((t?r:o)>=e)return new BP(a,o,r,s);a=o+1,r++}}decompose(e,t,r,a){let i=e<=0&&t>=this.length?this:new Dt(yf(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(a&1){let s=r.pop(),o=wl(i.text,s.text.slice(),0,i.length);if(o.length<=32)r.push(new Dt(o,s.length+i.length));else{let l=o.length>>1;r.push(new Dt(o.slice(0,l)),new Dt(o.slice(l)))}}else r.push(i)}replace(e,t,r){if(!(r instanceof Dt))return super.replace(e,t,r);[e,t]=Mi(this,e,t);let a=wl(this.text,wl(r.text,yf(this.text,0,e)),t),i=this.length+r.length-(t-e);return a.length<=32?new Dt(a,i):Sr.from(Dt.split(a,[]),i)}sliceString(e,t=this.length,r=`
`){[e,t]=Mi(this,e,t);let a="";for(let i=0,s=0;i<=t&&s<this.text.length;s++){let o=this.text[s],l=i+o.length;i>e&&s&&(a+=r),e<l&&t>i&&(a+=o.slice(Math.max(0,e-i),t-i)),i=l+1}return a}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],a=-1;for(let i of e)r.push(i),a+=i.length+1,r.length==32&&(t.push(new Dt(r,a)),r=[],a=-1);return a>-1&&t.push(new Dt(r,a)),t}}class Sr extends tt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,a){for(let i=0;;i++){let s=this.children[i],o=a+s.length,l=r+s.lines-1;if((t?l:o)>=e)return s.lineInner(e,t,r,a);a=o+1,r=l+1}}decompose(e,t,r,a){for(let i=0,s=0;s<=t&&i<this.children.length;i++){let o=this.children[i],l=s+o.length;if(e<=l&&t>=s){let c=a&((s<=e?1:0)|(l>=t?2:0));s>=e&&l<=t&&!c?r.push(o):o.decompose(e-s,t-s,r,c)}s=l+1}}replace(e,t,r){if([e,t]=Mi(this,e,t),r.lines<this.lines)for(let a=0,i=0;a<this.children.length;a++){let s=this.children[a],o=i+s.length;if(e>=i&&t<=o){let l=s.replace(e-i,t-i,r),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let p=this.children.slice();return p[a]=l,new Sr(p,this.length-(t-e)+r.length)}return super.replace(i,o,l)}i=o+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=Mi(this,e,t);let a="";for(let i=0,s=0;i<this.children.length&&s<=t;i++){let o=this.children[i],l=s+o.length;s>e&&i&&(a+=r),e<l&&t>s&&(a+=o.sliceString(e-s,t-s,r)),s=l+1}return a}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Sr))return 0;let r=0,[a,i,s,o]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;a+=t,i+=t){if(a==s||i==o)return r;let l=this.children[a],c=e.children[i];if(l!=c)return r+l.scanIdentical(c,t);r+=l.length+1}}static from(e,t=e.reduce((r,a)=>r+a.length+1,-1)){let r=0;for(let y of e)r+=y.lines;if(r<32){let y=[];for(let P of e)P.flatten(y);return new Dt(y,t)}let a=Math.max(32,r>>5),i=a<<1,s=a>>1,o=[],l=0,c=-1,p=[];function d(y){let P;if(y.lines>i&&y instanceof Sr)for(let w of y.children)d(w);else y.lines>s&&(l>s||!l)?(f(),o.push(y)):y instanceof Dt&&l&&(P=p[p.length-1])instanceof Dt&&y.lines+P.lines<=32?(l+=y.lines,c+=y.length+1,p[p.length-1]=new Dt(P.text.concat(y.text),P.length+1+y.length)):(l+y.lines>a&&f(),l+=y.lines,c+=y.length+1,p.push(y))}function f(){l!=0&&(o.push(p.length==1?p[0]:Sr.from(p,c)),c=-1,l=p.length=0)}for(let y of e)d(y);return f(),o.length==1?o[0]:new Sr(o,t)}}tt.empty=new Dt([""],0);function DP(n){let e=-1;for(let t of n)e+=t.length+1;return e}function wl(n,e,t=0,r=1e9){for(let a=0,i=0,s=!0;i<n.length&&a<=r;i++){let o=n[i],l=a+o.length;l>=t&&(l>r&&(o=o.slice(0,r-a)),a<t&&(o=o.slice(t-a)),s?(e[e.length-1]+=o,s=!1):e.push(o)),a=l+1}return e}function yf(n,e,t){return wl(n,[""],e,t)}class Qs{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Dt?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,a=this.nodes[r],i=this.offsets[r],s=i>>1,o=a instanceof Dt?a.text.length:a.children.length;if(s==(t>0?o:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((i&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(a instanceof Dt){let l=a.text[s+(t<0?-1:0)];if(this.offsets[r]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=a.children[s+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Dt?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Z1{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new Qs(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:a}=this.cursor.next(e);return this.pos+=(a.length+e)*t,this.value=a.length<=r?a:t<0?a.slice(a.length-r):a.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class V1{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:a}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=a,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(tt.prototype[Symbol.iterator]=function(){return this.iter()},Qs.prototype[Symbol.iterator]=Z1.prototype[Symbol.iterator]=V1.prototype[Symbol.iterator]=function(){return this});class BP{constructor(e,t,r,a){this.from=e,this.to=t,this.number=r,this.text=a}get length(){return this.to-this.from}}function Mi(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function Xt(n,e,t=!0,r=!0){return SP(n,e,t,r)}function EP(n){return n>=56320&&n<57344}function FP(n){return n>=55296&&n<56320}function xn(n,e){let t=n.charCodeAt(e);if(!FP(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return EP(r)?(t-55296<<10)+(r-56320)+65536:t}function Ch(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function Mr(n){return n<65536?1:2}const Jp=/\r\n?|\n/;var Qt=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Qt||(Qt={}));class $r{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,a=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];s<0?(e(r,a,i),a+=i):a+=s,r+=i}}iterChangedRanges(e,t=!1){em(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],a=this.sections[t++];a<0?e.push(r,a):e.push(a,r)}return new $r(e)}composeDesc(e){return this.empty?e:e.empty?this:q1(this,e)}mapDesc(e,t=!1){return e.empty?this:tm(this,e,t)}mapPos(e,t=-1,r=Qt.Simple){let a=0,i=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],l=this.sections[s++],c=a+o;if(l<0){if(c>e)return i+(e-a);i+=o}else{if(r!=Qt.Simple&&c>=e&&(r==Qt.TrackDel&&a<e&&c>e||r==Qt.TrackBefore&&a<e||r==Qt.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!o)return e==a||t<0?i:i+l;i+=l}a=c}if(e>a)throw new RangeError(`Position ${e} is out of range for changeset of length ${a}`);return i}touchesRange(e,t=e){for(let r=0,a=0;r<this.sections.length&&a<=t;){let i=this.sections[r++],s=this.sections[r++],o=a+i;if(s>=0&&a<=t&&o>=e)return a<e&&o>t?"cover":!0;a=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],a=this.sections[t++];e+=(e?" ":"")+r+(a>=0?":"+a:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new $r(e)}static create(e){return new $r(e)}}class jt extends $r{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return em(this,(t,r,a,i,s)=>e=e.replace(a,a+(r-t),s),!1),e}mapDesc(e,t=!1){return tm(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let a=0,i=0;a<t.length;a+=2){let s=t[a],o=t[a+1];if(o>=0){t[a]=o,t[a+1]=s;let l=a>>1;for(;r.length<l;)r.push(tt.empty);r.push(s?e.slice(i,i+s):tt.empty)}i+=s}return new jt(t,r)}compose(e){return this.empty?e:e.empty?this:q1(this,e,!0)}map(e,t=!1){return e.empty?this:tm(this,e,t,!0)}iterChanges(e,t=!1){em(this,e,t)}get desc(){return $r.create(this.sections)}filter(e){let t=[],r=[],a=[],i=new Vs(this);e:for(let s=0,o=0;;){let l=s==e.length?1e9:e[s++];for(;o<l||o==l&&i.len==0;){if(i.done)break e;let p=Math.min(i.len,l-o);Jt(a,p,-1);let d=i.ins==-1?-1:i.off==0?i.ins:0;Jt(t,p,d),d>0&&pa(r,t,i.text),i.forward(p),o+=p}let c=e[s++];for(;o<c;){if(i.done)break e;let p=Math.min(i.len,c-o);Jt(t,p,-1),Jt(a,p,i.ins==-1?-1:i.off==0?i.ins:0),i.forward(p),o+=p}}return{changes:new jt(t,r),filtered:$r.create(a)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],a=this.sections[t+1];a<0?e.push(r):a==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let a=[],i=[],s=0,o=null;function l(p=!1){if(!p&&!a.length)return;s<t&&Jt(a,t-s,-1);let d=new jt(a,i);o=o?o.compose(d.map(o)):d,a=[],i=[],s=0}function c(p){if(Array.isArray(p))for(let d of p)c(d);else if(p instanceof jt){if(p.length!=t)throw new RangeError(`Mismatched change set length (got ${p.length}, expected ${t})`);l(),o=o?o.compose(p.map(o)):p}else{let{from:d,to:f=d,insert:y}=p;if(d>f||d<0||f>t)throw new RangeError(`Invalid change range ${d} to ${f} (in doc of length ${t})`);let P=y?typeof y=="string"?tt.of(y.split(r||Jp)):y:tt.empty,w=P.length;if(d==f&&w==0)return;d<s&&l(),d>s&&Jt(a,d-s,-1),Jt(a,f-d,w),pa(i,a,P),s=f}}return c(e),l(!o),o}static empty(e){return new jt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let a=0;a<e.length;a++){let i=e[a];if(typeof i=="number")t.push(i,-1);else{if(!Array.isArray(i)||typeof i[0]!="number"||i.some((s,o)=>o&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(i.length==1)t.push(i[0],0);else{for(;r.length<a;)r.push(tt.empty);r[a]=tt.of(i.slice(1)),t.push(i[0],r[a].length)}}}return new jt(t,r)}static createSet(e,t){return new jt(e,t)}}function Jt(n,e,t,r=!1){if(e==0&&t<=0)return;let a=n.length-2;a>=0&&t<=0&&t==n[a+1]?n[a]+=e:a>=0&&e==0&&n[a]==0?n[a+1]+=t:r?(n[a]+=e,n[a+1]+=t):n.push(e,t)}function pa(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(tt.empty);n.push(t)}}function em(n,e,t){let r=n.inserted;for(let a=0,i=0,s=0;s<n.sections.length;){let o=n.sections[s++],l=n.sections[s++];if(l<0)a+=o,i+=o;else{let c=a,p=i,d=tt.empty;for(;c+=o,p+=l,l&&r&&(d=d.append(r[s-2>>1])),!(t||s==n.sections.length||n.sections[s+1]<0);)o=n.sections[s++],l=n.sections[s++];e(a,c,i,p,d),a=c,i=p}}}function tm(n,e,t,r=!1){let a=[],i=r?[]:null,s=new Vs(n),o=new Vs(e);for(let l=-1;;){if(s.done&&o.len||o.done&&s.len)throw new Error("Mismatched change set lengths");if(s.ins==-1&&o.ins==-1){let c=Math.min(s.len,o.len);Jt(a,c,-1),s.forward(c),o.forward(c)}else if(o.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(o.len<s.len||o.len==s.len&&!t))){let c=o.len;for(Jt(a,o.ins,-1);c;){let p=Math.min(s.len,c);s.ins>=0&&l<s.i&&s.len<=p&&(Jt(a,0,s.ins),i&&pa(i,a,s.text),l=s.i),s.forward(p),c-=p}o.next()}else if(s.ins>=0){let c=0,p=s.len;for(;p;)if(o.ins==-1){let d=Math.min(p,o.len);c+=d,p-=d,o.forward(d)}else if(o.ins==0&&o.len<p)p-=o.len,o.next();else break;Jt(a,c,l<s.i?s.ins:0),i&&l<s.i&&pa(i,a,s.text),l=s.i,s.forward(s.len-p)}else{if(s.done&&o.done)return i?jt.createSet(a,i):$r.create(a);throw new Error("Mismatched change set lengths")}}}function q1(n,e,t=!1){let r=[],a=t?[]:null,i=new Vs(n),s=new Vs(e);for(let o=!1;;){if(i.done&&s.done)return a?jt.createSet(r,a):$r.create(r);if(i.ins==0)Jt(r,i.len,0,o),i.next();else if(s.len==0&&!s.done)Jt(r,0,s.ins,o),a&&pa(a,r,s.text),s.next();else{if(i.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(i.len2,s.len),c=r.length;if(i.ins==-1){let p=s.ins==-1?-1:s.off?0:s.ins;Jt(r,l,p,o),a&&p&&pa(a,r,s.text)}else s.ins==-1?(Jt(r,i.off?0:i.len,l,o),a&&pa(a,r,i.textBit(l))):(Jt(r,i.off?0:i.len,s.off?0:s.ins,o),a&&!s.off&&pa(a,r,s.text));o=(i.ins>l||s.ins>=0&&s.len>l)&&(o||r.length>c),i.forward2(l),s.forward(l)}}}}class Vs{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?tt.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?tt.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ia{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,a;return this.empty?r=a=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),a=e.mapPos(this.to,-1)),r==this.from&&a==this.to?this:new Ia(r,a,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return K.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return K.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return K.range(e.anchor,e.head)}static create(e,t,r){return new Ia(e,t,r)}}class K{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:K.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new K([this.main],0)}addRange(e,t=!0){return K.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,K.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new K(e.ranges.map(t=>Ia.fromJSON(t)),e.main)}static single(e,t=e){return new K([K.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,a=0;a<e.length;a++){let i=e[a];if(i.empty?i.from<=r:i.from<r)return K.normalized(e.slice(),t);r=i.to}return new K(e,t)}static cursor(e,t=0,r,a){return Ia.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(a??16777215)<<6)}static range(e,t,r,a){let i=(r??16777215)<<6|(a==null?7:Math.min(6,a));return t<e?Ia.create(t,e,48|i):Ia.create(e,t,(t>e?8:0)|i)}static normalized(e,t=0){let r=e[t];e.sort((a,i)=>a.from-i.from),t=e.indexOf(r);for(let a=1;a<e.length;a++){let i=e[a],s=e[a-1];if(i.empty?i.from<=s.to:i.from<s.to){let o=s.from,l=Math.max(i.to,s.to);a<=t&&t--,e.splice(--a,2,i.anchor>i.head?K.range(l,o):K.range(o,l))}}return new K(e,t)}}function X1(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Ah=0;class be{constructor(e,t,r,a,i){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=a,this.id=Ah++,this.default=e([]),this.extensions=typeof i=="function"?i(this):i}get reader(){return this}static define(e={}){return new be(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:Sh),!!e.static,e.enables)}of(e){return new Cl([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Cl(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Cl(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function Sh(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class Cl{constructor(e,t,r,a){this.dependencies=e,this.facet=t,this.type=r,this.value=a,this.id=Ah++}dynamicSlot(e){var t;let r=this.value,a=this.facet.compareInput,i=this.id,s=e[i]>>1,o=this.type==2,l=!1,c=!1,p=[];for(let d of this.dependencies)d=="doc"?l=!0:d=="selection"?c=!0:((t=e[d.id])!==null&&t!==void 0?t:1)&1||p.push(e[d.id]);return{create(d){return d.values[s]=r(d),1},update(d,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||nm(d,p)){let y=r(d);if(o?!Of(y,d.values[s],a):!a(y,d.values[s]))return d.values[s]=y,1}return 0},reconfigure:(d,f)=>{let y,P=f.config.address[i];if(P!=null){let w=Ul(f,P);if(this.dependencies.every(A=>A instanceof be?f.facet(A)===d.facet(A):A instanceof Pt?f.field(A,!1)==d.field(A,!1):!0)||(o?Of(y=r(d),w,a):a(y=r(d),w)))return d.values[s]=w,0}else y=r(d);return d.values[s]=y,1}}}}function Of(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function nm(n,e){let t=!1;for(let r of e)_s(n,r)&1&&(t=!0);return t}function $P(n,e,t){let r=t.map(l=>n[l.id]),a=t.map(l=>l.type),i=r.filter(l=>!(l&1)),s=n[e.id]>>1;function o(l){let c=[];for(let p=0;p<r.length;p++){let d=Ul(l,r[p]);if(a[p]==2)for(let f of d)c.push(f);else c.push(d)}return e.combine(c)}return{create(l){for(let c of r)_s(l,c);return l.values[s]=o(l),1},update(l,c){if(!nm(l,i))return 0;let p=o(l);return e.compare(p,l.values[s])?0:(l.values[s]=p,1)},reconfigure(l,c){let p=nm(l,r),d=c.config.facets[e.id],f=c.facet(e);if(d&&!p&&Sh(t,d))return l.values[s]=f,0;let y=o(l);return e.compare(y,f)?(l.values[s]=f,0):(l.values[s]=y,1)}}}const kf=be.define({static:!0});class Pt{constructor(e,t,r,a,i){this.id=e,this.createF=t,this.updateF=r,this.compareF=a,this.spec=i,this.provides=void 0}static define(e){let t=new Pt(Ah++,e.create,e.update,e.compare||((r,a)=>r===a),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(kf).find(r=>r.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,a)=>{let i=r.values[t],s=this.updateF(i,a);return this.compareF(i,s)?0:(r.values[t]=s,1)},reconfigure:(r,a)=>a.config.address[this.id]!=null?(r.values[t]=a.field(this),0):(r.values[t]=this.create(r),1)}}init(e){return[this,kf.of({field:this,create:e})]}get extension(){return this}}const ja={lowest:4,low:3,default:2,high:1,highest:0};function ms(n){return e=>new W1(e,n)}const Mn={highest:ms(ja.highest),high:ms(ja.high),default:ms(ja.default),low:ms(ja.low),lowest:ms(ja.lowest)};class W1{constructor(e,t){this.inner=e,this.prec=t}}class mo{of(e){return new rm(this,e)}reconfigure(e){return mo.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class rm{constructor(e,t){this.compartment=e,this.inner=t}}class Gl{constructor(e,t,r,a,i,s){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=a,this.staticValues=i,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let a=[],i=Object.create(null),s=new Map;for(let f of QP(e,t,s))f instanceof Pt?a.push(f):(i[f.facet.id]||(i[f.facet.id]=[])).push(f);let o=Object.create(null),l=[],c=[];for(let f of a)o[f.id]=c.length<<1,c.push(y=>f.slot(y));let p=r?.config.facets;for(let f in i){let y=i[f],P=y[0].facet,w=p&&p[f]||[];if(y.every(A=>A.type==0))if(o[P.id]=l.length<<1|1,Sh(w,y))l.push(r.facet(P));else{let A=P.combine(y.map(T=>T.value));l.push(r&&P.compare(A,r.facet(P))?r.facet(P):A)}else{for(let A of y)A.type==0?(o[A.id]=l.length<<1|1,l.push(A.value)):(o[A.id]=c.length<<1,c.push(T=>A.dynamicSlot(T)));o[P.id]=c.length<<1,c.push(A=>$P(A,P,y))}}let d=c.map(f=>f(o));return new Gl(e,s,d,o,l,i)}}function QP(n,e,t){let r=[[],[],[],[],[]],a=new Map;function i(s,o){let l=a.get(s);if(l!=null){if(l<=o)return;let c=r[l].indexOf(s);c>-1&&r[l].splice(c,1),s instanceof rm&&t.delete(s.compartment)}if(a.set(s,o),Array.isArray(s))for(let c of s)i(c,o);else if(s instanceof rm){if(t.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(s.compartment)||s.inner;t.set(s.compartment,c),i(c,o)}else if(s instanceof W1)i(s.inner,s.prec);else if(s instanceof Pt)r[o].push(s),s.provides&&i(s.provides,o);else if(s instanceof Cl)r[o].push(s),s.facet.extensions&&i(s.facet.extensions,ja.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);i(c,o)}}return i(n,ja.default),r.reduce((s,o)=>s.concat(o))}function _s(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let a=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|a}function Ul(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const z1=be.define(),am=be.define({combine:n=>n.some(e=>e),static:!0}),G1=be.define({combine:n=>n.length?n[0]:void 0,static:!0}),U1=be.define(),Y1=be.define(),H1=be.define(),K1=be.define({combine:n=>n.length?n[0]:!1});class ta{constructor(e,t){this.type=e,this.value=t}static define(){return new _P}}class _P{of(e){return new ta(this,e)}}class TP{constructor(e){this.map=e}of(e){return new Se(this,e)}}class Se{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Se(this.type,t)}is(e){return this.type==e}static define(e={}){return new TP(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let a of e){let i=a.map(t);i&&r.push(i)}return r}}Se.reconfigure=Se.define();Se.appendConfig=Se.define();class _t{constructor(e,t,r,a,i,s){this.startState=e,this.changes=t,this.selection=r,this.effects=a,this.annotations=i,this.scrollIntoView=s,this._doc=null,this._state=null,r&&X1(r,t.newLength),i.some(o=>o.type==_t.time)||(this.annotations=i.concat(_t.time.of(Date.now())))}static create(e,t,r,a,i,s){return new _t(e,t,r,a,i,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(_t.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}_t.time=ta.define();_t.userEvent=ta.define();_t.addToHistory=ta.define();_t.remote=ta.define();function RP(n,e){let t=[];for(let r=0,a=0;;){let i,s;if(r<n.length&&(a==e.length||e[a]>=n[r]))i=n[r++],s=n[r++];else if(a<e.length)i=e[a++],s=e[a++];else return t;!t.length||t[t.length-1]<i?t.push(i,s):t[t.length-1]<s&&(t[t.length-1]=s)}}function J1(n,e,t){var r;let a,i,s;return t?(a=e.changes,i=jt.empty(e.changes.length),s=n.changes.compose(e.changes)):(a=e.changes.map(n.changes),i=n.changes.mapDesc(e.changes,!0),s=n.changes.compose(a)),{changes:s,selection:e.selection?e.selection.map(i):(r=n.selection)===null||r===void 0?void 0:r.map(a),effects:Se.mapEffects(n.effects,a).concat(Se.mapEffects(e.effects,i)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function im(n,e,t){let r=e.selection,a=bi(e.annotations);return e.userEvent&&(a=a.concat(_t.userEvent.of(e.userEvent))),{changes:e.changes instanceof jt?e.changes:jt.of(e.changes||[],t,n.facet(G1)),selection:r&&(r instanceof K?r:K.single(r.anchor,r.head)),effects:bi(e.effects),annotations:a,scrollIntoView:!!e.scrollIntoView}}function eb(n,e,t){let r=im(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let i=1;i<e.length;i++){e[i].filter===!1&&(t=!1);let s=!!e[i].sequential;r=J1(r,im(n,e[i],s?r.changes.newLength:n.doc.length),s)}let a=_t.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return LP(t?jP(a):a)}function jP(n){let e=n.startState,t=!0;for(let a of e.facet(U1)){let i=a(n);if(i===!1){t=!1;break}Array.isArray(i)&&(t=t===!0?i:RP(t,i))}if(t!==!0){let a,i;if(t===!1)i=n.changes.invertedDesc,a=jt.empty(e.doc.length);else{let s=n.changes.filter(t);a=s.changes,i=s.filtered.mapDesc(s.changes).invertedDesc}n=_t.create(e,a,n.selection&&n.selection.map(i),Se.mapEffects(n.effects,i),n.annotations,n.scrollIntoView)}let r=e.facet(Y1);for(let a=r.length-1;a>=0;a--){let i=r[a](n);i instanceof _t?n=i:Array.isArray(i)&&i.length==1&&i[0]instanceof _t?n=i[0]:n=eb(e,bi(i),!1)}return n}function LP(n){let e=n.startState,t=e.facet(H1),r=n;for(let a=t.length-1;a>=0;a--){let i=t[a](n);i&&Object.keys(i).length&&(r=J1(r,im(e,i,n.changes.newLength),!0))}return r==n?n:_t.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const IP=[];function bi(n){return n==null?IP:Array.isArray(n)?n:[n]}var Tt=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Tt||(Tt={}));const NP=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let sm;try{sm=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function ZP(n){if(sm)return sm.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||NP.test(t)))return!0}return!1}function VP(n){return e=>{if(!/\S/.test(e))return Tt.Space;if(ZP(e))return Tt.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Tt.Word;return Tt.Other}}class et{constructor(e,t,r,a,i,s){this.config=e,this.doc=t,this.selection=r,this.values=a,this.status=e.statusTemplate.slice(),this.computeSlot=i,s&&(s._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)_s(this,o<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return _s(this,r),Ul(this,r)}update(...e){return eb(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:a}=t;for(let o of e.effects)o.is(mo.reconfigure)?(t&&(a=new Map,t.compartments.forEach((l,c)=>a.set(c,l)),t=null),a.set(o.value.compartment,o.value.extension)):o.is(Se.reconfigure)?(t=null,r=o.value):o.is(Se.appendConfig)&&(t=null,r=bi(r).concat(o.value));let i;t?i=e.startState.values.slice():(t=Gl.resolve(r,a,this),i=new et(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let s=e.startState.facet(am)?e.newSelection:e.newSelection.asSingle();new et(t,e.newDoc,s,i,(o,l)=>l.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:K.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),a=this.changes(r.changes),i=[r.range],s=bi(r.effects);for(let o=1;o<t.ranges.length;o++){let l=e(t.ranges[o]),c=this.changes(l.changes),p=c.map(a);for(let f=0;f<o;f++)i[f]=i[f].map(p);let d=a.mapDesc(c,!0);i.push(l.range.map(d)),a=a.compose(p),s=Se.mapEffects(s,p).concat(Se.mapEffects(bi(l.effects),d))}return{changes:a,selection:K.create(i,t.mainIndex),effects:s}}changes(e=[]){return e instanceof jt?e:jt.of(e,this.doc.length,this.facet(et.lineSeparator))}toText(e){return tt.of(e.split(this.facet(et.lineSeparator)||Jp))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(_s(this,t),Ul(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let a=e[r];a instanceof Pt&&this.config.address[a.id]!=null&&(t[r]=a.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let a=[];if(r){for(let i in r)if(Object.prototype.hasOwnProperty.call(e,i)){let s=r[i],o=e[i];a.push(s.init(l=>s.spec.fromJSON(o,l)))}}return et.create({doc:e.doc,selection:K.fromJSON(e.selection),extensions:t.extensions?a.concat([t.extensions]):a})}static create(e={}){let t=Gl.resolve(e.extensions||[],new Map),r=e.doc instanceof tt?e.doc:tt.of((e.doc||"").split(t.staticFacet(et.lineSeparator)||Jp)),a=e.selection?e.selection instanceof K?e.selection:K.single(e.selection.anchor,e.selection.head):K.single(0);return X1(a,r.length),t.staticFacet(am)||(a=a.asSingle()),new et(t,r,a,t.dynamicSlots.map(()=>null),(i,s)=>s.create(i),null)}get tabSize(){return this.facet(et.tabSize)}get lineBreak(){return this.facet(et.lineSeparator)||`
`}get readOnly(){return this.facet(K1)}phrase(e,...t){for(let r of this.facet(et.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,a)=>{if(a=="$")return"$";let i=+(a||1);return!i||i>t.length?r:t[i-1]})),e}languageDataAt(e,t,r=-1){let a=[];for(let i of this.facet(z1))for(let s of i(this,t,r))Object.prototype.hasOwnProperty.call(s,e)&&a.push(s[e]);return a}charCategorizer(e){return VP(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:a}=this.doc.lineAt(e),i=this.charCategorizer(e),s=e-r,o=e-r;for(;s>0;){let l=Xt(t,s,!1);if(i(t.slice(l,s))!=Tt.Word)break;s=l}for(;o<a;){let l=Xt(t,o);if(i(t.slice(o,l))!=Tt.Word)break;o=l}return s==o?null:K.range(s+r,o+r)}}et.allowMultipleSelections=am;et.tabSize=be.define({combine:n=>n.length?n[0]:4});et.lineSeparator=G1;et.readOnly=K1;et.phrases=be.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(a=>n[a]==e[a])}});et.languageData=z1;et.changeFilter=U1;et.transactionFilter=Y1;et.transactionExtender=H1;mo.reconfigure=Se.define();function na(n,e,t={}){let r={};for(let a of n)for(let i of Object.keys(a)){let s=a[i],o=r[i];if(o===void 0)r[i]=s;else if(!(o===s||s===void 0))if(Object.hasOwnProperty.call(t,i))r[i]=t[i](o,s);else throw new Error("Config merge conflict for field "+i)}for(let a in e)r[a]===void 0&&(r[a]=e[a]);return r}class Ga{eq(e){return this==e}range(e,t=e){return om.create(e,t,this)}}Ga.prototype.startSide=Ga.prototype.endSide=0;Ga.prototype.point=!1;Ga.prototype.mapMode=Qt.TrackDel;let om=class tb{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new tb(e,t,r)}};function lm(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class Mh{constructor(e,t,r,a){this.from=e,this.to=t,this.value=r,this.maxPoint=a}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,a=0){let i=r?this.to:this.from;for(let s=a,o=i.length;;){if(s==o)return s;let l=s+o>>1,c=i[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-t;if(l==s)return c>=0?s:o;c>=0?o=l:s=l+1}}between(e,t,r,a){for(let i=this.findIndex(t,-1e9,!0),s=this.findIndex(r,1e9,!1,i);i<s;i++)if(a(this.from[i]+e,this.to[i]+e,this.value[i])===!1)return!1}map(e,t){let r=[],a=[],i=[],s=-1,o=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],p=this.from[l]+e,d=this.to[l]+e,f,y;if(p==d){let P=t.mapPos(p,c.startSide,c.mapMode);if(P==null||(f=y=P,c.startSide!=c.endSide&&(y=t.mapPos(p,c.endSide),y<f)))continue}else if(f=t.mapPos(p,c.startSide),y=t.mapPos(d,c.endSide),f>y||f==y&&c.startSide>0&&c.endSide<=0)continue;(y-f||c.endSide-c.startSide)<0||(s<0&&(s=f),c.point&&(o=Math.max(o,y-f)),r.push(c),a.push(f-s),i.push(y-s))}return{mapped:r.length?new Mh(a,i,r,o):null,pos:s}}}class it{constructor(e,t,r,a){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=a}static create(e,t,r,a){return new it(e,t,r,a)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:a=0,filterTo:i=this.length}=e,s=e.filter;if(t.length==0&&!s)return this;if(r&&(t=t.slice().sort(lm)),this.isEmpty)return t.length?it.of(t):this;let o=new nb(this,null,-1).goto(0),l=0,c=[],p=new _r;for(;o.value||l<t.length;)if(l<t.length&&(o.from-t[l].from||o.startSide-t[l].value.startSide)>=0){let d=t[l++];p.addInner(d.from,d.to,d.value)||c.push(d)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(o.chunkIndex)<t[l].from)&&(!s||a>this.chunkEnd(o.chunkIndex)||i<this.chunkPos[o.chunkIndex])&&p.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||a>o.to||i<o.from||s(o.from,o.to,o.value))&&(p.addInner(o.from,o.to,o.value)||c.push(om.create(o.from,o.to,o.value))),o.next());return p.finishInner(this.nextLayer.isEmpty&&!c.length?it.empty:this.nextLayer.update({add:c,filter:s,filterFrom:a,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],a=-1;for(let s=0;s<this.chunk.length;s++){let o=this.chunkPos[s],l=this.chunk[s],c=e.touchesRange(o,o+l.length);if(c===!1)a=Math.max(a,l.maxPoint),t.push(l),r.push(e.mapPos(o));else if(c===!0){let{mapped:p,pos:d}=l.map(o,e);p&&(a=Math.max(a,p.maxPoint),t.push(p),r.push(d))}}let i=this.nextLayer.map(e);return t.length==0?i:new it(r,t,i||it.empty,a)}between(e,t,r){if(!this.isEmpty){for(let a=0;a<this.chunk.length;a++){let i=this.chunkPos[a],s=this.chunk[a];if(t>=i&&e<=i+s.length&&s.between(i,e-i,t-i,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return qs.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return qs.from(e).goto(t)}static compare(e,t,r,a,i=-1){let s=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=i),o=t.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=i),l=vf(s,o,r),c=new hs(s,l,i),p=new hs(o,l,i);r.iterGaps((d,f,y)=>xf(c,d,p,f,y,a)),r.empty&&r.length==0&&xf(c,0,p,0,0,a)}static eq(e,t,r=0,a){a==null&&(a=999999999);let i=e.filter(p=>!p.isEmpty&&t.indexOf(p)<0),s=t.filter(p=>!p.isEmpty&&e.indexOf(p)<0);if(i.length!=s.length)return!1;if(!i.length)return!0;let o=vf(i,s),l=new hs(i,o,0).goto(r),c=new hs(s,o,0).goto(r);for(;;){if(l.to!=c.to||!um(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>a)return!0;l.next(),c.next()}}static spans(e,t,r,a,i=-1){let s=new hs(e,null,i).goto(t),o=t,l=s.openStart;for(;;){let c=Math.min(s.to,r);if(s.point){let p=s.activeForPoint(s.to),d=s.pointFrom<t?p.length+1:s.point.startSide<0?p.length:Math.min(p.length,l);a.point(o,c,s.point,p,d,s.pointRank),l=Math.min(s.openEnd(c),p.length)}else c>o&&(a.span(o,c,s.active,l),l=s.openEnd(c));if(s.to>r)return l+(s.point&&s.to>r?1:0);o=s.to,s.next()}}static of(e,t=!1){let r=new _r;for(let a of e instanceof om?[e]:t?qP(e):e)r.add(a.from,a.to,a.value);return r.finish()}static join(e){if(!e.length)return it.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let a=e[r];a!=it.empty;a=a.nextLayer)t=new it(a.chunkPos,a.chunk,t,Math.max(a.maxPoint,t.maxPoint));return t}}it.empty=new it([],[],null,-1);function qP(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(lm(e,r)>0)return n.slice().sort(lm);e=r}return n}it.empty.nextLayer=it.empty;class _r{finishChunk(e){this.chunks.push(new Mh(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new _r)).add(e,t,r)}addInner(e,t,r){let a=e-this.lastTo||r.startSide-this.last.endSide;if(a<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return a<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(it.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=it.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function vf(n,e,t){let r=new Map;for(let i of n)for(let s=0;s<i.chunk.length;s++)i.chunk[s].maxPoint<=0&&r.set(i.chunk[s],i.chunkPos[s]);let a=new Set;for(let i of e)for(let s=0;s<i.chunk.length;s++){let o=r.get(i.chunk[s]);o!=null&&(t?t.mapPos(o):o)==i.chunkPos[s]&&!t?.touchesRange(o,o+i.chunk[s].length)&&a.add(i.chunk[s])}return a}class nb{constructor(e,t,r,a=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=a}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let a=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(a)||this.layer.chunkEnd(this.chunkIndex)<e||a.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let a=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<a)&&this.setRangeIndex(a)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class qs{constructor(e){this.heap=e}static from(e,t=null,r=-1){let a=[];for(let i=0;i<e.length;i++)for(let s=e[i];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&a.push(new nb(s,t,r,i));return a.length==1?a[0]:new qs(a)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)up(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)up(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),up(this.heap,0)}}}function up(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let a=n[r];if(r+1<n.length&&a.compare(n[r+1])>=0&&(a=n[r+1],r++),t.compare(a)<0)break;n[r]=t,n[e]=a,e=r}}class hs{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=qs.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){tl(this.active,e),tl(this.activeTo,e),tl(this.activeRank,e),this.minActive=Pf(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:a,rank:i}=this.cursor;for(;t<this.activeRank.length&&(i-this.activeRank[t]||a-this.activeTo[t])>0;)t++;nl(this.active,t,r),nl(this.activeTo,t,a),nl(this.activeRank,t,i),e&&nl(e,t,this.cursor.from),this.minActive=Pf(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let a=this.minActive;if(a>-1&&(this.activeTo[a]-this.cursor.from||this.active[a].endSide-this.cursor.startSide)<0){if(this.activeTo[a]>e){this.to=this.activeTo[a],this.endSide=this.active[a].endSide;break}this.removeActive(a),r&&tl(r,a)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let i=this.cursor.value;if(!i.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let a=r.length-1;a>=0&&r[a]<e;a--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function xf(n,e,t,r,a,i){n.goto(e),t.goto(r);let s=r+a,o=r,l=r-e;for(;;){let c=n.to+l-t.to,p=c||n.endSide-t.endSide,d=p<0?n.to+l:t.to,f=Math.min(d,s);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&um(n.activeForPoint(n.to),t.activeForPoint(t.to))||i.comparePoint(o,f,n.point,t.point):f>o&&!um(n.active,t.active)&&i.compareRange(o,f,n.active,t.active),d>s)break;(c||n.openEnd!=t.openEnd)&&i.boundChange&&i.boundChange(d),o=d,p<=0&&n.next(),p>=0&&t.next()}}function um(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function tl(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function nl(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function Pf(n,e){let t=-1,r=1e9;for(let a=0;a<e.length;a++)(e[a]-r||n[a].endSide-n[t].endSide)<0&&(t=a,r=e[a]);return t}function qi(n,e,t=n.length){let r=0;for(let a=0;a<t&&a<n.length;)n.charCodeAt(a)==9?(r+=e-r%e,a++):(r++,a=Xt(n,a));return r}function cm(n,e,t,r){for(let a=0,i=0;;){if(i>=e)return a;if(a==n.length)break;i+=n.charCodeAt(a)==9?t-i%t:1,a=Xt(n,a)}return r===!0?-1:n.length}const pm="ͼ",wf=typeof Symbol>"u"?"__"+pm:Symbol.for(pm),mm=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ba{constructor(e,t){this.rules=[];let{finish:r}=t||{};function a(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function i(s,o,l,c){let p=[],d=/^@(\w+)\b/.exec(s[0]),f=d&&d[1]=="keyframes";if(d&&o==null)return l.push(s[0]+";");for(let y in o){let P=o[y];if(/&/.test(y))i(y.split(/,\s*/).map(w=>s.map(A=>w.replace(/&/,A))).reduce((w,A)=>w.concat(A)),P,l);else if(P&&typeof P=="object"){if(!d)throw new RangeError("The value of a property ("+y+") should be a primitive value.");i(a(y),P,p,f)}else P!=null&&p.push(y.replace(/_.*/,"").replace(/[A-Z]/g,w=>"-"+w.toLowerCase())+": "+P+";")}(p.length||f)&&l.push((r&&!d&&!c?s.map(r):s).join(", ")+" {"+p.join(" ")+"}")}for(let s in e)i(a(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Cf[wf]||1;return Cf[wf]=e+1,pm+e.toString(36)}static mount(e,t,r){let a=e[mm],i=r&&r.nonce;a?i&&a.setNonce(i):a=new XP(e,i),a.mount(Array.isArray(t)?t:[t],e)}}let Af=new Map;class XP{constructor(e,t){let r=e.ownerDocument||e,a=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&a.CSSStyleSheet){let i=Af.get(r);if(i)return e[mm]=i;this.sheet=new a.CSSStyleSheet,Af.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[mm]=this}mount(e,t){let r=this.sheet,a=0,i=0;for(let s=0;s<e.length;s++){let o=e[s],l=this.modules.indexOf(o);if(l<i&&l>-1&&(this.modules.splice(l,1),i--,l=-1),l==-1){if(this.modules.splice(i++,0,o),r)for(let c=0;c<o.rules.length;c++)r.insertRule(o.rules[c],a++)}else{for(;i<l;)a+=this.modules[i++].rules.length;a+=o.rules.length,i++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s;let o=t.head||t;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ya={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Xs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},WP=typeof navigator<"u"&&/Mac/.test(navigator.platform),zP=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var qt=0;qt<10;qt++)ya[48+qt]=ya[96+qt]=String(qt);for(var qt=1;qt<=24;qt++)ya[qt+111]="F"+qt;for(var qt=65;qt<=90;qt++)ya[qt]=String.fromCharCode(qt+32),Xs[qt]=String.fromCharCode(qt);for(var cp in ya)Xs.hasOwnProperty(cp)||(Xs[cp]=ya[cp]);function GP(n){var e=WP&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||zP&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Xs:ya)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Ws(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function hm(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Al(n,e){if(!e.anchorNode)return!1;try{return hm(n,e.anchorNode)}catch{return!1}}function zs(n){return n.nodeType==3?Ya(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Ts(n,e,t,r){return t?Sf(n,e,t,r,-1)||Sf(n,e,t,r,1):!1}function Ua(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Yl(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function Sf(n,e,t,r,a){for(;;){if(n==t&&e==r)return!0;if(e==(a<0?0:Tr(n))){if(n.nodeName=="DIV")return!1;let i=n.parentNode;if(!i||i.nodeType!=1)return!1;e=Ua(n)+(a<0?0:1),n=i}else if(n.nodeType==1){if(n=n.childNodes[e+(a<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=a<0?Tr(n):0}else return!1}}function Tr(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Wu(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function UP(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function rb(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function YP(n,e,t,r,a,i,s,o){let l=n.ownerDocument,c=l.defaultView||window;for(let p=n,d=!1;p&&!d;)if(p.nodeType==1){let f,y=p==l.body,P=1,w=1;if(y)f=UP(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(p).position)&&(d=!0),p.scrollHeight<=p.clientHeight&&p.scrollWidth<=p.clientWidth){p=p.assignedSlot||p.parentNode;continue}let q=p.getBoundingClientRect();({scaleX:P,scaleY:w}=rb(p,q)),f={left:q.left,right:q.left+p.clientWidth*P,top:q.top,bottom:q.top+p.clientHeight*w}}let A=0,T=0;if(a=="nearest")e.top<f.top?(T=-(f.top-e.top+s),t>0&&e.bottom>f.bottom+T&&(T=e.bottom-f.bottom+T+s)):e.bottom>f.bottom&&(T=e.bottom-f.bottom+s,t<0&&e.top-T<f.top&&(T=-(f.top+T-e.top+s)));else{let q=e.bottom-e.top,G=f.bottom-f.top;T=(a=="center"&&q<=G?e.top+q/2-G/2:a=="start"||a=="center"&&t<0?e.top-s:e.bottom-G+s)-f.top}if(r=="nearest"?e.left<f.left?(A=-(f.left-e.left+i),t>0&&e.right>f.right+A&&(A=e.right-f.right+A+i)):e.right>f.right&&(A=e.right-f.right+i,t<0&&e.left<f.left+A&&(A=-(f.left+A-e.left+i))):A=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==o?e.left-i:e.right-(f.right-f.left)+i)-f.left,A||T)if(y)c.scrollBy(A,T);else{let q=0,G=0;if(T){let I=p.scrollTop;p.scrollTop+=T/w,G=(p.scrollTop-I)*w}if(A){let I=p.scrollLeft;p.scrollLeft+=A/P,q=(p.scrollLeft-I)*P}e={left:e.left-q,top:e.top-G,right:e.right-q,bottom:e.bottom-G},q&&Math.abs(q-A)<1&&(r="nearest"),G&&Math.abs(G-T)<1&&(a="nearest")}if(y)break;p=p.assignedSlot||p.parentNode}else if(p.nodeType==11)p=p.host;else break}function HP(n){let e=n.ownerDocument,t,r;for(let a=n.parentNode;a&&!(a==e.body||t&&r);)if(a.nodeType==1)!r&&a.scrollHeight>a.clientHeight&&(r=a),!t&&a.scrollWidth>a.clientWidth&&(t=a),a=a.assignedSlot||a.parentNode;else if(a.nodeType==11)a=a.host;else break;return{x:t,y:r}}class KP{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?Tr(t):0),r,Math.min(e.focusOffset,r?Tr(r):0))}set(e,t,r,a){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=a}}let ui=null;function ab(n){if(n.setActive)return n.setActive();if(ui)return n.focus(ui);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(ui==null?{get preventScroll(){return ui={preventScroll:!0},!0}}:void 0),!ui){ui=!1;for(let t=0;t<e.length;){let r=e[t++],a=e[t++],i=e[t++];r.scrollTop!=a&&(r.scrollTop=a),r.scrollLeft!=i&&(r.scrollLeft=i)}}}let Mf;function Ya(n,e,t=e){let r=Mf||(Mf=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function yi(n,e,t,r){let a={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey}=r);let i=new KeyboardEvent("keydown",a);i.synthetic=!0,n.dispatchEvent(i);let s=new KeyboardEvent("keyup",a);return s.synthetic=!0,n.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function JP(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function ib(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function ew(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,Tr(t));;)if(r){if(t.nodeType!=1)return!1;let a=t.childNodes[r-1];a.contentEditable=="false"?r--:(t=a,r=Tr(t))}else{if(t==n)return!0;r=Ua(t),t=t.parentNode}}function sb(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function ob(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=Tr(t)}else if(t.parentNode&&!Yl(t))r=Ua(t),t=t.parentNode;else return null}}function lb(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!Yl(t))r=Ua(t)+1,t=t.parentNode;else return null}}class en{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new en(e.parentNode,Ua(e),t)}static after(e,t){return new en(e.parentNode,Ua(e)+1,t)}}const Dh=[];class pt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,a=null,i;for(let s of this.children){if(s.flags&7){if(!s.dom&&(i=a?a.nextSibling:r.firstChild)){let o=pt.get(i);(!o||!o.parent&&o.canReuseDOM(s))&&s.reuseDOM(i)}s.sync(e,t),s.flags&=-8}if(i=a?a.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&i!=s.dom&&(t.written=!0),s.dom.parentNode==r)for(;i&&i!=s.dom;)i=Df(i);else r.insertBefore(s.dom,i);a=s.dom}for(i=a?a.nextSibling:r.firstChild,i&&t&&t.node==r&&(t.written=!0);i;)i=Df(i)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let a=Tr(e)==0?0:t==0?-1:1;for(;;){let i=e.parentNode;if(i==this.dom)break;a==0&&i.firstChild!=i.lastChild&&(e==i.firstChild?a=-1:a=1),e=i}a<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!pt.get(r);)r=r.nextSibling;if(!r)return this.length;for(let a=0,i=0;;a++){let s=this.children[a];if(s.dom==r)return i;i+=s.length+s.breakAfter}}domBoundsAround(e,t,r=0){let a=-1,i=-1,s=-1,o=-1;for(let l=0,c=r,p=r;l<this.children.length;l++){let d=this.children[l],f=c+d.length;if(c<e&&f>t)return d.domBoundsAround(e,t,c);if(f>=e&&a==-1&&(a=l,i=c),c>t&&d.dom.parentNode==this.dom){s=l,o=p;break}p=f,c=f+d.breakAfter}return{from:i,to:o<0?r+this.length:o,startDOM:(a?this.children[a-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=Dh){this.markDirty();for(let a=e;a<t;a++){let i=this.children[a];i.parent==this&&r.indexOf(i)<0&&i.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let a=0;a<r.length;a++)r[a].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ub(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,a,i,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}pt.prototype.breakAfter=0;function Df(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class ub{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function cb(n,e,t,r,a,i,s,o,l){let{children:c}=n,p=c.length?c[e]:null,d=i.length?i[i.length-1]:null,f=d?d.breakAfter:s;if(!(e==r&&p&&!s&&!f&&i.length<2&&p.merge(t,a,i.length?d:null,t==0,o,l))){if(r<c.length){let y=c[r];y&&(a<y.length||y.breakAfter&&d?.breakAfter)?(e==r&&(y=y.split(a),a=0),!f&&d&&y.merge(0,a,d,!0,0,l)?i[i.length-1]=y:((a||y.children.length&&!y.children[0].length)&&y.merge(0,a,null,!1,0,l),i.push(y))):y?.breakAfter&&(d?d.breakAfter=1:s=1),r++}for(p&&(p.breakAfter=s,t>0&&(!s&&i.length&&p.merge(t,p.length,i[0],!1,o,0)?p.breakAfter=i.shift().breakAfter:(t<p.length||p.children.length&&p.children[p.children.length-1].length==0)&&p.merge(t,p.length,null,!1,o,0),e++));e<r&&i.length;)if(c[r-1].become(i[i.length-1]))r--,i.pop(),l=i.length?0:o;else if(c[e].become(i[0]))e++,i.shift(),o=i.length?0:l;else break;!i.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,o,l)&&e--,(e<r||i.length)&&n.replaceChildren(e,r,i)}}function pb(n,e,t,r,a,i){let s=n.childCursor(),{i:o,off:l}=s.findPos(t,1),{i:c,off:p}=s.findPos(e,-1),d=e-t;for(let f of r)d+=f.length;n.length+=d,cb(n,c,p,o,l,r,0,a,i)}let Pn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},dm=typeof document<"u"?document:{documentElement:{style:{}}};const fm=/Edge\/(\d+)/.exec(Pn.userAgent),mb=/MSIE \d/.test(Pn.userAgent),gm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Pn.userAgent),zu=!!(mb||gm||fm),Bf=!zu&&/gecko\/(\d+)/i.test(Pn.userAgent),pp=!zu&&/Chrome\/(\d+)/.exec(Pn.userAgent),Ef="webkitFontSmoothing"in dm.documentElement.style,hb=!zu&&/Apple Computer/.test(Pn.vendor),Ff=hb&&(/Mobile\/\w+/.test(Pn.userAgent)||Pn.maxTouchPoints>2);var ge={mac:Ff||/Mac/.test(Pn.platform),windows:/Win/.test(Pn.platform),linux:/Linux|X11/.test(Pn.platform),ie:zu,ie_version:mb?dm.documentMode||6:gm?+gm[1]:fm?+fm[1]:0,gecko:Bf,gecko_version:Bf?+(/Firefox\/(\d+)/.exec(Pn.userAgent)||[0,0])[1]:0,chrome:!!pp,chrome_version:pp?+pp[1]:0,ios:Ff,android:/Android\b/.test(Pn.userAgent),webkit:Ef,safari:hb,webkit_version:Ef?+(/\bAppleWebKit\/(\d+)/.exec(Pn.userAgent)||[0,0])[1]:0,tabSize:dm.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const tw=256;class ur extends pt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof ur)||this.length-(t-e)+r.length>tw||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new ur(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new en(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return nw(this.dom,e,t)}}class Jr extends pt{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let a of t)a.setParent(this)}setAttrs(e){if(ib(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,a,i,s){return r&&(!(r instanceof Jr&&r.mark.eq(this.mark))||e&&i<=0||t<this.length&&s<=0)?!1:(pb(this,e,t,r?r.children.slice():[],i-1,s-1),this.markDirty(),!0)}split(e){let t=[],r=0,a=-1,i=0;for(let o of this.children){let l=r+o.length;l>e&&t.push(r<e?o.split(e-r):o),a<0&&r>=e&&(a=i),r=l,i++}let s=this.length-e;return this.length=e,a>-1&&(this.children.length=a,this.markDirty()),new Jr(this.mark,t,s)}domAtPos(e){return db(this,e)}coordsAt(e,t){return gb(this,e,t)}}function nw(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let a=e,i=e,s=0;e==0&&t<0||e==r&&t>=0?ge.chrome||ge.gecko||(e?(a--,s=1):i<r&&(i++,s=-1)):t<0?a--:i<r&&i++;let o=Ya(n,a,i).getClientRects();if(!o.length)return null;let l=o[(s?s<0:t>=0)?0:o.length-1];return ge.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(o,c=>c.width)||l),s?Wu(l,s<0):l||null}class ma extends pt{static create(e,t,r){return new ma(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=ma.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,a,i,s){return r&&(!(r instanceof ma)||!this.widget.compare(r.widget)||e>0&&i<=0||t<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof ma&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return tt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,a=this.posAtStart;return r?r.slice(a,a+this.length):tt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?en.before(this.dom):en.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let a=this.dom.getClientRects(),i=null;if(!a.length)return null;let s=this.side?this.side<0:e>0;for(let o=s?a.length-1:0;i=a[o],!(e>0?o==0:o==a.length-1||i.top<i.bottom);o+=s?-1:1);return Wu(i,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Di extends pt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Di&&e.side==this.side}split(){return new Di(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?en.before(this.dom):en.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return tt.empty}get isHidden(){return!0}}ur.prototype.children=ma.prototype.children=Di.prototype.children=Dh;function db(n,e){let t=n.dom,{children:r}=n,a=0;for(let i=0;a<r.length;a++){let s=r[a],o=i+s.length;if(!(o==i&&s.getSide()<=0)){if(e>i&&e<o&&s.dom.parentNode==t)return s.domAtPos(e-i);if(e<=i)break;i=o}}for(let i=a;i>0;i--){let s=r[i-1];if(s.dom.parentNode==t)return s.domAtPos(s.length)}for(let i=a;i<r.length;i++){let s=r[i];if(s.dom.parentNode==t)return s.domAtPos(0)}return new en(t,0)}function fb(n,e,t){let r,{children:a}=n;t>0&&e instanceof Jr&&a.length&&(r=a[a.length-1])instanceof Jr&&r.mark.eq(e.mark)?fb(r,e.children[0],t-1):(a.push(e),e.setParent(n)),n.length+=e.length}function gb(n,e,t){let r=null,a=-1,i=null,s=-1;function o(c,p){for(let d=0,f=0;d<c.children.length&&f<=p;d++){let y=c.children[d],P=f+y.length;P>=p&&(y.children.length?o(y,p-f):(!i||i.isHidden&&t>0)&&(P>p||f==P&&y.getSide()>0)?(i=y,s=p-f):(f<p||f==P&&y.getSide()<0&&!y.isHidden)&&(r=y,a=p-f)),f=P}}o(n,e);let l=(t<0?r:i)||r||i;return l?l.coordsAt(Math.max(0,l==r?a:s),t):rw(n)}function rw(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=zs(e);return t[t.length-1]||null}function bm(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const $f=Object.create(null);function Hl(n,e,t){if(n==e)return!0;n||(n=$f),e||(e=$f);let r=Object.keys(n),a=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=a.length-(t&&a.indexOf(t)>-1?1:0))return!1;for(let i of r)if(i!=t&&(a.indexOf(i)==-1||n[i]!==e[i]))return!1;return!0}function ym(n,e,t){let r=!1;if(e)for(let a in e)t&&a in t||(r=!0,a=="style"?n.style.cssText="":n.removeAttribute(a));if(t)for(let a in t)e&&e[a]==t[a]||(r=!0,a=="style"?n.style.cssText=t[a]:n.setAttribute(a,t[a]));return r}function aw(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class hr{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var ln=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(ln||(ln={}));class ke extends Ga{constructor(e,t,r,a){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=a}get heightRelevant(){return!1}static mark(e){return new ho(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Oa(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,a;if(e.isBlockGap)r=-5e8,a=4e8;else{let{start:i,end:s}=bb(e,t);r=(i?t?-3e8:-1:5e8)-1,a=(s?t?2e8:1:-6e8)+1}return new Oa(e,r,a,t,e.widget||null,!0)}static line(e){return new fo(e)}static set(e,t=!1){return it.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ke.none=it.empty;class ho extends ke{constructor(e){let{start:t,end:r}=bb(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof ho&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Hl(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}ho.prototype.point=!1;class fo extends ke{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof fo&&this.spec.class==e.spec.class&&Hl(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}fo.prototype.mapMode=Qt.TrackBefore;fo.prototype.point=!0;class Oa extends ke{constructor(e,t,r,a,i,s){super(t,r,i,e),this.block=a,this.isReplace=s,this.mapMode=a?t<=0?Qt.TrackBefore:Qt.TrackAfter:Qt.TrackDel}get type(){return this.startSide!=this.endSide?ln.WidgetRange:this.startSide<=0?ln.WidgetBefore:ln.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Oa&&iw(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Oa.prototype.point=!0;function bb(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function iw(n,e){return n==e||!!(n&&e&&n.compare(e))}function Sl(n,e,t,r=0){let a=t.length-1;a>=0&&t[a]+r>=n?t[a]=Math.max(t[a],e):t.push(n,e)}class $t extends pt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,a,i,s){if(r){if(!(r instanceof $t))return!1;this.dom||r.transferDOM(this)}return a&&this.setDeco(r?r.attrs:null),pb(this,e,t,r?r.children.slice():[],i,s),!0}split(e){let t=new $t;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:a}=this.childPos(e);a&&(t.append(this.children[r].split(a),0),this.children[r].merge(a,this.children[r].length,null,!1,0,0),r++);for(let i=r;i<this.children.length;i++)t.append(this.children[i],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Hl(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){fb(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=bm(t,this.attrs||{})),r&&(this.attrs=bm({class:r},this.attrs||{}))}domAtPos(e){return db(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(ib(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(ym(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let a=this.dom.lastChild;for(;a&&pt.get(a)instanceof Jr;)a=a.lastChild;if(!a||!this.length||a.nodeName!="BR"&&((r=pt.get(a))===null||r===void 0?void 0:r.isEditable)==!1&&(!ge.ios||!this.children.some(i=>i instanceof ur))){let i=document.createElement("BR");i.cmIgnore=!0,this.dom.appendChild(i)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof ur)||/[^ -~]/.test(r.text))return null;let a=zs(r.dom);if(a.length!=1)return null;e+=a[0].width,t=a[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=gb(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:a}=this.parent.view.viewState,i=r.bottom-r.top;if(Math.abs(i-a.lineHeight)<2&&a.textHeight<i){let s=(i-a.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof $t&&this.children.length==0&&e.children.length==0&&Hl(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,a=0;r<e.children.length;r++){let i=e.children[r],s=a+i.length;if(s>=t){if(i instanceof $t)return i;if(s>t)break}a=s+i.breakAfter}return null}}class Ur extends pt{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,a,i,s){return r&&(!(r instanceof Ur)||!this.widget.compare(r.widget)||e>0&&i<=0||t<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?en.before(this.dom):en.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new Ur(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return Dh}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):tt.empty}domBoundsAround(){return null}become(e){return e instanceof Ur&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof Om?null:Wu(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class Om extends hr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Rs{constructor(e,t,r,a){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=a,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Ur&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new $t),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(rl(new Di(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Ur)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:i,lineBreak:s,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=i,this.textOff=0}let a=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(rl(new ur(this.text.slice(this.textOff,this.textOff+a)),t),r),this.atCursorPos=!0,this.textOff+=a,e-=a,r=0}}span(e,t,r,a){this.buildText(t-e,r,a),this.pos=t,this.openStart<0&&(this.openStart=a)}point(e,t,r,a,i,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Oa){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(r instanceof Oa)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ur(r.widget||Bi.block,o,r));else{let l=ma.create(r.widget||Bi.inline,o,o?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&i<=a.length&&(e<t||r.startSide>0),p=!l.isEditable&&(e<t||i>a.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(a),c&&(d.append(rl(new Di(1),a),i),i=a.length+Math.max(0,i-a.length)),d.append(rl(l,a),i),this.atCursorPos=p,this.pendingBuffer=p?e<t||i>a.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=a.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}static build(e,t,r,a,i){let s=new Rs(e,t,r,i);return s.openEnd=it.spans(a,t,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function rl(n,e){for(let t of e)n=new Jr(t,[n],n.length);return n}class Bi extends hr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Bi.inline=new Bi("span");Bi.block=new Bi("div");var mt=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(mt||(mt={}));const Ha=mt.LTR,Bh=mt.RTL;function yb(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const sw=yb("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ow=yb("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),km=Object.create(null),vr=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);km[e]=t,km[t]=-e}function Ob(n){return n<=247?sw[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?ow[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const lw=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class ha{get dir(){return this.level%2?Bh:Ha}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,a){let i=-1;for(let s=0;s<e.length;s++){let o=e[s];if(o.from<=t&&o.to>=t){if(o.level==r)return s;(i<0||(a!=0?a<0?o.from<t:o.to>t:e[i].level>o.level))&&(i=s)}}if(i<0)throw new RangeError("Index out of range");return i}}function kb(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],a=e[t];if(r.from!=a.from||r.to!=a.to||r.direction!=a.direction||!kb(r.inner,a.inner))return!1}return!0}const ct=[];function uw(n,e,t,r,a){for(let i=0;i<=r.length;i++){let s=i?r[i-1].to:e,o=i<r.length?r[i].from:t,l=i?256:a;for(let c=s,p=l,d=l;c<o;c++){let f=Ob(n.charCodeAt(c));f==512?f=p:f==8&&d==4&&(f=16),ct[c]=f==4?2:f,f&7&&(d=f),p=f}for(let c=s,p=l,d=l;c<o;c++){let f=ct[c];if(f==128)c<o-1&&p==ct[c+1]&&p&24?f=ct[c]=p:ct[c]=256;else if(f==64){let y=c+1;for(;y<o&&ct[y]==64;)y++;let P=c&&p==8||y<t&&ct[y]==8?d==1?1:8:256;for(let w=c;w<y;w++)ct[w]=P;c=y-1}else f==8&&d==1&&(ct[c]=1);p=f,f&7&&(d=f)}}}function cw(n,e,t,r,a){let i=a==1?2:1;for(let s=0,o=0,l=0;s<=r.length;s++){let c=s?r[s-1].to:e,p=s<r.length?r[s].from:t;for(let d=c,f,y,P;d<p;d++)if(y=km[f=n.charCodeAt(d)])if(y<0){for(let w=o-3;w>=0;w-=3)if(vr[w+1]==-y){let A=vr[w+2],T=A&2?a:A&4?A&1?i:a:0;T&&(ct[d]=ct[vr[w]]=T),o=w;break}}else{if(vr.length==189)break;vr[o++]=d,vr[o++]=f,vr[o++]=l}else if((P=ct[d])==2||P==1){let w=P==a;l=w?0:1;for(let A=o-3;A>=0;A-=3){let T=vr[A+2];if(T&2)break;if(w)vr[A+2]|=2;else{if(T&4)break;vr[A+2]|=4}}}}}function pw(n,e,t,r){for(let a=0,i=r;a<=t.length;a++){let s=a?t[a-1].to:n,o=a<t.length?t[a].from:e;for(let l=s;l<o;){let c=ct[l];if(c==256){let p=l+1;for(;;)if(p==o){if(a==t.length)break;p=t[a++].to,o=a<t.length?t[a].from:e}else if(ct[p]==256)p++;else break;let d=i==1,f=(p<e?ct[p]:r)==1,y=d==f?d?1:2:r;for(let P=p,w=a,A=w?t[w-1].to:n;P>l;)P==A&&(P=t[--w].from,A=w?t[w-1].to:n),ct[--P]=y;l=p}else i=c,l++}}}function vm(n,e,t,r,a,i,s){let o=r%2?2:1;if(r%2==a%2)for(let l=e,c=0;l<t;){let p=!0,d=!1;if(c==i.length||l<i[c].from){let w=ct[l];w!=o&&(p=!1,d=w==16)}let f=!p&&o==1?[]:null,y=p?r:r+1,P=l;e:for(;;)if(c<i.length&&P==i[c].from){if(d)break e;let w=i[c];if(!p)for(let A=w.to,T=c+1;;){if(A==t)break e;if(T<i.length&&i[T].from==A)A=i[T++].to;else{if(ct[A]==o)break e;break}}if(c++,f)f.push(w);else{w.from>l&&s.push(new ha(l,w.from,y));let A=w.direction==Ha!=!(y%2);xm(n,A?r+1:r,a,w.inner,w.from,w.to,s),l=w.to}P=w.to}else{if(P==t||(p?ct[P]!=o:ct[P]==o))break;P++}f?vm(n,l,P,r+1,a,f,s):l<P&&s.push(new ha(l,P,y)),l=P}else for(let l=t,c=i.length;l>e;){let p=!0,d=!1;if(!c||l>i[c-1].to){let w=ct[l-1];w!=o&&(p=!1,d=w==16)}let f=!p&&o==1?[]:null,y=p?r:r+1,P=l;e:for(;;)if(c&&P==i[c-1].to){if(d)break e;let w=i[--c];if(!p)for(let A=w.from,T=c;;){if(A==e)break e;if(T&&i[T-1].to==A)A=i[--T].from;else{if(ct[A-1]==o)break e;break}}if(f)f.push(w);else{w.to<l&&s.push(new ha(w.to,l,y));let A=w.direction==Ha!=!(y%2);xm(n,A?r+1:r,a,w.inner,w.from,w.to,s),l=w.from}P=w.from}else{if(P==e||(p?ct[P-1]!=o:ct[P-1]==o))break;P--}f?vm(n,P,l,r+1,a,f,s):P<l&&s.push(new ha(P,l,y)),l=P}}function xm(n,e,t,r,a,i,s){let o=e%2?2:1;uw(n,a,i,r,o),cw(n,a,i,r,o),pw(a,i,r,o),vm(n,a,i,e,t,r,s)}function mw(n,e,t){if(!n)return[new ha(0,0,e==Bh?1:0)];if(e==Ha&&!t.length&&!lw.test(n))return vb(n.length);if(t.length)for(;n.length>ct.length;)ct[ct.length]=256;let r=[],a=e==Ha?0:1;return xm(n,a,a,t,0,n.length,r),r}function vb(n){return[new ha(0,n,0)]}let xb="";function hw(n,e,t,r,a){var i;let s=r.head-n.from,o=ha.find(e,s,(i=r.bidiLevel)!==null&&i!==void 0?i:-1,r.assoc),l=e[o],c=l.side(a,t);if(s==c){let f=o+=a?1:-1;if(f<0||f>=e.length)return null;l=e[o=f],s=l.side(!a,t),c=l.side(a,t)}let p=Xt(n.text,s,l.forward(a,t));(p<l.from||p>l.to)&&(p=c),xb=n.text.slice(Math.min(s,p),Math.max(s,p));let d=o==(a?e.length-1:0)?null:e[o+(a?1:-1)];return d&&p==c&&d.level+(a?0:1)<l.level?K.cursor(d.side(!a,t)+n.from,d.forward(a,t)?1:-1,d.level):K.cursor(p+n.from,l.forward(a,t)?-1:1,l.level)}function dw(n,e,t){for(let r=e;r<t;r++){let a=Ob(n.charCodeAt(r));if(a==1)return Ha;if(a==2||a==4)return Bh}return Ha}const Pb=be.define(),wb=be.define(),Cb=be.define(),Ab=be.define(),Pm=be.define(),Sb=be.define(),Mb=be.define(),Eh=be.define(),Fh=be.define(),Db=be.define({combine:n=>n.some(e=>e)}),Bb=be.define({combine:n=>n.some(e=>e)}),Eb=be.define();class Oi{constructor(e,t="nearest",r="nearest",a=5,i=5,s=!1){this.range=e,this.y=t,this.x=r,this.yMargin=a,this.xMargin=i,this.isSnapshot=s}map(e){return e.empty?this:new Oi(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Oi(K.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const al=Se.define({map:(n,e)=>n.map(e)}),Fb=Se.define();function wn(n,e,t){let r=n.facet(Ab);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Gr=be.define({combine:n=>n.length?n[0]:!0});let fw=0;const Cs=be.define();class Ct{constructor(e,t,r,a,i){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=a,this.extension=i(this)}static define(e,t){const{eventHandlers:r,eventObservers:a,provide:i,decorations:s}=t||{};return new Ct(fw++,e,r,a,o=>{let l=[Cs.of(o)];return s&&l.push(Gs.of(c=>{let p=c.plugin(o);return p?s(p):ke.none})),i&&l.push(i(o)),l})}static fromClass(e,t){return Ct.define(r=>new e(r),t)}}class mp{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(wn(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){wn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){wn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const $b=be.define(),$h=be.define(),Gs=be.define(),Qb=be.define(),Qh=be.define(),_b=be.define();function Qf(n,e){let t=n.state.facet(_b);if(!t.length)return t;let r=t.map(i=>i instanceof Function?i(n):i),a=[];return it.spans(r,e.from,e.to,{point(){},span(i,s,o,l){let c=i-e.from,p=s-e.from,d=a;for(let f=o.length-1;f>=0;f--,l--){let y=o[f].spec.bidiIsolate,P;if(y==null&&(y=dw(e.text,c,p)),l>0&&d.length&&(P=d[d.length-1]).to==c&&P.direction==y)P.to=p,d=P.inner;else{let w={from:c,to:p,direction:y,inner:[]};d.push(w),d=w.inner}}}}),a}const Tb=be.define();function _h(n){let e=0,t=0,r=0,a=0;for(let i of n.state.facet(Tb)){let s=i(n);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(t=Math.max(t,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(a=Math.max(a,s.bottom)))}return{left:e,right:t,top:r,bottom:a}}const As=be.define();class Hn{constructor(e,t,r,a){this.fromA=e,this.toA=t,this.fromB=r,this.toB=a}join(e){return new Hn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let a=e[t-1];if(!(a.fromA>r.toA)){if(a.toA<r.fromA)break;r=r.join(a),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let a=0,i=0,s=0,o=0;;a++){let l=a==e.length?null:e[a],c=s-o,p=l?l.fromB:1e9;for(;i<t.length&&t[i]<p;){let d=t[i],f=t[i+1],y=Math.max(o,d),P=Math.min(p,f);if(y<=P&&new Hn(y+c,P+c,y,P).addToSet(r),f>p)break;i+=2}if(!l)return r;new Hn(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),s=l.toA,o=l.toB}}}class Kl{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=jt.empty(this.startState.doc.length);for(let i of r)this.changes=this.changes.compose(i.changes);let a=[];this.changes.iterChangedRanges((i,s,o,l)=>a.push(new Hn(i,s,o,l))),this.changedRanges=a}static create(e,t,r){return new Kl(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class _f extends pt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ke.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new $t],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Hn(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:p})=>p<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let a=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?a=this.domChanged.newSel.head:!xw(e.changes,this.hasComposition)&&!e.selectionSet&&(a=e.state.selection.main.head));let i=a>-1?bw(this.view,e.changes,a):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:p}=this.hasComposition;r=new Hn(c,p,e.changes.mapPos(c,-1),e.changes.mapPos(p,1)).addToSet(r.slice())}this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(ge.ie||ge.chrome)&&!i&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,o=this.updateDeco(),l=kw(s,o,e.changes);return r=Hn.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,i),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:a}=this.view;a.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ge.chrome||ge.ios?{node:a.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||a.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Ur&&s.widget instanceof Om&&i.push(s.dom);a.updateGaps(i)}updateChildren(e,t,r){let a=r?r.range.addToSet(e.slice()):e,i=this.childCursor(t);for(let s=a.length-1;;s--){let o=s>=0?a[s]:null;if(!o)break;let{fromA:l,toA:c,fromB:p,toB:d}=o,f,y,P,w;if(r&&r.range.fromB<d&&r.range.toB>p){let I=Rs.build(this.view.state.doc,p,r.range.fromB,this.decorations,this.dynamicDecorationMap),Q=Rs.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);y=I.breakAtStart,P=I.openStart,w=Q.openEnd;let Z=this.compositionView(r);Q.breakAtStart?Z.breakAfter=1:Q.content.length&&Z.merge(Z.length,Z.length,Q.content[0],!1,Q.openStart,0)&&(Z.breakAfter=Q.content[0].breakAfter,Q.content.shift()),I.content.length&&Z.merge(0,0,I.content[I.content.length-1],!0,0,I.openEnd)&&I.content.pop(),f=I.content.concat(Z).concat(Q.content)}else({content:f,breakAtStart:y,openStart:P,openEnd:w}=Rs.build(this.view.state.doc,p,d,this.decorations,this.dynamicDecorationMap));let{i:A,off:T}=i.findPos(c,1),{i:q,off:G}=i.findPos(l,-1);cb(this,q,G,A,T,f,y,P,w)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(Fb)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new ur(e.text.nodeValue);t.flags|=8;for(let{deco:a}of e.marks)t=new Jr(a,[t],t.length);let r=new $t;return r.append(t,0),r}fixCompositionDOM(e){let t=(i,s)=>{s.flags|=8|(s.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(s);let o=pt.get(i);o&&o!=s&&(o.dom=null),s.setDOM(i)},r=this.childPos(e.range.fromB,1),a=this.children[r.i];t(e.line,a);for(let i=e.marks.length-1;i>=-1;i--)r=a.childPos(r.off,1),a=a.children[r.i],t(i>=0?e.marks[i].node:e.text,a)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,a=r==this.dom,i=!a&&!(this.view.state.facet(Gr)||this.dom.tabIndex>-1)&&Al(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(a||t||i))return;let s=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(o.anchor)),c=o.empty?l:this.moveToLine(this.domAtPos(o.head));if(ge.gecko&&o.empty&&!this.hasComposition&&gw(l)){let d=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=c=new en(d,0),s=!0}let p=this.view.observer.selectionRange;(s||!p.focusNode||(!Ts(l.node,l.offset,p.anchorNode,p.anchorOffset)||!Ts(c.node,c.offset,p.focusNode,p.focusOffset))&&!this.suppressWidgetCursorChange(p,o))&&(this.view.observer.ignore(()=>{ge.android&&ge.chrome&&this.dom.contains(p.focusNode)&&vw(p.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=Ws(this.view.root);if(d)if(o.empty){if(ge.gecko){let f=yw(l.node,l.offset);if(f&&f!=3){let y=(f==1?ob:lb)(l.node,l.offset);y&&(l=new en(y.node,y.offset))}}d.collapse(l.node,l.offset),o.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=o.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(c.node,c.offset)}catch{}}else{let f=document.createRange();o.anchor>o.head&&([l,c]=[c,l]),f.setEnd(c.node,c.offset),f.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(f)}i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new en(p.anchorNode,p.anchorOffset),this.impreciseHead=c.precise?null:new en(p.focusNode,p.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Ts(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=Ws(e.root),{anchorNode:a,anchorOffset:i}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let s=$t.find(this,t.head);if(!s)return;let o=s.posAtStart;if(t.head==o||t.head==o+s.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let p=this.domAtPos(t.head+t.assoc);r.collapse(p.node,p.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&r.collapse(a,i)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let a=e.offset;!r&&a<t.childNodes.length;a++){let i=pt.get(t.childNodes[a]);i instanceof $t&&(r=i.domAtPos(0))}for(let a=e.offset-1;!r&&a>=0;a--){let i=pt.get(t.childNodes[a]);i instanceof $t&&(r=i.domAtPos(i.length))}return r?new en(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=pt.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let a=this.children[t];if(r<a.length||a instanceof $t)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,a=0;for(let i=this.length,s=this.children.length-1;s>=0;s--){let o=this.children[s],l=i-o.breakAfter,c=l-o.length;if(l<e)break;if(c<=e&&(c<e||o.covers(-1))&&(l>e||o.covers(1))&&(!r||o instanceof $t&&!(r instanceof $t&&t>=0)))r=o,a=c;else if(r&&c==e&&l==e&&o instanceof Ur&&Math.abs(t)<2){if(o.deco.startSide<0)break;s&&(r=null)}i=c}return r?r.coordsAt(e-a,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),a=this.children[t];if(!(a instanceof $t))return null;for(;a.children.length;){let{i:o,off:l}=a.childPos(r,1);for(;;o++){if(o==a.children.length)return null;if((a=a.children[o]).length)break}r=l}if(!(a instanceof ur))return null;let i=Xt(a.text,r);if(i==r)return null;let s=Ya(a.dom,r,i).getClientRects();for(let o=0;o<s.length;o++){let l=s[o];if(o==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:a}=e,i=this.view.contentDOM.clientWidth,s=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==mt.LTR;for(let c=0,p=0;p<this.children.length;p++){let d=this.children[p],f=c+d.length;if(f>a)break;if(c>=r){let y=d.dom.getBoundingClientRect();if(t.push(y.height),s){let P=d.dom.lastChild,w=P?zs(P):[];if(w.length){let A=w[w.length-1],T=l?A.right-y.left:y.right-A.left;T>o&&(o=T,this.minWidth=i,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+d.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?mt.RTL:mt.LTR}measureTextSize(){for(let i of this.children)if(i instanceof $t){let s=i.measureTextSize();if(s)return s}let e=document.createElement("div"),t,r,a;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let i=zs(e.firstChild)[0];t=e.getBoundingClientRect().height,r=i?i.width/27:7,a=i?i.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:a}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new ub(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,a=0;;a++){let i=a==t.viewports.length?null:t.viewports[a],s=i?i.from-1:this.length;if(s>r){let o=(t.lineBlockAt(s).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(ke.replace({widget:new Om(o),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!i)break;r=i.to+1}return ke.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Gs).map(i=>(this.dynamicDecorationMap[e++]=typeof i=="function")?i(this.view):i),r=!1,a=this.view.state.facet(Qb).map((i,s)=>{let o=typeof i=="function";return o&&(r=!0),o?i(this.view):i});for(a.length&&(this.dynamicDecorationMap[e++]=r,t.push(it.join(a))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(Eb))try{if(c(this.view,e.range,e))return!0}catch(p){wn(this.view.state,p,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),a;if(!r)return;!t.empty&&(a=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,a.left),top:Math.min(r.top,a.top),right:Math.max(r.right,a.right),bottom:Math.max(r.bottom,a.bottom)});let i=_h(this.view),s={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom},{offsetWidth:o,offsetHeight:l}=this.view.scrollDOM;YP(this.view.scrollDOM,s,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==mt.LTR)}}function gw(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function Rb(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=ob(t.focusNode,t.focusOffset),a=lb(t.focusNode,t.focusOffset),i=r||a;if(a&&r&&a.node!=r.node){let o=pt.get(a.node);if(!o||o instanceof ur&&o.text!=a.node.nodeValue)i=a;else if(n.docView.lastCompositionAfterCursor){let l=pt.get(r.node);!l||l instanceof ur&&l.text!=r.node.nodeValue||(i=a)}}if(n.docView.lastCompositionAfterCursor=i!=r,!i)return null;let s=e-i.offset;return{from:s,to:s+i.node.nodeValue.length,node:i.node}}function bw(n,e,t){let r=Rb(n,t);if(!r)return null;let{node:a,from:i,to:s}=r,o=a.nodeValue;if(/[\n\r]/.test(o)||n.state.doc.sliceString(r.from,r.to)!=o)return null;let l=e.invertedDesc,c=new Hn(l.mapPos(i),l.mapPos(s),i,s),p=[];for(let d=a.parentNode;;d=d.parentNode){let f=pt.get(d);if(f instanceof Jr)p.push({node:d,deco:f.mark});else{if(f instanceof $t||d.nodeName=="DIV"&&d.parentNode==n.contentDOM)return{range:c,text:a,marks:p,line:d};if(d!=n.contentDOM)p.push({node:d,deco:new ho({inclusive:!0,attributes:aw(d),tagName:d.tagName.toLowerCase()})});else return null}}}function yw(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let Ow=class{constructor(){this.changes=[]}compareRange(e,t){Sl(e,t,this.changes)}comparePoint(e,t){Sl(e,t,this.changes)}boundChange(e){Sl(e,e,this.changes)}};function kw(n,e,t){let r=new Ow;return it.compare(n,e,t,r),r.changes}function vw(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function xw(n,e){let t=!1;return e&&n.iterChangedRanges((r,a)=>{r<e.to&&a>e.from&&(t=!0)}),t}function Pw(n,e,t=1){let r=n.charCategorizer(e),a=n.doc.lineAt(e),i=e-a.from;if(a.length==0)return K.cursor(e);i==0?t=1:i==a.length&&(t=-1);let s=i,o=i;t<0?s=Xt(a.text,i,!1):o=Xt(a.text,i);let l=r(a.text.slice(s,o));for(;s>0;){let c=Xt(a.text,s,!1);if(r(a.text.slice(c,s))!=l)break;s=c}for(;o<a.length;){let c=Xt(a.text,o);if(r(a.text.slice(o,c))!=l)break;o=c}return K.range(s+a.from,o+a.from)}function ww(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function Cw(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function hp(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Tf(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function Rf(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function wm(n,e,t){let r,a,i,s,o=!1,l,c,p,d;for(let P=n.firstChild;P;P=P.nextSibling){let w=zs(P);for(let A=0;A<w.length;A++){let T=w[A];a&&hp(a,T)&&(T=Tf(Rf(T,a.bottom),a.top));let q=ww(e,T),G=Cw(t,T);if(q==0&&G==0)return P.nodeType==3?jf(P,e,t):wm(P,e,t);if(!r||s>G||s==G&&i>q){r=P,a=T,i=q,s=G;let I=G?t<T.top?-1:1:q?e<T.left?-1:1:0;o=!I||(I>0?A<w.length-1:A>0)}q==0?t>T.bottom&&(!p||p.bottom<T.bottom)?(l=P,p=T):t<T.top&&(!d||d.top>T.top)&&(c=P,d=T):p&&hp(p,T)?p=Rf(p,T.bottom):d&&hp(d,T)&&(d=Tf(d,T.top))}}if(p&&p.bottom>=t?(r=l,a=p):d&&d.top<=t&&(r=c,a=d),!r)return{node:n,offset:0};let f=Math.max(a.left,Math.min(a.right,e));if(r.nodeType==3)return jf(r,f,t);if(o&&r.contentEditable!="false")return wm(r,f,t);let y=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(a.left+a.right)/2?1:0);return{node:n,offset:y}}function jf(n,e,t){let r=n.nodeValue.length,a=-1,i=1e9,s=0;for(let o=0;o<r;o++){let l=Ya(n,o,o+1).getClientRects();for(let c=0;c<l.length;c++){let p=l[c];if(p.top==p.bottom)continue;s||(s=e-p.left);let d=(p.top>t?p.top-t:t-p.bottom)-1;if(p.left-1<=e&&p.right+1>=e&&d<i){let f=e>=(p.left+p.right)/2,y=f;if((ge.chrome||ge.gecko)&&Ya(n,o).getBoundingClientRect().left==p.right&&(y=!f),d<=0)return{node:n,offset:o+(y?1:0)};a=o+(y?1:0),i=d}}}return{node:n,offset:a>-1?a:s>0?n.nodeValue.length:0}}function jb(n,e,t,r=-1){var a,i;let s=n.contentDOM.getBoundingClientRect(),o=s.top+n.viewState.paddingTop,l,{docHeight:c}=n.viewState,{x:p,y:d}=e,f=d-o;if(f<0)return 0;if(f>c)return n.state.doc.length;for(let I=n.viewState.heightOracle.textHeight/2,Q=!1;l=n.elementAtHeight(f),l.type!=ln.Text;)for(;f=r>0?l.bottom+I:l.top-I,!(f>=0&&f<=c);){if(Q)return t?null:0;Q=!0,r=-r}d=o+f;let y=l.from;if(y<n.viewport.from)return n.viewport.from==0?0:t?null:Lf(n,s,l,p,d);if(y>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:Lf(n,s,l,p,d);let P=n.dom.ownerDocument,w=n.root.elementFromPoint?n.root:P,A=w.elementFromPoint(p,d);A&&!n.contentDOM.contains(A)&&(A=null),A||(p=Math.max(s.left+1,Math.min(s.right-1,p)),A=w.elementFromPoint(p,d),A&&!n.contentDOM.contains(A)&&(A=null));let T,q=-1;if(A&&((a=n.docView.nearest(A))===null||a===void 0?void 0:a.isEditable)!=!1){if(P.caretPositionFromPoint){let I=P.caretPositionFromPoint(p,d);I&&({offsetNode:T,offset:q}=I)}else if(P.caretRangeFromPoint){let I=P.caretRangeFromPoint(p,d);I&&({startContainer:T,startOffset:q}=I,(!n.contentDOM.contains(T)||ge.safari&&Aw(T,q,p)||ge.chrome&&Sw(T,q,p))&&(T=void 0))}T&&(q=Math.min(Tr(T),q))}if(!T||!n.docView.dom.contains(T)){let I=$t.find(n.docView,y);if(!I)return f>l.top+l.height/2?l.to:l.from;({node:T,offset:q}=wm(I.dom,p,d))}let G=n.docView.nearest(T);if(!G)return null;if(G.isWidget&&((i=G.dom)===null||i===void 0?void 0:i.nodeType)==1){let I=G.dom.getBoundingClientRect();return e.y<I.top||e.y<=I.bottom&&e.x<=(I.left+I.right)/2?G.posAtStart:G.posAtEnd}else return G.localPosFromDOM(T,q)+G.posAtStart}function Lf(n,e,t,r,a){let i=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let o=n.viewState.heightOracle.textHeight,l=Math.floor((a-t.top-(n.defaultLineHeight-o)*.5)/o);i+=l*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+cm(s,i,n.state.tabSize)}function Aw(n,e,t){let r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(let a=n.nextSibling;a;a=a.nextSibling)if(a.nodeType!=1||a.nodeName!="BR")return!1;return Ya(n,r-1,r).getBoundingClientRect().left>t}function Sw(n,e,t){if(e!=0)return!1;for(let a=n;;){let i=a.parentNode;if(!i||i.nodeType!=1||i.firstChild!=a)return!1;if(i.classList.contains("cm-line"))break;a=i}let r=n.nodeType==1?n.getBoundingClientRect():Ya(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function Cm(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==ln.Text))return r}return t}function Mw(n,e,t,r){let a=Cm(n,e.head),i=!r||a.type!=ln.Text||!(n.lineWrapping||a.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>a.from?e.head-1:e.head);if(i){let s=n.dom.getBoundingClientRect(),o=n.textDirectionAt(a.from),l=n.posAtCoords({x:t==(o==mt.LTR)?s.right-1:s.left+1,y:(i.top+i.bottom)/2});if(l!=null)return K.cursor(l,t?-1:1)}return K.cursor(t?a.to:a.from,t?-1:1)}function If(n,e,t,r){let a=n.state.doc.lineAt(e.head),i=n.bidiSpans(a),s=n.textDirectionAt(a.from);for(let o=e,l=null;;){let c=hw(a,i,s,o,t),p=xb;if(!c){if(a.number==(t?n.state.doc.lines:1))return o;p=`
`,a=n.state.doc.line(a.number+(t?1:-1)),i=n.bidiSpans(a),c=n.visualLineSide(a,!t)}if(l){if(!l(p))return o}else{if(!r)return c;l=r(p)}o=c}}function Dw(n,e,t){let r=n.state.charCategorizer(e),a=r(t);return i=>{let s=r(i);return a==Tt.Space&&(a=s),a==s}}function Bw(n,e,t,r){let a=e.head,i=t?1:-1;if(a==(t?n.state.doc.length:0))return K.cursor(a,e.assoc);let s=e.goalColumn,o,l=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(a,e.assoc||-1),p=n.documentTop;if(c)s==null&&(s=c.left-l.left),o=i<0?c.top:c.bottom;else{let y=n.viewState.lineBlockAt(a);s==null&&(s=Math.min(l.right-l.left,n.defaultCharacterWidth*(a-y.from))),o=(i<0?y.top:y.bottom)+p}let d=l.left+s,f=r??n.viewState.heightOracle.textHeight>>1;for(let y=0;;y+=10){let P=o+(f+y)*i,w=jb(n,{x:d,y:P},!1,i);if(P<l.top||P>l.bottom||(i<0?w<a:w>a)){let A=n.docView.coordsForChar(w),T=!A||P<A.top?-1:1;return K.cursor(w,T,void 0,s)}}}function Ml(n,e,t){for(;;){let r=0;for(let a of n)a.between(e-1,e+1,(i,s,o)=>{if(e>i&&e<s){let l=r||t||(e-i<s-e?-1:1);e=l<0?i:s,r=l}});if(!r)return e}}function dp(n,e,t){let r=Ml(n.state.facet(Qh).map(a=>a(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:K.cursor(r,r<t.from?1:-1)}const Ss="￿";class Ew{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(et.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ss}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let a=e;;){this.findPointBefore(r,a);let i=this.text.length;this.readNode(a);let s=a.nextSibling;if(s==t)break;let o=pt.get(a),l=pt.get(s);(o&&l?o.breakAfter:(o?o.breakAfter:Yl(a))||Yl(s)&&(a.nodeName!="BR"||a.cmIgnore)&&this.text.length>i)&&this.lineBreak(),a=s}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,a=this.lineSeparator?null:/\r\n?|\n/g;;){let i=-1,s=1,o;if(this.lineSeparator?(i=t.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(o=a.exec(t))&&(i=o.index,s=o[0].length),this.append(t.slice(r,i<0?t.length:i)),i<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=s-1);r=i+s}}readNode(e){if(e.cmIgnore)return;let t=pt.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let a=r.iter();!a.next().done;)a.lineBreak?this.lineBreak():this.append(a.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Fw(e,r.node,r.offset)?t:0))}}function Fw(n,e,t){for(;;){if(!e||t<Tr(e))return!1;if(e==n)return!0;t=Ua(e)+1,e=e.parentNode}}class Nf{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class $w{constructor(e,t,r,a){this.typeOver=a,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:i,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let o=i||s?[]:Tw(e),l=new Ew(o,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Rw(o,this.bounds.from)}else{let o=e.observer.selectionRange,l=i&&i.node==o.focusNode&&i.offset==o.focusOffset||!hm(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),c=s&&s.node==o.anchorNode&&s.offset==o.anchorOffset||!hm(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),p=e.viewport;if((ge.ios||ge.chrome)&&e.state.selection.main.empty&&l!=c&&(p.from>0||p.to<e.state.doc.length)){let d=Math.min(l,c),f=Math.max(l,c),y=p.from-d,P=p.to-f;(y==0||y==1||d==0)&&(P==0||P==-1||f==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=K.single(c,l)}}}function Lb(n,e){let t,{newSel:r}=e,a=n.state.selection.main,i=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:o}=e.bounds,l=a.from,c=null;(i===8||ge.android&&e.text.length<o-s)&&(l=a.to,c="end");let p=_w(n.state.doc.sliceString(s,o,Ss),e.text,l-s,c);p&&(ge.chrome&&i==13&&p.toB==p.from+2&&e.text.slice(p.from,p.toB)==Ss+Ss&&p.toB--,t={from:s+p.from,to:s+p.toA,insert:tt.of(e.text.slice(p.from,p.toB).split(Ss))})}else r&&(!n.hasFocus&&n.state.facet(Gr)||r.main.eq(a))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!a.empty&&r&&r.main.empty?t={from:a.from,to:a.to,insert:n.state.doc.slice(a.from,a.to)}:(ge.mac||ge.android)&&t&&t.from==t.to&&t.from==a.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=K.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:tt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=a.from&&t.to<=a.to&&(t.from!=a.from||t.to!=a.to)&&a.to-a.from-(t.to-t.from)<=4?t={from:a.from,to:a.to,insert:n.state.doc.slice(a.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,a.to))}:ge.chrome&&t&&t.from==t.to&&t.from==a.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=K.single(r.main.anchor-1,r.main.head-1)),t={from:a.from,to:a.to,insert:tt.of([" "])}),t)return Th(n,t,r,i);if(r&&!r.main.eq(a)){let s=!1,o="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(s=!0),o=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:s,userEvent:o}),!0}else return!1}function Th(n,e,t,r=-1){if(ge.ios&&n.inputState.flushIOSKey(e))return!0;let a=n.state.selection.main;if(ge.android&&(e.to==a.to&&(e.from==a.from||e.from==a.from-1&&n.state.sliceDoc(e.from,a.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&yi(n.contentDOM,"Enter",13)||(e.from==a.from-1&&e.to==a.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>a.head)&&yi(n.contentDOM,"Backspace",8)||e.from==a.from&&e.to==a.to+1&&e.insert.length==0&&yi(n.contentDOM,"Delete",46)))return!0;let i=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let s,o=()=>s||(s=Qw(n,e,t));return n.state.facet(Sb).some(l=>l(n,e.from,e.to,i,o))||n.dispatch(o()),!0}function Qw(n,e,t){let r,a=n.state,i=a.selection.main;if(e.from>=i.from&&e.to<=i.to&&e.to-e.from>=(i.to-i.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let o=i.from<e.from?a.sliceDoc(i.from,e.from):"",l=i.to>e.to?a.sliceDoc(e.to,i.to):"";r=a.replaceSelection(n.state.toText(o+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let o=a.changes(e),l=t&&t.main.to<=o.newLength?t.main:void 0;if(a.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=i.to&&e.to>=i.to-10){let c=n.state.sliceDoc(e.from,e.to),p,d=t&&Rb(n,t.main.head);if(d){let P=e.insert.length-(e.to-e.from);p={from:d.from,to:d.to-P}}else p=n.state.doc.lineAt(i.head);let f=i.to-e.to,y=i.to-i.from;r=a.changeByRange(P=>{if(P.from==i.from&&P.to==i.to)return{changes:o,range:l||P.map(o)};let w=P.to-f,A=w-c.length;if(P.to-P.from!=y||n.state.sliceDoc(A,w)!=c||P.to>=p.from&&P.from<=p.to)return{range:P};let T=a.changes({from:A,to:w,insert:e.insert}),q=P.to-i.to;return{changes:T,range:l?K.range(Math.max(0,l.anchor+q),Math.max(0,l.head+q)):P.map(T)}})}else r={changes:o,selection:l&&a.selection.replaceRange(l)}}let s="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,s+=".compose",n.inputState.compositionFirstChange&&(s+=".start",n.inputState.compositionFirstChange=!1)),a.update(r,{userEvent:s,scrollIntoView:!0})}function _w(n,e,t,r){let a=Math.min(n.length,e.length),i=0;for(;i<a&&n.charCodeAt(i)==e.charCodeAt(i);)i++;if(i==a&&n.length==e.length)return null;let s=n.length,o=e.length;for(;s>0&&o>0&&n.charCodeAt(s-1)==e.charCodeAt(o-1);)s--,o--;if(r=="end"){let l=Math.max(0,i-Math.min(s,o));t-=s+l-i}if(s<i&&n.length<e.length){let l=t<=i&&t>=s?i-t:0;i-=l,o=i+(o-s),s=i}else if(o<i){let l=t<=i&&t>=o?i-t:0;i-=l,s=i+(s-o),o=i}return{from:i,toA:s,toB:o}}function Tw(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:a,focusOffset:i}=n.observer.selectionRange;return t&&(e.push(new Nf(t,r)),(a!=t||i!=r)&&e.push(new Nf(a,i))),e}function Rw(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?K.single(t+e,r+e):null}class jw{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ge.safari&&e.contentDOM.addEventListener("input",()=>null),ge.gecko&&e3(e.contentDOM.ownerDocument)}handleEvent(e){!Ww(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let r=this.handlers[e];if(r){for(let a of r.observers)a(this.view,t);for(let a of r.handlers){if(t.defaultPrevented)break;if(a(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Lw(e),r=this.handlers,a=this.view.contentDOM;for(let i in t)if(i!="scroll"){let s=!t[i].handlers.length,o=r[i];o&&s!=!o.handlers.length&&(a.removeEventListener(i,this.handleEvent),o=null),o||a.addEventListener(i,this.handleEvent,{passive:s})}for(let i in r)i!="scroll"&&!t[i]&&a.removeEventListener(i,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&Nb.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ge.android&&ge.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return ge.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=Ib.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||Iw.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,yi(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ge.safari&&!ge.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Zf(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(a){wn(t.state,a)}}}function Lw(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let a=r.spec;if(a&&a.domEventHandlers)for(let i in a.domEventHandlers){let s=a.domEventHandlers[i];s&&t(i).handlers.push(Zf(r.value,s))}if(a&&a.domEventObservers)for(let i in a.domEventObservers){let s=a.domEventObservers[i];s&&t(i).observers.push(Zf(r.value,s))}}for(let r in cr)t(r).handlers.push(cr[r]);for(let r in Kn)t(r).observers.push(Kn[r]);return e}const Ib=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Iw="dthko",Nb=[16,17,18,20,91,92,224,225],il=6;function sl(n){return Math.max(0,n)*.7+8}function Nw(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class Zw{constructor(e,t,r,a){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=a,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=HP(e.contentDOM),this.atoms=e.state.facet(Qh).map(s=>s(e));let i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(et.allowMultipleSelections)&&Vw(e,t),this.dragging=Xw(e,t)&&qb(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Nw(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,a=0,i=0,s=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:a,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:i,bottom:o}=this.scrollParents.y.getBoundingClientRect());let l=_h(this.view);e.clientX-l.left<=a+il?t=-sl(a-e.clientX):e.clientX+l.right>=s-il&&(t=sl(e.clientX-s)),e.clientY-l.top<=i+il?r=-sl(i-e.clientY):e.clientY+l.bottom>=o-il&&(r=sl(e.clientY-o)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let a=e.ranges[r],i=null;if(a.empty){let s=Ml(this.atoms,a.from,0);s!=a.from&&(i=K.cursor(s,-1))}else{let s=Ml(this.atoms,a.from,-1),o=Ml(this.atoms,a.to,1);(s!=a.from||o!=a.to)&&(i=K.range(a.from==a.anchor?s:o,a.from==a.head?s:o))}i&&(t||(t=e.ranges.slice()),t[r]=i)}return t?K.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Vw(n,e){let t=n.state.facet(Pb);return t.length?t[0](e):ge.mac?e.metaKey:e.ctrlKey}function qw(n,e){let t=n.state.facet(wb);return t.length?t[0](e):ge.mac?!e.altKey:!e.ctrlKey}function Xw(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=Ws(n.root);if(!r||r.rangeCount==0)return!0;let a=r.getRangeAt(0).getClientRects();for(let i=0;i<a.length;i++){let s=a[i];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function Ww(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=pt.get(t))&&r.ignoreEvent(e))return!1;return!0}const cr=Object.create(null),Kn=Object.create(null),Zb=ge.ie&&ge.ie_version<15||ge.ios&&ge.webkit_version<604;function zw(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),Vb(n,t.value)},50)}function Gu(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function Vb(n,e){e=Gu(n.state,Eh,e);let{state:t}=n,r,a=1,i=t.toText(e),s=i.lines==t.selection.ranges.length;if(Am!=null&&t.selection.ranges.every(l=>l.empty)&&Am==i.toString()){let l=-1;r=t.changeByRange(c=>{let p=t.doc.lineAt(c.from);if(p.from==l)return{range:c};l=p.from;let d=t.toText((s?i.line(a++).text:e)+t.lineBreak);return{changes:{from:p.from,insert:d},range:K.cursor(c.from+d.length)}})}else s?r=t.changeByRange(l=>{let c=i.line(a++);return{changes:{from:l.from,to:l.to,insert:c.text},range:K.cursor(l.from+c.length)}}):r=t.replaceSelection(i);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Kn.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};cr.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Kn.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Kn.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};cr.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(Cb))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=Yw(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new Zw(n,e,t,r)),r&&n.observer.ignore(()=>{ab(n.contentDOM);let i=n.root.activeElement;i&&!i.contains(n.contentDOM)&&i.blur()});let a=n.inputState.mouseSelection;if(a)return a.start(e),a.dragging===!1}return!1};function Vf(n,e,t,r){if(r==1)return K.cursor(e,t);if(r==2)return Pw(n.state,e,t);{let a=$t.find(n.docView,e),i=n.state.doc.lineAt(a?a.posAtEnd:e),s=a?a.posAtStart:i.from,o=a?a.posAtEnd:i.to;return o<n.state.doc.length&&o==i.to&&o++,K.range(s,o)}}let qf=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function Gw(n,e,t,r){let a=$t.find(n.docView,e);if(!a)return 1;let i=e-a.posAtStart;if(i==0)return 1;if(i==a.length)return-1;let s=a.coordsAt(i,-1);if(s&&qf(t,r,s))return-1;let o=a.coordsAt(i,1);return o&&qf(t,r,o)?1:s&&s.bottom>=r?-1:1}function Xf(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Gw(n,t,e.clientX,e.clientY)}}const Uw=ge.ie&&ge.ie_version<=11;let Wf=null,zf=0,Gf=0;function qb(n){if(!Uw)return n.detail;let e=Wf,t=Gf;return Wf=n,Gf=Date.now(),zf=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(zf+1)%3:1}function Yw(n,e){let t=Xf(n,e),r=qb(e),a=n.state.selection;return{update(i){i.docChanged&&(t.pos=i.changes.mapPos(t.pos),a=a.map(i.changes))},get(i,s,o){let l=Xf(n,i),c,p=Vf(n,l.pos,l.bias,r);if(t.pos!=l.pos&&!s){let d=Vf(n,t.pos,t.bias,r),f=Math.min(d.from,p.from),y=Math.max(d.to,p.to);p=f<p.from?K.range(f,y):K.range(y,f)}return s?a.replaceRange(a.main.extend(p.from,p.to)):o&&r==1&&a.ranges.length>1&&(c=Hw(a,l.pos))?c:o?a.addRange(p):K.create([p])}}}function Hw(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:a}=n.ranges[t];if(r<=e&&a>=e)return K.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}cr.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let a=n.docView.nearest(e.target);if(a&&a.isWidget){let i=a.posAtStart,s=i+a.length;(i>=t.to||s<=t.from)&&(t=K.range(i,s))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Gu(n.state,Fh,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};cr.dragend=n=>(n.inputState.draggedContent=null,!1);function Uf(n,e,t,r){if(t=Gu(n.state,Eh,t),!t)return;let a=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:i}=n.inputState,s=r&&i&&qw(n,e)?{from:i.from,to:i.to}:null,o={from:a,insert:t},l=n.state.changes(s?[s,o]:o);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(a,-1),head:l.mapPos(a,1)},userEvent:s?"move.drop":"input.drop"}),n.inputState.draggedContent=null}cr.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),a=0,i=()=>{++a==t.length&&Uf(n,e,r.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let o=new FileReader;o.onerror=i,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(r[s]=o.result),i()},o.readAsText(t[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return Uf(n,e,r,!0),!0}return!1};cr.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=Zb?null:e.clipboardData;return t?(Vb(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(zw(n),!1)};function Kw(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function Jw(n){let e=[],t=[],r=!1;for(let a of n.selection.ranges)a.empty||(e.push(n.sliceDoc(a.from,a.to)),t.push(a));if(!e.length){let a=-1;for(let{from:i}of n.selection.ranges){let s=n.doc.lineAt(i);s.number>a&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),a=s.number}r=!0}return{text:Gu(n,Fh,e.join(n.lineBreak)),ranges:t,linewise:r}}let Am=null;cr.copy=cr.cut=(n,e)=>{let{text:t,ranges:r,linewise:a}=Jw(n.state);if(!t&&!a)return!1;Am=a?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let i=Zb?null:e.clipboardData;return i?(i.clearData(),i.setData("text/plain",t),!0):(Kw(n,t),!1)};const Xb=ta.define();function Wb(n,e){let t=[];for(let r of n.facet(Mb)){let a=r(n,e);a&&t.push(a)}return t?n.update({effects:t,annotations:Xb.of(!0)}):null}function zb(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=Wb(n.state,e);t?n.dispatch(t):n.update([])}},10)}Kn.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),zb(n)};Kn.blur=n=>{n.observer.clearSelectionRange(),zb(n)};Kn.compositionstart=Kn.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Kn.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ge.chrome&&ge.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Kn.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};cr.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let i=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),s=e.getTargetRanges();if(i&&s.length){let o=s[0],l=n.posAtDOM(o.startContainer,o.startOffset),c=n.posAtDOM(o.endContainer,o.endOffset);return Th(n,{from:l,to:c,insert:n.state.toText(i)},null),!0}}let a;if(ge.chrome&&ge.android&&(a=Ib.find(i=>i.inputType==e.inputType))&&(n.observer.delayAndroidKey(a.key,a.keyCode),a.key=="Backspace"||a.key=="Delete")){let i=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>i+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ge.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),ge.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Kn.compositionend(n,e),20),!1};const Yf=new Set;function e3(n){Yf.has(n)||(Yf.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const Hf=["pre-wrap","normal","pre-line","break-spaces"];let Ei=!1;function Kf(){Ei=!1}class t3{constructor(e){this.lineWrapping=e,this.doc=tt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Hf.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let a=e[r];a<0?r++:this.heightSamples[Math.floor(a*10)]||(t=!0,this.heightSamples[Math.floor(a*10)]=!0)}return t}refresh(e,t,r,a,i,s){let o=Hf.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=r,this.textHeight=a,this.lineLength=i,l){this.heightSamples={};for(let c=0;c<s.length;c++){let p=s[c];p<0?c++:this.heightSamples[Math.floor(p*10)]=!0}}return l}}class n3{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Dr{constructor(e,t,r,a,i){this.from=e,this.length=t,this.top=r,this.height=a,this._content=i}get type(){return typeof this._content=="number"?ln.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Oa?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Dr(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var gt=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(gt||(gt={}));const Dl=.001;class un{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Dl&&(Ei=!0),this.height=e)}replace(e,t,r){return un.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,a){let i=this,s=r.doc;for(let o=a.length-1;o>=0;o--){let{fromA:l,toA:c,fromB:p,toB:d}=a[o],f=i.lineAt(l,gt.ByPosNoHeight,r.setDoc(t),0,0),y=f.to>=c?f:i.lineAt(c,gt.ByPosNoHeight,r,0,0);for(d+=y.to-c,c=y.to;o>0&&f.from<=a[o-1].toA;)l=a[o-1].fromA,p=a[o-1].fromB,o--,l<f.from&&(f=i.lineAt(l,gt.ByPosNoHeight,r,0,0));p+=f.from-l,l=f.from;let P=Rh.build(r.setDoc(s),e,p,d);i=Jl(i,i.replace(l,c,P))}return i.updateHeight(r,0)}static empty(){return new Rn(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,a=0,i=0;for(;;)if(t==r)if(a>i*2){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),r+=1+o.break,a-=o.size}else if(i>a*2){let o=e[r];o.break?e.splice(r,1,o.left,null,o.right):e.splice(r,1,o.left,o.right),r+=2+o.break,i-=o.size}else break;else if(a<i){let o=e[t++];o&&(a+=o.size)}else{let o=e[--r];o&&(i+=o.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,r++),new r3(un.of(e.slice(0,t)),s,un.of(e.slice(r)))}}function Jl(n,e){return n==e?n:(n.constructor!=e.constructor&&(Ei=!0),e)}un.prototype.size=1;class Gb extends un{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,a){return new Dr(a,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,a,i){return this.blockAt(0,r,a,i)}forEachLine(e,t,r,a,i,s){e<=i+this.length&&t>=i&&s(this.blockAt(0,r,a,i))}updateHeight(e,t=0,r=!1,a){return a&&a.from<=t&&a.more&&this.setHeight(a.heights[a.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Rn extends Gb{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,a){return new Dr(a,this.length,r,this.height,this.breaks)}replace(e,t,r){let a=r[0];return r.length==1&&(a instanceof Rn||a instanceof Vt&&a.flags&4)&&Math.abs(this.length-a.length)<10?(a instanceof Vt?a=new Rn(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):un.of(r)}updateHeight(e,t=0,r=!1,a){return a&&a.from<=t&&a.more?this.setHeight(a.heights[a.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Vt extends un{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,a=e.doc.lineAt(t+this.length).number,i=a-r+1,s,o=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*i);s=l/i,this.length>i+1&&(o=(this.height-l)/(this.length-i-1))}else s=this.height/i;return{firstLine:r,lastLine:a,perLine:s,perChar:o}}blockAt(e,t,r,a){let{firstLine:i,lastLine:s,perLine:o,perChar:l}=this.heightMetrics(t,a);if(t.lineWrapping){let c=a+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),p=t.doc.lineAt(c),d=o+p.length*l,f=Math.max(r,e-d/2);return new Dr(p.from,p.length,f,d,0)}else{let c=Math.max(0,Math.min(s-i,Math.floor((e-r)/o))),{from:p,length:d}=t.doc.line(i+c);return new Dr(p,d,r+o*c,o,0)}}lineAt(e,t,r,a,i){if(t==gt.ByHeight)return this.blockAt(e,r,a,i);if(t==gt.ByPosNoHeight){let{from:y,to:P}=r.doc.lineAt(e);return new Dr(y,P-y,0,0,0)}let{firstLine:s,perLine:o,perChar:l}=this.heightMetrics(r,i),c=r.doc.lineAt(e),p=o+c.length*l,d=c.number-s,f=a+o*d+l*(c.from-i-d);return new Dr(c.from,c.length,Math.max(a,Math.min(f,a+this.height-p)),p,0)}forEachLine(e,t,r,a,i,s){e=Math.max(e,i),t=Math.min(t,i+this.length);let{firstLine:o,perLine:l,perChar:c}=this.heightMetrics(r,i);for(let p=e,d=a;p<=t;){let f=r.doc.lineAt(p);if(p==e){let P=f.number-o;d+=l*P+c*(e-i-P)}let y=l+c*f.length;s(new Dr(f.from,f.length,d,y,0)),d+=y,p=f.to+1}}replace(e,t,r){let a=this.length-t;if(a>0){let i=r[r.length-1];i instanceof Vt?r[r.length-1]=new Vt(i.length+a):r.push(null,new Vt(a-1))}if(e>0){let i=r[0];i instanceof Vt?r[0]=new Vt(e+i.length):r.unshift(new Vt(e-1),null)}return un.of(r)}decomposeLeft(e,t){t.push(new Vt(e-1),null)}decomposeRight(e,t){t.push(null,new Vt(this.length-e-1))}updateHeight(e,t=0,r=!1,a){let i=t+this.length;if(a&&a.from<=t+this.length&&a.more){let s=[],o=Math.max(t,a.from),l=-1;for(a.from>t&&s.push(new Vt(a.from-t-1).updateHeight(e,t));o<=i&&a.more;){let p=e.doc.lineAt(o).length;s.length&&s.push(null);let d=a.heights[a.index++];l==-1?l=d:Math.abs(d-l)>=Dl&&(l=-2);let f=new Rn(p,d);f.outdated=!1,s.push(f),o+=p+1}o<=i&&s.push(null,new Vt(i-o).updateHeight(e,o));let c=un.of(s);return(l<0||Math.abs(c.height-this.height)>=Dl||Math.abs(l-this.heightMetrics(e,t).perLine)>=Dl)&&(Ei=!0),Jl(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class r3 extends un{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,a){let i=r+this.left.height;return e<i?this.left.blockAt(e,t,r,a):this.right.blockAt(e,t,i,a+this.left.length+this.break)}lineAt(e,t,r,a,i){let s=a+this.left.height,o=i+this.left.length+this.break,l=t==gt.ByHeight?e<s:e<o,c=l?this.left.lineAt(e,t,r,a,i):this.right.lineAt(e,t,r,s,o);if(this.break||(l?c.to<o:c.from>o))return c;let p=t==gt.ByPosNoHeight?gt.ByPosNoHeight:gt.ByPos;return l?c.join(this.right.lineAt(o,p,r,s,o)):this.left.lineAt(o,p,r,a,i).join(c)}forEachLine(e,t,r,a,i,s){let o=a+this.left.height,l=i+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,r,a,i,s),t>=l&&this.right.forEachLine(e,t,r,o,l,s);else{let c=this.lineAt(l,gt.ByPos,r,a,i);e<c.from&&this.left.forEachLine(e,c.from-1,r,a,i,s),c.to>=e&&c.from<=t&&s(c),t>c.to&&this.right.forEachLine(c.to+1,t,r,o,l,s)}}replace(e,t,r){let a=this.left.length+this.break;if(t<a)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-a,t-a,r));let i=[];e>0&&this.decomposeLeft(e,i);let s=i.length;for(let o of r)i.push(o);if(e>0&&Jf(i,s-1),t<this.length){let o=i.length;this.decomposeRight(t,i),Jf(i,o)}return un.of(i)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,a=r+this.break;if(e>=a)return this.right.decomposeRight(e-a,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<a&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?un.of(this.break?[e,null,t]:[e,t]):(this.left=Jl(this.left,e),this.right=Jl(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,a){let{left:i,right:s}=this,o=t+i.length+this.break,l=null;return a&&a.from<=t+i.length&&a.more?l=i=i.updateHeight(e,t,r,a):i.updateHeight(e,t,r),a&&a.from<=o+s.length&&a.more?l=s=s.updateHeight(e,o,r,a):s.updateHeight(e,o,r),l?this.balanced(i,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Jf(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof Vt&&(r=n[e+1])instanceof Vt&&n.splice(e-1,3,new Vt(t.length+1+r.length))}const a3=5;class Rh{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),a=this.nodes[this.nodes.length-1];a instanceof Rn?a.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Rn(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let a=r.widget?r.widget.estimatedHeight:0,i=r.widget?r.widget.lineBreaks:0;a<0&&(a=this.oracle.lineHeight);let s=t-e;r.block?this.addBlock(new Gb(s,a,r)):(s||i||a>=a3)&&this.addLineDeco(a,i,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Rn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new Vt(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Rn)return e;let t=new Rn(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let a=this.ensureLine();a.length+=r,a.collapsed+=r,a.widgetHeight=Math.max(a.widgetHeight,e),a.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Rn)&&!this.isCovered?this.nodes.push(new Rn(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let a of this.nodes)a instanceof Rn&&a.updateHeight(this.oracle,r),r+=a?a.length:1;return this.nodes}static build(e,t,r,a){let i=new Rh(r,e);return it.spans(t,r,a,i,0),i.finish(r)}}function i3(n,e,t){let r=new s3;return it.compare(n,e,t,r,0),r.changes}class s3{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,a){(e<t||r&&r.heightRelevant||a&&a.heightRelevant)&&Sl(e,t,this.changes,5)}}function o3(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,a=r.defaultView||window,i=Math.max(0,t.left),s=Math.min(a.innerWidth,t.right),o=Math.max(0,t.top),l=Math.min(a.innerHeight,t.bottom);for(let c=n.parentNode;c&&c!=r.body;)if(c.nodeType==1){let p=c,d=window.getComputedStyle(p);if((p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth)&&d.overflow!="visible"){let f=p.getBoundingClientRect();i=Math.max(i,f.left),s=Math.min(s,f.right),o=Math.max(o,f.top),l=Math.min(c==n.parentNode?a.innerHeight:l,f.bottom)}c=d.position=="absolute"||d.position=="fixed"?p.offsetParent:p.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:i-t.left,right:Math.max(i,s)-t.left,top:o-(t.top+e),bottom:Math.max(o,l)-(t.top+e)}}function l3(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function u3(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class fp{constructor(e,t,r,a){this.from=e,this.to=t,this.size=r,this.displaySize=a}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let a=e[r],i=t[r];if(a.from!=i.from||a.to!=i.to||a.size!=i.size)return!1}return!0}draw(e,t){return ke.replace({widget:new c3(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class c3 extends hr{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class eg{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=tg,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=mt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet($h).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new t3(t),this.stateDeco=e.facet(Gs).filter(r=>typeof r!="function"),this.heightMap=un.empty().applyChanges(this.stateDeco,tt.empty,this.heightOracle.setDoc(e.doc),[new Hn(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ke.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let a=r?t.head:t.anchor;if(!e.some(({from:i,to:s})=>a>=i&&a<=s)){let{from:i,to:s}=this.lineBlockAt(a);e.push(new ol(i,s))}}return this.viewports=e.sort((r,a)=>r.from-a.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?tg:new jh(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Ms(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Gs).filter(p=>typeof p!="function");let a=e.changedRanges,i=Hn.extendWithRanges(a,i3(r,this.stateDeco,e?e.changes:jt.empty(this.state.doc.length))),s=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Kf(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),(this.heightMap.height!=s||Ei)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Bb)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),a=this.heightOracle,i=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?mt.RTL:mt.LTR;let s=this.heightOracle.mustRefreshForWrapping(i),o=t.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let c=0,p=0;if(o.width&&o.height){let{scaleX:I,scaleY:Q}=rb(t,o);(I>.005&&Math.abs(this.scaleX-I)>.005||Q>.005&&Math.abs(this.scaleY-Q)>.005)&&(this.scaleX=I,this.scaleY=Q,c|=16,s=l=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=f)&&(this.paddingTop=d,this.paddingBottom=f,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(a.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let y=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=y&&(this.scrollAnchorHeight=-1,this.scrollTop=y),this.scrolledToBottom=sb(e.scrollDOM);let P=(this.printing?u3:o3)(t,this.paddingTop),w=P.top-this.pixelViewport.top,A=P.bottom-this.pixelViewport.bottom;this.pixelViewport=P;let T=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(T!=this.inView&&(this.inView=T,T&&(l=!0)),!this.inView&&!this.scrollTarget&&!l3(e.dom))return 0;let q=o.width;if((this.contentDOMWidth!=q||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let I=e.docView.measureVisibleLineHeights(this.viewport);if(a.mustRefreshForHeights(I)&&(s=!0),s||a.lineWrapping&&Math.abs(q-this.contentDOMWidth)>a.charWidth){let{lineHeight:Q,charWidth:Z,textHeight:V}=e.docView.measureTextSize();s=Q>0&&a.refresh(i,Q,Z,V,q/Z,I),s&&(e.docView.minWidth=0,c|=16)}w>0&&A>0?p=Math.max(w,A):w<0&&A<0&&(p=Math.min(w,A)),Kf();for(let Q of this.viewports){let Z=Q.from==this.viewport.from?I:e.docView.measureVisibleLineHeights(Q);this.heightMap=(s?un.empty().applyChanges(this.stateDeco,tt.empty,this.heightOracle,[new Hn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(a,0,s,new n3(Q.from,Z))}Ei&&(c|=2)}let G=!this.viewportIsAppropriate(this.viewport,p)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return G&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(p,this.scrollTarget),c|=this.updateForViewport()),(c&2||G)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),a=this.heightMap,i=this.heightOracle,{visibleTop:s,visibleBottom:o}=this,l=new ol(a.lineAt(s-r*1e3,gt.ByHeight,i,0,0).from,a.lineAt(o+(1-r)*1e3,gt.ByHeight,i,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let p=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=a.lineAt(c,gt.ByPos,i,0,0),f;t.y=="center"?f=(d.top+d.bottom)/2-p/2:t.y=="start"||t.y=="nearest"&&c<l.from?f=d.top:f=d.bottom-p,l=new ol(a.lineAt(f-1e3/2,gt.ByHeight,i,0,0).from,a.lineAt(f+p+1e3/2,gt.ByHeight,i,0,0).to)}}return l}mapViewport(e,t){let r=t.mapPos(e.from,-1),a=t.mapPos(e.to,1);return new ol(this.heightMap.lineAt(r,gt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(a,gt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:a}=this.heightMap.lineAt(e,gt.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(t,gt.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:o}=this;return(e==0||a<=s-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||i>=o+Math.max(10,Math.min(r,250)))&&a>s-2*1e3&&i<o+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let a of e)t.touchesRange(a.from,a.to)||r.push(new fp(t.mapPos(a.from),t.mapPos(a.to),a.size,a.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,a=r?1e4:2e3,i=a>>1,s=a<<1;if(this.defaultTextDirection!=mt.LTR&&!r)return[];let o=[],l=(p,d,f,y)=>{if(d-p<i)return;let P=this.state.selection.main,w=[P.from];P.empty||w.push(P.to);for(let T of w)if(T>p&&T<d){l(p,T-10,f,y),l(T+10,d,f,y);return}let A=m3(e,T=>T.from>=f.from&&T.to<=f.to&&Math.abs(T.from-p)<i&&Math.abs(T.to-d)<i&&!w.some(q=>T.from<q&&T.to>q));if(!A){if(d<f.to&&t&&r&&t.visibleRanges.some(G=>G.from<=d&&G.to>=d)){let G=t.moveToLineBoundary(K.cursor(d),!1,!0).head;G>p&&(d=G)}let T=this.gapSize(f,p,d,y),q=r||T<2e6?T:2e6;A=new fp(p,d,T,q)}o.push(A)},c=p=>{if(p.length<s||p.type!=ln.Text)return;let d=p3(p.from,p.to,this.stateDeco);if(d.total<s)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,y,P;if(r){let w=a/this.heightOracle.lineLength*this.heightOracle.lineHeight,A,T;if(f!=null){let q=ul(d,f),G=((this.visibleBottom-this.visibleTop)/2+w)/p.height;A=q-G,T=q+G}else A=(this.visibleTop-p.top-w)/p.height,T=(this.visibleBottom-p.top+w)/p.height;y=ll(d,A),P=ll(d,T)}else{let w=d.total*this.heightOracle.charWidth,A=a*this.heightOracle.charWidth,T=0;if(w>2e6)for(let Z of e)Z.from>=p.from&&Z.from<p.to&&Z.size!=Z.displaySize&&Z.from*this.heightOracle.charWidth+T<this.pixelViewport.left&&(T=Z.size-Z.displaySize);let q=this.pixelViewport.left+T,G=this.pixelViewport.right+T,I,Q;if(f!=null){let Z=ul(d,f),V=((G-q)/2+A)/w;I=Z-V,Q=Z+V}else I=(q-A)/w,Q=(G+A)/w;y=ll(d,I),P=ll(d,Q)}y>p.from&&l(p.from,y,p,d),P<p.to&&l(P,p.to,p,d)};for(let p of this.viewportLines)Array.isArray(p.type)?p.type.forEach(c):c(p);return o}gapSize(e,t,r,a){let i=ul(a,r)-ul(a,t);return this.heightOracle.lineWrapping?e.height*i:a.total*this.heightOracle.charWidth*i}updateLineGaps(e){fp.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ke.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];it.spans(t,this.viewport.from,this.viewport.to,{span(i,s){r.push({from:i,to:s})},point(){}},20);let a=0;if(r.length!=this.visibleRanges.length)a=12;else for(let i=0;i<r.length&&!(a&8);i++){let s=this.visibleRanges[i],o=r[i];(s.from!=o.from||s.to!=o.to)&&(a|=4,e&&e.mapPos(s.from,-1)==o.from&&e.mapPos(s.to,1)==o.to||(a|=8))}return this.visibleRanges=r,a}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Ms(this.heightMap.lineAt(e,gt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Ms(this.heightMap.lineAt(this.scaler.fromDOM(e),gt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Ms(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class ol{constructor(e,t){this.from=e,this.to=t}}function p3(n,e,t){let r=[],a=n,i=0;return it.spans(t,n,e,{span(){},point(s,o){s>a&&(r.push({from:a,to:s}),i+=s-a),a=o}},20),a<e&&(r.push({from:a,to:e}),i+=e-a),{total:i,ranges:r}}function ll({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let a=0;;a++){let{from:i,to:s}=e[a],o=s-i;if(r<=o)return i+r;r-=o}}function ul(n,e){let t=0;for(let{from:r,to:a}of n.ranges){if(e<=a){t+=e-r;break}t+=a-r}return t/n.total}function m3(n,e){for(let t of n)if(e(t))return t}const tg={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class jh{constructor(e,t,r){let a=0,i=0,s=0;this.viewports=r.map(({from:o,to:l})=>{let c=t.lineAt(o,gt.ByPos,e,0,0).top,p=t.lineAt(l,gt.ByPos,e,0,0).bottom;return a+=p-c,{from:o,to:l,top:c,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-a)/(t.height-a);for(let o of this.viewports)o.domTop=s+(o.top-i)*this.scale,s=o.domBottom=o.domTop+(o.bottom-o.top),i=o.bottom}toDOM(e){for(let t=0,r=0,a=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return a+(e-r)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);r=i.bottom,a=i.domBottom}}fromDOM(e){for(let t=0,r=0,a=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return r+(e-a)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);r=i.bottom,a=i.domBottom}}eq(e){return e instanceof jh?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function Ms(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new Dr(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(a=>Ms(a,e)):n._content)}const cl=be.define({combine:n=>n.join(" ")}),Sm=be.define({combine:n=>n.indexOf(!0)>-1}),Mm=ba.newName(),Ub=ba.newName(),Yb=ba.newName(),Hb={"&light":"."+Ub,"&dark":"."+Yb};function Dm(n,e,t){return new ba(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,a=>{if(a=="&")return n;if(!t||!t[a])throw new RangeError(`Unsupported selector: ${a}`);return t[a]}):n+" "+r}})}const h3=Dm("."+Mm,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Hb),d3={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},gp=ge.ie&&ge.ie_version<=11;class f3{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new KP,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(ge.ie&&ge.ie_version<=11||ge.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(ge.chrome&&ge.chrome_version<126)&&(this.editContext=new b3(e),e.state.facet(Gr)&&(e.contentDOM.editContext=this.editContext.editContext)),gp&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,a=this.selectionRange;if(r.state.facet(Gr)?r.root.activeElement!=this.dom:!Al(this.dom,a))return;let i=a.anchorNode&&r.docView.nearest(a.anchorNode);if(i&&i.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ge.ie&&ge.ie_version<=11||ge.android&&ge.chrome)&&!r.state.selection.main.empty&&a.focusNode&&Ts(a.focusNode,a.focusOffset,a.anchorNode,a.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Ws(e.root);if(!t)return!1;let r=ge.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&g3(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let a=Al(this.dom,r);return a&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&ew(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),a&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,d3),gp&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),gp&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let a=()=>{let i=this.delayedAndroidKey;i&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=i.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&i.force&&yi(this.dom,i.key,i.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(a)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,a=!1;for(let i of e){let s=this.readMutation(i);s&&(s.typeOver&&(a=!0),t==-1?{from:t,to:r}=s:(t=Math.min(s.from,t),r=Math.max(s.to,r)))}return{from:t,to:r,typeOver:a}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),a=this.selectionChanged&&Al(this.dom,this.selectionRange);if(e<0&&!a)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new $w(this.view,e,t,r);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,a=Lb(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),a}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=ng(t,e.previousSibling||e.target.previousSibling,-1),a=ng(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:a?t.posBefore(a):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Gr)!=e.state.facet(Gr)&&(e.view.contentDOM.editContext=e.state.facet(Gr)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function ng(n,e,t){for(;e;){let r=pt.get(e);if(r&&r.parent==n)return r;let a=e.parentNode;e=a!=n.dom?a:t>0?e.nextSibling:e.previousSibling}return null}function rg(n,e){let t=e.startContainer,r=e.startOffset,a=e.endContainer,i=e.endOffset,s=n.docView.domAtPos(n.state.selection.main.anchor);return Ts(s.node,s.offset,a,i)&&([t,r,a,i]=[a,i,t,r]),{anchorNode:t,anchorOffset:r,focusNode:a,focusOffset:i}}function g3(n,e){if(e.getComposedRanges){let a=e.getComposedRanges(n.root)[0];if(a)return rg(n,a)}let t=null;function r(a){a.preventDefault(),a.stopImmediatePropagation(),t=a.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?rg(n,t):null}class b3{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let a=e.state.selection.main,{anchor:i,head:s}=a,o=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:o,drifted:!1});let c={from:o,to:l,insert:tt.of(r.text.split(`
`))};if(c.from==this.from&&i<this.from?c.from=i:c.to==this.to&&i>this.to&&(c.to=i),c.from==c.to&&!c.insert.length){let p=K.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));p.main.eq(a)||e.dispatch({selection:p,userEvent:"select"});return}if((ge.mac||ge.android)&&c.from==s-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:o,to:l,insert:tt.of([r.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let p=this.to-this.from+(c.to-c.from+c.insert.length);Th(e,c,K.single(this.toEditorPos(r.selectionStart,p),this.toEditorPos(r.selectionEnd,p)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let a=[],i=null;for(let s=this.toEditorPos(r.rangeStart),o=this.toEditorPos(r.rangeEnd);s<o;s++){let l=e.coordsForChar(s);i=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||i||new DOMRect,a.push(i)}t.updateCharacterBounds(r.rangeStart,a)},this.handlers.textformatupdate=r=>{let a=[];for(let i of r.getTextFormats()){let s=i.underlineStyle,o=i.underlineThickness;if(s!="None"&&o!="None"){let l=this.toEditorPos(i.rangeStart),c=this.toEditorPos(i.rangeEnd);if(l<c){let p=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${o=="Thin"?1:2}px`;a.push(ke.mark({attributes:{style:p}}).range(l,c))}}}e.dispatch({effects:Fb.of(ke.set(a))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let a=Ws(r.root);a&&a.rangeCount&&this.editContext.updateSelectionBounds(a.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,a=this.pendingContextChange;return e.changes.iterChanges((i,s,o,l,c)=>{if(r)return;let p=c.length-(s-i);if(a&&s>=a.to)if(a.from==i&&a.to==s&&a.insert.eq(c)){a=this.pendingContextChange=null,t+=p,this.to+=p;return}else a=null,this.revertPending(e.state);if(i+=t,s+=t,s<=this.from)this.from+=p,this.to+=p;else if(i<this.to){if(i<this.from||s>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(i),this.toContextPos(s),c.toString()),this.to+=p}t+=p}),a&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange;this.composing&&(this.composing.drifted||e.transactions.some(r=>!r.isUserEvent("input.type")&&r.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),a=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=a)&&this.editContext.updateSelection(r,a)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class pe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(a=>a.forEach(i=>r(i,this)))||(a=>this.update(a)),this.dispatch=this.dispatch.bind(this),this._root=e.root||JP(e.parent)||document,this.viewState=new eg(e.state||et.create(e)),e.scrollTo&&e.scrollTo.is(al)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Cs).map(a=>new mp(a));for(let a of this.plugins)a.update(this);this.observer=new f3(this),this.inputState=new jw(this),this.inputState.ensureHandlers(this.plugins),this.docView=new _f(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof _t?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,a,i=this.state;for(let f of e){if(f.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=f.state}if(this.destroyed){this.viewState.state=i;return}let s=this.hasFocus,o=0,l=null;e.some(f=>f.annotation(Xb))?(this.inputState.notifiedFocused=s,o=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=Wb(i,s),l||(o=1));let c=this.observer.delayedAndroidKey,p=null;if(c?(this.observer.clearDelayedAndroidKey(),p=this.observer.readChange(),(p&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(p=null)):this.observer.clear(),i.facet(et.phrases)!=this.state.facet(et.phrases))return this.setState(i);a=Kl.create(this,i,e),a.flags|=o;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(d&&(d=d.map(f.changes)),f.scrollIntoView){let{main:y}=f.state.selection;d=new Oi(y.empty?y:K.cursor(y.head,y.head>y.anchor?-1:1))}for(let y of f.effects)y.is(al)&&(d=y.value.clip(this.state))}this.viewState.update(a,d),this.bidiCache=eu.update(this.bidiCache,a.changes),a.empty||(this.updatePlugins(a),this.inputState.update(a)),t=this.docView.update(a),this.state.facet(As)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(a.startState.facet(cl)!=a.state.facet(cl)&&(this.viewState.mustMeasureContent=!0),(t||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!a.empty)for(let f of this.state.facet(Pm))try{f(a)}catch(y){wn(this.state,y,"update listener")}(l||p)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),p&&!Lb(this,p)&&c.force&&yi(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new eg(e),this.plugins=e.facet(Cs).map(r=>new mp(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new _f(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Cs),r=e.state.facet(Cs);if(t!=r){let a=[];for(let i of r){let s=t.indexOf(i);if(s<0)a.push(new mp(i));else{let o=this.plugins[s];o.mustUpdate=e,a.push(o)}}for(let i of this.plugins)i.mustUpdate!=e&&i.destroy(this);this.plugins=a,this.pluginMap.clear()}else for(let a of this.plugins)a.mustUpdate=e;for(let a=0;a<this.plugins.length;a++)this.plugins[a].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){wn(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,a=r.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:s}=this.viewState;Math.abs(a-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(s<0)if(sb(r))i=-1,s=this.viewState.heightMap.height;else{let y=this.viewState.scrollAnchorAt(a);i=y.from,s=y.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let p=c.map(y=>{try{return y.read(this)}catch(P){return wn(this.state,P),ag}}),d=Kl.create(this,this.state,[]),f=!1;d.flags|=l,t?t.flags|=l:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),f=this.docView.update(d),f&&this.docViewUpdate());for(let y=0;y<c.length;y++)if(p[y]!=ag)try{let P=c[y];P.write&&P.write(p[y],this)}catch(P){wn(this.state,P)}if(f&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let P=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-s;if(P>1||P<-1){a=a+P,r.scrollTop=a/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let o of this.state.facet(Pm))o(t)}get themeClasses(){return Mm+" "+(this.state.facet(Sm)?Yb:Ub)+" "+this.state.facet(cl)}updateAttrs(){let e=ig(this,$b,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Gr)?"true":"false",class:"cm-content",style:`${ge.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),ig(this,$h,t);let r=this.observer.ignore(()=>{let a=ym(this.contentDOM,this.contentAttrs,t),i=ym(this.dom,this.editorAttrs,e);return a||i});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let a of r.effects)if(a.is(pe.announce)){t&&(this.announceDOM.textContent=""),t=!1;let i=this.announceDOM.appendChild(document.createElement("div"));i.textContent=a.value}}mountStyles(){this.styleModules=this.state.facet(As);let e=this.state.facet(pe.cspNonce);ba.mount(this.root,this.styleModules.concat(h3).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return dp(this,e,If(this,e,t,r))}moveByGroup(e,t){return dp(this,e,If(this,e,t,r=>Dw(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),a=this.textDirectionAt(e.from),i=r[t?r.length-1:0];return K.cursor(i.side(t,a)+e.from,i.forward(!t,a)?1:-1)}moveToLineBoundary(e,t,r=!0){return Mw(this,e,t,r)}moveVertically(e,t,r){return dp(this,e,Bw(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),jb(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let a=this.state.doc.lineAt(e),i=this.bidiSpans(a),s=i[ha.find(i,e-a.from,-1,t)];return Wu(r,s.dir==mt.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Db)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>y3)return vb(e.length);let t=this.textDirectionAt(e.from),r;for(let i of this.bidiCache)if(i.from==e.from&&i.dir==t&&(i.fresh||kb(i.isolates,r=Qf(this,e))))return i.order;r||(r=Qf(this,e));let a=mw(e.text,t,r);return this.bidiCache.push(new eu(e.from,e.to,t,r,!0,a)),a}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ge.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{ab(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return al.of(new Oi(typeof e=="number"?K.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return al.of(new Oi(K.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Ct.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Ct.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=ba.newName(),a=[cl.of(r),As.of(Dm(`.${r}`,e))];return t&&t.dark&&a.push(Sm.of(!0)),a}static baseTheme(e){return Mn.lowest(As.of(Dm("."+Mm,e,Hb)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),a=r&&pt.get(r)||pt.get(e);return((t=a?.rootView)===null||t===void 0?void 0:t.view)||null}}pe.styleModule=As;pe.inputHandler=Sb;pe.clipboardInputFilter=Eh;pe.clipboardOutputFilter=Fh;pe.scrollHandler=Eb;pe.focusChangeEffect=Mb;pe.perLineTextDirection=Db;pe.exceptionSink=Ab;pe.updateListener=Pm;pe.editable=Gr;pe.mouseSelectionStyle=Cb;pe.dragMovesSelection=wb;pe.clickAddsSelectionRange=Pb;pe.decorations=Gs;pe.outerDecorations=Qb;pe.atomicRanges=Qh;pe.bidiIsolatedRanges=_b;pe.scrollMargins=Tb;pe.darkTheme=Sm;pe.cspNonce=be.define({combine:n=>n.length?n[0]:""});pe.contentAttributes=$h;pe.editorAttributes=$b;pe.lineWrapping=pe.contentAttributes.of({class:"cm-lineWrapping"});pe.announce=Se.define();const y3=4096,ag={};class eu{constructor(e,t,r,a,i,s){this.from=e,this.to=t,this.dir=r,this.isolates=a,this.fresh=i,this.order=s}static update(e,t){if(t.empty&&!e.some(i=>i.fresh))return e;let r=[],a=e.length?e[e.length-1].dir:mt.LTR;for(let i=Math.max(0,e.length-10);i<e.length;i++){let s=e[i];s.dir==a&&!t.touchesRange(s.from,s.to)&&r.push(new eu(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function ig(n,e,t){for(let r=n.state.facet(e),a=r.length-1;a>=0;a--){let i=r[a],s=typeof i=="function"?i(n):i;s&&bm(s,t)}return t}const O3=ge.mac?"mac":ge.windows?"win":ge.linux?"linux":"key";function k3(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let a,i,s,o;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))a=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return a&&(r="Alt-"+r),i&&(r="Ctrl-"+r),o&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function pl(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const v3=Mn.default(pe.domEventHandlers({keydown(n,e){return Jb(Kb(e.state),n,e,"editor")}})),ra=be.define({enables:v3}),sg=new WeakMap;function Kb(n){let e=n.facet(ra),t=sg.get(e);return t||sg.set(e,t=P3(e.reduce((r,a)=>r.concat(a),[]))),t}function Ra(n,e,t){return Jb(Kb(n.state),e,n,t)}let ua=null;const x3=4e3;function P3(n,e=O3){let t=Object.create(null),r=Object.create(null),a=(s,o)=>{let l=r[s];if(l==null)r[s]=o;else if(l!=o)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},i=(s,o,l,c,p)=>{var d,f;let y=t[s]||(t[s]=Object.create(null)),P=o.split(/ (?!$)/).map(T=>k3(T,e));for(let T=1;T<P.length;T++){let q=P.slice(0,T).join(" ");a(q,!0),y[q]||(y[q]={preventDefault:!0,stopPropagation:!1,run:[G=>{let I=ua={view:G,prefix:q,scope:s};return setTimeout(()=>{ua==I&&(ua=null)},x3),!0}]})}let w=P.join(" ");a(w,!1);let A=y[w]||(y[w]={preventDefault:!1,stopPropagation:!1,run:((f=(d=y._any)===null||d===void 0?void 0:d.run)===null||f===void 0?void 0:f.slice())||[]});l&&A.run.push(l),c&&(A.preventDefault=!0),p&&(A.stopPropagation=!0)};for(let s of n){let o=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of o){let p=t[c]||(t[c]=Object.create(null));p._any||(p._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=s;for(let f in p)p[f].run.push(y=>d(y,Bm))}let l=s[e]||s.key;if(l)for(let c of o)i(c,l,s.run,s.preventDefault,s.stopPropagation),s.shift&&i(c,"Shift-"+l,s.shift,s.preventDefault,s.stopPropagation)}return t}let Bm=null;function Jb(n,e,t,r){Bm=e;let a=GP(e),i=xn(a,0),s=Mr(i)==a.length&&a!=" ",o="",l=!1,c=!1,p=!1;ua&&ua.view==t&&ua.scope==r&&(o=ua.prefix+" ",Nb.indexOf(e.keyCode)<0&&(c=!0,ua=null));let d=new Set,f=A=>{if(A){for(let T of A.run)if(!d.has(T)&&(d.add(T),T(t)))return A.stopPropagation&&(p=!0),!0;A.preventDefault&&(A.stopPropagation&&(p=!0),c=!0)}return!1},y=n[r],P,w;return y&&(f(y[o+pl(a,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ge.windows&&e.ctrlKey&&e.altKey)&&(P=ya[e.keyCode])&&P!=a?(f(y[o+pl(P,e,!0)])||e.shiftKey&&(w=Xs[e.keyCode])!=a&&w!=P&&f(y[o+pl(w,e,!1)]))&&(l=!0):s&&e.shiftKey&&f(y[o+pl(a,e,!0)])&&(l=!0),!l&&f(y._any)&&(l=!0)),c&&(l=!0),l&&p&&e.stopPropagation(),Bm=null,l}class go{constructor(e,t,r,a,i){this.className=e,this.left=t,this.top=r,this.width=a,this.height=i}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let a=e.coordsAtPos(r.head,r.assoc||1);if(!a)return[];let i=ey(e);return[new go(t,a.left-i.left,a.top-i.top,null,a.bottom-a.top)]}else return w3(e,t,r)}}function ey(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==mt.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function og(n,e,t,r){let a=n.coordsAtPos(e,t*2);if(!a)return r;let i=n.dom.getBoundingClientRect(),s=(a.top+a.bottom)/2,o=n.posAtCoords({x:i.left+1,y:s}),l=n.posAtCoords({x:i.right-1,y:s});return o==null||l==null?r:{from:Math.max(r.from,Math.min(o,l)),to:Math.min(r.to,Math.max(o,l))}}function w3(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),a=Math.min(t.to,n.viewport.to),i=n.textDirection==mt.LTR,s=n.contentDOM,o=s.getBoundingClientRect(),l=ey(n),c=s.querySelector(".cm-line"),p=c&&window.getComputedStyle(c),d=o.left+(p?parseInt(p.paddingLeft)+Math.min(0,parseInt(p.textIndent)):0),f=o.right-(p?parseInt(p.paddingRight):0),y=Cm(n,r),P=Cm(n,a),w=y.type==ln.Text?y:null,A=P.type==ln.Text?P:null;if(w&&(n.lineWrapping||y.widgetLineBreaks)&&(w=og(n,r,1,w)),A&&(n.lineWrapping||P.widgetLineBreaks)&&(A=og(n,a,-1,A)),w&&A&&w.from==A.from&&w.to==A.to)return q(G(t.from,t.to,w));{let Q=w?G(t.from,null,w):I(y,!1),Z=A?G(null,t.to,A):I(P,!0),V=[];return(w||y).to<(A||P).from-(w&&A?1:0)||y.widgetLineBreaks>1&&Q.bottom+n.defaultLineHeight/2<Z.top?V.push(T(d,Q.bottom,f,Z.top)):Q.bottom<Z.top&&n.elementAtHeight((Q.bottom+Z.top)/2).type==ln.Text&&(Q.bottom=Z.top=(Q.bottom+Z.top)/2),q(Q).concat(V).concat(q(Z))}function T(Q,Z,V,Y){return new go(e,Q-l.left,Z-l.top,V-Q,Y-Z)}function q({top:Q,bottom:Z,horizontal:V}){let Y=[];for(let ue=0;ue<V.length;ue+=2)Y.push(T(V[ue],Q,V[ue+1],Z));return Y}function G(Q,Z,V){let Y=1e9,ue=-1e9,se=[];function ce(fe,Ce,Re,Me,te){let qe=n.coordsAtPos(fe,fe==V.to?-2:2),ot=n.coordsAtPos(Re,Re==V.from?2:-2);!qe||!ot||(Y=Math.min(qe.top,ot.top,Y),ue=Math.max(qe.bottom,ot.bottom,ue),te==mt.LTR?se.push(i&&Ce?d:qe.left,i&&Me?f:ot.right):se.push(!i&&Me?d:ot.left,!i&&Ce?f:qe.right))}let ae=Q??V.from,ne=Z??V.to;for(let fe of n.visibleRanges)if(fe.to>ae&&fe.from<ne)for(let Ce=Math.max(fe.from,ae),Re=Math.min(fe.to,ne);;){let Me=n.state.doc.lineAt(Ce);for(let te of n.bidiSpans(Me)){let qe=te.from+Me.from,ot=te.to+Me.from;if(qe>=Re)break;ot>Ce&&ce(Math.max(qe,Ce),Q==null&&qe<=ae,Math.min(ot,Re),Z==null&&ot>=ne,te.dir)}if(Ce=Me.to+1,Ce>=Re)break}return se.length==0&&ce(ae,Q==null,ne,Z==null,n.textDirection),{top:Y,bottom:ue,horizontal:se}}function I(Q,Z){let V=o.top+(Z?Q.top:Q.bottom);return{top:V,bottom:V,horizontal:[]}}}function C3(n,e){return n.constructor==e.constructor&&n.eq(e)}class A3{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Bl)!=e.state.facet(Bl)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(Bl);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!C3(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let a of e)a.update&&t&&a.constructor&&this.drawn[r].constructor&&a.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(a.draw(),t);for(;t;){let a=t.nextSibling;t.remove(),t=a}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Bl=be.define();function ty(n){return[Ct.define(e=>new A3(e,n)),Bl.of(n)]}const ny=!(ge.ios&&ge.webkit&&ge.webkit_version<534),Fi=be.define({combine(n){return na(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function ry(n={}){return[Fi.of(n),S3,M3,D3,Bb.of(!0)]}function ay(n){return n.facet(Fi)}function iy(n){return n.startState.facet(Fi)!=n.state.facet(Fi)}const S3=ty({above:!0,markers(n){let{state:e}=n,t=e.facet(Fi),r=[];for(let a of e.selection.ranges){let i=a==e.selection.main;if(a.empty?!i||ny:t.drawRangeCursor){let s=i?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=a.empty?a:K.cursor(a.head,a.head>a.anchor?-1:1);for(let l of go.forRange(n,s,o))r.push(l)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=iy(n);return t&&lg(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){lg(e.state,n)},class:"cm-cursorLayer"});function lg(n,e){e.style.animationDuration=n.facet(Fi).cursorBlinkRate+"ms"}const M3=ty({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:go.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||iy(n)},class:"cm-selectionLayer"}),Em={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};ny&&(Em[".cm-line"].caretColor=Em[".cm-content"].caretColor="transparent !important");const D3=Mn.highest(pe.theme(Em)),sy=Se.define({map(n,e){return n==null?null:e.mapPos(n)}}),Ds=Pt.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(sy)?r.value:t,n)}}),B3=Ct.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Ds);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Ds)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Ds),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Ds)!=n&&this.view.dispatch({effects:sy.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function E3(){return[Ds,B3]}function ug(n,e,t,r,a){e.lastIndex=0;for(let i=n.iterRange(t,r),s=t,o;!i.next().done;s+=i.value.length)if(!i.lineBreak)for(;o=e.exec(i.value);)a(s+o.index,o)}function F3(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:a,to:i}of t)a=Math.max(n.state.doc.lineAt(a).from,a-e),i=Math.min(n.state.doc.lineAt(i).to,i+e),r.length&&r[r.length-1].to>=a?r[r.length-1].to=i:r.push({from:a,to:i});return r}class $3{constructor(e){const{regexp:t,decoration:r,decorate:a,boundary:i,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,a)this.addMatch=(o,l,c,p)=>a(p,c,c+o[0].length,o,l);else if(typeof r=="function")this.addMatch=(o,l,c,p)=>{let d=r(o,l,c);d&&p(c,c+o[0].length,d)};else if(r)this.addMatch=(o,l,c,p)=>p(c,c+o[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=i,this.maxLength=s}createDeco(e){let t=new _r,r=t.add.bind(t);for(let{from:a,to:i}of F3(e,this.maxLength))ug(e.state.doc,this.regexp,a,i,(s,o)=>this.addMatch(o,e,s,r));return t.finish()}updateDeco(e,t){let r=1e9,a=-1;return e.docChanged&&e.changes.iterChanges((i,s,o,l)=>{l>=e.view.viewport.from&&o<=e.view.viewport.to&&(r=Math.min(o,r),a=Math.max(l,a))}),e.viewportMoved||a-r>1e3?this.createDeco(e.view):a>-1?this.updateRange(e.view,t.map(e.changes),r,a):t}updateRange(e,t,r,a){for(let i of e.visibleRanges){let s=Math.max(i.from,r),o=Math.min(i.to,a);if(o>s){let l=e.state.doc.lineAt(s),c=l.to<o?e.state.doc.lineAt(o):l,p=Math.max(i.from,l.from),d=Math.min(i.to,c.to);if(this.boundary){for(;s>l.from;s--)if(this.boundary.test(l.text[s-1-l.from])){p=s;break}for(;o<c.to;o++)if(this.boundary.test(c.text[o-c.from])){d=o;break}}let f=[],y,P=(w,A,T)=>f.push(T.range(w,A));if(l==c)for(this.regexp.lastIndex=p-l.from;(y=this.regexp.exec(l.text))&&y.index<d-l.from;)this.addMatch(y,e,y.index+l.from,P);else ug(e.state.doc,this.regexp,p,d,(w,A)=>this.addMatch(A,e,w,P));t=t.update({filterFrom:p,filterTo:d,filter:(w,A)=>w<p||A>d,add:f})}}return t}}const Fm=/x/.unicode!=null?"gu":"g",Q3=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Fm),_3={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let bp=null;function T3(){var n;if(bp==null&&typeof document<"u"&&document.body){let e=document.body.style;bp=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return bp||!1}const El=be.define({combine(n){let e=na(n,{render:null,specialChars:Q3,addSpecialChars:null});return(e.replaceTabs=!T3())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Fm)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Fm)),e}});function oy(n={}){return[El.of(n),R3()]}let cg=null;function R3(){return cg||(cg=Ct.fromClass(class{constructor(n){this.view=n,this.decorations=ke.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(El)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new $3({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:a}=t.state,i=xn(e[0],0);if(i==9){let s=a.lineAt(r),o=t.state.tabSize,l=qi(s.text,o,r-s.from);return ke.replace({widget:new N3((o-l%o)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[i]||(this.decorationCache[i]=ke.replace({widget:new I3(n,i)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(El);n.startState.facet(El)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const j3="•";function L3(n){return n>=32?j3:n==10?"␤":String.fromCharCode(9216+n)}class I3 extends hr{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=L3(this.code),r=e.state.phrase("Control character")+" "+(_3[this.code]||"0x"+this.code.toString(16)),a=this.options.render&&this.options.render(this.code,r,t);if(a)return a;let i=document.createElement("span");return i.textContent=t,i.title=r,i.setAttribute("aria-label",r),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class N3 extends hr{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Z3(){return q3}const V3=ke.line({class:"cm-activeLine"}),q3=Ct.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let a=n.lineBlockAt(r.head);a.from>e&&(t.push(V3.range(a.from)),e=a.from)}return ke.set(t)}},{decorations:n=>n.decorations}),$m=2e3;function X3(n,e,t){let r=Math.min(e.line,t.line),a=Math.max(e.line,t.line),i=[];if(e.off>$m||t.off>$m||e.col<0||t.col<0){let s=Math.min(e.off,t.off),o=Math.max(e.off,t.off);for(let l=r;l<=a;l++){let c=n.doc.line(l);c.length<=o&&i.push(K.range(c.from+s,c.to+o))}}else{let s=Math.min(e.col,t.col),o=Math.max(e.col,t.col);for(let l=r;l<=a;l++){let c=n.doc.line(l),p=cm(c.text,s,n.tabSize,!0);if(p<0)i.push(K.cursor(c.to));else{let d=cm(c.text,o,n.tabSize);i.push(K.range(c.from+p,c.from+d))}}}return i}function W3(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function pg(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),a=t-r.from,i=a>$m?-1:a==r.length?W3(n,e.clientX):qi(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:i,off:a}}function z3(n,e){let t=pg(n,e),r=n.state.selection;return t?{update(a){if(a.docChanged){let i=a.changes.mapPos(a.startState.doc.line(t.line).from),s=a.state.doc.lineAt(i);t={line:s.number,col:t.col,off:Math.min(t.off,s.length)},r=r.map(a.changes)}},get(a,i,s){let o=pg(n,a);if(!o)return r;let l=X3(n.state,t,o);return l.length?s?K.create(l.concat(r.ranges)):K.create(l):r}}:null}function G3(n){let e=t=>t.altKey&&t.button==0;return pe.mouseSelectionStyle.of((t,r)=>e(r)?z3(t,r):null)}const U3={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},Y3={style:"cursor: crosshair"};function H3(n={}){let[e,t]=U3[n.key||"Alt"],r=Ct.fromClass(class{constructor(a){this.view=a,this.isDown=!1}set(a){this.isDown!=a&&(this.isDown=a,this.view.update([]))}},{eventObservers:{keydown(a){this.set(a.keyCode==e||t(a))},keyup(a){(a.keyCode==e||!t(a))&&this.set(!1)},mousemove(a){this.set(t(a))}}});return[r,pe.contentAttributes.of(a=>{var i;return!((i=a.plugin(r))===null||i===void 0)&&i.isDown?Y3:null})]}const ds="-10000px";class ly{constructor(e,t,r,a){this.facet=t,this.createTooltipView=r,this.removeTooltipView=a,this.input=e.state.facet(t),this.tooltips=this.input.filter(s=>s);let i=null;this.tooltipViews=this.tooltips.map(s=>i=r(s,i))}update(e,t){var r;let a=e.state.facet(this.facet),i=a.filter(l=>l);if(a===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let s=[],o=t?[]:null;for(let l=0;l<i.length;l++){let c=i[l],p=-1;if(c){for(let d=0;d<this.tooltips.length;d++){let f=this.tooltips[d];f&&f.create==c.create&&(p=d)}if(p<0)s[l]=this.createTooltipView(c,l?s[l-1]:null),o&&(o[l]=!!c.above);else{let d=s[l]=this.tooltipViews[p];o&&(o[l]=t[p]),d.update&&d.update(e)}}}for(let l of this.tooltipViews)s.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return t&&(o.forEach((l,c)=>t[c]=l),t.length=o.length),this.input=a,this.tooltips=i,this.tooltipViews=s,!0}}function K3(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const yp=be.define({combine:n=>{var e,t,r;return{position:ge.ios?"absolute":((e=n.find(a=>a.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(a=>a.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(a=>a.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||K3}}}),mg=new WeakMap,Lh=Ct.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(yp);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new ly(n,Ih,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(yp);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let a of this.manager.tooltipViews)a.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let a of this.manager.tooltipViews)this.container.appendChild(a.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let a=document.createElement("div");a.className="cm-tooltip-arrow",t.dom.appendChild(a)}return t.dom.style.position=this.position,t.dom.style.top=ds,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(ge.gecko)t=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==ds&&i.style.left=="0px"){let s=i.getBoundingClientRect();t=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(t||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(n=i.width/this.parent.offsetWidth,e=i.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),a=_h(this.view);return{visible:{left:r.left+a.left,top:r.top+a.top,right:r.right-a.right,bottom:r.bottom-a.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((i,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(yp).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:t,space:r,scaleX:a,scaleY:i}=n,s=[];for(let o=0;o<this.manager.tooltips.length;o++){let l=this.manager.tooltips[o],c=this.manager.tooltipViews[o],{dom:p}=c,d=n.pos[o],f=n.size[o];if(!d||l.clip!==!1&&(d.bottom<=Math.max(t.top,r.top)||d.top>=Math.min(t.bottom,r.bottom)||d.right<Math.max(t.left,r.left)-.1||d.left>Math.min(t.right,r.right)+.1)){p.style.top=ds;continue}let y=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,P=y?7:0,w=f.right-f.left,A=(e=mg.get(c))!==null&&e!==void 0?e:f.bottom-f.top,T=c.offset||eC,q=this.view.textDirection==mt.LTR,G=f.width>r.right-r.left?q?r.left:r.right-f.width:q?Math.max(r.left,Math.min(d.left-(y?14:0)+T.x,r.right-w)):Math.min(Math.max(r.left,d.left-w+(y?14:0)-T.x),r.right-w),I=this.above[o];!l.strictSide&&(I?d.top-A-P-T.y<r.top:d.bottom+A+P+T.y>r.bottom)&&I==r.bottom-d.bottom>d.top-r.top&&(I=this.above[o]=!I);let Q=(I?d.top-r.top:r.bottom-d.bottom)-P;if(Q<A&&c.resize!==!1){if(Q<this.view.defaultLineHeight){p.style.top=ds;continue}mg.set(c,A),p.style.height=(A=Q)/i+"px"}else p.style.height&&(p.style.height="");let Z=I?d.top-A-P-T.y:d.bottom+P+T.y,V=G+w;if(c.overlap!==!0)for(let Y of s)Y.left<V&&Y.right>G&&Y.top<Z+A&&Y.bottom>Z&&(Z=I?Y.top-A-2-P:Y.bottom+P+2);if(this.position=="absolute"?(p.style.top=(Z-n.parent.top)/i+"px",hg(p,(G-n.parent.left)/a)):(p.style.top=Z/i+"px",hg(p,G/a)),y){let Y=d.left+(q?T.x:-T.x)-(G+14-7);y.style.left=Y/a+"px"}c.overlap!==!0&&s.push({left:G,top:Z,right:V,bottom:Z+A}),p.classList.toggle("cm-tooltip-above",I),p.classList.toggle("cm-tooltip-below",!I),c.positioned&&c.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=ds}},{eventObservers:{scroll(){this.maybeMeasure()}}});function hg(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const J3=pe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),eC={x:0,y:0},Ih=be.define({enables:[Lh,J3]}),tu=be.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class Uu{static create(e){return new Uu(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new ly(e,tu,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let a=r[e];if(a!==void 0){if(t===void 0)t=a;else if(t!==a)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const tC=Ih.compute([tu],n=>{let e=n.facet(tu);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:Uu.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class nC{constructor(e,t,r,a,i){this.view=e,this.source=t,this.field=r,this.setHover=a,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let a,i=1;if(r instanceof ma)a=r.posAtStart;else{if(a=e.posAtCoords(t),a==null)return;let o=e.coordsAtPos(a);if(!o||t.y<o.top||t.y>o.bottom||t.x<o.left-e.defaultCharacterWidth||t.x>o.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(a)).find(p=>p.from<=a&&p.to>=a),c=l&&l.dir==mt.RTL?-1:1;i=t.x<o.left?-c:c}let s=this.source(e,a,i);if(s?.then){let o=this.pending={pos:a};s.then(l=>{this.pending==o&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>wn(e.state,l,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(Lh),t=e?e.manager.tooltips.findIndex(r=>r.create==Uu.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:a,tooltip:i}=this;if(a.length&&i&&!rC(i.dom,e)||this.pending){let{pos:s}=a[0]||this.pending,o=(r=(t=a[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:s;(s==o?this.view.posAtCoords(this.lastMove)!=s:!aC(this.view,s,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const ml=4;function rC(n,e){let{left:t,right:r,top:a,bottom:i}=n.getBoundingClientRect(),s;if(s=n.querySelector(".cm-tooltip-arrow")){let o=s.getBoundingClientRect();a=Math.min(o.top,a),i=Math.max(o.bottom,i)}return e.clientX>=t-ml&&e.clientX<=r+ml&&e.clientY>=a-ml&&e.clientY<=i+ml}function aC(n,e,t,r,a,i){let s=n.scrollDOM.getBoundingClientRect(),o=n.documentTop+n.documentPadding.top+n.contentHeight;if(s.left>r||s.right<r||s.top>a||Math.min(s.bottom,o)<a)return!1;let l=n.posAtCoords({x:r,y:a},!1);return l>=e&&l<=t}function uy(n,e={}){let t=Se.define(),r=Pt.define({create(){return[]},update(a,i){if(a.length&&(e.hideOnChange&&(i.docChanged||i.selection)?a=[]:e.hideOn&&(a=a.filter(s=>!e.hideOn(i,s))),i.docChanged)){let s=[];for(let o of a){let l=i.changes.mapPos(o.pos,-1,Qt.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),o);c.pos=l,c.end!=null&&(c.end=i.changes.mapPos(c.end)),s.push(c)}}a=s}for(let s of i.effects)s.is(t)&&(a=s.value),s.is(iC)&&(a=[]);return a},provide:a=>tu.from(a)});return{active:r,extension:[r,Ct.define(a=>new nC(a,n,r,t,e.hoverTime||300)),tC]}}function cy(n,e){let t=n.plugin(Lh);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const iC=Se.define(),dg=be.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Us(n,e){let t=n.plugin(py),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const py=Ct.fromClass(class{constructor(n){this.input=n.state.facet(ka),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(dg);this.top=new hl(n,!0,e.topContainer),this.bottom=new hl(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(dg);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new hl(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new hl(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(ka);if(t!=this.input){let r=t.filter(l=>l),a=[],i=[],s=[],o=[];for(let l of r){let c=this.specs.indexOf(l),p;c<0?(p=l(n.view),o.push(p)):(p=this.panels[c],p.update&&p.update(n)),a.push(p),(p.top?i:s).push(p)}this.specs=r,this.panels=a,this.top.sync(i),this.bottom.sync(s);for(let l of o)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>pe.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class hl{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=fg(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=fg(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function fg(n){let e=n.nextSibling;return n.remove(),e}const ka=be.define({enables:py});class va extends Ga{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}va.prototype.elementClass="";va.prototype.toDOM=void 0;va.prototype.mapMode=Qt.TrackBefore;va.prototype.startSide=va.prototype.endSide=-1;va.prototype.point=!0;const Fl=be.define(),sC=be.define(),$l=be.define(),gg=be.define({combine:n=>n.some(e=>e)});function oC(n){return[lC]}const lC=Ct.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet($l).map(e=>new yg(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(gg),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(gg)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=it.iter(this.view.state.facet(Fl),this.view.viewport.from),r=[],a=this.gutters.map(i=>new uC(i,this.view.viewport,-this.view.documentPadding.top));for(let i of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(i.type)){let s=!0;for(let o of i.type)if(o.type==ln.Text&&s){Qm(t,r,o.from);for(let l of a)l.line(this.view,o,r);s=!1}else if(o.widget)for(let l of a)l.widget(this.view,o)}else if(i.type==ln.Text){Qm(t,r,i.from);for(let s of a)s.line(this.view,i,r)}else if(i.widget)for(let s of a)s.widget(this.view,i);for(let i of a)i.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet($l),t=n.state.facet($l),r=n.docChanged||n.heightChanged||n.viewportChanged||!it.eq(n.startState.facet(Fl),n.state.facet(Fl),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let a of this.gutters)a.update(n)&&(r=!0);else{r=!0;let a=[];for(let i of t){let s=e.indexOf(i);s<0?a.push(new yg(this.view,i)):(this.gutters[s].update(n),a.push(this.gutters[s]))}for(let i of this.gutters)i.dom.remove(),a.indexOf(i)<0&&i.destroy();for(let i of a)this.dom.appendChild(i.dom);this.gutters=a}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>pe.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==mt.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function bg(n){return Array.isArray(n)?n:[n]}function Qm(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class uC{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=it.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:a}=this,i=(t.top-this.height)/e.scaleY,s=t.height/e.scaleY;if(this.i==a.elements.length){let o=new my(e,s,i,r);a.elements.push(o),a.dom.appendChild(o.dom)}else a.elements[this.i].update(e,s,i,r);this.height=t.bottom,this.i++}line(e,t,r){let a=[];Qm(this.cursor,a,t.from),r.length&&(a=a.concat(r));let i=this.gutter.config.lineMarker(e,t,a);i&&a.unshift(i);let s=this.gutter;a.length==0&&!s.config.renderEmptyElements||this.addElement(e,t,a)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),a=r?[r]:null;for(let i of e.state.facet(sC)){let s=i(e,t.widget,t);s&&(a||(a=[])).push(s)}a&&this.addElement(e,t,a)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class yg{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,a=>{let i=a.target,s;if(i!=this.dom&&this.dom.contains(i)){for(;i.parentNode!=this.dom;)i=i.parentNode;let l=i.getBoundingClientRect();s=(l.top+l.bottom)/2}else s=a.clientY;let o=e.lineBlockAtHeight(s-e.documentTop);t.domEventHandlers[r](e,o,a)&&a.preventDefault()});this.markers=bg(t.markers(e)),t.initialSpacer&&(this.spacer=new my(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=bg(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let a=this.config.updateSpacer(this.spacer.markers[0],e);a!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[a])}let r=e.view.viewport;return!it.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class my{constructor(e,t,r,a){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,a)}update(e,t,r,a){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),cC(this.markers,a)||this.setMarkers(e,a)}setMarkers(e,t){let r="cm-gutterElement",a=this.dom.firstChild;for(let i=0,s=0;;){let o=s,l=i<t.length?t[i++]:null,c=!1;if(l){let p=l.elementClass;p&&(r+=" "+p);for(let d=s;d<this.markers.length;d++)if(this.markers[d].compare(l)){o=d,c=!0;break}}else o=this.markers.length;for(;s<o;){let p=this.markers[s++];if(p.toDOM){p.destroy(a);let d=a.nextSibling;a.remove(),a=d}}if(!l)break;l.toDOM&&(c?a=a.nextSibling:this.dom.insertBefore(l.toDOM(e),a)),c&&s++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function cC(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const pC=be.define(),mC=be.define(),mi=be.define({combine(n){return na(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let a in t){let i=r[a],s=t[a];r[a]=i?(o,l,c)=>i(o,l,c)||s(o,l,c):s}return r}})}});class Op extends va{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function kp(n,e){return n.state.facet(mi).formatNumber(e,n.state)}const hC=$l.compute([mi],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(pC)},lineMarker(e,t,r){return r.some(a=>a.toDOM)?null:new Op(kp(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let a of e.state.facet(mC)){let i=a(e,t,r);if(i)return i}return null},lineMarkerChange:e=>e.startState.facet(mi)!=e.state.facet(mi),initialSpacer(e){return new Op(kp(e,Og(e.state.doc.lines)))},updateSpacer(e,t){let r=kp(t.view,Og(t.view.state.doc.lines));return r==e.number?e:new Op(r)},domEventHandlers:n.facet(mi).domEventHandlers}));function dC(n={}){return[mi.of(n),oC(),hC]}function Og(n){let e=9;for(;e<n;)e=e*10+9;return e}const fC=new class extends va{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},gC=Fl.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let a=n.doc.lineAt(r.head).from;a>t&&(t=a,e.push(fC.range(a)))}return it.of(e)});function bC(){return gC}const hy=1024;let yC=0;class vp{constructor(e,t){this.from=e,this.to=t}}class Ve{constructor(e={}){this.id=yC++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Sn.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Ve.closedBy=new Ve({deserialize:n=>n.split(" ")});Ve.openedBy=new Ve({deserialize:n=>n.split(" ")});Ve.group=new Ve({deserialize:n=>n.split(" ")});Ve.isolate=new Ve({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Ve.contextHash=new Ve({perNode:!0});Ve.lookAhead=new Ve({perNode:!0});Ve.mounted=new Ve({perNode:!0});class nu{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Ve.mounted.id]}}const OC=Object.create(null);class Sn{constructor(e,t,r,a=0){this.name=e,this.props=t,this.id=r,this.flags=a}static define(e){let t=e.props&&e.props.length?Object.create(null):OC,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),a=new Sn(e.name||"",t,e.id,r);if(e.props){for(let i of e.props)if(Array.isArray(i)||(i=i(a)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[i[0].id]=i[1]}}return a}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Ve.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let a of r.split(" "))t[a]=e[r];return r=>{for(let a=r.prop(Ve.group),i=-1;i<(a?a.length:0);i++){let s=t[i<0?r.name:a[i]];if(s)return s}}}}Sn.none=new Sn("",Object.create(null),0,8);class Nh{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let a=null;for(let i of e){let s=i(r);s&&(a||(a=Object.assign({},r.props)),a[s[0].id]=s[1])}t.push(a?new Sn(r.name,a,r.id,r.flags):r)}return new Nh(t)}}const dl=new WeakMap,kg=new WeakMap;var Lt;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Lt||(Lt={}));class Rt{constructor(e,t,r,a,i){if(this.type=e,this.children=t,this.positions=r,this.length=a,this.props=null,i&&i.length){this.props=Object.create(null);for(let[s,o]of i)this.props[typeof s=="number"?s:s.id]=o}}toString(){let e=nu.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let a=r.toString();a&&(t&&(t+=","),t+=a)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Tm(this.topNode,e)}cursorAt(e,t=0,r=0){let a=dl.get(this)||this.topNode,i=new Tm(a);return i.moveTo(e,t),dl.set(this,i._tree),i}get topNode(){return new An(this,0,0,null)}resolve(e,t=0){let r=Ys(dl.get(this)||this.topNode,e,t,!1);return dl.set(this,r),r}resolveInner(e,t=0){let r=Ys(kg.get(this)||this.topNode,e,t,!0);return kg.set(this,r),r}resolveStack(e,t=0){return xC(this,e,t)}iterate(e){let{enter:t,leave:r,from:a=0,to:i=this.length}=e,s=e.mode||0,o=(s&Lt.IncludeAnonymous)>0;for(let l=this.cursor(s|Lt.IncludeAnonymous);;){let c=!1;if(l.from<=i&&l.to>=a&&(!o&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(o||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:qh(Sn.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,a)=>new Rt(this.type,t,r,a,this.propValues),e.makeTree||((t,r,a)=>new Rt(Sn.none,t,r,a)))}static build(e){return PC(e)}}Rt.empty=new Rt(Sn.none,[],[],0);class Zh{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Zh(this.buffer,this.index)}}class xa{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Sn.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],a=this.set.types[t],i=a.name;if(/\W/.test(i)&&!a.isError&&(i=JSON.stringify(i)),e+=4,r==e)return i;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return i+"("+s.join(",")+")"}findChild(e,t,r,a,i){let{buffer:s}=this,o=-1;for(let l=e;l!=t&&!(dy(i,a,s[l+1],s[l+2])&&(o=l,r>0));l=s[l+3]);return o}slice(e,t,r){let a=this.buffer,i=new Uint16Array(t-e),s=0;for(let o=e,l=0;o<t;){i[l++]=a[o++],i[l++]=a[o++]-r;let c=i[l++]=a[o++]-r;i[l++]=a[o++]-e,s=Math.max(s,c)}return new xa(i,s,this.set)}}function dy(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Ys(n,e,t,r){for(var a;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let s=!r&&n instanceof An&&n.index<0?null:n.parent;if(!s)return n;n=s}let i=r?0:Lt.IgnoreOverlays;if(r)for(let s=n,o=s.parent;o;s=o,o=s.parent)s instanceof An&&s.index<0&&((a=o.enter(e,t,i))===null||a===void 0?void 0:a.from)!=s.from&&(n=o);for(;;){let s=n.enter(e,t,i);if(!s)return n;n=s}}class fy{cursor(e=0){return new Tm(this,e)}getChild(e,t=null,r=null){let a=vg(this,e,t,r);return a.length?a[0]:null}getChildren(e,t=null,r=null){return vg(this,e,t,r)}resolve(e,t=0){return Ys(this,e,t,!1)}resolveInner(e,t=0){return Ys(this,e,t,!0)}matchContext(e){return _m(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let a=t.lastChild;if(!a||a.to!=t.to)break;a.type.isError&&a.from==a.to?(r=t,t=a.prevSibling):t=a}return r}get node(){return this}get next(){return this.parent}}class An extends fy{constructor(e,t,r,a){super(),this._tree=e,this.from=t,this.index=r,this._parent=a}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,a,i=0){for(let s=this;;){for(let{children:o,positions:l}=s._tree,c=t>0?o.length:-1;e!=c;e+=t){let p=o[e],d=l[e]+s.from;if(dy(a,r,d,d+p.length)){if(p instanceof xa){if(i&Lt.ExcludeBuffers)continue;let f=p.findChild(0,p.buffer.length,t,r-d,a);if(f>-1)return new Er(new kC(s,p,e,d),null,f)}else if(i&Lt.IncludeAnonymous||!p.type.isAnonymous||Vh(p)){let f;if(!(i&Lt.IgnoreMounts)&&(f=nu.get(p))&&!f.overlay)return new An(f.tree,d,e,s);let y=new An(p,d,e,s);return i&Lt.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(t<0?p.children.length-1:0,t,r,a)}}}if(i&Lt.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+t:e=t<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let a;if(!(r&Lt.IgnoreOverlays)&&(a=nu.get(this._tree))&&a.overlay){let i=e-this.from;for(let{from:s,to:o}of a.overlay)if((t>0?s<=i:s<i)&&(t<0?o>=i:o>i))return new An(a.tree,a.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function vg(n,e,t,r){let a=n.cursor(),i=[];if(!a.firstChild())return i;if(t!=null){for(let s=!1;!s;)if(s=a.type.is(t),!a.nextSibling())return i}for(;;){if(r!=null&&a.type.is(r))return i;if(a.type.is(e)&&i.push(a.node),!a.nextSibling())return r==null?i:[]}}function _m(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class kC{constructor(e,t,r,a){this.parent=e,this.buffer=t,this.index=r,this.start=a}}class Er extends fy{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:a}=this.context,i=a.findChild(this.index+4,a.buffer[this.index+3],e,t-this.context.start,r);return i<0?null:new Er(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Lt.ExcludeBuffers)return null;let{buffer:a}=this.context,i=a.findChild(this.index+4,a.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return i<0?null:new Er(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Er(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Er(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,a=this.index+4,i=r.buffer[this.index+3];if(i>a){let s=r.buffer[this.index+1];e.push(r.slice(a,i,s)),t.push(0)}return new Rt(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function gy(n){if(!n.length)return null;let e=0,t=n[0];for(let i=1;i<n.length;i++){let s=n[i];(s.from>t.from||s.to<t.to)&&(t=s,e=i)}let r=t instanceof An&&t.index<0?null:t.parent,a=n.slice();return r?a[e]=r:a.splice(e,1),new vC(a,t)}class vC{constructor(e,t){this.heads=e,this.node=t}get next(){return gy(this.heads)}}function xC(n,e,t){let r=n.resolveInner(e,t),a=null;for(let i=r instanceof An?r:r.context.parent;i;i=i.parent)if(i.index<0){let s=i.parent;(a||(a=[r])).push(s.resolve(e,t)),i=s}else{let s=nu.get(i.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let o=new An(s.tree,s.overlay[0].from+i.from,-1,i);(a||(a=[r])).push(Ys(o,e,t,!1))}}return a?gy(a):r}class Tm{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof An)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:a}=this.buffer;return this.type=t||a.set.types[a.buffer[e]],this.from=r+a.buffer[e+1],this.to=r+a.buffer[e+2],!0}yield(e){return e?e instanceof An?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:a}=this.buffer,i=a.findChild(this.index+4,a.buffer[this.index+3],e,t-this.buffer.start,r);return i<0?!1:(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Lt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Lt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Lt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let a=r<0?0:this.stack[r]+4;if(this.index!=a)return this.yieldBuf(t.findChild(a,this.index,-1,0,4))}else{let a=t.buffer[this.index+3];if(a<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(a)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:a}=this;if(a){if(e>0){if(this.index<a.buffer.buffer.length)return!1}else for(let i=0;i<this.index;i++)if(a.buffer.buffer[i+3]<this.index)return!1;({index:t,parent:r}=a)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let i=t+e,s=e<0?-1:r._tree.children.length;i!=s;i+=e){let o=r._tree.children[i];if(this.mode&Lt.IncludeAnonymous||o instanceof xa||!o.type.isAnonymous||Vh(o))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let a=this.index,i=this.stack.length;i>=0;){for(let s=e;s;s=s._parent)if(s.index==a){if(a==this.index)return s;t=s,r=i+1;break e}a=this.stack[--i]}for(let a=r;a<this.stack.length;a++)t=new Er(this.buffer,t,this.stack[a]);return this.bufferNode=new Er(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let a=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(a=!0)}for(;;){if(a&&t&&t(this),a=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,a=!0}}}matchContext(e){if(!this.buffer)return _m(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let a=e.length-1,i=this.stack.length-1;a>=0;i--){if(i<0)return _m(this._tree,e,a);let s=r[t.buffer[this.stack[i]]];if(!s.isAnonymous){if(e[a]&&e[a]!=s.name)return!1;a--}}return!0}}function Vh(n){return n.children.some(e=>e instanceof xa||!e.type.isAnonymous||Vh(e))}function PC(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:a=hy,reused:i=[],minRepeatType:s=r.types.length}=n,o=Array.isArray(t)?new Zh(t,t.length):t,l=r.types,c=0,p=0;function d(Q,Z,V,Y,ue,se){let{id:ce,start:ae,end:ne,size:fe}=o,Ce=p,Re=c;for(;fe<0;)if(o.next(),fe==-1){let bt=i[ce];V.push(bt),Y.push(ae-Q);return}else if(fe==-3){c=ce;return}else if(fe==-4){p=ce;return}else throw new RangeError(`Unrecognized record size: ${fe}`);let Me=l[ce],te,qe,ot=ae-Q;if(ne-ae<=a&&(qe=A(o.pos-Z,ue))){let bt=new Uint16Array(qe.size-qe.skip),le=o.pos-qe.size,lt=bt.length;for(;o.pos>le;)lt=T(qe.start,bt,lt);te=new xa(bt,ne-qe.start,r),ot=qe.start-Q}else{let bt=o.pos-fe;o.next();let le=[],lt=[],Bt=ce>=s?ce:-1,Le=0,Xe=ne;for(;o.pos>bt;)Bt>=0&&o.id==Bt&&o.size>=0?(o.end<=Xe-a&&(P(le,lt,ae,Le,o.end,Xe,Bt,Ce,Re),Le=le.length,Xe=o.end),o.next()):se>2500?f(ae,bt,le,lt):d(ae,bt,le,lt,Bt,se+1);if(Bt>=0&&Le>0&&Le<le.length&&P(le,lt,ae,Le,ae,Xe,Bt,Ce,Re),le.reverse(),lt.reverse(),Bt>-1&&Le>0){let At=y(Me,Re);te=qh(Me,le,lt,0,le.length,0,ne-ae,At,At)}else te=w(Me,le,lt,ne-ae,Ce-ne,Re)}V.push(te),Y.push(ot)}function f(Q,Z,V,Y){let ue=[],se=0,ce=-1;for(;o.pos>Z;){let{id:ae,start:ne,end:fe,size:Ce}=o;if(Ce>4)o.next();else{if(ce>-1&&ne<ce)break;ce<0&&(ce=fe-a),ue.push(ae,ne,fe),se++,o.next()}}if(se){let ae=new Uint16Array(se*4),ne=ue[ue.length-2];for(let fe=ue.length-3,Ce=0;fe>=0;fe-=3)ae[Ce++]=ue[fe],ae[Ce++]=ue[fe+1]-ne,ae[Ce++]=ue[fe+2]-ne,ae[Ce++]=Ce;V.push(new xa(ae,ue[2]-ne,r)),Y.push(ne-Q)}}function y(Q,Z){return(V,Y,ue)=>{let se=0,ce=V.length-1,ae,ne;if(ce>=0&&(ae=V[ce])instanceof Rt){if(!ce&&ae.type==Q&&ae.length==ue)return ae;(ne=ae.prop(Ve.lookAhead))&&(se=Y[ce]+ae.length+ne)}return w(Q,V,Y,ue,se,Z)}}function P(Q,Z,V,Y,ue,se,ce,ae,ne){let fe=[],Ce=[];for(;Q.length>Y;)fe.push(Q.pop()),Ce.push(Z.pop()+V-ue);Q.push(w(r.types[ce],fe,Ce,se-ue,ae-se,ne)),Z.push(ue-V)}function w(Q,Z,V,Y,ue,se,ce){if(se){let ae=[Ve.contextHash,se];ce=ce?[ae].concat(ce):[ae]}if(ue>25){let ae=[Ve.lookAhead,ue];ce=ce?[ae].concat(ce):[ae]}return new Rt(Q,Z,V,Y,ce)}function A(Q,Z){let V=o.fork(),Y=0,ue=0,se=0,ce=V.end-a,ae={size:0,start:0,skip:0};e:for(let ne=V.pos-Q;V.pos>ne;){let fe=V.size;if(V.id==Z&&fe>=0){ae.size=Y,ae.start=ue,ae.skip=se,se+=4,Y+=4,V.next();continue}let Ce=V.pos-fe;if(fe<0||Ce<ne||V.start<ce)break;let Re=V.id>=s?4:0,Me=V.start;for(V.next();V.pos>Ce;){if(V.size<0)if(V.size==-3)Re+=4;else break e;else V.id>=s&&(Re+=4);V.next()}ue=Me,Y+=fe,se+=Re}return(Z<0||Y==Q)&&(ae.size=Y,ae.start=ue,ae.skip=se),ae.size>4?ae:void 0}function T(Q,Z,V){let{id:Y,start:ue,end:se,size:ce}=o;if(o.next(),ce>=0&&Y<s){let ae=V;if(ce>4){let ne=o.pos-(ce-4);for(;o.pos>ne;)V=T(Q,Z,V)}Z[--V]=ae,Z[--V]=se-Q,Z[--V]=ue-Q,Z[--V]=Y}else ce==-3?c=Y:ce==-4&&(p=Y);return V}let q=[],G=[];for(;o.pos>0;)d(n.start||0,n.bufferStart||0,q,G,-1,0);let I=(e=n.length)!==null&&e!==void 0?e:q.length?G[0]+q[0].length:0;return new Rt(l[n.topID],q.reverse(),G.reverse(),I)}const xg=new WeakMap;function Ql(n,e){if(!n.isAnonymous||e instanceof xa||e.type!=n)return 1;let t=xg.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Rt)){t=1;break}t+=Ql(n,r)}xg.set(e,t)}return t}function qh(n,e,t,r,a,i,s,o,l){let c=0;for(let P=r;P<a;P++)c+=Ql(n,e[P]);let p=Math.ceil(c*1.5/8),d=[],f=[];function y(P,w,A,T,q){for(let G=A;G<T;){let I=G,Q=w[G],Z=Ql(n,P[G]);for(G++;G<T;G++){let V=Ql(n,P[G]);if(Z+V>=p)break;Z+=V}if(G==I+1){if(Z>p){let V=P[I];y(V.children,V.positions,0,V.children.length,w[I]+q);continue}d.push(P[I])}else{let V=w[G-1]+P[G-1].length-Q;d.push(qh(n,P,w,I,G,Q,V,null,l))}f.push(Q+q-i)}}return y(e,t,r,a,0),(o||l)(d,f,s)}class wC{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let a=this.map.get(e);a||this.map.set(e,a=new Map),a.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof Er?this.setBuffer(e.context.buffer,e.index,t):e instanceof An&&this.map.set(e.tree,t)}get(e){return e instanceof Er?this.getBuffer(e.context.buffer,e.index):e instanceof An?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Va{constructor(e,t,r,a,i=!1,s=!1){this.from=e,this.to=t,this.tree=r,this.offset=a,this.open=(i?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let a=[new Va(0,e.length,e,0,!1,r)];for(let i of t)i.to>e.length&&a.push(i);return a}static applyChanges(e,t,r=128){if(!t.length)return e;let a=[],i=1,s=e.length?e[0]:null;for(let o=0,l=0,c=0;;o++){let p=o<t.length?t[o]:null,d=p?p.fromA:1e9;if(d-l>=r)for(;s&&s.from<d;){let f=s;if(l>=f.from||d<=f.to||c){let y=Math.max(f.from,l)-c,P=Math.min(f.to,d)-c;f=y>=P?null:new Va(y,P,f.tree,f.offset+c,o>0,!!p)}if(f&&a.push(f),s.to>d)break;s=i<e.length?e[i++]:null}if(!p)break;l=p.toA,c=p.toA-p.toB}return a}}class by{startParse(e,t,r){return typeof e=="string"&&(e=new CC(e)),r=r?r.length?r.map(a=>new vp(a.from,a.to)):[new vp(0,0)]:[new vp(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let a=this.startParse(e,t,r);for(;;){let i=a.advance();if(i)return i}}}class CC{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Ve({perNode:!0});let AC=0;class Xn{constructor(e,t,r,a){this.name=e,this.set=t,this.base=r,this.modified=a,this.id=AC++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof Xn&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let a=new Xn(r,[],null,[]);if(a.set.push(a),t)for(let i of t.set)a.set.push(i);return a}static defineModifier(e){let t=new ru(e);return r=>r.modified.indexOf(t)>-1?r:ru.get(r.base||r,r.modified.concat(t).sort((a,i)=>a.id-i.id))}}let SC=0;class ru{constructor(e){this.name=e,this.instances=[],this.id=SC++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(o=>o.base==e&&MC(t,o.modified));if(r)return r;let a=[],i=new Xn(e.name,a,e,t);for(let o of t)o.instances.push(i);let s=DC(t);for(let o of e.set)if(!o.modified.length)for(let l of s)a.push(ru.get(o,l));return i}}function MC(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function DC(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,a=e.length;r<a;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function yy(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let a of t.split(" "))if(a){let i=[],s=2,o=a;for(let d=0;;){if(o=="..."&&d>0&&d+3==a.length){s=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!f)throw new RangeError("Invalid path: "+a);if(i.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),d+=f[0].length,d==a.length)break;let y=a[d++];if(d==a.length&&y=="!"){s=0;break}if(y!="/")throw new RangeError("Invalid path: "+a);o=a.slice(d)}let l=i.length-1,c=i[l];if(!c)throw new RangeError("Invalid path: "+a);let p=new au(r,s,l>0?i.slice(0,l):null);e[c]=p.sort(e[c])}}return Oy.add(e)}const Oy=new Ve;class au{constructor(e,t,r,a){this.tags=e,this.mode=t,this.context=r,this.next=a}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}au.empty=new au([],2,null);function ky(n,e){let t=Object.create(null);for(let i of n)if(!Array.isArray(i.tag))t[i.tag.id]=i.class;else for(let s of i.tag)t[s.id]=i.class;let{scope:r,all:a=null}=e||{};return{style:i=>{let s=a;for(let o of i)for(let l of o.set){let c=t[l.id];if(c){s=s?s+" "+c:c;break}}return s},scope:r}}function BC(n,e){let t=null;for(let r of n){let a=r.style(e);a&&(t=t?t+" "+a:a)}return t}function EC(n,e,t,r=0,a=n.length){let i=new FC(r,Array.isArray(e)?e:[e],t);i.highlightRange(n.cursor(),r,a,"",i.highlighters),i.flush(a)}class FC{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,a,i){let{type:s,from:o,to:l}=e;if(o>=r||l<=t)return;s.isTop&&(i=this.highlighters.filter(y=>!y.scope||y.scope(s)));let c=a,p=$C(e)||au.empty,d=BC(i,p.tags);if(d&&(c&&(c+=" "),c+=d,p.mode==1&&(a+=(a?" ":"")+d)),this.startSpan(Math.max(t,o),c),p.opaque)return;let f=e.tree&&e.tree.prop(Ve.mounted);if(f&&f.overlay){let y=e.node.enter(f.overlay[0].from+o,1),P=this.highlighters.filter(A=>!A.scope||A.scope(f.tree.type)),w=e.firstChild();for(let A=0,T=o;;A++){let q=A<f.overlay.length?f.overlay[A]:null,G=q?q.from+o:l,I=Math.max(t,T),Q=Math.min(r,G);if(I<Q&&w)for(;e.from<Q&&(this.highlightRange(e,I,Q,a,i),this.startSpan(Math.min(Q,e.to),c),!(e.to>=G||!e.nextSibling())););if(!q||G>r)break;T=q.to+o,T>t&&(this.highlightRange(y.cursor(),Math.max(t,q.from+o),Math.min(r,T),"",P),this.startSpan(Math.min(r,T),c))}w&&e.parent()}else if(e.firstChild()){f&&(a="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,a,i),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function $C(n){let e=n.type.prop(Oy);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const me=Xn.define,fl=me(),oa=me(),Pg=me(oa),wg=me(oa),la=me(),gl=me(la),xp=me(la),wr=me(),Ta=me(wr),xr=me(),Pr=me(),Rm=me(),fs=me(Rm),bl=me(),u={comment:fl,lineComment:me(fl),blockComment:me(fl),docComment:me(fl),name:oa,variableName:me(oa),typeName:Pg,tagName:me(Pg),propertyName:wg,attributeName:me(wg),className:me(oa),labelName:me(oa),namespace:me(oa),macroName:me(oa),literal:la,string:gl,docString:me(gl),character:me(gl),attributeValue:me(gl),number:xp,integer:me(xp),float:me(xp),bool:me(la),regexp:me(la),escape:me(la),color:me(la),url:me(la),keyword:xr,self:me(xr),null:me(xr),atom:me(xr),unit:me(xr),modifier:me(xr),operatorKeyword:me(xr),controlKeyword:me(xr),definitionKeyword:me(xr),moduleKeyword:me(xr),operator:Pr,derefOperator:me(Pr),arithmeticOperator:me(Pr),logicOperator:me(Pr),bitwiseOperator:me(Pr),compareOperator:me(Pr),updateOperator:me(Pr),definitionOperator:me(Pr),typeOperator:me(Pr),controlOperator:me(Pr),punctuation:Rm,separator:me(Rm),bracket:fs,angleBracket:me(fs),squareBracket:me(fs),paren:me(fs),brace:me(fs),content:wr,heading:Ta,heading1:me(Ta),heading2:me(Ta),heading3:me(Ta),heading4:me(Ta),heading5:me(Ta),heading6:me(Ta),contentSeparator:me(wr),list:me(wr),quote:me(wr),emphasis:me(wr),strong:me(wr),link:me(wr),monospace:me(wr),strikethrough:me(wr),inserted:me(),deleted:me(),changed:me(),invalid:me(),meta:bl,documentMeta:me(bl),annotation:me(bl),processingInstruction:me(bl),definition:Xn.defineModifier("definition"),constant:Xn.defineModifier("constant"),function:Xn.defineModifier("function"),standard:Xn.defineModifier("standard"),local:Xn.defineModifier("local"),special:Xn.defineModifier("special")};for(let n in u){let e=u[n];e instanceof Xn&&(e.name=n)}ky([{tag:u.link,class:"tok-link"},{tag:u.heading,class:"tok-heading"},{tag:u.emphasis,class:"tok-emphasis"},{tag:u.strong,class:"tok-strong"},{tag:u.keyword,class:"tok-keyword"},{tag:u.atom,class:"tok-atom"},{tag:u.bool,class:"tok-bool"},{tag:u.url,class:"tok-url"},{tag:u.labelName,class:"tok-labelName"},{tag:u.inserted,class:"tok-inserted"},{tag:u.deleted,class:"tok-deleted"},{tag:u.literal,class:"tok-literal"},{tag:u.string,class:"tok-string"},{tag:u.number,class:"tok-number"},{tag:[u.regexp,u.escape,u.special(u.string)],class:"tok-string2"},{tag:u.variableName,class:"tok-variableName"},{tag:u.local(u.variableName),class:"tok-variableName tok-local"},{tag:u.definition(u.variableName),class:"tok-variableName tok-definition"},{tag:u.special(u.variableName),class:"tok-variableName2"},{tag:u.definition(u.propertyName),class:"tok-propertyName tok-definition"},{tag:u.typeName,class:"tok-typeName"},{tag:u.namespace,class:"tok-namespace"},{tag:u.className,class:"tok-className"},{tag:u.macroName,class:"tok-macroName"},{tag:u.propertyName,class:"tok-propertyName"},{tag:u.operator,class:"tok-operator"},{tag:u.comment,class:"tok-comment"},{tag:u.meta,class:"tok-meta"},{tag:u.invalid,class:"tok-invalid"},{tag:u.punctuation,class:"tok-punctuation"}]);var Pp;const hi=new Ve;function vy(n){return be.define({combine:n?e=>e.concat(n):void 0})}const Xh=new Ve;class zn{constructor(e,t,r=[],a=""){this.data=e,this.name=a,et.prototype.hasOwnProperty("tree")||Object.defineProperty(et.prototype,"tree",{get(){return Wt(this)}}),this.parser=t,this.extension=[Qi.of(this),et.languageData.of((i,s,o)=>{let l=Cg(i,s,o),c=l.type.prop(hi);if(!c)return[];let p=i.facet(c),d=l.type.prop(Xh);if(d){let f=l.resolve(s-l.from,o);for(let y of d)if(y.test(f,i)){let P=i.facet(y.facet);return y.type=="replace"?P:P.concat(p)}}return p})].concat(r)}isActiveAt(e,t,r=-1){return Cg(e,t,r).type.prop(hi)==this.data}findRegions(e){let t=e.facet(Qi);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],a=(i,s)=>{if(i.prop(hi)==this.data){r.push({from:s,to:s+i.length});return}let o=i.prop(Ve.mounted);if(o){if(o.tree.prop(hi)==this.data){if(o.overlay)for(let l of o.overlay)r.push({from:l.from+s,to:l.to+s});else r.push({from:s,to:s+i.length});return}else if(o.overlay){let l=r.length;if(a(o.tree,o.overlay[0].from+s),r.length>l)return}}for(let l=0;l<i.children.length;l++){let c=i.children[l];c instanceof Rt&&a(c,i.positions[l]+s)}};return a(Wt(e),0),r}get allowsNesting(){return!0}}zn.setState=Se.define();function Cg(n,e,t){let r=n.facet(Qi),a=Wt(n).topNode;if(!r||r.allowsNesting)for(let i=a;i;i=i.enter(e,t,Lt.ExcludeBuffers))i.type.isTop&&(a=i);return a}class iu extends zn{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=vy(e.languageData);return new iu(t,e.parser.configure({props:[hi.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new iu(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Wt(n){let e=n.field(zn.state,!1);return e?e.tree:Rt.empty}function xy(n,e,t=50){var r;let a=(r=n.field(zn.state,!1))===null||r===void 0?void 0:r.context;if(!a)return null;let i=a.viewport;a.updateViewport({from:0,to:e});let s=a.isDone(e)||a.work(t,e)?a.tree:null;return a.updateViewport(i),s}class QC{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let gs=null;class su{constructor(e,t,r=[],a,i,s,o,l){this.parser=e,this.state=t,this.fragments=r,this.tree=a,this.treeLen=i,this.viewport=s,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new su(e,t,[],Rt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new QC(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Rt.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let a=Date.now()+e;e=()=>Date.now()>a}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let a=this.parse.advance();if(a)if(this.fragments=this.withoutTempSkipped(Va.addTree(a,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=a,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Va.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=gs;gs=this;try{return e()}finally{gs=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Ag(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:a,treeLen:i,viewport:s,skipped:o}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,p,d,f)=>l.push({fromA:c,toA:p,fromB:d,toB:f})),r=Va.applyChanges(r,l),a=Rt.empty,i=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){o=[];for(let c of this.skipped){let p=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);p<d&&o.push({from:p,to:d})}}}return new su(this.parser,t,r,a,i,s,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:a,to:i}=this.skipped[r];a<e.to&&i>e.from&&(this.fragments=Ag(this.fragments,a,i),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends by{createParse(t,r,a){let i=a[0].from,s=a[a.length-1].to;return{parsedPos:i,advance(){let l=gs;if(l){for(let c of a)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=s,new Rt(Sn.none,[],[],s-i)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return gs}}function Ag(n,e,t){return Va.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class $i{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new $i(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=su.create(e.facet(Qi).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new $i(r)}}zn.state=Pt.define({create:$i.init,update(n,e){for(let t of e.effects)if(t.is(zn.setState))return t.value;return e.startState.facet(Qi)!=e.state.facet(Qi)?$i.init(e.state):n.apply(e)}});let Py=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Py=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const wp=typeof navigator<"u"&&(!((Pp=navigator.scheduling)===null||Pp===void 0)&&Pp.isInputPending)?()=>navigator.scheduling.isInputPending():null,_C=Ct.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(zn.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(zn.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Py(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:a}}=this.view,i=r.field(zn.state);if(i.tree==i.context.tree&&i.context.isDone(a+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!wp?Math.max(25,e.timeRemaining()-5):1e9),o=i.context.treeLen<a&&r.doc.length>a+1e3,l=i.context.work(()=>wp&&wp()||Date.now()>s,a+(o?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:zn.setState.of(new $i(i.context))})),this.chunkBudget>0&&!(l&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>wn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Qi=be.define({combine(n){return n.length?n[0]:null},enables:n=>[zn.state,_C,pe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class TC{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const RC=be.define(),_i=be.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function ou(n){let e=n.facet(_i);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function lu(n,e){let t="",r=n.tabSize,a=n.facet(_i)[0];if(a=="	"){for(;e>=r;)t+="	",e-=r;a=" "}for(let i=0;i<e;i++)t+=a;return t}function wy(n,e){n instanceof et&&(n=new Yu(n));for(let r of n.state.facet(RC)){let a=r(n,e);if(a!==void 0)return a}let t=Wt(n.state);return t.length>=e?jC(n,t,e):null}class Yu{constructor(e,t={}){this.state=e,this.options=t,this.unit=ou(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:a,simulateDoubleBreak:i}=this.options;return a!=null&&a>=r.from&&a<=r.to?i&&a==e?{text:"",from:e}:(t<0?a<e:a<=e)?{text:r.text.slice(a-r.from),from:a}:{text:r.text.slice(0,a-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:a}=this.lineAt(e,t);return r.slice(e-a,Math.min(r.length,e+100-a))}column(e,t=1){let{text:r,from:a}=this.lineAt(e,t),i=this.countColumn(r,e-a),s=this.options.overrideIndentation?this.options.overrideIndentation(a):-1;return s>-1&&(i+=s-this.countColumn(r,r.search(/\S|$/))),i}countColumn(e,t=e.length){return qi(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:a}=this.lineAt(e,t),i=this.options.overrideIndentation;if(i){let s=i(a);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Cy=new Ve;function jC(n,e,t){let r=e.resolveStack(t),a=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(a!=r.node){let i=[];for(let s=a;s&&!(s.from==r.node.from&&s.type==r.node.type);s=s.parent)i.push(s);for(let s=i.length-1;s>=0;s--)r={node:i[s],next:r}}return Ay(r,n,t)}function Ay(n,e,t){for(let r=n;r;r=r.next){let a=IC(r.node);if(a)return a(Wh.create(e,t,r))}return 0}function LC(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function IC(n){let e=n.type.prop(Cy);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(Ve.closedBy))){let a=n.lastChild,i=a&&r.indexOf(a.name)>-1;return s=>Sy(s,!0,1,void 0,i&&!LC(s)?a.from:void 0)}return n.parent==null?NC:null}function NC(){return 0}class Wh extends Yu{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new Wh(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(ZC(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return Ay(this.context.next,this.base,this.pos)}}function ZC(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function VC(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let a=n.options.simulateBreak,i=n.state.doc.lineAt(t.from),s=a==null||a<=i.from?i.to:Math.min(i.to,a);for(let o=t.to;;){let l=e.childAfter(o);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=s)return null;let c=/^ */.exec(i.text.slice(t.to-i.from))[0].length;return{from:t.from,to:t.to+c}}o=l.to}}function qC({closing:n,align:e=!0,units:t=1}){return r=>Sy(r,e,t,n)}function Sy(n,e,t,r,a){let i=n.textAfter,s=i.match(/^\s*/)[0].length,o=r&&i.slice(s,s+r.length)==r||a==n.pos+s,l=e?VC(n):null;return l?o?n.column(l.from):n.column(l.to):n.baseIndent+(o?0:n.unit*t)}const XC=n=>n.baseIndent;function Cp({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const WC=be.define(),My=new Ve;function zC(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function GC(n,e,t){let r=Wt(n);if(r.length<t)return null;let a=r.resolveStack(t,1),i=null;for(let s=a;s;s=s.next){let o=s.node;if(o.to<=t||o.from>t)continue;if(i&&o.from<e)break;let l=o.type.prop(My);if(l&&(o.to<r.length-50||r.length==n.doc.length||!UC(o))){let c=l(o,n);c&&c.from<=t&&c.from>=e&&c.to>t&&(i=c)}}return i}function UC(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Dy(n,e,t){for(let r of n.facet(WC)){let a=r(n,e,t);if(a)return a}return GC(n,e,t)}function By(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const zh=Se.define({map:By}),Hu=Se.define({map:By});function Ey(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const bo=Pt.define({create(){return ke.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(zh)&&!YC(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(Ty),a=r?ke.replace({widget:new n5(r(e.state,t.value))}):Sg;n=n.update({add:[a.range(t.value.from,t.value.to)]})}else t.is(Hu)&&(n=n.update({filter:(r,a)=>t.value.from!=r||t.value.to!=a,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(a,i)=>{a<r&&i>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(a,i)=>i<=r||a>=r}))}return n},provide:n=>pe.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,a)=>{t.push(r,a)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],a=n[t++];if(typeof r!="number"||typeof a!="number")throw new RangeError("Invalid JSON for fold state");e.push(Sg.range(r,a))}return ke.set(e,!0)}});function Fy(n,e,t){var r;let a=null;return(r=n.field(bo,!1))===null||r===void 0||r.between(e,t,(i,s)=>{(!a||a.from>i)&&(a={from:i,to:s})}),a}function YC(n,e,t){let r=!1;return n.between(e,e,(a,i)=>{a==e&&i==t&&(r=!0)}),r}function $y(n,e){return n.field(bo,!1)?e:e.concat(Se.appendConfig.of(t5()))}const Qy=n=>{for(let e of Ey(n)){let t=Dy(n.state,e.from,e.to);if(t)return n.dispatch({effects:$y(n.state,[zh.of(t),_y(n,t)])}),!0}return!1},HC=n=>{if(!n.state.field(bo,!1))return!1;let e=[];for(let t of Ey(n)){let r=Fy(n.state,t.from,t.to);r&&e.push(Hu.of(r),_y(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function _y(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,a=n.state.doc.lineAt(e.to).number;return pe.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${a}.`)}const KC=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let a=n.lineBlockAt(r),i=Dy(e,a.from,a.to);i&&t.push(zh.of(i)),r=(i?n.lineBlockAt(i.to):a).to+1}return t.length&&n.dispatch({effects:$y(n.state,t)}),!!t.length},JC=n=>{let e=n.state.field(bo,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,a)=>{t.push(Hu.of({from:r,to:a}))}),n.dispatch({effects:t}),!0},e5={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Ty=be.define({combine(n){return na(n,e5)}});function t5(n){return[bo,r5]}function Ry(n,e){let{state:t}=n,r=t.facet(Ty),a=s=>{let o=n.lineBlockAt(n.posAtDOM(s.target)),l=Fy(n.state,o.from,o.to);l&&n.dispatch({effects:Hu.of(l)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,a,e);let i=document.createElement("span");return i.textContent=r.placeholderText,i.setAttribute("aria-label",t.phrase("folded code")),i.title=t.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=a,i}const Sg=ke.replace({widget:new class extends hr{toDOM(n){return Ry(n,null)}}});class n5 extends hr{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return Ry(e,this.value)}}const r5=pe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class yo{constructor(e,t){this.specs=e;let r;function a(o){let l=ba.newName();return(r||(r=Object.create(null)))["."+l]=o,l}const i=typeof t.all=="string"?t.all:t.all?a(t.all):void 0,s=t.scope;this.scope=s instanceof zn?o=>o.prop(hi)==s.data:s?o=>o==s:void 0,this.style=ky(e.map(o=>({tag:o.tag,class:o.class||a(Object.assign({},o,{tag:null}))})),{all:i}).style,this.module=r?new ba(r):null,this.themeType=t.themeType}static define(e,t){return new yo(e,t||{})}}const jm=be.define(),jy=be.define({combine(n){return n.length?[n[0]]:null}});function Ap(n){let e=n.facet(jm);return e.length?e:n.facet(jy)}function Gh(n,e){let t=[i5],r;return n instanceof yo&&(n.module&&t.push(pe.styleModule.of(n.module)),r=n.themeType),e?.fallback?t.push(jy.of(n)):r?t.push(jm.computeN([pe.darkTheme],a=>a.facet(pe.darkTheme)==(r=="dark")?[n]:[])):t.push(jm.of(n)),t}class a5{constructor(e){this.markCache=Object.create(null),this.tree=Wt(e.state),this.decorations=this.buildDeco(e,Ap(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Wt(e.state),r=Ap(e.state),a=r!=Ap(e.startState),{viewport:i}=e.view,s=e.changes.mapPos(this.decoratedTo,1);t.length<i.to&&!a&&t.type==this.tree.type&&s>=i.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(t!=this.tree||e.viewportChanged||a)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=i.to)}buildDeco(e,t){if(!t||!this.tree.length)return ke.none;let r=new _r;for(let{from:a,to:i}of e.visibleRanges)EC(this.tree,t,(s,o,l)=>{r.add(s,o,this.markCache[l]||(this.markCache[l]=ke.mark({class:l})))},a,i);return r.finish()}}const i5=Mn.high(Ct.fromClass(a5,{decorations:n=>n.decorations})),Ly=yo.define([{tag:u.meta,color:"#404740"},{tag:u.link,textDecoration:"underline"},{tag:u.heading,textDecoration:"underline",fontWeight:"bold"},{tag:u.emphasis,fontStyle:"italic"},{tag:u.strong,fontWeight:"bold"},{tag:u.strikethrough,textDecoration:"line-through"},{tag:u.keyword,color:"#708"},{tag:[u.atom,u.bool,u.url,u.contentSeparator,u.labelName],color:"#219"},{tag:[u.literal,u.inserted],color:"#164"},{tag:[u.string,u.deleted],color:"#a11"},{tag:[u.regexp,u.escape,u.special(u.string)],color:"#e40"},{tag:u.definition(u.variableName),color:"#00f"},{tag:u.local(u.variableName),color:"#30a"},{tag:[u.typeName,u.namespace],color:"#085"},{tag:u.className,color:"#167"},{tag:[u.special(u.variableName),u.macroName],color:"#256"},{tag:u.definition(u.propertyName),color:"#00c"},{tag:u.comment,color:"#940"},{tag:u.invalid,color:"#f00"}]),s5=pe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Iy=1e4,Ny="()[]{}",Zy=be.define({combine(n){return na(n,{afterCursor:!0,brackets:Ny,maxScanDistance:Iy,renderMatch:u5})}}),o5=ke.mark({class:"cm-matchingBracket"}),l5=ke.mark({class:"cm-nonmatchingBracket"});function u5(n){let e=[],t=n.matched?o5:l5;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const c5=Pt.define({create(){return ke.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(Zy);for(let a of e.state.selection.ranges){if(!a.empty)continue;let i=Gn(e.state,a.head,-1,r)||a.head>0&&Gn(e.state,a.head-1,1,r)||r.afterCursor&&(Gn(e.state,a.head,1,r)||a.head<e.state.doc.length&&Gn(e.state,a.head+1,-1,r));i&&(t=t.concat(r.renderMatch(i,e.state)))}return ke.set(t,!0)},provide:n=>pe.decorations.from(n)}),p5=[c5,s5];function m5(n={}){return[Zy.of(n),p5]}const h5=new Ve;function Lm(n,e,t){let r=n.prop(e<0?Ve.openedBy:Ve.closedBy);if(r)return r;if(n.name.length==1){let a=t.indexOf(n.name);if(a>-1&&a%2==(e<0?1:0))return[t[a+e]]}return null}function Im(n){let e=n.type.prop(h5);return e?e(n.node):n}function Gn(n,e,t,r={}){let a=r.maxScanDistance||Iy,i=r.brackets||Ny,s=Wt(n),o=s.resolveInner(e,t);for(let l=o;l;l=l.parent){let c=Lm(l.type,t,i);if(c&&l.from<l.to){let p=Im(l);if(p&&(t>0?e>=p.from&&e<p.to:e>p.from&&e<=p.to))return d5(n,e,t,l,p,c,i)}}return f5(n,e,t,s,o.type,a,i)}function d5(n,e,t,r,a,i,s){let o=r.parent,l={from:a.from,to:a.to},c=0,p=o?.cursor();if(p&&(t<0?p.childBefore(r.from):p.childAfter(r.to)))do if(t<0?p.to<=r.from:p.from>=r.to){if(c==0&&i.indexOf(p.type.name)>-1&&p.from<p.to){let d=Im(p);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(Lm(p.type,t,s))c++;else if(Lm(p.type,-t,s)){if(c==0){let d=Im(p);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}c--}}while(t<0?p.prevSibling():p.nextSibling());return{start:l,matched:!1}}function f5(n,e,t,r,a,i,s){let o=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=s.indexOf(o);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},p=n.doc.iterRange(e,t>0?n.doc.length:0),d=0;for(let f=0;!p.next().done&&f<=i;){let y=p.value;t<0&&(f+=y.length);let P=e+f*t;for(let w=t>0?0:y.length-1,A=t>0?y.length:-1;w!=A;w+=t){let T=s.indexOf(y[w]);if(!(T<0||r.resolveInner(P+w,1).type!=a))if(T%2==0==t>0)d++;else{if(d==1)return{start:c,end:{from:P+w,to:P+w+1},matched:T>>1==l>>1};d--}}t>0&&(f+=y.length)}return p.done?{start:c,matched:!1}:null}function Mg(n,e,t,r=0,a=0){e==null&&(e=n.search(/[^\s\u00a0]/),e==-1&&(e=n.length));let i=a;for(let s=r;s<e;s++)n.charCodeAt(s)==9?i+=t-i%t:i++;return i}class g5{constructor(e,t,r,a){this.string=e,this.tabSize=t,this.indentUnit=r,this.overrideIndent=a,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t=this.string.charAt(this.pos),r;if(typeof e=="string"?r=t==e:r=t&&(e instanceof RegExp?e.test(t):e(t)),r)return++this.pos,t}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Mg(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:Mg(this.string,null,this.tabSize)}match(e,t,r){if(typeof e=="string"){let a=s=>r?s.toLowerCase():s,i=this.string.substr(this.pos,e.length);return a(i)==a(e)?(t!==!1&&(this.pos+=e.length),!0):null}else{let a=this.string.slice(this.pos).match(e);return a&&a.index>0?null:(a&&t!==!1&&(this.pos+=a[0].length),a)}}current(){return this.string.slice(this.start,this.pos)}}const b5=Object.create(null),Dg=[Sn.none],Bg=[],Eg=Object.create(null),y5=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])y5[n]=O5(b5,e);function Sp(n,e){Bg.indexOf(n)>-1||(Bg.push(n),console.warn(e))}function O5(n,e){let t=[];for(let o of e.split(" ")){let l=[];for(let c of o.split(".")){let p=n[c]||u[c];p?typeof p=="function"?l.length?l=l.map(p):Sp(c,`Modifier ${c} used at start of tag`):l.length?Sp(c,`Tag ${c} used as modifier`):l=Array.isArray(p)?p:[p]:Sp(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),a=r+" "+t.map(o=>o.id),i=Eg[a];if(i)return i.id;let s=Eg[a]=Sn.define({id:Dg.length,name:r,props:[yy({[r]:t})]});return Dg.push(s),s.id}mt.RTL,mt.LTR;class Vy{constructor(e,t,r,a){this.state=e,this.pos=t,this.explicit=r,this.view=a,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Wt(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),a=t.text.slice(r-t.from,this.pos-t.from),i=a.search(Xy(e,!1));return i<0?null:{from:r+i,to:this.pos,text:a.slice(i)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function Fg(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function k5(n){let e=Object.create(null),t=Object.create(null);for(let{label:a}of n){e[a[0]]=!0;for(let i=1;i<a.length;i++)t[a[i]]=!0}let r=Fg(e)+Fg(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function qy(n){let e=n.map(a=>typeof a=="string"?{label:a}:a),[t,r]=e.every(a=>/^\w+$/.test(a.label))?[/\w*$/,/\w+$/]:k5(e);return a=>{let i=a.matchBefore(r);return i||a.explicit?{from:i?i.from:a.pos,options:e,validFor:t}:null}}function v5(n,e){return t=>{for(let r=Wt(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}class $g{constructor(e,t,r,a){this.completion=e,this.source=t,this.match=r,this.score=a}}function qa(n){return n.selection.main.from}function Xy(n,e){var t;let{source:r}=n,a=e&&r[0]!="^",i=r[r.length-1]!="$";return!a&&!i?n:new RegExp(`${a?"^":""}(?:${r})${i?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const Uh=ta.define();function x5(n,e,t,r){let{main:a}=n.selection,i=t-a.from,s=r-a.from;return Object.assign(Object.assign({},n.changeByRange(o=>{if(o!=a&&t!=r&&n.sliceDoc(o.from+i,o.from+s)!=n.sliceDoc(t,r))return{range:o};let l=n.toText(e);return{changes:{from:o.from+i,to:r==a.from?o.to:o.from+s,insert:l},range:K.cursor(o.from+i+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const Qg=new WeakMap;function P5(n){if(!Array.isArray(n))return n;let e=Qg.get(n);return e||Qg.set(n,e=qy(n)),e}const uu=Se.define(),Hs=Se.define();class w5{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=xn(e,t),a=Mr(r);this.chars.push(r);let i=e.slice(t,t+a),s=i.toUpperCase();this.folded.push(xn(s==i?i.toLowerCase():s,0)),t+=a}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:a,precise:i,byWord:s}=this;if(t.length==1){let q=xn(e,0),G=Mr(q),I=G==e.length?0:-100;if(q!=t[0])if(q==r[0])I+=-200;else return null;return this.ret(I,[0,G])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(o<0){for(let q=0,G=Math.min(e.length,200);q<G&&c<l;){let I=xn(e,q);(I==t[c]||I==r[c])&&(a[c++]=q),q+=Mr(I)}if(c<l)return null}let p=0,d=0,f=!1,y=0,P=-1,w=-1,A=/[a-z]/.test(e),T=!0;for(let q=0,G=Math.min(e.length,200),I=0;q<G&&d<l;){let Q=xn(e,q);o<0&&(p<l&&Q==t[p]&&(i[p++]=q),y<l&&(Q==t[y]||Q==r[y]?(y==0&&(P=q),w=q+1,y++):y=0));let Z,V=Q<255?Q>=48&&Q<=57||Q>=97&&Q<=122?2:Q>=65&&Q<=90?1:0:(Z=Ch(Q))!=Z.toLowerCase()?1:Z!=Z.toUpperCase()?2:0;(!q||V==1&&A||I==0&&V!=0)&&(t[d]==Q||r[d]==Q&&(f=!0)?s[d++]=q:s.length&&(T=!1)),I=V,q+=Mr(Q)}return d==l&&s[0]==0&&T?this.result(-100+(f?-200:0),s,e):y==l&&P==0?this.ret(-200-e.length+(w==e.length?0:-100),[0,w]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):y==l?this.ret(-900-e.length,[P,w]):d==l?this.result(-100+(f?-200:0)+-700+(T?0:-1100),s,e):t.length==2?null:this.result((a[0]?-700:0)+-200+-1100,a,e)}result(e,t,r){let a=[],i=0;for(let s of t){let o=s+(this.astral?Mr(xn(r,s)):1);i&&a[i-1]==s?a[i-1]=o:(a[i++]=s,a[i++]=o)}return this.ret(e-r.length,a)}}class C5{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Nt=be.define({combine(n){return na(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:A5,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>_g(e(r),t(r)),optionClass:(e,t)=>r=>_g(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function _g(n,e){return n?e?n+" "+e:n:e}function A5(n,e,t,r,a,i){let s=n.textDirection==mt.RTL,o=s,l=!1,c="top",p,d,f=e.left-a.left,y=a.right-e.right,P=r.right-r.left,w=r.bottom-r.top;if(o&&f<Math.min(P,y)?o=!1:!o&&y<Math.min(P,f)&&(o=!0),P<=(o?f:y))p=Math.max(a.top,Math.min(t.top,a.bottom-w))-e.top,d=Math.min(400,o?f:y);else{l=!0,d=Math.min(400,(s?e.right:a.right-e.left)-30);let q=a.bottom-e.bottom;q>=w||q>e.top?p=t.bottom-e.top:(c="bottom",p=e.bottom-t.top)}let A=(e.bottom-e.top)/i.offsetHeight,T=(e.right-e.left)/i.offsetWidth;return{style:`${c}: ${p/A}px; max-width: ${d/T}px`,class:"cm-completionInfo-"+(l?s?"left-narrow":"right-narrow":o?"left":"right")}}function S5(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(a=>"cm-completionIcon-"+a)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,a,i){let s=document.createElement("span");s.className="cm-completionLabel";let o=t.displayLabel||t.label,l=0;for(let c=0;c<i.length;){let p=i[c++],d=i[c++];p>l&&s.appendChild(document.createTextNode(o.slice(l,p)));let f=s.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(o.slice(p,d))),f.className="cm-completionMatchedText",l=d}return l<o.length&&s.appendChild(document.createTextNode(o.slice(l))),s},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function Mp(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let a=Math.floor(e/t);return{from:a*t,to:(a+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class M5{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let a=e.state.field(t),{options:i,selected:s}=a.open,o=e.state.facet(Nt);this.optionContent=S5(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=Mp(i.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(t).open;for(let p=l.target,d;p&&p!=this.dom;p=p.parentNode)if(p.nodeName=="LI"&&(d=/-(\d+)$/.exec(p.id))&&+d[1]<c.length){this.applyCompletion(e,c[+d[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Nt).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Hs.of(null)})}),this.showOptions(i,a.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),a=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=a){let{options:i,selected:s,disabled:o}=r.open;(!a.open||a.open.options!=i)&&(this.range=Mp(i.length,s,e.state.facet(Nt).maxRenderedOptions),this.showOptions(i,r.id)),this.updateSel(),o!=((t=a.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Mp(t.options.length,t.selected,this.view.state.facet(Nt).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:a}=r;if(!a)return;let i=typeof a=="string"?document.createTextNode(a):a(r);if(!i)return;"then"in i?i.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>wn(this.view.state,s,"completion info")):this.addInfoPane(i,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:a,destroy:i}=e;r.appendChild(a),this.infoDestroy=i||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,a=this.range.from;r;r=r.nextSibling,a++)r.nodeName!="LI"||!r.id?a--:a==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&B5(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),a=e.getBoundingClientRect(),i=this.space;if(!i){let s=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return a.top>Math.min(i.bottom,t.bottom)-10||a.bottom<Math.max(i.top,t.top)+10?null:this.view.state.facet(Nt).positionInfo(this.view,t,a,r,i,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const a=document.createElement("ul");a.id=t,a.setAttribute("role","listbox"),a.setAttribute("aria-expanded","true"),a.setAttribute("aria-label",this.view.state.phrase("Completions"));let i=null;for(let s=r.from;s<r.to;s++){let{completion:o,match:l}=e[s],{section:c}=o;if(c){let f=typeof c=="string"?c:c.name;if(f!=i&&(s>r.from||r.from==0))if(i=f,typeof c!="string"&&c.header)a.appendChild(c.header(c));else{let y=a.appendChild(document.createElement("completion-section"));y.textContent=f}}const p=a.appendChild(document.createElement("li"));p.id=t+"-"+s,p.setAttribute("role","option");let d=this.optionClass(o);d&&(p.className=d);for(let f of this.optionContent){let y=f(o,this.view.state,this.view,l);y&&p.appendChild(y)}}return r.from&&a.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&a.classList.add("cm-completionListIncompleteBottom"),a}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function D5(n,e){return t=>new M5(t,n,e)}function B5(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),a=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/a:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/a)}function Tg(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function E5(n,e){let t=[],r=null,a=c=>{t.push(c);let{section:p}=c.completion;if(p){r||(r=[]);let d=typeof p=="string"?p:p.name;r.some(f=>f.name==d)||r.push(typeof p=="string"?{name:d}:p)}},i=e.facet(Nt);for(let c of n)if(c.hasResult()){let p=c.result.getMatch;if(c.result.filter===!1)for(let d of c.result.options)a(new $g(d,c.source,p?p(d):[],1e9-t.length));else{let d=e.sliceDoc(c.from,c.to),f,y=i.filterStrict?new C5(d):new w5(d);for(let P of c.result.options)if(f=y.match(P.label)){let w=P.displayLabel?p?p(P,f.matched):[]:f.matched;a(new $g(P,c.source,w,f.score+(P.boost||0)))}}}if(r){let c=Object.create(null),p=0,d=(f,y)=>{var P,w;return((P=f.rank)!==null&&P!==void 0?P:1e9)-((w=y.rank)!==null&&w!==void 0?w:1e9)||(f.name<y.name?-1:1)};for(let f of r.sort(d))p-=1e5,c[f.name]=p;for(let f of t){let{section:y}=f.completion;y&&(f.score+=c[typeof y=="string"?y:y.name])}}let s=[],o=null,l=i.compareCompletions;for(let c of t.sort((p,d)=>d.score-p.score||l(p.completion,d.completion))){let p=c.completion;!o||o.label!=p.label||o.detail!=p.detail||o.type!=null&&p.type!=null&&o.type!=p.type||o.apply!=p.apply||o.boost!=p.boost?s.push(c):Tg(c.completion)>Tg(o)&&(s[s.length-1]=c),o=c.completion}return s}class di{constructor(e,t,r,a,i,s){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=a,this.selected=i,this.disabled=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new di(this.options,Rg(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,a,i,s){if(a&&!s&&e.some(c=>c.isPending))return a.setDisabled();let o=E5(e,t);if(!o.length)return a&&e.some(c=>c.isPending)?a.setDisabled():null;let l=t.facet(Nt).selectOnOpen?0:-1;if(a&&a.selected!=l&&a.selected!=-1){let c=a.options[a.selected].completion;for(let p=0;p<o.length;p++)if(o[p].completion==c){l=p;break}}return new di(o,Rg(r,l),{pos:e.reduce((c,p)=>p.hasResult()?Math.min(c,p.from):c,1e8),create:R5,above:i.aboveCursor},a?a.timestamp:Date.now(),l,!1)}map(e){return new di(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new di(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class cu{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new cu(_5,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Nt),i=(r.override||t.languageDataAt("autocomplete",qa(t)).map(P5)).map(l=>(this.active.find(p=>p.source==l)||new Un(l,this.active.some(p=>p.state!=0)?1:0)).update(e,r));i.length==this.active.length&&i.every((l,c)=>l==this.active[c])&&(i=this.active);let s=this.open,o=e.effects.some(l=>l.is(Yh));s&&e.docChanged&&(s=s.map(e.changes)),e.selection||i.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!F5(i,this.active)||o?s=di.build(i,t,this.id,s,r,o):s&&s.disabled&&!i.some(l=>l.isPending)&&(s=null),!s&&i.every(l=>!l.isPending)&&i.some(l=>l.hasResult())&&(i=i.map(l=>l.hasResult()?new Un(l.source,0):l));for(let l of e.effects)l.is(zy)&&(s=s&&s.setSelected(l.value,this.id));return i==this.active&&s==this.open?this:new cu(i,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?$5:Q5}}function F5(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let a=t==n.length,i=r==e.length;if(a||i)return a==i;if(n[t++].result!=e[r++].result)return!1}}const $5={"aria-autocomplete":"list"},Q5={};function Rg(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const _5=[];function Wy(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(Uh);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Un{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=Wy(e,t),a=this;(r&8||r&16&&this.touches(e))&&(a=new Un(a.source,0)),r&4&&a.state==0&&(a=new Un(this.source,1)),a=a.updateFor(e,r);for(let i of e.effects)if(i.is(uu))a=new Un(a.source,1,i.value);else if(i.is(Hs))a=new Un(a.source,0);else if(i.is(Yh))for(let s of i.value)s.source==a.source&&(a=s);return a}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(qa(e.state))}}class ki extends Un{constructor(e,t,r,a,i,s){super(e,3,t),this.limit=r,this.result=a,this.from=i,this.to=s}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let a=this.result;a.map&&!e.changes.empty&&(a=a.map(a,e.changes));let i=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),o=qa(e.state);if(o>s||!a||t&2&&(qa(e.startState)==this.from||o<this.limit))return new Un(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return T5(a.validFor,e.state,i,s)?new ki(this.source,this.explicit,l,a,i,s):a.update&&(a=a.update(a,i,s,new Vy(e.state,o,!1)))?new ki(this.source,this.explicit,l,a,a.from,(r=a.to)!==null&&r!==void 0?r:qa(e.state)):new Un(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ki(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Un(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function T5(n,e,t,r){if(!n)return!1;let a=e.sliceDoc(t,r);return typeof n=="function"?n(a,t,r,e):Xy(n,!0).test(a)}const Yh=Se.define({map(n,e){return n.map(t=>t.map(e))}}),zy=Se.define(),on=Pt.define({create(){return cu.start()},update(n,e){return n.update(e)},provide:n=>[Ih.from(n,e=>e.tooltip),pe.contentAttributes.from(n,e=>e.attrs)]});function Hh(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(on).active.find(a=>a.source==e.source);return r instanceof ki?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},x5(n.state,t,r.from,r.to)),{annotations:Uh.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}const R5=D5(on,Hh);function da(n,e="option"){return t=>{let r=t.state.field(on,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(Nt).interactionDelay)return!1;let a=1,i;e=="page"&&(i=cy(t,r.open.tooltip))&&(a=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,o=r.open.selected>-1?r.open.selected+a*(n?1:-1):n?0:s-1;return o<0?o=e=="page"?0:s-1:o>=s&&(o=e=="page"?s-1:0),t.dispatch({effects:zy.of(o)}),!0}}const Nm=n=>{let e=n.state.field(on,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Nt).interactionDelay?!1:Hh(n,e.open.options[e.open.selected])},Zm=n=>n.state.field(on,!1)?(n.dispatch({effects:uu.of(!0)}),!0):!1,Gy=n=>{let e=n.state.field(on,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Hs.of(null)}),!0)};class j5{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const L5=50,I5=1e3,N5=Ct.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(on).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(on),t=n.state.facet(Nt);if(!n.selectionSet&&!n.docChanged&&n.startState.field(on)==e)return;let r=n.transactions.some(i=>{let s=Wy(i,t);return s&8||(i.selection||i.docChanged)&&!(s&3)});for(let i=0;i<this.running.length;i++){let s=this.running[i];if(r||s.context.abortOnDocChange&&n.docChanged||s.updates.length+n.transactions.length>L5&&Date.now()-s.time>I5){for(let o of s.context.abortListeners)try{o()}catch(l){wn(this.view.state,l)}s.context.abortListeners=null,this.running.splice(i--,1)}else s.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(i=>i.effects.some(s=>s.is(uu)))&&(this.pendingStart=!0);let a=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(i=>i.isPending&&!this.running.some(s=>s.active.source==i.source))?setTimeout(()=>this.startUpdate(),a):-1,this.composing!=0)for(let i of n.transactions)i.isUserEvent("input.type")?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(on);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Nt).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=qa(e),r=new Vy(e,t,n.explicit,this.view),a=new j5(n,r);this.running.push(a),Promise.resolve(n.source(r)).then(i=>{a.context.aborted||(a.done=i||null,this.scheduleAccept())},i=>{this.view.dispatch({effects:Hs.of(null)}),wn(this.view.state,i)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Nt).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Nt),r=this.view.state.field(on);for(let a=0;a<this.running.length;a++){let i=this.running[a];if(i.done===void 0)continue;if(this.running.splice(a--,1),i.done){let o=qa(i.updates.length?i.updates[0].startState:this.view.state),l=Math.min(o,i.done.from+(i.active.explicit?0:1)),c=new ki(i.active.source,i.active.explicit,l,i.done,i.done.from,(n=i.done.to)!==null&&n!==void 0?n:o);for(let p of i.updates)c=c.update(p,t);if(c.hasResult()){e.push(c);continue}}let s=r.active.find(o=>o.source==i.active.source);if(s&&s.isPending)if(i.done==null){let o=new Un(i.active.source,0);for(let l of i.updates)o=o.update(l,t);o.isPending||e.push(o)}else this.startQuery(s)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:Yh.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(on,!1);if(e&&e.tooltip&&this.view.state.facet(Nt).closeOnBlur){let t=e.open&&cy(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Hs.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:uu.of(!1)}),20),this.composing=0}}}),Z5=typeof navigator=="object"&&/Win/.test(navigator.platform),V5=Mn.highest(pe.domEventHandlers({keydown(n,e){let t=e.state.field(on,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(Z5&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],a=t.active.find(s=>s.source==r.source),i=r.completion.commitCharacters||a.result.commitCharacters;return i&&i.indexOf(n.key)>-1&&Hh(e,r),!1}})),Uy=pe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class q5{constructor(e,t,r,a){this.field=e,this.line=t,this.from=r,this.to=a}}class Kh{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,Qt.TrackDel),r=e.mapPos(this.to,1,Qt.TrackDel);return t==null||r==null?null:new Kh(this.field,t,r)}}class Jh{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],a=[t],i=e.doc.lineAt(t),s=/^\s*/.exec(i.text)[0];for(let l of this.lines){if(r.length){let c=s,p=/^\t*/.exec(l)[0].length;for(let d=0;d<p;d++)c+=e.facet(_i);a.push(t+c.length-p),l=c+l.slice(p)}r.push(l),t+=l.length+1}let o=this.fieldPositions.map(l=>new Kh(l.field,a[l.line]+l.from,a[l.line]+l.to));return{text:r,ranges:o}}static parse(e){let t=[],r=[],a=[],i;for(let s of e.split(/\r\n?|\n/)){for(;i=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(s);){let o=i[1]?+i[1]:null,l=i[2]||i[3]||"",c=-1,p=l.replace(/\\[{}]/g,d=>d[1]);for(let d=0;d<t.length;d++)(o!=null?t[d].seq==o:p&&t[d].name==p)&&(c=d);if(c<0){let d=0;for(;d<t.length&&(o==null||t[d].seq!=null&&t[d].seq<o);)d++;t.splice(d,0,{seq:o,name:p}),c=d;for(let f of a)f.field>=c&&f.field++}a.push(new q5(c,r.length,i.index,i.index+p.length)),s=s.slice(0,i.index)+l+s.slice(i.index+i[0].length)}s=s.replace(/\\([{}])/g,(o,l,c)=>{for(let p of a)p.line==r.length&&p.from>c&&(p.from--,p.to--);return l}),r.push(s)}return new Jh(r,a)}}let X5=ke.widget({widget:new class extends hr{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),W5=ke.mark({class:"cm-snippetField"});class Xi{constructor(e,t){this.ranges=e,this.active=t,this.deco=ke.set(e.map(r=>(r.from==r.to?X5:W5).range(r.from,r.to)))}map(e){let t=[];for(let r of this.ranges){let a=r.map(e);if(!a)return null;t.push(a)}return new Xi(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}}const Oo=Se.define({map(n,e){return n&&n.map(e)}}),z5=Se.define(),Ks=Pt.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(Oo))return t.value;if(t.is(z5)&&n)return new Xi(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>pe.decorations.from(n,e=>e?e.deco:ke.none)});function ed(n,e){return K.create(n.filter(t=>t.field==e).map(t=>K.range(t.from,t.to)))}function G5(n){let e=Jh.parse(n);return(t,r,a,i)=>{let{text:s,ranges:o}=e.instantiate(t.state,a),{main:l}=t.state.selection,c={changes:{from:a,to:i==l.from?l.to:i,insert:tt.of(s)},scrollIntoView:!0,annotations:r?[Uh.of(r),_t.userEvent.of("input.complete")]:void 0};if(o.length&&(c.selection=ed(o,0)),o.some(p=>p.field>0)){let p=new Xi(o,0),d=c.effects=[Oo.of(p)];t.state.field(Ks,!1)===void 0&&d.push(Se.appendConfig.of([Ks,J5,eA,Uy]))}t.dispatch(t.state.update(c))}}function Yy(n){return({state:e,dispatch:t})=>{let r=e.field(Ks,!1);if(!r||n<0&&r.active==0)return!1;let a=r.active+n,i=n>0&&!r.ranges.some(s=>s.field==a+n);return t(e.update({selection:ed(r.ranges,a),effects:Oo.of(i?null:new Xi(r.ranges,a)),scrollIntoView:!0})),!0}}const U5=({state:n,dispatch:e})=>n.field(Ks,!1)?(e(n.update({effects:Oo.of(null)})),!0):!1,Y5=Yy(1),H5=Yy(-1),K5=[{key:"Tab",run:Y5,shift:H5},{key:"Escape",run:U5}],jg=be.define({combine(n){return n.length?n[0]:K5}}),J5=Mn.highest(ra.compute([jg],n=>n.facet(jg)));function gn(n,e){return Object.assign(Object.assign({},e),{apply:G5(n)})}const eA=pe.domEventHandlers({mousedown(n,e){let t=e.state.field(Ks,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let a=t.ranges.find(i=>i.from<=r&&i.to>=r);return!a||a.field==t.active?!1:(e.dispatch({selection:ed(t.ranges,a.field),effects:Oo.of(t.ranges.some(i=>i.field>a.field)?new Xi(t.ranges,a.field):null),scrollIntoView:!0}),!0)}}),Js={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Na=Se.define({map(n,e){let t=e.mapPos(n,-1,Qt.TrackAfter);return t??void 0}}),td=new class extends Ga{};td.startSide=1;td.endSide=-1;const Hy=Pt.define({create(){return it.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(Na)&&(n=n.update({add:[td.range(t.value,t.value+1)]}));return n}});function tA(){return[rA,Hy]}const Dp="()[]{}<>";function Ky(n){for(let e=0;e<Dp.length;e+=2)if(Dp.charCodeAt(e)==n)return Dp.charAt(e+1);return Ch(n<128?n:n+1)}function Jy(n,e){return n.languageDataAt("closeBrackets",e)[0]||Js}const nA=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),rA=pe.inputHandler.of((n,e,t,r)=>{if((nA?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let a=n.state.selection.main;if(r.length>2||r.length==2&&Mr(xn(r,0))==1||e!=a.from||t!=a.to)return!1;let i=iA(n.state,r);return i?(n.dispatch(i),!0):!1}),eO=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=Jy(n,n.selection.main.head).brackets||Js.brackets,a=null,i=n.changeByRange(s=>{if(s.empty){let o=sA(n.doc,s.head);for(let l of r)if(l==o&&Ku(n.doc,s.head)==Ky(xn(l,0)))return{changes:{from:s.head-l.length,to:s.head+l.length},range:K.cursor(s.head-l.length)}}return{range:a=s}});return a||e(n.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!a},aA=[{key:"Backspace",run:eO}];function iA(n,e){let t=Jy(n,n.selection.main.head),r=t.brackets||Js.brackets;for(let a of r){let i=Ky(xn(a,0));if(e==a)return i==a?uA(n,a,r.indexOf(a+a+a)>-1,t):oA(n,a,i,t.before||Js.before);if(e==i&&tO(n,n.selection.main.from))return lA(n,a,i)}return null}function tO(n,e){let t=!1;return n.field(Hy).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function Ku(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Mr(xn(t,0)))}function sA(n,e){let t=n.sliceString(e-2,e);return Mr(xn(t,0))==t.length?t:t.slice(1)}function oA(n,e,t,r){let a=null,i=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:t,from:s.to}],effects:Na.of(s.to+e.length),range:K.range(s.anchor+e.length,s.head+e.length)};let o=Ku(n.doc,s.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:e+t,from:s.head},effects:Na.of(s.head+e.length),range:K.cursor(s.head+e.length)}:{range:a=s}});return a?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function lA(n,e,t){let r=null,a=n.changeByRange(i=>i.empty&&Ku(n.doc,i.head)==t?{changes:{from:i.head,to:i.head+t.length,insert:t},range:K.cursor(i.head+t.length)}:r={range:i});return r?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function uA(n,e,t,r){let a=r.stringPrefixes||Js.stringPrefixes,i=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:Na.of(o.to+e.length),range:K.range(o.anchor+e.length,o.head+e.length)};let l=o.head,c=Ku(n.doc,l),p;if(c==e){if(Lg(n,l))return{changes:{insert:e+e,from:l},effects:Na.of(l+e.length),range:K.cursor(l+e.length)};if(tO(n,l)){let f=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:K.cursor(l+f.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(p=Ig(n,l-2*e.length,a))>-1&&Lg(n,p))return{changes:{insert:e+e+e+e,from:l},effects:Na.of(l+e.length),range:K.cursor(l+e.length)};if(n.charCategorizer(l)(c)!=Tt.Word&&Ig(n,l,a)>-1&&!cA(n,l,e,a))return{changes:{insert:e+e,from:l},effects:Na.of(l+e.length),range:K.cursor(l+e.length)}}return{range:i=o}});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Lg(n,e){let t=Wt(n).resolveInner(e+1);return t.parent&&t.from==e}function cA(n,e,t,r){let a=Wt(n).resolveInner(e,-1),i=r.reduce((s,o)=>Math.max(s,o.length),0);for(let s=0;s<5;s++){let o=n.sliceDoc(a.from,Math.min(a.to,a.from+t.length+i)),l=o.indexOf(t);if(!l||l>-1&&r.indexOf(o.slice(0,l))>-1){let p=a.firstChild;for(;p&&p.from==a.from&&p.to-p.from>t.length+l;){if(n.sliceDoc(p.to-t.length,p.to)==t)return!1;p=p.firstChild}return!0}let c=a.to==e&&a.parent;if(!c)break;a=c}return!1}function Ig(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=Tt.Word)return e;for(let a of t){let i=e-a.length;if(n.sliceDoc(i,e)==a&&r(n.sliceDoc(i-1,i))!=Tt.Word)return i}return-1}function pA(n={}){return[V5,on,Nt.of(n),N5,hA,Uy]}const mA=[{key:"Ctrl-Space",run:Zm},{mac:"Alt-`",run:Zm},{key:"Escape",run:Gy},{key:"ArrowDown",run:da(!0)},{key:"ArrowUp",run:da(!1)},{key:"PageDown",run:da(!0,"page")},{key:"PageUp",run:da(!1,"page")},{key:"Enter",run:Nm}],hA=Mn.highest(ra.computeN([Nt],n=>n.facet(Nt).defaultKeymap?[mA]:[]));function dA(n){let e=n.field(on,!1);return e&&e.active.some(t=>t.isPending)?"pending":e&&e.active.some(t=>t.state!=0)?"active":null}const nd=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=rd(n.state,t.from);return r.line?nO(n):r.block?bA(n):!1};function ko(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let a=n(e,t);return a?(r(t.update(a)),!0):!1}}const nO=ko(ad,0),fA=ko(ad,1),gA=ko(ad,2),rO=ko(aO,0),bA=ko((n,e)=>aO(n,e,OA(e)),0);function rd(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const bs=50;function yA(n,{open:e,close:t},r,a){let i=n.sliceDoc(r-bs,r),s=n.sliceDoc(a,a+bs),o=/\s*$/.exec(i)[0].length,l=/^\s*/.exec(s)[0].length,c=i.length-o;if(i.slice(c-e.length,c)==e&&s.slice(l,l+t.length)==t)return{open:{pos:r-o,margin:o&&1},close:{pos:a+l,margin:l&&1}};let p,d;a-r<=2*bs?p=d=n.sliceDoc(r,a):(p=n.sliceDoc(r,r+bs),d=n.sliceDoc(a-bs,a));let f=/^\s*/.exec(p)[0].length,y=/\s*$/.exec(d)[0].length,P=d.length-y-t.length;return p.slice(f,f+e.length)==e&&d.slice(P,P+t.length)==t?{open:{pos:r+f+e.length,margin:/\s/.test(p.charAt(f+e.length))?1:0},close:{pos:a-y-t.length,margin:/\s/.test(d.charAt(P-1))?1:0}}:null}function OA(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),a=t.to<=r.to?r:n.doc.lineAt(t.to);a.from>r.from&&a.from==t.to&&(a=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let i=e.length-1;i>=0&&e[i].to>r.from?e[i].to=a.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:a.to})}return e}function aO(n,e,t=e.selection.ranges){let r=t.map(i=>rd(e,i.from).block);if(!r.every(i=>i))return null;let a=t.map((i,s)=>yA(e,r[s],i.from,i.to));if(n!=2&&!a.every(i=>i))return{changes:e.changes(t.map((i,s)=>a[s]?[]:[{from:i.from,insert:r[s].open+" "},{from:i.to,insert:" "+r[s].close}]))};if(n!=1&&a.some(i=>i)){let i=[];for(let s=0,o;s<a.length;s++)if(o=a[s]){let l=r[s],{open:c,close:p}=o;i.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:p.pos-p.margin,to:p.pos+l.close.length})}return{changes:i}}return null}function ad(n,e,t=e.selection.ranges){let r=[],a=-1;for(let{from:i,to:s}of t){let o=r.length,l=1e9,c=rd(e,i).line;if(c){for(let p=i;p<=s;){let d=e.doc.lineAt(p);if(d.from>a&&(i==s||s>d.from)){a=d.from;let f=/^\s*/.exec(d.text)[0].length,y=f==d.length,P=d.text.slice(f,f+c.length)==c?f:-1;f<d.text.length&&f<l&&(l=f),r.push({line:d,comment:P,token:c,indent:f,empty:y,single:!1})}p=d.to+1}if(l<1e9)for(let p=o;p<r.length;p++)r[p].indent<r[p].line.text.length&&(r[p].indent=l);r.length==o+1&&(r[o].single=!0)}}if(n!=2&&r.some(i=>i.comment<0&&(!i.empty||i.single))){let i=[];for(let{line:o,token:l,indent:c,empty:p,single:d}of r)(d||!p)&&i.push({from:o.from+c,insert:l+" "});let s=e.changes(i);return{changes:s,selection:e.selection.map(s,1)}}else if(n!=1&&r.some(i=>i.comment>=0)){let i=[];for(let{line:s,comment:o,token:l}of r)if(o>=0){let c=s.from+o,p=c+l.length;s.text[p-s.from]==" "&&p++,i.push({from:c,to:p})}return{changes:i}}return null}const Vm=ta.define(),kA=ta.define(),vA=be.define(),iO=be.define({combine(n){return na(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,a)=>e(r,a)||t(r,a)})}}),sO=Pt.define({create(){return Fr.empty},update(n,e){let t=e.state.facet(iO),r=e.annotation(Vm);if(r){let l=Cn.fromTransaction(e,r.selection),c=r.side,p=c==0?n.undone:n.done;return l?p=pu(p,p.length,t.minDepth,l):p=cO(p,e.startState.selection),new Fr(c==0?r.rest:p,c==0?p:r.rest)}let a=e.annotation(kA);if((a=="full"||a=="before")&&(n=n.isolate()),e.annotation(_t.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let i=Cn.fromTransaction(e),s=e.annotation(_t.time),o=e.annotation(_t.userEvent);return i?n=n.addChanges(i,s,o,t,e):e.selection&&(n=n.addSelection(e.startState.selection,s,o,t.newGroupDelay)),(a=="full"||a=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new Fr(n.done.map(Cn.fromJSON),n.undone.map(Cn.fromJSON))}});function oO(n={}){return[sO,iO.of(n),pe.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?ec:e.inputType=="historyRedo"?Ti:null;return r?(e.preventDefault(),r(t)):!1}})]}function Ju(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let a=t.field(sO,!1);if(!a)return!1;let i=a.pop(n,t,e);return i?(r(i),!0):!1}}const ec=Ju(0,!1),Ti=Ju(1,!1),lO=Ju(0,!0),xA=Ju(1,!0);class Cn{constructor(e,t,r,a,i){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=a,this.selectionsAfter=i}setSelAfter(e){return new Cn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(a=>a.toJSON())}}static fromJSON(e){return new Cn(e.changes&&jt.fromJSON(e.changes),[],e.mapped&&$r.fromJSON(e.mapped),e.startSelection&&K.fromJSON(e.startSelection),e.selectionsAfter.map(K.fromJSON))}static fromTransaction(e,t){let r=Yn;for(let a of e.startState.facet(vA)){let i=a(e);i.length&&(r=r.concat(i))}return!r.length&&e.changes.empty?null:new Cn(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,Yn)}static selection(e){return new Cn(void 0,Yn,void 0,void 0,e)}}function pu(n,e,t,r){let a=e+1>t+20?e-t-1:0,i=n.slice(a,e);return i.push(r),i}function PA(n,e){let t=[],r=!1;return n.iterChangedRanges((a,i)=>t.push(a,i)),e.iterChangedRanges((a,i,s,o)=>{for(let l=0;l<t.length;){let c=t[l++],p=t[l++];o>=c&&s<=p&&(r=!0)}}),r}function wA(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function uO(n,e){return n.length?e.length?n.concat(e):n:e}const Yn=[],CA=200;function cO(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-CA));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),pu(n,n.length-1,1e9,t.setSelAfter(r)))}else return[Cn.selection([e])]}function AA(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Bp(n,e){if(!n.length)return n;let t=n.length,r=Yn;for(;t;){let a=SA(n[t-1],e,r);if(a.changes&&!a.changes.empty||a.effects.length){let i=n.slice(0,t);return i[t-1]=a,i}else e=a.mapped,t--,r=a.selectionsAfter}return r.length?[Cn.selection(r)]:Yn}function SA(n,e,t){let r=uO(n.selectionsAfter.length?n.selectionsAfter.map(o=>o.map(e)):Yn,t);if(!n.changes)return Cn.selection(r);let a=n.changes.map(e),i=e.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(i):i;return new Cn(a,Se.mapEffects(n.effects,e),s,n.startSelection.map(i),r)}const MA=/^(input\.type|delete)($|\.)/;class Fr{constructor(e,t,r=0,a=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=a}isolate(){return this.prevTime?new Fr(this.done,this.undone):this}addChanges(e,t,r,a,i){let s=this.done,o=s[s.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!r||MA.test(r))&&(!o.selectionsAfter.length&&t-this.prevTime<a.newGroupDelay&&a.joinToEvent(i,PA(o.changes,e.changes))||r=="input.type.compose")?s=pu(s,s.length-1,a.minDepth,new Cn(e.changes.compose(o.changes),uO(Se.mapEffects(e.effects,o.changes),o.effects),o.mapped,o.startSelection,Yn)):s=pu(s,s.length,a.minDepth,e),new Fr(s,Yn,t,r)}addSelection(e,t,r,a){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:Yn;return i.length>0&&t-this.prevTime<a&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&wA(i[i.length-1],e)?this:new Fr(cO(this.done,e),this.undone,t,r)}addMapping(e){return new Fr(Bp(this.done,e),Bp(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let a=e==0?this.done:this.undone;if(a.length==0)return null;let i=a[a.length-1],s=i.selectionsAfter[0]||t.selection;if(r&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Vm.of({side:e,rest:AA(a),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let o=a.length==1?Yn:a.slice(0,a.length-1);return i.mapped&&(o=Bp(o,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Vm.of({side:e,rest:o,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Fr.empty=new Fr(Yn,Yn);const pO=[{key:"Mod-z",run:ec,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Ti,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Ti,preventDefault:!0},{key:"Mod-u",run:lO,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:xA,preventDefault:!0}];function Wi(n,e){return K.create(n.ranges.map(e),n.mainIndex)}function Zr(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function dr({state:n,dispatch:e},t){let r=Wi(n.selection,t);return r.eq(n.selection,!0)?!1:(e(Zr(n,r)),!0)}function tc(n,e){return K.cursor(e?n.to:n.from)}function id(n,e){return dr(n,t=>t.empty?n.moveByChar(t,e):tc(t,e))}function nn(n){return n.textDirectionAt(n.state.selection.main.head)==mt.LTR}const eo=n=>id(n,!nn(n)),mu=n=>id(n,nn(n)),DA=n=>id(n,!1);function mO(n,e){return dr(n,t=>t.empty?n.moveByGroup(t,e):tc(t,e))}const hO=n=>mO(n,!nn(n)),dO=n=>mO(n,nn(n));function BA(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function nc(n,e,t){let r=Wt(n).resolveInner(e.head),a=t?Ve.closedBy:Ve.openedBy;for(let l=e.head;;){let c=t?r.childAfter(l):r.childBefore(l);if(!c)break;BA(n,c,a)?r=c:l=t?c.to:c.from}let i=r.type.prop(a),s,o;return i&&(s=t?Gn(n,r.from,1):Gn(n,r.to,-1))&&s.matched?o=t?s.end.to:s.end.from:o=t?r.to:r.from,K.cursor(o,t?-1:1)}const EA=n=>dr(n,e=>nc(n.state,e,!nn(n))),FA=n=>dr(n,e=>nc(n.state,e,nn(n)));function fO(n,e){return dr(n,t=>{if(!t.empty)return tc(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const hu=n=>fO(n,!1),du=n=>fO(n,!0);function gO(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,a;if(e){for(let i of n.state.facet(pe.scrollMargins)){let s=i(n);s?.top&&(t=Math.max(s?.top,t)),s?.bottom&&(r=Math.max(s?.bottom,r))}a=n.scrollDOM.clientHeight-t-r}else a=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,a-5)}}function bO(n,e){let t=gO(n),{state:r}=n,a=Wi(r.selection,s=>s.empty?n.moveVertically(s,e,t.height):tc(s,e));if(a.eq(r.selection))return!1;let i;if(t.selfScroll){let s=n.coordsAtPos(r.selection.main.head),o=n.scrollDOM.getBoundingClientRect(),l=o.top+t.marginTop,c=o.bottom-t.marginBottom;s&&s.top>l&&s.bottom<c&&(i=pe.scrollIntoView(a.main.head,{y:"start",yMargin:s.top-l}))}return n.dispatch(Zr(r,a),{effects:i}),!0}const js=n=>bO(n,!1),vi=n=>bO(n,!0);function Sa(n,e,t){let r=n.lineBlockAt(e.head),a=n.moveToLineBoundary(e,t);if(a.head==e.head&&a.head!=(t?r.to:r.from)&&(a=n.moveToLineBoundary(e,t,!1)),!t&&a.head==r.from&&r.length){let i=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;i&&e.head!=r.from+i&&(a=K.cursor(r.from+i))}return a}const fu=n=>dr(n,e=>Sa(n,e,!0)),gu=n=>dr(n,e=>Sa(n,e,!1)),$A=n=>dr(n,e=>Sa(n,e,!nn(n))),QA=n=>dr(n,e=>Sa(n,e,nn(n))),yO=n=>dr(n,e=>K.cursor(n.lineBlockAt(e.head).from,1)),OO=n=>dr(n,e=>K.cursor(n.lineBlockAt(e.head).to,-1));function _A(n,e,t){let r=!1,a=Wi(n.selection,i=>{let s=Gn(n,i.head,-1)||Gn(n,i.head,1)||i.head>0&&Gn(n,i.head-1,1)||i.head<n.doc.length&&Gn(n,i.head+1,-1);if(!s||!s.end)return i;r=!0;let o=s.start.from==i.head?s.end.to:s.end.from;return K.cursor(o)});return r?(e(Zr(n,a)),!0):!1}const kO=({state:n,dispatch:e})=>_A(n,e);function tr(n,e){let t=Wi(n.state.selection,r=>{let a=e(r);return K.range(r.anchor,a.head,a.goalColumn,a.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Zr(n.state,t)),!0)}function vO(n,e){return tr(n,t=>n.moveByChar(t,e))}const bu=n=>vO(n,!nn(n)),yu=n=>vO(n,nn(n));function xO(n,e){return tr(n,t=>n.moveByGroup(t,e))}const PO=n=>xO(n,!nn(n)),wO=n=>xO(n,nn(n)),TA=n=>tr(n,e=>nc(n.state,e,!nn(n))),RA=n=>tr(n,e=>nc(n.state,e,nn(n)));function CO(n,e){return tr(n,t=>n.moveVertically(t,e))}const Ou=n=>CO(n,!1),ku=n=>CO(n,!0);function AO(n,e){return tr(n,t=>n.moveVertically(t,e,gO(n).height))}const vu=n=>AO(n,!1),xu=n=>AO(n,!0),qm=n=>tr(n,e=>Sa(n,e,!0)),Xm=n=>tr(n,e=>Sa(n,e,!1)),jA=n=>tr(n,e=>Sa(n,e,!nn(n))),LA=n=>tr(n,e=>Sa(n,e,nn(n))),SO=n=>tr(n,e=>K.cursor(n.lineBlockAt(e.head).from)),MO=n=>tr(n,e=>K.cursor(n.lineBlockAt(e.head).to)),Pu=({state:n,dispatch:e})=>(e(Zr(n,{anchor:0})),!0),wu=({state:n,dispatch:e})=>(e(Zr(n,{anchor:n.doc.length})),!0),Cu=({state:n,dispatch:e})=>(e(Zr(n,{anchor:n.selection.main.anchor,head:0})),!0),Au=({state:n,dispatch:e})=>(e(Zr(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),DO=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),BO=({state:n,dispatch:e})=>{let t=rc(n).map(({from:r,to:a})=>K.range(r,Math.min(a+1,n.doc.length)));return e(n.update({selection:K.create(t),userEvent:"select"})),!0},IA=({state:n,dispatch:e})=>{let t=Wi(n.selection,r=>{let a=Wt(n),i=a.resolveStack(r.from,1);if(r.empty){let s=a.resolveStack(r.from,-1);s.node.from>=i.node.from&&s.node.to<=i.node.to&&(i=s)}for(let s=i;s;s=s.next){let{node:o}=s;if((o.from<r.from&&o.to>=r.to||o.to>r.to&&o.from<=r.from)&&s.next)return K.range(o.to,o.from)}return r});return t.eq(n.selection)?!1:(e(Zr(n,t)),!0)},NA=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=K.create([t.main]):t.main.empty||(r=K.create([K.cursor(t.main.head)])),r?(e(Zr(n,r)),!0):!1};function zi(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,a=r.changeByRange(i=>{let{from:s,to:o}=i;if(s==o){let l=e(i);l<s?(t="delete.backward",l=yl(n,l,!1)):l>s&&(t="delete.forward",l=yl(n,l,!0)),s=Math.min(s,l),o=Math.max(o,l)}else s=yl(n,s,!1),o=yl(n,o,!0);return s==o?{range:i}:{changes:{from:s,to:o},range:K.cursor(s,s<i.head?-1:1)}});return a.changes.empty?!1:(n.dispatch(r.update(a,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?pe.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function yl(n,e,t){if(n instanceof pe)for(let r of n.state.facet(pe.atomicRanges).map(a=>a(n)))r.between(e,e,(a,i)=>{a<e&&i>e&&(e=t?i:a)});return e}const EO=(n,e,t)=>zi(n,r=>{let a=r.from,{state:i}=n,s=i.doc.lineAt(a),o,l;if(t&&!e&&a>s.from&&a<s.from+200&&!/[^ \t]/.test(o=s.text.slice(0,a-s.from))){if(o[o.length-1]=="	")return a-1;let c=qi(o,i.tabSize),p=c%ou(i)||ou(i);for(let d=0;d<p&&o[o.length-1-d]==" ";d++)a--;l=a}else l=Xt(s.text,a-s.from,e,e)+s.from,l==a&&s.number!=(e?i.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(l-s.from,a-s.from))&&(l=Xt(s.text,l-s.from,!1,!1)+s.from);return l}),xi=n=>EO(n,!1,!0),Su=n=>EO(n,!0,!1),FO=(n,e)=>zi(n,t=>{let r=t.head,{state:a}=n,i=a.doc.lineAt(r),s=a.charCategorizer(r);for(let o=null;;){if(r==(e?i.to:i.from)){r==t.head&&i.number!=(e?a.doc.lines:1)&&(r+=e?1:-1);break}let l=Xt(i.text,r-i.from,e)+i.from,c=i.text.slice(Math.min(r,l)-i.from,Math.max(r,l)-i.from),p=s(c);if(o!=null&&p!=o)break;(c!=" "||r!=t.head)&&(o=p),r=l}return r}),Mu=n=>FO(n,!1),$O=n=>FO(n,!0),Wm=n=>zi(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),ZA=n=>zi(n,e=>{let t=n.lineBlockAt(e.head).from;return e.head>t?t:Math.max(0,e.head-1)}),VA=n=>zi(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),qA=n=>zi(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),sd=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:tt.of(["",""])},range:K.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},QO=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let a=r.from,i=n.doc.lineAt(a),s=a==i.from?a-1:Xt(i.text,a-i.from,!1)+i.from,o=a==i.to?a+1:Xt(i.text,a-i.from,!0)+i.from;return{changes:{from:s,to:o,insert:n.doc.slice(a,o).append(n.doc.slice(s,a))},range:K.cursor(o)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function rc(n){let e=[],t=-1;for(let r of n.selection.ranges){let a=n.doc.lineAt(r.from),i=n.doc.lineAt(r.to);if(!r.empty&&r.to==i.from&&(i=n.doc.lineAt(r.to-1)),t>=a.number){let s=e[e.length-1];s.to=i.to,s.ranges.push(r)}else e.push({from:a.from,to:i.to,ranges:[r]});t=i.number+1}return e}function _O(n,e,t){if(n.readOnly)return!1;let r=[],a=[];for(let i of rc(n)){if(t?i.to==n.doc.length:i.from==0)continue;let s=n.doc.lineAt(t?i.to+1:i.from-1),o=s.length+1;if(t){r.push({from:i.to,to:s.to},{from:i.from,insert:s.text+n.lineBreak});for(let l of i.ranges)a.push(K.range(Math.min(n.doc.length,l.anchor+o),Math.min(n.doc.length,l.head+o)))}else{r.push({from:s.from,to:i.from},{from:i.to,insert:n.lineBreak+s.text});for(let l of i.ranges)a.push(K.range(l.anchor-o,l.head-o))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:K.create(a,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const TO=({state:n,dispatch:e})=>_O(n,e,!1),RO=({state:n,dispatch:e})=>_O(n,e,!0);function jO(n,e,t){if(n.readOnly)return!1;let r=[];for(let a of rc(n))t?r.push({from:a.from,insert:n.doc.slice(a.from,a.to)+n.lineBreak}):r.push({from:a.to,insert:n.lineBreak+n.doc.slice(a.from,a.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const LO=({state:n,dispatch:e})=>jO(n,e,!1),IO=({state:n,dispatch:e})=>jO(n,e,!0),NO=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(rc(e).map(({from:a,to:i})=>(a>0?a--:i<e.doc.length&&i++,{from:a,to:i}))),r=Wi(e.selection,a=>{let i;if(n.lineWrapping){let s=n.lineBlockAt(a.head),o=n.coordsAtPos(a.head,a.assoc||1);o&&(i=s.bottom+n.documentTop-o.bottom+n.defaultLineHeight/2)}return n.moveVertically(a,!0,i)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function XA(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Wt(n).resolveInner(e),r=t.childBefore(e),a=t.childAfter(e),i;return r&&a&&r.to<=e&&a.from>=e&&(i=r.type.prop(Ve.closedBy))&&i.indexOf(a.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(a.from).from&&!/\S/.test(n.sliceDoc(r.to,a.from))?{from:r.to,to:a.from}:null}const to=ZO(!1),WA=ZO(!0);function ZO(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(a=>{let{from:i,to:s}=a,o=e.doc.lineAt(i),l=!n&&i==s&&XA(e,i);n&&(i=s=(s<=o.to?o:e.doc.lineAt(s)).to);let c=new Yu(e,{simulateBreak:i,simulateDoubleBreak:!!l}),p=wy(c,i);for(p==null&&(p=qi(/^\s*/.exec(e.doc.lineAt(i).text)[0],e.tabSize));s<o.to&&/\s/.test(o.text[s-o.from]);)s++;l?{from:i,to:s}=l:i>o.from&&i<o.from+100&&!/\S/.test(o.text.slice(0,i))&&(i=o.from);let d=["",lu(e,p)];return l&&d.push(lu(e,c.lineIndent(o.from,-1))),{changes:{from:i,to:s,insert:tt.of(d)},range:K.cursor(i+1+d[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function od(n,e){let t=-1;return n.changeByRange(r=>{let a=[];for(let s=r.from;s<=r.to;){let o=n.doc.lineAt(s);o.number>t&&(r.empty||r.to>o.from)&&(e(o,a,r),t=o.number),s=o.to+1}let i=n.changes(a);return{changes:a,range:K.range(i.mapPos(r.anchor,1),i.mapPos(r.head,1))}})}const VO=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new Yu(n,{overrideIndentation:i=>{let s=t[i];return s??-1}}),a=od(n,(i,s,o)=>{let l=wy(r,i.from);if(l==null)return;/\S/.test(i.text)||(l=0);let c=/^\s*/.exec(i.text)[0],p=lu(n,l);(c!=p||o.from<i.from+c.length)&&(t[i.from]=l,s.push({from:i.from,to:i.from+c.length,insert:p}))});return a.changes.empty||e(n.update(a,{userEvent:"indent"})),!0},no=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(od(n,(t,r)=>{r.push({from:t.from,insert:n.facet(_i)})}),{userEvent:"input.indent"})),!0),ro=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(od(n,(t,r)=>{let a=/^\s*/.exec(t.text)[0];if(!a)return;let i=qi(a,n.tabSize),s=0,o=lu(n,Math.max(0,i-ou(n)));for(;s<a.length&&s<o.length&&a.charCodeAt(s)==o.charCodeAt(s);)s++;r.push({from:t.from+s,to:t.from+a.length,insert:o.slice(s)})}),{userEvent:"delete.dedent"})),!0),zA=n=>(n.setTabFocusMode(),!0),GA=[{key:"Ctrl-b",run:eo,shift:bu,preventDefault:!0},{key:"Ctrl-f",run:mu,shift:yu},{key:"Ctrl-p",run:hu,shift:Ou},{key:"Ctrl-n",run:du,shift:ku},{key:"Ctrl-a",run:yO,shift:SO},{key:"Ctrl-e",run:OO,shift:MO},{key:"Ctrl-d",run:Su},{key:"Ctrl-h",run:xi},{key:"Ctrl-k",run:Wm},{key:"Ctrl-Alt-h",run:Mu},{key:"Ctrl-o",run:sd},{key:"Ctrl-t",run:QO},{key:"Ctrl-v",run:vi}],UA=[{key:"ArrowLeft",run:eo,shift:bu,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:hO,shift:PO,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:$A,shift:jA,preventDefault:!0},{key:"ArrowRight",run:mu,shift:yu,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:dO,shift:wO,preventDefault:!0},{mac:"Cmd-ArrowRight",run:QA,shift:LA,preventDefault:!0},{key:"ArrowUp",run:hu,shift:Ou,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Pu,shift:Cu},{mac:"Ctrl-ArrowUp",run:js,shift:vu},{key:"ArrowDown",run:du,shift:ku,preventDefault:!0},{mac:"Cmd-ArrowDown",run:wu,shift:Au},{mac:"Ctrl-ArrowDown",run:vi,shift:xu},{key:"PageUp",run:js,shift:vu},{key:"PageDown",run:vi,shift:xu},{key:"Home",run:gu,shift:Xm,preventDefault:!0},{key:"Mod-Home",run:Pu,shift:Cu},{key:"End",run:fu,shift:qm,preventDefault:!0},{key:"Mod-End",run:wu,shift:Au},{key:"Enter",run:to,shift:to},{key:"Mod-a",run:DO},{key:"Backspace",run:xi,shift:xi},{key:"Delete",run:Su},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Mu},{key:"Mod-Delete",mac:"Alt-Delete",run:$O},{mac:"Mod-Backspace",run:VA},{mac:"Mod-Delete",run:qA}].concat(GA.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),ld=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:EA,shift:TA},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:FA,shift:RA},{key:"Alt-ArrowUp",run:TO},{key:"Shift-Alt-ArrowUp",run:LO},{key:"Alt-ArrowDown",run:RO},{key:"Shift-Alt-ArrowDown",run:IO},{key:"Escape",run:NA},{key:"Mod-Enter",run:WA},{key:"Alt-l",mac:"Ctrl-l",run:BO},{key:"Mod-i",run:IA,preventDefault:!0},{key:"Mod-[",run:ro},{key:"Mod-]",run:no},{key:"Mod-Alt-\\",run:VO},{key:"Shift-Mod-k",run:NO},{key:"Shift-Mod-\\",run:kO},{key:"Mod-/",run:nd},{key:"Alt-A",run:rO},{key:"Ctrl-m",mac:"Shift-Alt-m",run:zA}].concat(UA),YA={key:"Tab",run:no,shift:ro};var Ng={};class Du{constructor(e,t,r,a,i,s,o,l,c,p=0,d){this.p=e,this.stack=t,this.state=r,this.reducePos=a,this.pos=i,this.score=s,this.buffer=o,this.bufferBase=l,this.curContext=c,this.lookAhead=p,this.parent=d}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let a=e.parser.context;return new Du(e,[],t,r,r,0,[],0,a?new Zg(a,a.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,a=e&65535,{parser:i}=this.p,s=this.reducePos<this.pos-25;s&&this.setLookAhead(this.pos);let o=i.dynamicPrecedence(a);if(o&&(this.score+=o),r==0){this.pushState(i.getGoto(this.state,a,!0),this.reducePos),a<i.minRepeatTerm&&this.storeNode(a,this.reducePos,this.reducePos,s?8:4,!0),this.reduceContext(a,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,p=this.reducePos-c;p>=2e3&&!(!((t=this.p.parser.nodeSet.types[a])===null||t===void 0)&&t.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=p):this.p.lastBigReductionSize<p&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=p));let d=l?this.stack[l-1]:0,f=this.bufferBase+this.buffer.length-d;if(a<i.minRepeatTerm||e&131072){let y=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(a,c,y,f+4,!0)}if(e&262144)this.state=this.stack[l];else{let y=this.stack[l-3];this.state=i.getGoto(y,a,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(a,c)}storeNode(e,t,r,a=4,i=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,o=this.buffer.length;if(o==0&&s.parent&&(o=s.bufferBase-s.parent.bufferBase,s=s.parent),o>0&&s.buffer[o-4]==0&&s.buffer[o-1]>-1){if(t==r)return;if(s.buffer[o-2]>=t){s.buffer[o-2]=r;return}}}if(!i||this.pos==r)this.buffer.push(e,t,r,a);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0){let o=!1;for(let l=s;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){o=!0;break}if(o)for(;s>0&&this.buffer[s-2]>r;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,a>4&&(a-=4)}this.buffer[s]=e,this.buffer[s+1]=t,this.buffer[s+2]=r,this.buffer[s+3]=a}}shift(e,t,r,a){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=a,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,a,4);else{let i=e,{parser:s}=this.p;(a>this.pos||t<=s.maxNode)&&(this.pos=a,s.stateFlag(i,1)||(this.reducePos=a)),this.pushState(i,r),this.shiftContext(t,r),t<=s.maxNode&&this.buffer.push(t,r,a,4)}}apply(e,t,r,a){e&65536?this.reduce(e):this.shift(e,t,r,a)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let a=this.pos;this.reducePos=this.pos=a+e.length,this.pushState(t,a),this.buffer.push(r,a,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),a=e.bufferBase+t;for(;e&&a==e.bufferBase;)e=e.parent;return new Du(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,a,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new HA(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if(!(r&65536))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let a=[];for(let i=0,s;i<t.length;i+=2)(s=t[i+1])!=this.state&&this.p.parser.hasAction(s,e)&&a.push(t[i],s);if(this.stack.length<120)for(let i=0;a.length<8&&i<t.length;i+=2){let s=t[i+1];a.some((o,l)=>l&1&&o==s)||a.push(t[i],s)}t=a}let r=[];for(let a=0;a<t.length&&r.length<4;a+=2){let i=t[a+1];if(i==this.state)continue;let s=this.split();s.pushState(i,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(t[a],this.pos),s.reducePos=this.pos,s.score-=200,r.push(s)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let r=t>>19,a=t&65535,i=this.stack.length-r*3;if(i<0||e.getGoto(this.stack[i],a,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;t=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(a,i)=>{if(!t.includes(a))return t.push(a),e.allActions(a,s=>{if(!(s&393216))if(s&65536){let o=(s>>19)-i;if(o>1){let l=s&65535,c=this.stack.length-o*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return o<<19|65536|l}}else{let o=r(s,i+1);if(o!=null)return o}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Zg(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Zg{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class HA{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let a=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=a}}class Bu{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Bu(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Bu(this.stack,this.pos,this.index)}}function Bs(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,a=0;r<n.length;){let i=0;for(;;){let s=n.charCodeAt(r++),o=!1;if(s==126){i=65535;break}s>=92&&s--,s>=34&&s--;let l=s-32;if(l>=46&&(l-=46,o=!0),i+=l,o)break;i*=46}t?t[a++]=i:t=new e(i)}return t}class _l{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Vg=new _l;class KA{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Vg,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,a=this.rangeIndex,i=this.pos+e;for(;i<r.from;){if(!a)return null;let s=this.ranges[--a];i-=r.from-s.to,r=s}for(;t<0?i>r.to:i>=r.to;){if(a==this.ranges.length-1)return null;let s=this.ranges[++a];i+=s.from-r.to,r=s}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,a;if(t>=0&&t<this.chunk.length)r=this.pos+e,a=this.chunk.charCodeAt(t);else{let i=this.resolveOffset(e,1);if(i==null)return-1;if(r=i,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)a=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let s=this.rangeIndex,o=this.range;for(;o.to<=r;)o=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-r)),a=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),a}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Vg,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let a of this.ranges){if(a.from>=t)break;a.to>e&&(r+=this.input.read(Math.max(a.from,e),Math.min(a.to,t)))}return r}}class Pi{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;qO(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}Pi.prototype.contextual=Pi.prototype.fallback=Pi.prototype.extend=!1;class zm{constructor(e,t,r){this.precTable=t,this.elseToken=r,this.data=typeof e=="string"?Bs(e):e}token(e,t){let r=e.pos,a=0;for(;;){let i=e.next<0,s=e.resolveOffset(1,1);if(qO(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(i||a++,s==null)break;e.reset(s,e.token)}a&&(e.reset(r,e.token),e.acceptToken(this.elseToken,a))}}zm.prototype.contextual=Pi.prototype.fallback=Pi.prototype.extend=!1;class vo{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function qO(n,e,t,r,a,i){let s=0,o=1<<r,{dialect:l}=t.p.parser;e:for(;o&n[s];){let c=n[s+1];for(let y=s+3;y<c;y+=2)if((n[y+1]&o)>0){let P=n[y];if(l.allows(P)&&(e.token.value==-1||e.token.value==P||JA(P,e.token.value,a,i))){e.acceptToken(P);break}}let p=e.next,d=0,f=n[s+2];if(e.next<0&&f>d&&n[c+f*3-3]==65535){s=n[c+f*3-1];continue e}for(;d<f;){let y=d+f>>1,P=c+y+(y<<1),w=n[P],A=n[P+1]||65536;if(p<w)f=y;else if(p>=A)d=y+1;else{s=n[P+2],e.advance();continue e}}break}}function qg(n,e,t){for(let r=e,a;(a=n[r])!=65535;r++)if(a==t)return r-e;return-1}function JA(n,e,t,r){let a=qg(t,r,e);return a<0||qg(t,r,n)<a}const $n=typeof process<"u"&&Ng&&/\bparse\b/.test(Ng.LOG);let Ep=null;function Xg(n,e,t){let r=n.cursor(Lt.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class eS{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Xg(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Xg(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],a=this.index[t];if(a==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=r.children[a],s=this.start[t]+r.positions[a];if(s>e)return this.nextStart=s,null;if(i instanceof Rt){if(s==e){if(s<this.safeFrom)return null;let o=s+i.length;if(o<=this.safeTo){let l=i.prop(Ve.lookAhead);if(!l||o+l<this.fragment.to)return i}}this.index[t]++,s+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(s),this.index.push(0))}else this.index[t]++,this.nextStart=s+i.length}}}class tS{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new _l)}getActions(e){let t=0,r=null,{parser:a}=e.p,{tokenizers:i}=a,s=a.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<i.length;c++){if(!(1<<c&s))continue;let p=i[c],d=this.tokens[c];if(!(r&&!p.fallback)&&((p.contextual||d.start!=e.pos||d.mask!=s||d.context!=o)&&(this.updateCachedToken(d,p,e),d.mask=s,d.context=o),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let f=t;if(d.extended>-1&&(t=this.addActions(e,d.extended,d.end,t)),t=this.addActions(e,d.value,d.end,t),!p.extend&&(r=d,t>f))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new _l,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new _l,{pos:r,p:a}=e;return t.start=r,t.end=Math.min(r+1,a.stream.end),t.value=r==a.stream.end?a.parser.eofTerm:0,t}updateCachedToken(e,t,r){let a=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(a,e),r),e.value>-1){let{parser:i}=r.p;for(let s=0;s<i.specialized.length;s++)if(i.specialized[s]==e.value){let o=i.specializers[s](this.stream.read(e.start,e.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){o&1?e.extended=o>>1:e.value=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(a+1)}putAction(e,t,r,a){for(let i=0;i<a;i+=3)if(this.actions[i]==e)return a;return this.actions[a++]=e,this.actions[a++]=t,this.actions[a++]=r,a}addActions(e,t,r,a){let{state:i}=e,{parser:s}=e.p,{data:o}=s;for(let l=0;l<2;l++)for(let c=s.stateSlot(i,l?2:1);;c+=3){if(o[c]==65535)if(o[c+1]==1)c=zr(o,c+2);else{a==0&&o[c+1]==2&&(a=this.putAction(zr(o,c+2),t,r,a));break}o[c]==t&&(a=this.putAction(zr(o,c+1),t,r,a))}return a}}class nS{constructor(e,t,r,a){this.parser=e,this.input=t,this.ranges=a,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new KA(t,a),this.tokens=new tS(e,this.stream),this.topTerm=e.top[1];let{from:i}=a[0];this.stacks=[Du.start(this,e.top[0],i)],this.fragments=r.length&&this.stream.end-i>e.bufferLength*4?new eS(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],a,i;if(this.bigReductionCount>300&&e.length==1){let[s]=e;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<e.length;s++){let o=e[s];for(;;){if(this.tokens.mainToken=null,o.pos>t)r.push(o);else{if(this.advanceStack(o,r,e))continue;{a||(a=[],i=[]),a.push(o);let l=this.tokens.getMainToken(o);i.push(l.value,l.end)}}break}}if(!r.length){let s=a&&iS(a);if(s)return $n&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw $n&&a&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&a){let s=this.stoppedAt!=null&&a[0].pos>this.stoppedAt?a[0]:this.runRecovery(a,i,r);if(s)return $n&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(r.length>s)for(r.sort((o,l)=>l.score-o.score);r.length>s;)r.pop();r.some(o=>o.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let s=0;s<r.length-1;s++){let o=r[s];for(let l=s+1;l<r.length;l++){let c=r[l];if(o.sameState(c)||o.buffer.length>500&&c.buffer.length>500)if((o.score-c.score||o.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(s--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let a=e.pos,{parser:i}=this,s=$n?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&a>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,p=c?e.curContext.hash:0;for(let d=this.fragments.nodeAt(a);d;){let f=this.parser.nodeSet.types[d.type.id]==d.type?i.getGoto(e.state,d.type.id):-1;if(f>-1&&d.length&&(!c||(d.prop(Ve.contextHash)||0)==p))return e.useNode(d,f),$n&&console.log(s+this.stackID(e)+` (via reuse of ${i.getName(d.type.id)})`),!0;if(!(d instanceof Rt)||d.children.length==0||d.positions[0]>0)break;let y=d.children[0];if(y instanceof Rt&&d.positions[0]==0)d=y;else break}}let o=i.stateSlot(e.state,4);if(o>0)return e.reduce(o),$n&&console.log(s+this.stackID(e)+` (via always-reduce ${i.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let p=l[c++],d=l[c++],f=l[c++],y=c==l.length||!r,P=y?e:e.split(),w=this.tokens.mainToken;if(P.apply(p,d,w?w.start:P.pos,f),$n&&console.log(s+this.stackID(P)+` (via ${p&65536?`reduce of ${i.getName(p&65535)}`:"shift"} for ${i.getName(d)} @ ${a}${P==e?"":", split"})`),y)return!0;P.pos>a?t.push(P):r.push(P)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return Wg(e,t),!0}}runRecovery(e,t,r){let a=null,i=!1;for(let s=0;s<e.length;s++){let o=e[s],l=t[s<<1],c=t[(s<<1)+1],p=$n?this.stackID(o)+" -> ":"";if(o.deadEnd&&(i||(i=!0,o.restart(),$n&&console.log(p+this.stackID(o)+" (restarted)"),this.advanceFully(o,r))))continue;let d=o.split(),f=p;for(let y=0;d.forceReduce()&&y<10&&($n&&console.log(f+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));y++)$n&&(f=this.stackID(d)+" -> ");for(let y of o.recoverByInsert(l))$n&&console.log(p+this.stackID(y)+" (via recover-insert)"),this.advanceFully(y,r);this.stream.end>o.pos?(c==o.pos&&(c++,l=0),o.recoverByDelete(l,c),$n&&console.log(p+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),Wg(o,r)):(!a||a.score<o.score)&&(a=o)}return a}stackToTree(e){return e.close(),Rt.build({buffer:Bu.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Ep||(Ep=new WeakMap)).get(e);return t||Ep.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Wg(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class rS{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const Fp=n=>n;class aS{constructor(e){this.start=e.start,this.shift=e.shift||Fp,this.reduce=e.reduce||Fp,this.reuse=e.reuse||Fp,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Eu extends by{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let o=0;o<e.repeatNodeCount;o++)t.push("");let r=Object.keys(e.topRules).map(o=>e.topRules[o][1]),a=[];for(let o=0;o<t.length;o++)a.push([]);function i(o,l,c){a[o].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let o of e.nodeProps){let l=o[0];typeof l=="string"&&(l=Ve[l]);for(let c=1;c<o.length;){let p=o[c++];if(p>=0)i(p,l,o[c++]);else{let d=o[c+-p];for(let f=-p;f>0;f--)i(o[c++],l,d);c++}}}this.nodeSet=new Nh(t.map((o,l)=>Sn.define({name:l>=this.minRepeatTerm?void 0:o,id:l,props:a[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=hy;let s=Bs(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(zg),this.states=Bs(e.states,Uint32Array),this.data=Bs(e.stateData),this.goto=Bs(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new Pi(s,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let a=new nS(this,e,t,r);for(let i of this.wrappers)a=i(a,e,t,r);return a}getGoto(e,t,r=!1){let a=this.goto;if(t>=a[0])return-1;for(let i=a[t+1];;){let s=a[i++],o=s&1,l=a[i++];if(o&&r)return l;for(let c=i+(s>>1);i<c;i++)if(a[i]==e)return l;if(o)return-1}}hasAction(e,t){let r=this.data;for(let a=0;a<2;a++)for(let i=this.stateSlot(e,a?2:1),s;;i+=3){if((s=r[i])==65535)if(r[i+1]==1)s=r[i=zr(r,i+2)];else{if(r[i+1]==2)return zr(r,i+2);break}if(s==t||s==0)return zr(r,i+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),a=r?t(r):void 0;for(let i=this.stateSlot(e,1);a==null;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=zr(this.data,i+2);else break;a=t(zr(this.data,i+1))}return a}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=zr(this.data,r+2);else break;if(!(this.data[r+2]&1)){let a=this.data[r+1];t.some((i,s)=>s&1&&i==a)||t.push(this.data[r],a)}}return t}configure(e){let t=Object.assign(Object.create(Eu.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let a=e.tokenizers.find(i=>i.from==r);return a?a.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,a)=>{let i=e.specializers.find(o=>o.from==r.external);if(!i)return r;let s=Object.assign(Object.assign({},r),{external:i.to});return t.specializers[a]=zg(s),s})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let i of e.split(" ")){let s=t.indexOf(i);s>=0&&(r[s]=!0)}let a=null;for(let i=0;i<t.length;i++)if(!r[i])for(let s=this.dialects[t[i]],o;(o=this.data[s++])!=65535;)(a||(a=new Uint8Array(this.maxTerm+1)))[o]=1;return new rS(e,r,a)}static deserialize(e){return new Eu(e)}}function zr(n,e){return n[e]|n[e+1]<<16}function iS(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function zg(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}const sS=314,oS=315,Gg=1,lS=2,uS=3,cS=4,pS=316,mS=318,hS=319,dS=5,fS=6,gS=0,Gm=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],XO=125,bS=59,Um=47,yS=42,OS=43,kS=45,vS=60,xS=44,PS=63,wS=46,CS=91,AS=new aS({start:!1,shift(n,e){return e==dS||e==fS||e==mS?n:e==hS},strict:!1}),SS=new vo((n,e)=>{let{next:t}=n;(t==XO||t==-1||e.context)&&n.acceptToken(pS)},{contextual:!0,fallback:!0}),MS=new vo((n,e)=>{let{next:t}=n,r;Gm.indexOf(t)>-1||t==Um&&((r=n.peek(1))==Um||r==yS)||t!=XO&&t!=bS&&t!=-1&&!e.context&&n.acceptToken(sS)},{contextual:!0}),DS=new vo((n,e)=>{n.next==CS&&!e.context&&n.acceptToken(oS)},{contextual:!0}),BS=new vo((n,e)=>{let{next:t}=n;if(t==OS||t==kS){if(n.advance(),t==n.next){n.advance();let r=!e.context&&e.canShift(Gg);n.acceptToken(r?Gg:lS)}}else t==PS&&n.peek(1)==wS&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(uS))},{contextual:!0});function $p(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const ES=new vo((n,e)=>{if(n.next!=vS||!e.dialectEnabled(gS)||(n.advance(),n.next==Um))return;let t=0;for(;Gm.indexOf(n.next)>-1;)n.advance(),t++;if($p(n.next,!0)){for(n.advance(),t++;$p(n.next,!1);)n.advance(),t++;for(;Gm.indexOf(n.next)>-1;)n.advance(),t++;if(n.next==xS)return;for(let r=0;;r++){if(r==7){if(!$p(n.next,!0))return;break}if(n.next!="extends".charCodeAt(r))break;n.advance(),t++}}n.acceptToken(cS,-t)}),FS=yy({"get set async static":u.modifier,"for while do if else switch try catch finally return throw break continue default case":u.controlKeyword,"in of await yield void typeof delete instanceof":u.operatorKeyword,"let var const using function class extends":u.definitionKeyword,"import export from":u.moduleKeyword,"with debugger as new":u.keyword,TemplateString:u.special(u.string),super:u.atom,BooleanLiteral:u.bool,this:u.self,null:u.null,Star:u.modifier,VariableName:u.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":u.function(u.variableName),VariableDefinition:u.definition(u.variableName),Label:u.labelName,PropertyName:u.propertyName,PrivatePropertyName:u.special(u.propertyName),"CallExpression/MemberExpression/PropertyName":u.function(u.propertyName),"FunctionDeclaration/VariableDefinition":u.function(u.definition(u.variableName)),"ClassDeclaration/VariableDefinition":u.definition(u.className),"NewExpression/VariableName":u.className,PropertyDefinition:u.definition(u.propertyName),PrivatePropertyDefinition:u.definition(u.special(u.propertyName)),UpdateOp:u.updateOperator,"LineComment Hashbang":u.lineComment,BlockComment:u.blockComment,Number:u.number,String:u.string,Escape:u.escape,ArithOp:u.arithmeticOperator,LogicOp:u.logicOperator,BitOp:u.bitwiseOperator,CompareOp:u.compareOperator,RegExp:u.regexp,Equals:u.definitionOperator,Arrow:u.function(u.punctuation),": Spread":u.punctuation,"( )":u.paren,"[ ]":u.squareBracket,"{ }":u.brace,"InterpolationStart InterpolationEnd":u.special(u.brace),".":u.derefOperator,", ;":u.separator,"@":u.meta,TypeName:u.typeName,TypeDefinition:u.definition(u.typeName),"type enum interface implements namespace module declare":u.definitionKeyword,"abstract global Privacy readonly override":u.modifier,"is keyof unique infer asserts":u.operatorKeyword,JSXAttributeValue:u.attributeValue,JSXText:u.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":u.angleBracket,"JSXIdentifier JSXNameSpacedName":u.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":u.attributeName,"JSXBuiltin/JSXIdentifier":u.standard(u.tagName)}),$S={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},QS={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},_S={__proto__:null,"<":189},TS=Eu.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:AS,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[FS],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[MS,DS,BS,ES,2,3,4,5,6,7,8,9,10,11,12,13,14,SS,new zm("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new zm("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:n=>$S[n]||-1},{term:341,get:n=>QS[n]||-1},{term:93,get:n=>_S[n]||-1}],tokenPrec:15116}),WO=[gn("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),gn("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),gn("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),gn("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),gn("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),gn(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),gn("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),gn(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),gn(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),gn('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),gn('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],RS=WO.concat([gn("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),gn("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),gn("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),Ug=new wC,zO=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function ys(n){return(e,t)=>{let r=e.node.getChild("VariableDefinition");return r&&t(r,n),!0}}const jS=["FunctionDeclaration"],LS={FunctionDeclaration:ys("function"),ClassDeclaration:ys("class"),ClassExpression:()=>!0,EnumDeclaration:ys("constant"),TypeAliasDeclaration:ys("type"),NamespaceDeclaration:ys("namespace"),VariableDefinition(n,e){n.matchContext(jS)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function GO(n,e){let t=Ug.get(e);if(t)return t;let r=[],a=!0;function i(s,o){let l=n.sliceString(s.from,s.to);r.push({label:l,type:o})}return e.cursor(Lt.IncludeAnonymous).iterate(s=>{if(a)a=!1;else if(s.name){let o=LS[s.name];if(o&&o(s,i)||zO.has(s.name))return!1}else if(s.to-s.from>8192){for(let o of GO(n,s.node))r.push(o);return!1}}),Ug.set(e,r),r}const Yg=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,UO=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function IS(n){let e=Wt(n.state).resolveInner(n.pos,-1);if(UO.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&Yg.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let r=[];for(let a=e;a;a=a.parent)zO.has(a.name)&&(r=r.concat(GO(n.state.doc,a)));return{options:r,from:t?e.from:n.pos,validFor:Yg}}const fa=iu.define({name:"javascript",parser:TS.configure({props:[Cy.add({IfStatement:Cp({except:/^\s*({|else\b)/}),TryStatement:Cp({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:XC,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:r?1:2)*n.unit},Block:qC({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":Cp({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),My.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":zC,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),YO={test:n=>/^JSX/.test(n.name),facet:vy({commentTokens:{block:{open:"{/*",close:"*/}"}}})},NS=fa.configure({dialect:"ts"},"typescript"),ZS=fa.configure({dialect:"jsx",props:[Xh.add(n=>n.isTop?[YO]:void 0)]}),VS=fa.configure({dialect:"jsx ts",props:[Xh.add(n=>n.isTop?[YO]:void 0)]},"typescript");let HO=n=>({label:n,type:"keyword"});const KO="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(HO),qS=KO.concat(["declare","implements","private","protected","public"].map(HO));function XS(n={}){let e=n.jsx?n.typescript?VS:ZS:n.typescript?NS:fa,t=n.typescript?RS.concat(qS):WO.concat(KO);return new TC(e,[fa.data.of({autocomplete:v5(UO,qy(t))}),fa.data.of({autocomplete:IS}),n.jsx?GS:[]])}function WS(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function Hg(n,e,t=n.length){for(let r=e?.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return n.sliceString(r.from,Math.min(r.to,t));return""}const zS=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),GS=pe.inputHandler.of((n,e,t,r,a)=>{if((zS?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||r!=">"&&r!="/"||!fa.isActiveAt(n.state,e,-1))return!1;let i=a(),{state:s}=i,o=s.changeByRange(l=>{var c;let{head:p}=l,d=Wt(s).resolveInner(p-1,-1),f;if(d.name=="JSXStartTag"&&(d=d.parent),!(s.doc.sliceString(p-1,p)!=r||d.name=="JSXAttributeValue"&&d.to>p)){if(r==">"&&d.name=="JSXFragmentTag")return{range:l,changes:{from:p,insert:"</>"}};if(r=="/"&&d.name=="JSXStartCloseTag"){let y=d.parent,P=y.parent;if(P&&y.from==p-2&&((f=Hg(s.doc,P.firstChild,p))||((c=P.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let w=`${f}>`;return{range:K.cursor(p+w.length,-1),changes:{from:p,insert:w}}}}else if(r==">"){let y=WS(d);if(y&&y.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(s.doc.sliceString(p,p+2))&&(f=Hg(s.doc,y,p)))return{range:l,changes:{from:p,insert:`</${f}>`}}}}return{range:l}});return o.changes.empty?!1:(n.dispatch([i,s.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});let Fu=n=>n,Br={},Cr={addEventListener(){},removeEventListener(){}};function US(){try{return typeof localStorage<"u"}catch{return!1}}US()&&(Br=localStorage);let YS={addEventListener(n,e,t){window.addEventListener("storage",e),window.addEventListener("pageshow",t)},removeEventListener(n,e,t){window.removeEventListener("storage",e),window.removeEventListener("pageshow",t)}};typeof window<"u"&&(Cr=YS);function HS(n,e=void 0,t={}){let r=t.encode||Fu,a=t.decode||Fu,i=x2(e),s=i.set;i.set=c=>{typeof c>"u"?delete Br[n]:Br[n]=r(c),s(c)};function o(c){c.key===n?c.newValue===null?s(void 0):s(a(c.newValue)):Br[n]||s(void 0)}function l(){i.set(Br[n]?a(Br[n]):e)}return T1(i,()=>{if(l(),t.listen!==!1)return Cr.addEventListener(n,o,l),()=>{Cr.removeEventListener(n,o,l)}}),i}function UE(n,e={},t={}){let r=t.encode||Fu,a=t.decode||Fu,i=P2(),s=i.setKey,o=(d,f)=>{typeof f>"u"?(t.listen!==!1&&Cr.perKey&&Cr.removeEventListener(n+d,c,p),delete Br[n+d]):(t.listen!==!1&&Cr.perKey&&!(d in i.value)&&Cr.addEventListener(n+d,c,p),Br[n+d]=r(f))};i.setKey=(d,f)=>{o(d,f),s(d,f)};let l=i.set;i.set=function(d){for(let f in d)o(f,d[f]);for(let f in i.value)f in d||o(f,void 0);l(d)};function c(d){d.key?d.key.startsWith(n)&&(d.newValue===null?s(d.key.slice(n.length),void 0):s(d.key.slice(n.length),a(d.newValue))):l({})}function p(){let d={...e};for(let f in Br)f.startsWith(n)&&(d[f.slice(n.length)]=a(Br[f]));for(let f in d)i.setKey(f,d[f])}return T1(i,()=>{if(p(),t.listen!==!1)return Cr.addEventListener(n,c,p),()=>{Cr.removeEventListener(n,c,p);for(let d in i.value)Cr.removeEventListener(n+d,c,p)}}),i}const KS=JSON.parse(`[{"comment":"/**\\n * Переопределяет css для выделенных событий. Обязательно используйте одинарные кавычки!\\n * @name markcss\\n * @example\\n * note(\\"c a f e\\")\\n * .markcss('text-decoration:underline')\\n */","meta":{"filename":"codemirror.mjs","lineno":425,"columnno":0,"path":"/home/user/Bulka/packages/codemirror","code":{}},"description":"<p>Переопределяет css для выделенных событий. Обязательно используйте одинарные кавычки!</p>","name":"markcss","examples":["note(\\"c a f e\\")\\n.markcss('text-decoration:underline')"],"longname":"markcss","kind":"member","scope":"global"},{"comment":"/**\\n * Отображает widget-слайдер, позволяющий пользователю манипулировать значением\\n *\\n * @name slider\\n * @param {number} value Начальное значение\\n * @param {number} min Минимальное значение - необязательно, по умолчанию 0\\n * @param {number} max Максимальное значение - необязательно, по умолчанию 1\\n * @param {number} step Размер шага - необязательно\\n */","meta":{"filename":"slider.mjs","lineno":116,"columnno":0,"path":"/home/user/Bulka/packages/codemirror","code":{}},"description":"<p>Отображает widget-слайдер, позволяющий пользователю манипулировать значением</p>","name":"slider","params":[{"type":{"names":["number"]},"description":"<p>Начальное значение</p>","name":"value"},{"type":{"names":["number"]},"description":"<p>Минимальное значение - необязательно, по умолчанию 0</p>","name":"min"},{"type":{"names":["number"]},"description":"<p>Максимальное значение - необязательно, по умолчанию 1</p>","name":"max"},{"type":{"names":["number"]},"description":"<p>Размер шага - необязательно</p>","name":"step"}],"longname":"slider","kind":"member","scope":"global"},{"comment":"/**\\n * Выбирает звук / sample по имени. При использовании mininotation можно также опционально указать параметры 'n' и 'gain',\\n * разделённые ':'.\\n *\\n * @name s\\n * @param {string | Pattern} sound Звук / pattern звуков для выбора\\n * @synonyms sound\\n * @example\\n * s(\\"bd hh\\")\\n * @example\\n * s(\\"bd:0 bd:1 bd:0:0.3 bd:1:1.4\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":96,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Выбирает звук / sample по имени. При использовании mininotation можно также опционально указать параметры 'n' и 'gain',\\nразделённые ':'.</p>","name":"s","params":[{"type":{"names":["string","Pattern"]},"description":"<p>Звук / pattern звуков для выбора</p>","name":"sound"}],"synonyms_text":"sound","synonyms":["sound"],"examples":["s(\\"bd hh\\")","s(\\"bd:0 bd:1 bd:0:0.3 bd:1:1.4\\")"],"longname":"s","kind":"member","scope":"global"},{"comment":"/**\\n * Позиция в wavetable wavetable oscillator\\n *\\n * @name wt\\n * @param {number | Pattern} position Позиция в wavetable от 0 до 1\\n * @synonyms wavetablePosition\\n * @example\\n * s(\\"squelch\\").bank(\\"wt_digital\\").seg(8).note(\\"F1\\").wt(\\"0 0.25 0.5 0.75 1\\")\\n */","meta":{"filename":"controls.mjs","lineno":111,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Позиция в wavetable wavetable oscillator</p>","name":"wt","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Позиция в wavetable от 0 до 1</p>","name":"position"}],"synonyms_text":"wavetablePosition","synonyms":["wavetablePosition"],"examples":["s(\\"squelch\\").bank(\\"wt_digital\\").seg(8).note(\\"F1\\").wt(\\"0 0.25 0.5 0.75 1\\")"],"longname":"wt","kind":"member","scope":"global"},{"comment":"/**\\n * Количество envelope, применяемое к position envelope wavetable oscillator\\n *\\n * @name wtenv\\n * @param {number | Pattern} amount от 0 до 1\\n */","meta":{"filename":"controls.mjs","lineno":122,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Количество envelope, применяемое к position envelope wavetable oscillator</p>","name":"wtenv","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1</p>","name":"amount"}],"longname":"wtenv","kind":"member","scope":"global"},{"comment":"/**\\n * Время attack position envelope wavetable oscillator\\n *\\n * @name wtattack\\n * @synonyms wtatt\\n * @param {number | Pattern} time время attack в секундах\\n */","meta":{"filename":"controls.mjs","lineno":129,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время attack position envelope wavetable oscillator</p>","name":"wtattack","synonyms_text":"wtatt","synonyms":["wtatt"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>время attack в секундах</p>","name":"time"}],"longname":"wtattack","kind":"member","scope":"global"},{"comment":"/**\\n * Время decay position envelope wavetable oscillator\\n *\\n * @name wtdecay\\n * @synonyms wtdec\\n * @param {number | Pattern} time время decay в секундах\\n */","meta":{"filename":"controls.mjs","lineno":138,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время decay position envelope wavetable oscillator</p>","name":"wtdecay","synonyms_text":"wtdec","synonyms":["wtdec"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>время decay в секундах</p>","name":"time"}],"longname":"wtdecay","kind":"member","scope":"global"},{"comment":"/**\\n * Время sustain position envelope wavetable oscillator\\n *\\n * @name wtsustain\\n * @synonyms wtsus\\n * @param {number | Pattern} gain уровень sustain (от 0 до 1)\\n */","meta":{"filename":"controls.mjs","lineno":147,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время sustain position envelope wavetable oscillator</p>","name":"wtsustain","synonyms_text":"wtsus","synonyms":["wtsus"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>уровень sustain (от 0 до 1)</p>","name":"gain"}],"longname":"wtsustain","kind":"member","scope":"global"},{"comment":"/**\\n * Время release position envelope wavetable oscillator\\n *\\n * @name wtrelease\\n * @synonyms wtrel\\n * @param {number | Pattern} time время release в секундах\\n */","meta":{"filename":"controls.mjs","lineno":156,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время release position envelope wavetable oscillator</p>","name":"wtrelease","synonyms_text":"wtrel","synonyms":["wtrel"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>время release в секундах</p>","name":"time"}],"longname":"wtrelease","kind":"member","scope":"global"},{"comment":"/**\\n * Частота LFO для позиции wavetable oscillator\\n *\\n * @name wtrate\\n * @param {number | Pattern} rate частота в герцах\\n */","meta":{"filename":"controls.mjs","lineno":165,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Частота LFO для позиции wavetable oscillator</p>","name":"wtrate","params":[{"type":{"names":["number","Pattern"]},"description":"<p>частота в герцах</p>","name":"rate"}],"longname":"wtrate","kind":"member","scope":"global"},{"comment":"/**\\n * Частота LFO для позиции wavetable oscillator, синхронизированная с циклами\\n *\\n * @name wtsync\\n * @param {number | Pattern} rate частота в циклах\\n */","meta":{"filename":"controls.mjs","lineno":172,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Частота LFO для позиции wavetable oscillator, синхронизированная с циклами</p>","name":"wtsync","params":[{"type":{"names":["number","Pattern"]},"description":"<p>частота в циклах</p>","name":"rate"}],"longname":"wtsync","kind":"member","scope":"global"},{"comment":"/**\\n * Глубина LFO для позиции wavetable oscillator\\n *\\n * @name wtdepth\\n * @param {number | Pattern} depth глубина модуляции\\n */","meta":{"filename":"controls.mjs","lineno":180,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Глубина LFO для позиции wavetable oscillator</p>","name":"wtdepth","params":[{"type":{"names":["number","Pattern"]},"description":"<p>глубина модуляции</p>","name":"depth"}],"longname":"wtdepth","kind":"member","scope":"global"},{"comment":"/**\\n * Форма LFO для позиции wavetable oscillator\\n *\\n * @name wtshape\\n * @param {number | Pattern} shape Форма lfo (0, 1, 2, ..)\\n */","meta":{"filename":"controls.mjs","lineno":188,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Форма LFO для позиции wavetable oscillator</p>","name":"wtshape","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Форма lfo (0, 1, 2, ..)</p>","name":"shape"}],"longname":"wtshape","kind":"member","scope":"global"},{"comment":"/**\\n * Смещение DC LFO для позиции wavetable oscillator\\n *\\n * @name wtdc\\n * @param {number | Pattern} dcoffset смещение dc. установите 0 для unipolar\\n */","meta":{"filename":"controls.mjs","lineno":196,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Смещение DC LFO для позиции wavetable oscillator</p>","name":"wtdc","params":[{"type":{"names":["number","Pattern"]},"description":"<p>смещение dc. установите 0 для unipolar</p>","name":"dcoffset"}],"longname":"wtdc","kind":"member","scope":"global"},{"comment":"/**\\n * Искажение LFO для позиции wavetable oscillator\\n *\\n * @name wtskew\\n * @param {number | Pattern} skew Насколько сильно изгибать форму LFO\\n */","meta":{"filename":"controls.mjs","lineno":204,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Искажение LFO для позиции wavetable oscillator</p>","name":"wtskew","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Насколько сильно изгибать форму LFO</p>","name":"skew"}],"longname":"wtskew","kind":"member","scope":"global"},{"comment":"/**\\n * Количество warp (изменения формы волны), применяемое к wavetable oscillator\\n *\\n * @name warp\\n * @param {number | Pattern} amount Warp wavetable от 0 до 1\\n * @synonyms wavetableWarp\\n * @example\\n * s(\\"basique\\").bank(\\"wt_digital\\").seg(8).note(\\"F1\\").warp(\\"0 0.25 0.5 0.75 1\\")\\n *   .warpmode(\\"spin\\")\\n */","meta":{"filename":"controls.mjs","lineno":212,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Количество warp (изменения формы волны), применяемое к wavetable oscillator</p>","name":"warp","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Warp wavetable от 0 до 1</p>","name":"amount"}],"synonyms_text":"wavetableWarp","synonyms":["wavetableWarp"],"examples":["s(\\"basique\\").bank(\\"wt_digital\\").seg(8).note(\\"F1\\").warp(\\"0 0.25 0.5 0.75 1\\")\\n  .warpmode(\\"spin\\")"],"longname":"warp","kind":"member","scope":"global"},{"comment":"/**\\n * Время attack warp envelope wavetable oscillator\\n *\\n * @name warpattack\\n * @synonyms warpatt\\n * @param {number | Pattern} time время attack в секундах\\n */","meta":{"filename":"controls.mjs","lineno":224,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время attack warp envelope wavetable oscillator</p>","name":"warpattack","synonyms_text":"warpatt","synonyms":["warpatt"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>время attack в секундах</p>","name":"time"}],"longname":"warpattack","kind":"member","scope":"global"},{"comment":"/**\\n * Время decay warp envelope wavetable oscillator\\n *\\n * @name warpdecay\\n * @synonyms warpdec\\n * @param {number | Pattern} time время decay в секундах\\n */","meta":{"filename":"controls.mjs","lineno":233,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время decay warp envelope wavetable oscillator</p>","name":"warpdecay","synonyms_text":"warpdec","synonyms":["warpdec"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>время decay в секундах</p>","name":"time"}],"longname":"warpdecay","kind":"member","scope":"global"},{"comment":"/**\\n * Время sustain warp envelope wavetable oscillator\\n *\\n * @name warpsustain\\n * @synonyms warpsus\\n * @param {number | Pattern} gain уровень sustain (от 0 до 1)\\n */","meta":{"filename":"controls.mjs","lineno":242,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время sustain warp envelope wavetable oscillator</p>","name":"warpsustain","synonyms_text":"warpsus","synonyms":["warpsus"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>уровень sustain (от 0 до 1)</p>","name":"gain"}],"longname":"warpsustain","kind":"member","scope":"global"},{"comment":"/**\\n * Время release warp envelope wavetable oscillator\\n *\\n * @name warprelease\\n * @synonyms warprel\\n * @param {number | Pattern} time время release в секундах\\n */","meta":{"filename":"controls.mjs","lineno":251,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время release warp envelope wavetable oscillator</p>","name":"warprelease","synonyms_text":"warprel","synonyms":["warprel"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>время release в секундах</p>","name":"time"}],"longname":"warprelease","kind":"member","scope":"global"},{"comment":"/**\\n * Частота LFO для warp wavetable oscillator\\n *\\n * @name warprate\\n * @param {number | Pattern} rate частота в герцах\\n */","meta":{"filename":"controls.mjs","lineno":260,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Частота LFO для warp wavetable oscillator</p>","name":"warprate","params":[{"type":{"names":["number","Pattern"]},"description":"<p>частота в герцах</p>","name":"rate"}],"longname":"warprate","kind":"member","scope":"global"},{"comment":"/**\\n * Глубина LFO для warp wavetable oscillator\\n *\\n * @name warpdepth\\n * @param {number | Pattern} depth глубина модуляции\\n */","meta":{"filename":"controls.mjs","lineno":268,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Глубина LFO для warp wavetable oscillator</p>","name":"warpdepth","params":[{"type":{"names":["number","Pattern"]},"description":"<p>глубина модуляции</p>","name":"depth"}],"longname":"warpdepth","kind":"member","scope":"global"},{"comment":"/**\\n * Форма LFO для warp wavetable oscillator\\n *\\n * @name warpshape\\n * @param {number | Pattern} shape Форма lfo (0, 1, 2, ..)\\n */","meta":{"filename":"controls.mjs","lineno":276,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Форма LFO для warp wavetable oscillator</p>","name":"warpshape","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Форма lfo (0, 1, 2, ..)</p>","name":"shape"}],"longname":"warpshape","kind":"member","scope":"global"},{"comment":"/**\\n * Смещение DC LFO для warp wavetable oscillator\\n *\\n * @name warpdc\\n * @param {number | Pattern} dcoffset смещение dc. установите 0 для unipolar\\n */","meta":{"filename":"controls.mjs","lineno":284,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Смещение DC LFO для warp wavetable oscillator</p>","name":"warpdc","params":[{"type":{"names":["number","Pattern"]},"description":"<p>смещение dc. установите 0 для unipolar</p>","name":"dcoffset"}],"longname":"warpdc","kind":"member","scope":"global"},{"comment":"/**\\n * Искажение LFO для warp wavetable oscillator\\n *\\n * @name warpskew\\n * @param {number | Pattern} skew Насколько сильно изгибать форму LFO\\n */","meta":{"filename":"controls.mjs","lineno":292,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Искажение LFO для warp wavetable oscillator</p>","name":"warpskew","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Насколько сильно изгибать форму LFO</p>","name":"skew"}],"longname":"warpskew","kind":"member","scope":"global"},{"comment":"/**\\n * Тип warp (изменения формы волны), применяемый к wavetable oscillator.\\n *\\n * Доступные варианты: none, asym, bendp, bendm, bendmp, sync, quant, fold, pwm, orbit,\\n * spin, chaos, primes, binary, brownian, reciprocal, wormhole, logistic, sigmoid, fractal, flip\\n *\\n * @name warpmode\\n * @param {number | string | Pattern} mode Режим warp\\n * @synonyms wavetableWarpMode\\n * @example\\n * s(\\"morgana\\").bank(\\"wt_digital\\").seg(8).note(\\"F1\\").warp(\\"0 0.25 0.5 0.75 1\\")\\n *   .warpmode(\\"<asym bendp spin logistic sync wormhole brownian>*2\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":300,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Тип warp (изменения формы волны), применяемый к wavetable oscillator.</p>\\n<p>Доступные варианты: none, asym, bendp, bendm, bendmp, sync, quant, fold, pwm, orbit,\\nspin, chaos, primes, binary, brownian, reciprocal, wormhole, logistic, sigmoid, fractal, flip</p>","name":"warpmode","params":[{"type":{"names":["number","string","Pattern"]},"description":"<p>Режим warp</p>","name":"mode"}],"synonyms_text":"wavetableWarpMode","synonyms":["wavetableWarpMode"],"examples":["s(\\"morgana\\").bank(\\"wt_digital\\").seg(8).note(\\"F1\\").warp(\\"0 0.25 0.5 0.75 1\\")\\n  .warpmode(\\"<asym bendp spin logistic sync wormhole brownian>*2\\")"],"longname":"warpmode","kind":"member","scope":"global"},{"comment":"/**\\n * Количество случайности начальной фазы wavetable oscillator.\\n *\\n * @name wtphaserand\\n * @param {number | Pattern} amount Случайность начальной фазы. От 0 (не случайно) до 1 (полностью случайно)\\n * @synonyms wavetablePhaseRand\\n * @example\\n * s(\\"basique\\").bank(\\"wt_digital\\").seg(16).wtphaserand(\\"<0 1>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":316,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Количество случайности начальной фазы wavetable oscillator.</p>","name":"wtphaserand","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Случайность начальной фазы. От 0 (не случайно) до 1 (полностью случайно)</p>","name":"amount"}],"synonyms_text":"wavetablePhaseRand","synonyms":["wavetablePhaseRand"],"examples":["s(\\"basique\\").bank(\\"wt_digital\\").seg(16).wtphaserand(\\"<0 1>\\")"],"longname":"wtphaserand","kind":"member","scope":"global"},{"comment":"/**\\n * Количество envelope, применяемое к position envelope wavetable oscillator\\n *\\n * @name warpenv\\n * @param {number | Pattern} amount от 0 до 1\\n */","meta":{"filename":"controls.mjs","lineno":328,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Количество envelope, применяемое к position envelope wavetable oscillator</p>","name":"warpenv","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1</p>","name":"amount"}],"longname":"warpenv","kind":"member","scope":"global"},{"comment":"/**\\n * Частота LFO для warp позиции wavetable, синхронизированная с циклами\\n *\\n * @name warpsync\\n * @param {number | Pattern} rate частота в циклах\\n */","meta":{"filename":"controls.mjs","lineno":336,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Частота LFO для warp позиции wavetable, синхронизированная с циклами</p>","name":"warpsync","params":[{"type":{"names":["number","Pattern"]},"description":"<p>частота в циклах</p>","name":"rate"}],"longname":"warpsync","kind":"member","scope":"global"},{"comment":"/**\\n * Определяет пользовательский webaudio node для использования в качестве источника звука.\\n *\\n * @name source\\n * @synonyms src\\n * @param {function} getSource\\n * @synonyms src\\n *\\n */","meta":{"filename":"controls.mjs","lineno":344,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Определяет пользовательский webaudio node для использования в качестве источника звука.</p>","name":"source","synonyms_text":"src","synonyms":["src"],"params":[{"type":{"names":["function"]},"name":"getSource"}],"longname":"source","kind":"member","scope":"global"},{"comment":"/**\\n * Выбирает указанный индекс из карты sample.\\n * Слишком большие числа будут циклически повторяться.\\n * \`n\` также можно использовать для воспроизведения midi-нот, но рекомендуется использовать \`note\`.\\n *\\n * @name n\\n * @param {number | Pattern} value индекс sample, начиная с 0\\n * @example\\n * s(\\"bd sd [~ bd] sd,hh*6\\").n(\\"<0 1>\\")\\n */","meta":{"filename":"controls.mjs","lineno":354,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Выбирает указанный индекс из карты sample.\\nСлишком большие числа будут циклически повторяться.\\n<code>n</code> также можно использовать для воспроизведения midi-нот, но рекомендуется использовать <code>note</code>.</p>","name":"n","params":[{"type":{"names":["number","Pattern"]},"description":"<p>индекс sample, начиная с 0</p>","name":"value"}],"examples":["s(\\"bd sd [~ bd] sd,hh*6\\").n(\\"<0 1>\\")"],"longname":"n","kind":"member","scope":"global"},{"comment":"/**\\n * Воспроизводит указанное имя ноты или midi-номер. Имя ноты состоит из:\\n *\\n * - буквы (a-g или A-G)\\n * - опциональных знаков альтерации (b или #)\\n * - опционального (возможно отрицательного) номера октавы (0-9). По умолчанию 3\\n *\\n * Примеры допустимых имён нот: \`c\`, \`bb\`, \`Bb\`, \`f#\`, \`c3\`, \`A4\`, \`Eb2\`, \`c#5\`\\n *\\n * Также можно использовать midi-номера вместо имён нот, где 69 соответствует A4 440Hz в 12EDO.\\n *\\n * @name note\\n * @example\\n * note(\\"c a f e\\")\\n * @example\\n * note(\\"c4 a4 f4 e4\\")\\n * @example\\n * note(\\"60 69 65 64\\")\\n * @example\\n * note(\\"fbb1 a#0 cbbb-1 e##-2\\").sound(\\"saw\\")\\n */","meta":{"filename":"controls.mjs","lineno":366,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Воспроизводит указанное имя ноты или midi-номер. Имя ноты состоит из:</p>\\n<ul>\\n<li>буквы (a-g или A-G)</li>\\n<li>опциональных знаков альтерации (b или #)</li>\\n<li>опционального (возможно отрицательного) номера октавы (0-9). По умолчанию 3</li>\\n</ul>\\n<p>Примеры допустимых имён нот: <code>c</code>, <code>bb</code>, <code>Bb</code>, <code>f#</code>, <code>c3</code>, <code>A4</code>, <code>Eb2</code>, <code>c#5</code></p>\\n<p>Также можно использовать midi-номера вместо имён нот, где 69 соответствует A4 440Hz в 12EDO.</p>","name":"note","examples":["note(\\"c a f e\\")","note(\\"c4 a4 f4 e4\\")","note(\\"60 69 65 64\\")","note(\\"fbb1 a#0 cbbb-1 e##-2\\").sound(\\"saw\\")"],"longname":"note","kind":"member","scope":"global"},{"comment":"/**\\n * Pattern чисел, которые ускоряют (или замедляют) sample во время воспроизведения. В настоящее время поддерживается только в osc / superdirt.\\n *\\n * @name accelerate\\n * @param {number | Pattern} amount ускорение.\\n * @superdirtOnly\\n * @example\\n * s(\\"sax\\").accelerate(\\"<0 1 2 4 8 16>\\").slow(2).osc()\\n *\\n */","meta":{"filename":"controls.mjs","lineno":389,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Pattern чисел, которые ускоряют (или замедляют) sample во время воспроизведения. В настоящее время поддерживается только в osc / superdirt.</p>","name":"accelerate","params":[{"type":{"names":["number","Pattern"]},"description":"<p>ускорение.</p>","name":"amount"}],"tags":[{"originalTitle":"superdirtOnly","title":"superdirtonly","text":""}],"examples":["s(\\"sax\\").accelerate(\\"<0 1 2 4 8 16>\\").slow(2).osc()"],"longname":"accelerate","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает силу нажатия от 0 до 1. Умножается вместе с gain.\\n *\\n * @name velocity\\n * @example\\n * s(\\"hh*8\\")\\n * .gain(\\".4!2 1 .4!2 1 .4 1\\")\\n * .velocity(\\".4 1\\")\\n */","meta":{"filename":"controls.mjs","lineno":400,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает силу нажатия от 0 до 1. Умножается вместе с gain.</p>","name":"velocity","examples":["s(\\"hh*8\\")\\n.gain(\\".4!2 1 .4!2 1 .4 1\\")\\n.velocity(\\".4 1\\")"],"longname":"velocity","kind":"member","scope":"global"},{"comment":"/**\\n * Управляет gain экспоненциальным образом.\\n *\\n * @name gain\\n * @param {number | Pattern} amount громкость.\\n * @example\\n * s(\\"hh*8\\").gain(\\".4!2 1 .4!2 1 .4 1\\").fast(2)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":410,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Управляет gain экспоненциальным образом.</p>","name":"gain","params":[{"type":{"names":["number","Pattern"]},"description":"<p>громкость.</p>","name":"amount"}],"examples":["s(\\"hh*8\\").gain(\\".4!2 1 .4!2 1 .4 1\\").fast(2)"],"longname":"gain","kind":"member","scope":"global"},{"comment":"/**\\n * Gain, применяемый после обработки всех эффектов.\\n *\\n * @name postgain\\n * @example\\n * s(\\"bd sd [~ bd] sd,hh*8\\")\\n * .compressor(\\"-20:20:10:.002:.02\\").postgain(1.5)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":420,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Gain, применяемый после обработки всех эффектов.</p>","name":"postgain","examples":["s(\\"bd sd [~ bd] sd,hh*8\\")\\n.compressor(\\"-20:20:10:.002:.02\\").postgain(1.5)"],"longname":"postgain","kind":"member","scope":"global"},{"comment":"/**\\n * Как \`gain\`, но линейный.\\n *\\n * @name amp\\n * @param {number | Pattern} amount громкость.\\n * @superdirtOnly\\n * @example\\n * s(\\"bd*8\\").amp(\\".1*2 .5 .1*2 .5 .1 .5\\").osc()\\n *\\n */","meta":{"filename":"controls.mjs","lineno":430,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Как <code>gain</code>, но линейный.</p>","name":"amp","params":[{"type":{"names":["number","Pattern"]},"description":"<p>громкость.</p>","name":"amount"}],"tags":[{"originalTitle":"superdirtOnly","title":"superdirtonly","text":""}],"examples":["s(\\"bd*8\\").amp(\\".1*2 .5 .1*2 .5 .1 .5\\").osc()"],"longname":"amp","kind":"member","scope":"global"},{"comment":"/**\\n * Время attack амплитудного envelope: Определяет, сколько времени требуется звуку для достижения пикового значения относительно начала.\\n *\\n * @name attack\\n * @param {number | Pattern} attack время в секундах.\\n * @synonyms att\\n * @example\\n * note(\\"c3 e3 f3 g3\\").attack(\\"<0 .1 .5>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":441,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время attack амплитудного envelope: Определяет, сколько времени требуется звуку для достижения пикового значения относительно начала.</p>","name":"attack","params":[{"type":{"names":["number","Pattern"]},"description":"<p>время в секундах.</p>","name":"attack"}],"synonyms_text":"att","synonyms":["att"],"examples":["note(\\"c3 e3 f3 g3\\").attack(\\"<0 .1 .5>\\")"],"longname":"attack","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает коэффициент гармоничности частотной модуляции.\\n * Управляет тембром звука.\\n * Целые числа и простые соотношения звучат более естественно,\\n * тогда как десятичные числа и сложные соотношения звучат металлически.\\n *\\n * Можно добавить номер для управления гармоничностью\\n * любого из 8 индивидуальных FM (например, \`fmh2\`)\\n *\\n * @name fmh\\n * @param {number | Pattern} harmonicity\\n * @example\\n * note(\\"c e g b g e\\")\\n * .fm(4)\\n * .fmh(\\"<1 2 1.5 1.61>\\")\\n * ._scope()\\n *\\n */","meta":{"filename":"controls.mjs","lineno":453,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает коэффициент гармоничности частотной модуляции.\\nУправляет тембром звука.\\nЦелые числа и простые соотношения звучат более естественно,\\nтогда как десятичные числа и сложные соотношения звучат металлически.</p>\\n<p>Можно добавить номер для управления гармоничностью\\nлюбого из 8 индивидуальных FM (например, <code>fmh2</code>)</p>","name":"fmh","params":[{"type":{"names":["number","Pattern"]},"name":"harmonicity"}],"examples":["note(\\"c e g b g e\\")\\n.fm(4)\\n.fmh(\\"<1 2 1.5 1.61>\\")\\n._scope()"],"longname":"fmh","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает частотную модуляцию синтезатора.\\n * Управляет индексом модуляции, который определяет яркость звука.\\n *\\n * Можно добавить номер для управления индексом модуляции\\n * любого из 8 индивидуальных FM (например, \`fm3\`). Также FM могут маршрутизироваться друг в друга\\n * с помощью матричных команд типа \`fm13\`, которая отправит \`fm1\` обратно в\\n * \`fm3\`\\n *\\n * @name fmi\\n * @param {number | Pattern} brightness индекс модуляции\\n * @synonyms fm\\n * @example\\n * note(\\"c e g b g e\\")\\n * .fm(\\"<0 1 2 8 32>\\")\\n * ._scope()\\n * @example\\n * s(\\"sine\\").note(\\"F1\\").seg(8)\\n *  .fm(4).fm2(rand.mul(4)).fm3(saw.mul(8).slow(8))\\n *  .fmh(1.06).fmh2(10).fmh3(0.1)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":473,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает частотную модуляцию синтезатора.\\nУправляет индексом модуляции, который определяет яркость звука.</p>\\n<p>Можно добавить номер для управления индексом модуляции\\nлюбого из 8 индивидуальных FM (например, <code>fm3</code>). Также FM могут маршрутизироваться друг в друга\\nс помощью матричных команд типа <code>fm13</code>, которая отправит <code>fm1</code> обратно в\\n<code>fm3</code></p>","name":"fmi","params":[{"type":{"names":["number","Pattern"]},"description":"<p>индекс модуляции</p>","name":"brightness"}],"synonyms_text":"fm","synonyms":["fm"],"examples":["note(\\"c e g b g e\\")\\n.fm(\\"<0 1 2 8 32>\\")\\n._scope()","s(\\"sine\\").note(\\"F1\\").seg(8)\\n .fm(4).fm2(rand.mul(4)).fm3(saw.mul(8).slow(8))\\n .fmh(1.06).fmh2(10).fmh3(0.1)"],"longname":"fmi","kind":"member","scope":"global"},{"comment":"/**\\n * Тип нарастания fm envelope. Exp может работать некорректно..\\n *\\n * Можно добавить номер для управления envelope\\n * любого из 8 индивидуальных FM (например, \`fmenv4\`)\\n *\\n * @name fmenv\\n * @param {number | Pattern} type lin | exp\\n * @example\\n * note(\\"c e g b g e\\")\\n * .fm(4)\\n * .fmdecay(.2)\\n * .fmsustain(0)\\n * .fmenv(\\"<exp lin>\\")\\n * ._scope()\\n *\\n */","meta":{"filename":"controls.mjs","lineno":499,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Тип нарастания fm envelope. Exp может работать некорректно..</p>\\n<p>Можно добавить номер для управления envelope\\nлюбого из 8 индивидуальных FM (например, <code>fmenv4</code>)</p>","name":"fmenv","params":[{"type":{"names":["number","Pattern"]},"description":"<p>lin | exp</p>","name":"type"}],"examples":["note(\\"c e g b g e\\")\\n.fm(4)\\n.fmdecay(.2)\\n.fmsustain(0)\\n.fmenv(\\"<exp lin>\\")\\n._scope()"],"longname":"fmenv","kind":"member","scope":"global"},{"comment":"/**\\n * Время attack для FM envelope: время, необходимое для достижения максимальной модуляции\\n *\\n * Можно добавить номер для управления attack envelope\\n * любого из 8 индивидуальных FM (например, \`fmatt5\`)\\n *\\n * @name fmattack\\n * @synonyms fmatt\\n * @param {number | Pattern} time время attack\\n * @example\\n * note(\\"c e g b g e\\")\\n * .fm(4)\\n * .fmattack(\\"<0 .05 .1 .2>\\")\\n * ._scope()\\n *\\n */","meta":{"filename":"controls.mjs","lineno":521,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время attack для FM envelope: время, необходимое для достижения максимальной модуляции</p>\\n<p>Можно добавить номер для управления attack envelope\\nлюбого из 8 индивидуальных FM (например, <code>fmatt5</code>)</p>","name":"fmattack","synonyms_text":"fmatt","synonyms":["fmatt"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>время attack</p>","name":"time"}],"examples":["note(\\"c e g b g e\\")\\n.fm(4)\\n.fmattack(\\"<0 .05 .1 .2>\\")\\n._scope()"],"longname":"fmattack","kind":"member","scope":"global"},{"comment":"/**\\n * Форма волны fm модулятора\\n *\\n * Можно добавить номер для управления формой волны\\n * любого из 8 индивидуальных FM (например, \`fmwave6\`)\\n *\\n * @name fmwave\\n * @param {number | Pattern} wave форма волны\\n * @example\\n * n(\\"0 1 2 3\\".fast(4)).scale(\\"d:minor\\").s(\\"sine\\").fmwave(\\"<sine square sawtooth crackle>\\").fm(4).fmh(2.01)\\n * @example\\n * n(\\"0 1 2 3\\".fast(4)).chord(\\"<Dm Am F G>\\").voicing().s(\\"sawtooth\\").fmwave(\\"brown\\").fm(.6)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":558,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Форма волны fm модулятора</p>\\n<p>Можно добавить номер для управления формой волны\\nлюбого из 8 индивидуальных FM (например, <code>fmwave6</code>)</p>","name":"fmwave","params":[{"type":{"names":["number","Pattern"]},"description":"<p>форма волны</p>","name":"wave"}],"examples":["n(\\"0 1 2 3\\".fast(4)).scale(\\"d:minor\\").s(\\"sine\\").fmwave(\\"<sine square sawtooth crackle>\\").fm(4).fmh(2.01)","n(\\"0 1 2 3\\".fast(4)).chord(\\"<Dm Am F G>\\").voicing().s(\\"sawtooth\\").fmwave(\\"brown\\").fm(.6)"],"longname":"fmwave","kind":"member","scope":"global"},{"comment":"/**\\n * Время decay для FM envelope: секунды до достижения уровня sustain после фазы attack.\\n *\\n * Можно добавить номер для управления decay envelope\\n * любого из 8 индивидуальных FM (например, \`fmdec6\`)\\n *\\n * @name fmdecay\\n * @synonyms fmdec\\n * @param {number | Pattern} time время decay\\n * @example\\n * note(\\"c e g b g e\\")\\n * .fm(4)\\n * .fmdecay(\\"<.01 .05 .1 .2>\\")\\n * .fmsustain(.4)\\n * ._scope()\\n *\\n */","meta":{"filename":"controls.mjs","lineno":577,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время decay для FM envelope: секунды до достижения уровня sustain после фазы attack.</p>\\n<p>Можно добавить номер для управления decay envelope\\nлюбого из 8 индивидуальных FM (например, <code>fmdec6</code>)</p>","name":"fmdecay","synonyms_text":"fmdec","synonyms":["fmdec"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>время decay</p>","name":"time"}],"examples":["note(\\"c e g b g e\\")\\n.fm(4)\\n.fmdecay(\\"<.01 .05 .1 .2>\\")\\n.fmsustain(.4)\\n._scope()"],"longname":"fmdecay","kind":"member","scope":"global"},{"comment":"/**\\n * Уровень sustain для FM envelope: какая модуляция применяется после фазы decay\\n *\\n * Можно добавить номер для управления sustain envelope\\n * любого из 8 индивидуальных FM (например, \`fmsus7\`)\\n *\\n * @name fmsustain\\n * @synonyms fmsus\\n * @param {number | Pattern} level уровень sustain\\n * @example\\n * note(\\"c e g b g e\\")\\n * .fm(4)\\n * .fmdecay(.1)\\n * .fmsustain(\\"<1 .75 .5 0>\\")\\n * ._scope()\\n *\\n */","meta":{"filename":"controls.mjs","lineno":615,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Уровень sustain для FM envelope: какая модуляция применяется после фазы decay</p>\\n<p>Можно добавить номер для управления sustain envelope\\nлюбого из 8 индивидуальных FM (например, <code>fmsus7</code>)</p>","name":"fmsustain","synonyms_text":"fmsus","synonyms":["fmsus"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>уровень sustain</p>","name":"level"}],"examples":["note(\\"c e g b g e\\")\\n.fm(4)\\n.fmdecay(.1)\\n.fmsustain(\\"<1 .75 .5 0>\\")\\n._scope()"],"longname":"fmsustain","kind":"member","scope":"global"},{"comment":"/**\\n * Время release для FM envelope: какая модуляция применяется после отпускания ноты\\n *\\n * Можно добавить номер для управления release envelope\\n * любого из 8 индивидуальных FM (например, \`fmrel8\`)\\n *\\n * @name fmrelease\\n * @synonyms fmrel\\n * @param {number | Pattern} time время release\\n *\\n */","meta":{"filename":"controls.mjs","lineno":653,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время release для FM envelope: какая модуляция применяется после отпускания ноты</p>\\n<p>Можно добавить номер для управления release envelope\\nлюбого из 8 индивидуальных FM (например, <code>fmrel8</code>)</p>","name":"fmrelease","synonyms_text":"fmrel","synonyms":["fmrel"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>время release</p>","name":"time"}],"longname":"fmrelease","kind":"member","scope":"global"},{"comment":"/**\\n * Выбирает банк звуков для использования. Используется вместе с \`s\`. Имя банка (+ \\"_\\") будет добавлено к значению \`s\`.\\n *\\n * @name bank\\n * @param {string | Pattern} bank имя банка\\n * @example\\n * s(\\"bd sd [~ bd] sd\\").bank('RolandTR909') // = s(\\"RolandTR909_bd RolandTR909_sd\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":696,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Выбирает банк звуков для использования. Используется вместе с <code>s</code>. Имя банка (+ &quot;_&quot;) будет добавлено к значению <code>s</code>.</p>","name":"bank","params":[{"type":{"names":["string","Pattern"]},"description":"<p>имя банка</p>","name":"bank"}],"examples":["s(\\"bd sd [~ bd] sd\\").bank('RolandTR909') // = s(\\"RolandTR909_bd RolandTR909_sd\\")"],"longname":"bank","kind":"member","scope":"global"},{"comment":"/**\\n * Управление микшированием эффекта chorus\\n *\\n * @name chorus\\n * @param {string | Pattern} chorus количество микширования от 0 до 1\\n * @example\\n * note(\\"d d a# a\\").s(\\"sawtooth\\").chorus(.5)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":707,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Управление микшированием эффекта chorus</p>","name":"chorus","params":[{"type":{"names":["string","Pattern"]},"description":"<p>количество микширования от 0 до 1</p>","name":"chorus"}],"examples":["note(\\"d d a# a\\").s(\\"sawtooth\\").chorus(.5)"],"longname":"chorus","kind":"member","scope":"global"},{"comment":"/**\\n * Время decay амплитудного envelope: время, которое требуется после attack для достижения уровня sustain.\\n * Обратите внимание, что decay слышен только если значение sustain меньше 1.\\n *\\n * @name decay\\n * @param {number | Pattern} time время decay в секундах\\n * @synonyms dec\\n * @example\\n * note(\\"c3 e3 f3 g3\\").decay(\\"<.1 .2 .3 .4>\\").sustain(0)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":723,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время decay амплитудного envelope: время, которое требуется после attack для достижения уровня sustain.\\nОбратите внимание, что decay слышен только если значение sustain меньше 1.</p>","name":"decay","params":[{"type":{"names":["number","Pattern"]},"description":"<p>время decay в секундах</p>","name":"time"}],"synonyms_text":"dec","synonyms":["dec"],"examples":["note(\\"c3 e3 f3 g3\\").decay(\\"<.1 .2 .3 .4>\\").sustain(0)"],"longname":"decay","kind":"member","scope":"global"},{"comment":"/**\\n * Уровень sustain амплитудного envelope: Уровень, который достигается после attack / decay и поддерживается до окончания.\\n *\\n * @name sustain\\n * @param {number | Pattern} gain уровень sustain от 0 до 1\\n * @synonyms sus\\n * @example\\n * note(\\"c3 e3 f3 g3\\").decay(.2).sustain(\\"<0 .1 .4 .6 1>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":735,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Уровень sustain амплитудного envelope: Уровень, который достигается после attack / decay и поддерживается до окончания.</p>","name":"sustain","params":[{"type":{"names":["number","Pattern"]},"description":"<p>уровень sustain от 0 до 1</p>","name":"gain"}],"synonyms_text":"sus","synonyms":["sus"],"examples":["note(\\"c3 e3 f3 g3\\").decay(.2).sustain(\\"<0 .1 .4 .6 1>\\")"],"longname":"sustain","kind":"member","scope":"global"},{"comment":"/**\\n * Время release амплитудного envelope: Время, которое требуется после окончания для перехода от уровня sustain к нулю.\\n *\\n * @name release\\n * @param {number | Pattern} time время release в секундах\\n * @synonyms rel\\n * @example\\n * note(\\"c3 e3 g3 c4\\").release(\\"<0 .1 .4 .6 1>/2\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":746,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время release амплитудного envelope: Время, которое требуется после окончания для перехода от уровня sustain к нулю.</p>","name":"release","params":[{"type":{"names":["number","Pattern"]},"description":"<p>время release в секундах</p>","name":"time"}],"synonyms_text":"rel","synonyms":["rel"],"examples":["note(\\"c3 e3 g3 c4\\").release(\\"<0 .1 .4 .6 1>/2\\")"],"longname":"release","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает центральную частоту **b**and-**p**ass **f**ilter. При использовании mininotation можно\\n * также опционально указать параметр 'bpq', разделённый ':'.\\n *\\n * @name bpf\\n * @param {number | Pattern} frequency центральная частота\\n * @synonyms bandf, bp\\n * @example\\n * s(\\"bd sd [~ bd] sd,hh*6\\").bpf(\\"<1000 2000 4000 8000>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":759,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает центральную частоту <strong>b</strong>and-<strong>p</strong>ass <strong>f</strong>ilter. При использовании mininotation можно\\nтакже опционально указать параметр 'bpq', разделённый ':'.</p>","name":"bpf","params":[{"type":{"names":["number","Pattern"]},"description":"<p>центральная частота</p>","name":"frequency"}],"synonyms_text":"bandf, bp","synonyms":["bandf","bp"],"examples":["s(\\"bd sd [~ bd] sd,hh*6\\").bpf(\\"<1000 2000 4000 8000>\\")"],"longname":"bpf","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает **b**and-**p**ass **q**-фактор (резонанс).\\n *\\n * @name bpq\\n * @param {number | Pattern} q q-фактор\\n * @synonyms bandq\\n * @example\\n * s(\\"bd sd [~ bd] sd\\").bpf(500).bpq(\\"<0 1 2 3>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":772,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает <strong>b</strong>and-<strong>p</strong>ass <strong>q</strong>-фактор (резонанс).</p>","name":"bpq","params":[{"type":{"names":["number","Pattern"]},"description":"<p>q-фактор</p>","name":"q"}],"synonyms_text":"bandq","synonyms":["bandq"],"examples":["s(\\"bd sd [~ bd] sd\\").bpf(500).bpq(\\"<0 1 2 3>\\")"],"longname":"bpq","kind":"member","scope":"global"},{"comment":"/**\\n * Pattern чисел от 0 до 1. Пропускает начало каждого sample, например, \`0.25\` обрезает первую четверть каждого sample.\\n *\\n * @memberof Pattern\\n * @name begin\\n * @param {number | Pattern} amount от 0 до 1, где 1 это длина sample\\n * @example\\n * samples({ rave: 'rave/AREUREADY.wav' }, 'github:tidalcycles/dirt-samples')\\n * s(\\"rave\\").begin(\\"<0 .25 .5 .75>\\").fast(2)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":785,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Pattern чисел от 0 до 1. Пропускает начало каждого sample, например, <code>0.25</code> обрезает первую четверть каждого sample.</p>","memberof":"Pattern","name":"begin","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1, где 1 это длина sample</p>","name":"amount"}],"examples":["samples({ rave: 'rave/AREUREADY.wav' }, 'github:tidalcycles/dirt-samples')\\ns(\\"rave\\").begin(\\"<0 .25 .5 .75>\\").fast(2)"],"scope":"static","longname":"Pattern.begin","kind":"member"},{"comment":"/**\\n * То же, что .begin, но обрезает конец каждого sample.\\n *\\n * @memberof Pattern\\n * @name end\\n * @param {number | Pattern} length 1 = весь sample, .5 = половина sample, .25 = четверть sample и т.д.\\n * @example\\n * s(\\"bd*2,oh*4\\").end(\\"<.1 .2 .5 1>\\").fast(2)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":797,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>То же, что .begin, но обрезает конец каждого sample.</p>","memberof":"Pattern","name":"end","params":[{"type":{"names":["number","Pattern"]},"description":"<p>1 = весь sample, .5 = половина sample, .25 = четверть sample и т.д.</p>","name":"length"}],"examples":["s(\\"bd*2,oh*4\\").end(\\"<.1 .2 .5 1>\\").fast(2)"],"scope":"static","longname":"Pattern.end","kind":"member"},{"comment":"/**\\n * Зацикливает sample.\\n * Обратите внимание, что темп loop не синхронизирован с темпом цикла.\\n * Для изменения области loop используйте loopBegin / loopEnd.\\n *\\n * @name loop\\n * @param {number | Pattern} on Если 1, sample зациклен\\n * @example\\n * s(\\"casio\\").loop(1)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":808,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Зацикливает sample.\\nОбратите внимание, что темп loop не синхронизирован с темпом цикла.\\nДля изменения области loop используйте loopBegin / loopEnd.</p>","name":"loop","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Если 1, sample зациклен</p>","name":"on"}],"examples":["s(\\"casio\\").loop(1)"],"longname":"loop","kind":"member","scope":"global"},{"comment":"/**\\n * Начинает loop в определённой точке sample (между \`begin\` и \`end\`).\\n * Обратите внимание, что точка loop должна находиться между \`begin\` и \`end\`, и перед \`loopEnd\`!\\n * Примечание: Sample, начинающиеся с wt_, автоматически зацикливаются! (wt = wavetable)\\n *\\n * @name loopBegin\\n * @param {number | Pattern} time от 0 до 1, где 1 это длина sample\\n * @synonyms loopb\\n * @example\\n * s(\\"space\\").loop(1)\\n * .loopBegin(\\"<0 .125 .25>\\")._scope()\\n */","meta":{"filename":"controls.mjs","lineno":820,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Начинает loop в определённой точке sample (между <code>begin</code> и <code>end</code>).\\nОбратите внимание, что точка loop должна находиться между <code>begin</code> и <code>end</code>, и перед <code>loopEnd</code>!\\nПримечание: Sample, начинающиеся с wt_, автоматически зацикливаются! (wt = wavetable)</p>","name":"loopBegin","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1, где 1 это длина sample</p>","name":"time"}],"synonyms_text":"loopb","synonyms":["loopb"],"examples":["s(\\"space\\").loop(1)\\n.loopBegin(\\"<0 .125 .25>\\")._scope()"],"longname":"loopBegin","kind":"member","scope":"global"},{"comment":"/**\\n *\\n * Заканчивает секцию loop в определённой точке sample (между \`begin\` и \`end\`).\\n * Обратите внимание, что точка loop должна находиться между \`begin\` и \`end\`, и после \`loopBegin\`!\\n *\\n * @name loopEnd\\n * @param {number | Pattern} time от 0 до 1, где 1 это длина sample\\n * @synonyms loope\\n * @example\\n * s(\\"space\\").loop(1)\\n * .loopEnd(\\"<1 .75 .5 .25>\\")._scope()\\n */","meta":{"filename":"controls.mjs","lineno":833,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Заканчивает секцию loop в определённой точке sample (между <code>begin</code> и <code>end</code>).\\nОбратите внимание, что точка loop должна находиться между <code>begin</code> и <code>end</code>, и после <code>loopBegin</code>!</p>","name":"loopEnd","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1, где 1 это длина sample</p>","name":"time"}],"synonyms_text":"loope","synonyms":["loope"],"examples":["s(\\"space\\").loop(1)\\n.loopEnd(\\"<1 .75 .5 .25>\\")._scope()"],"longname":"loopEnd","kind":"member","scope":"global"},{"comment":"/**\\n * Эффект bit crusher.\\n *\\n * @name crush\\n * @param {number | Pattern} depth от 1 (сильное снижение битности) до 16 (почти без снижения).\\n * @example\\n * s(\\"<bd sd>,hh*3\\").fast(2).crush(\\"<16 8 7 6 5 4 3 2>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":846,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Эффект bit crusher.</p>","name":"crush","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 1 (сильное снижение битности) до 16 (почти без снижения).</p>","name":"depth"}],"examples":["s(\\"<bd sd>,hh*3\\").fast(2).crush(\\"<16 8 7 6 5 4 3 2>\\")"],"longname":"crush","kind":"member","scope":"global"},{"comment":"/**\\n * Имитация ресэмплинга для снижения частоты дискретизации. Внимание: Этот эффект, похоже, работает только в браузерах на основе chromium\\n *\\n * @name coarse\\n * @param {number | Pattern} factor 1 для оригинала, 2 для половины, 3 для трети и так далее.\\n * @example\\n * s(\\"bd sd [~ bd] sd,hh*8\\").coarse(\\"<1 4 8 16 32>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":857,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Имитация ресэмплинга для снижения частоты дискретизации. Внимание: Этот эффект, похоже, работает только в браузерах на основе chromium</p>","name":"coarse","params":[{"type":{"names":["number","Pattern"]},"description":"<p>1 для оригинала, 2 для половины, 3 для трети и так далее.</p>","name":"factor"}],"examples":["s(\\"bd sd [~ bd] sd,hh*8\\").coarse(\\"<1 4 8 16 32>\\")"],"longname":"coarse","kind":"member","scope":"global"},{"comment":"/**\\n * Модулирует амплитуду звука непрерывной формой волны\\n *\\n * @name tremolo\\n * @synonyms trem\\n * @param {number | Pattern} speed скорость модуляции в Гц\\n * @example\\n * note(\\"d d d# d\\".fast(4)).s(\\"supersaw\\").tremolo(\\"<3 2 100> \\").tremoloskew(\\"<.5>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":868,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Модулирует амплитуду звука непрерывной формой волны</p>","name":"tremolo","synonyms_text":"trem","synonyms":["trem"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>скорость модуляции в Гц</p>","name":"speed"}],"examples":["note(\\"d d d# d\\".fast(4)).s(\\"supersaw\\").tremolo(\\"<3 2 100> \\").tremoloskew(\\"<.5>\\")"],"longname":"tremolo","kind":"member","scope":"global"},{"comment":"/**\\n * Модулирует амплитуду звука непрерывной формой волны\\n *\\n * @name tremolosync\\n * @synonyms tremsync\\n * @param {number | Pattern} cycles скорость модуляции в циклах\\n * @example\\n * note(\\"d d d# d\\".fast(4)).s(\\"supersaw\\").tremolosync(\\"4\\").tremoloskew(\\"<1 .5 0>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":880,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Модулирует амплитуду звука непрерывной формой волны</p>","name":"tremolosync","synonyms_text":"tremsync","synonyms":["tremsync"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>скорость модуляции в циклах</p>","name":"cycles"}],"examples":["note(\\"d d d# d\\".fast(4)).s(\\"supersaw\\").tremolosync(\\"4\\").tremoloskew(\\"<1 .5 0>\\")"],"longname":"tremolosync","kind":"member","scope":"global"},{"comment":"/**\\n * Глубина амплитудной модуляции\\n *\\n * @name tremolodepth\\n * @synonyms tremdepth\\n * @param {number | Pattern} depth\\n * @example\\n * note(\\"a1 a1 a#1 a1\\".fast(4)).s(\\"pulse\\").tremsync(4).tremolodepth(\\"<1 2 .7>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":895,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Глубина амплитудной модуляции</p>","name":"tremolodepth","synonyms_text":"tremdepth","synonyms":["tremdepth"],"params":[{"type":{"names":["number","Pattern"]},"name":"depth"}],"examples":["note(\\"a1 a1 a#1 a1\\".fast(4)).s(\\"pulse\\").tremsync(4).tremolodepth(\\"<1 2 .7>\\")"],"longname":"tremolodepth","kind":"member","scope":"global"},{"comment":"/**\\n * Изменяет форму волны модуляции\\n *\\n * @name tremoloskew\\n * @synonyms tremskew\\n * @param {number | Pattern} amount от 0 до 1, форма волны\\n * @example\\n * note(\\"{f a c e}%16\\").s(\\"sawtooth\\").tremsync(4).tremoloskew(\\"<.5 0 1>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":906,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Изменяет форму волны модуляции</p>","name":"tremoloskew","synonyms_text":"tremskew","synonyms":["tremskew"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1, форма волны</p>","name":"amount"}],"examples":["note(\\"{f a c e}%16\\").s(\\"sawtooth\\").tremsync(4).tremoloskew(\\"<.5 0 1>\\")"],"longname":"tremoloskew","kind":"member","scope":"global"},{"comment":"/**\\n * Изменяет фазу волны модуляции\\n *\\n * @name tremolophase\\n * @synonyms tremphase\\n * @param {number | Pattern} offset смещение в циклах модуляции\\n * @example\\n * note(\\"{f a c e}%16\\").s(\\"sawtooth\\").tremsync(4).tremolophase(\\"<0 .25 .66>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":918,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Изменяет фазу волны модуляции</p>","name":"tremolophase","synonyms_text":"tremphase","synonyms":["tremphase"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>смещение в циклах модуляции</p>","name":"offset"}],"examples":["note(\\"{f a c e}%16\\").s(\\"sawtooth\\").tremsync(4).tremolophase(\\"<0 .25 .66>\\")"],"longname":"tremolophase","kind":"member","scope":"global"},{"comment":"/**\\n * Форма амплитудной модуляции\\n *\\n * @name tremoloshape\\n * @synonyms tremshape\\n * @param {number | Pattern} shape tri | square | sine | saw | ramp\\n * @example\\n * note(\\"{f g c d}%16\\").tremsync(4).tremoloshape(\\"<sine tri square>\\").s(\\"sawtooth\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":930,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Форма амплитудной модуляции</p>","name":"tremoloshape","synonyms_text":"tremshape","synonyms":["tremshape"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>tri | square | sine | saw | ramp</p>","name":"shape"}],"examples":["note(\\"{f g c d}%16\\").tremsync(4).tremoloshape(\\"<sine tri square>\\").s(\\"sawtooth\\")"],"longname":"tremoloshape","kind":"member","scope":"global"},{"comment":"/**\\n * Перегрузка filter для поддерживаемых типов filter\\n *\\n * @name drive\\n * @param {number | Pattern} amount\\n * @example\\n * note(\\"{f g g c d a a#}%16\\".sub(17)).s(\\"supersaw\\").lpenv(8).lpf(150).lpq(.8).ftype('ladder').drive(\\"<.5 4>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":941,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Перегрузка filter для поддерживаемых типов filter</p>","name":"drive","params":[{"type":{"names":["number","Pattern"]},"name":"amount"}],"examples":["note(\\"{f g g c d a a#}%16\\".sub(17)).s(\\"supersaw\\").lpenv(8).lpf(150).lpq(.8).ftype('ladder').drive(\\"<.5 4>\\")"],"longname":"drive","kind":"member","scope":"global"},{"comment":"/**\\n * Модулирует амплитуду orbit для создания эффекта типа \\"sidechain\\".\\n *\\n * Может применяться к нескольким orbit с помощью ':' mininotation, например, \`duckorbit(\\"2:3\\")\`\\n *\\n * @name duckorbit\\n * @synonyms duck\\n * @param {number | Pattern} orbit целевой orbit\\n * @example\\n * $: n(run(16)).scale(\\"c:minor:pentatonic\\").s(\\"sawtooth\\").delay(.7).orbit(2)\\n * $: s(\\"bd:4!4\\").beat(\\"0,4,8,11,14\\",16).duckorbit(2).duckattack(0.2).duckdepth(1)\\n * @example\\n * $: n(run(16)).scale(\\"c:minor:pentatonic\\").s(\\"sawtooth\\").delay(.7).orbit(2)\\n * $: s(\\"hh*16\\").orbit(3)\\n * $: s(\\"bd:4!4\\").beat(\\"0,4,8,11,14\\",16).duckorbit(\\"2:3\\").duckattack(0.2).duckdepth(1)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":952,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Модулирует амплитуду orbit для создания эффекта типа &quot;sidechain&quot;.</p>\\n<p>Может применяться к нескольким orbit с помощью ':' mininotation, например, <code>duckorbit(&quot;2:3&quot;)</code></p>","name":"duckorbit","synonyms_text":"duck","synonyms":["duck"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>целевой orbit</p>","name":"orbit"}],"examples":["$: n(run(16)).scale(\\"c:minor:pentatonic\\").s(\\"sawtooth\\").delay(.7).orbit(2)\\n$: s(\\"bd:4!4\\").beat(\\"0,4,8,11,14\\",16).duckorbit(2).duckattack(0.2).duckdepth(1)","$: n(run(16)).scale(\\"c:minor:pentatonic\\").s(\\"sawtooth\\").delay(.7).orbit(2)\\n$: s(\\"hh*16\\").orbit(3)\\n$: s(\\"bd:4!4\\").beat(\\"0,4,8,11,14\\",16).duckorbit(\\"2:3\\").duckattack(0.2).duckdepth(1)"],"longname":"duckorbit","kind":"member","scope":"global"},{"comment":"/**\\n * Количество ducking, применяемое к целевому orbit\\n *\\n * Может варьироваться между orbit с помощью ':' mininotation, например, \`duckdepth(\\"0.3:0.1\\")\`.\\n * Примечание: это требует сначала применить эффект к нескольким orbit, например, \`duckorbit(\\"2:3\\")\`.\\n *\\n * @name duckdepth\\n * @param {number | Pattern} depth глубина модуляции от 0 до 1\\n * @example\\n * stack( n(run(8)).scale(\\"c:minor\\").s(\\"sawtooth\\").delay(.7).orbit(2), s(\\"bd:4!4\\").beat(\\"0,4,8,11,14\\",16).duckorbit(2).duckattack(0.2).duckdepth(\\"<1 .9 .6 0>\\"))\\n * @example\\n * $: n(run(16)).scale(\\"c:minor:pentatonic\\").s(\\"sawtooth\\").delay(.7).orbit(2)\\n * $: s(\\"hh*16\\").orbit(3)\\n * $: s(\\"bd:4!4\\").beat(\\"0,4,8,11,14\\",16).duckorbit(\\"2:3\\").duckattack(0.2).duckdepth(\\"1:0.5\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":971,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Количество ducking, применяемое к целевому orbit</p>\\n<p>Может варьироваться между orbit с помощью ':' mininotation, например, <code>duckdepth(&quot;0.3:0.1&quot;)</code>.\\nПримечание: это требует сначала применить эффект к нескольким orbit, например, <code>duckorbit(&quot;2:3&quot;)</code>.</p>","name":"duckdepth","params":[{"type":{"names":["number","Pattern"]},"description":"<p>глубина модуляции от 0 до 1</p>","name":"depth"}],"examples":["stack( n(run(8)).scale(\\"c:minor\\").s(\\"sawtooth\\").delay(.7).orbit(2), s(\\"bd:4!4\\").beat(\\"0,4,8,11,14\\",16).duckorbit(2).duckattack(0.2).duckdepth(\\"<1 .9 .6 0>\\"))","$: n(run(16)).scale(\\"c:minor:pentatonic\\").s(\\"sawtooth\\").delay(.7).orbit(2)\\n$: s(\\"hh*16\\").orbit(3)\\n$: s(\\"bd:4!4\\").beat(\\"0,4,8,11,14\\",16).duckorbit(\\"2:3\\").duckattack(0.2).duckdepth(\\"1:0.5\\")"],"longname":"duckdepth","kind":"member","scope":"global"},{"comment":"/**\\n * Время, необходимое для того, чтобы обработанный сигнал(ы) достиг самой низкой громкости.\\n * Может использоваться для предотвращения щелчков или для творческих ритмических эффектов.\\n *\\n * Может варьироваться между orbit с помощью ':' mininotation, например, \`duckonset(\\"0:0.003\\")\`.\\n * Примечание: это требует сначала применить эффект к нескольким orbit, например, \`duckorbit(\\"2:3\\")\`.\\n *\\n * @name duckonset\\n * @synonyms duckons\\n *\\n * @param {number | Pattern} time Время начала в секундах\\n * @example\\n * // Щелчки\\n * sound: freq(\\"63.2388\\").s(\\"sine\\").orbit(2).gain(4)\\n * duckerWithClick: s(\\"bd*4\\").duckorbit(2).duckattack(0.3).duckonset(0).postgain(0)\\n * @example\\n * // Без щелчков\\n * sound: freq(\\"63.2388\\").s(\\"sine\\").orbit(2).gain(4)\\n * duckerWithoutClick: s(\\"bd*4\\").duckorbit(2).duckattack(0.3).duckonset(0.01).postgain(0)\\n * @example\\n * // Ритмичный\\n * noise: s(\\"pink\\").distort(\\"2:1\\").orbit(4) // используется ритмично с 0.3 onset ниже\\n * hhat: s(\\"hh*16\\").orbit(7)\\n * ducker: s(\\"bd*4\\").bank(\\"tr909\\").duckorbit(\\"4:7\\").duckonset(\\"0.3:0.003\\").duckattack(0.25)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":989,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время, необходимое для того, чтобы обработанный сигнал(ы) достиг самой низкой громкости.\\nМожет использоваться для предотвращения щелчков или для творческих ритмических эффектов.</p>\\n<p>Может варьироваться между orbit с помощью ':' mininotation, например, <code>duckonset(&quot;0:0.003&quot;)</code>.\\nПримечание: это требует сначала применить эффект к нескольким orbit, например, <code>duckorbit(&quot;2:3&quot;)</code>.</p>","name":"duckonset","synonyms_text":"duckons","synonyms":["duckons"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>Время начала в секундах</p>","name":"time"}],"examples":["// Щелчки\\nsound: freq(\\"63.2388\\").s(\\"sine\\").orbit(2).gain(4)\\nduckerWithClick: s(\\"bd*4\\").duckorbit(2).duckattack(0.3).duckonset(0).postgain(0)","// Без щелчков\\nsound: freq(\\"63.2388\\").s(\\"sine\\").orbit(2).gain(4)\\nduckerWithoutClick: s(\\"bd*4\\").duckorbit(2).duckattack(0.3).duckonset(0.01).postgain(0)","// Ритмичный\\nnoise: s(\\"pink\\").distort(\\"2:1\\").orbit(4) // используется ритмично с 0.3 onset ниже\\nhhat: s(\\"hh*16\\").orbit(7)\\nducker: s(\\"bd*4\\").bank(\\"tr909\\").duckorbit(\\"4:7\\").duckonset(\\"0.3:0.003\\").duckattack(0.25)"],"longname":"duckonset","kind":"member","scope":"global"},{"comment":"/**\\n * Время, необходимое для того, чтобы обработанный сигнал(ы) вернулся к нормальной громкости.\\n *\\n * Может варьироваться между orbit с помощью ':' mininotation, например, \`duckonset(\\"0:0.003\\")\`.\\n * Примечание: это требует сначала применить эффект к нескольким orbit, например, \`duckorbit(\\"2:3\\")\`.\\n *\\n * @name duckattack\\n * @synonyms duckatt\\n *\\n * @param {number | Pattern} time Время attack в секундах\\n * @example\\n * sound: n(run(8)).scale(\\"c:minor\\").s(\\"sawtooth\\").delay(.7).orbit(2)\\n * ducker: s(\\"bd:4!4\\").beat(\\"0,4,8,11,14\\",16).duckorbit(2).duckattack(\\"<0.2 0 0.4>\\").duckdepth(1)\\n * @example\\n * moreduck: n(run(8)).scale(\\"c:minor\\").s(\\"sawtooth\\").delay(.7).orbit(2)\\n * lessduck: s(\\"hh*16\\").orbit(5)\\n * ducker: s(\\"bd:4!4\\").beat(\\"0,4,8,11,14\\",16).duckorbit(\\"2:5\\").duckattack(\\"0.4:0.1\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1017,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время, необходимое для того, чтобы обработанный сигнал(ы) вернулся к нормальной громкости.</p>\\n<p>Может варьироваться между orbit с помощью ':' mininotation, например, <code>duckonset(&quot;0:0.003&quot;)</code>.\\nПримечание: это требует сначала применить эффект к нескольким orbit, например, <code>duckorbit(&quot;2:3&quot;)</code>.</p>","name":"duckattack","synonyms_text":"duckatt","synonyms":["duckatt"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>Время attack в секундах</p>","name":"time"}],"examples":["sound: n(run(8)).scale(\\"c:minor\\").s(\\"sawtooth\\").delay(.7).orbit(2)\\nducker: s(\\"bd:4!4\\").beat(\\"0,4,8,11,14\\",16).duckorbit(2).duckattack(\\"<0.2 0 0.4>\\").duckdepth(1)","moreduck: n(run(8)).scale(\\"c:minor\\").s(\\"sawtooth\\").delay(.7).orbit(2)\\nlessduck: s(\\"hh*16\\").orbit(5)\\nducker: s(\\"bd:4!4\\").beat(\\"0,4,8,11,14\\",16).duckorbit(\\"2:5\\").duckattack(\\"0.4:0.1\\")"],"longname":"duckattack","kind":"member","scope":"global"},{"comment":"/**\\n * Создаёт byte beat с пользовательскими выражениями\\n *\\n * @name byteBeatExpression\\n * @synonyms bbexpr\\n *\\n * @param {number | Pattern} byteBeatExpression побитовое выражение для создания bytebeat\\n * @example\\n * s(\\"bytebeat\\").bbexpr('t*(t>>15^t>>66)')\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1038,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Создаёт byte beat с пользовательскими выражениями</p>","name":"byteBeatExpression","synonyms_text":"bbexpr","synonyms":["bbexpr"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>побитовое выражение для создания bytebeat</p>","name":"byteBeatExpression"}],"examples":["s(\\"bytebeat\\").bbexpr('t*(t>>15^t>>66)')"],"longname":"byteBeatExpression","kind":"member","scope":"global"},{"comment":"/**\\n * Создаёт byte beat с пользовательскими выражениями\\n *\\n * @name byteBeatStartTime\\n * @synonyms bbst\\n *\\n * @param {number | Pattern} byteBeatStartTime в sample (t)\\n * @example\\n * note(\\"c3!8\\".add(\\"{0 0 12 0 7 5 3}%8\\")).s(\\"bytebeat:5\\").bbst(\\"<3 1>\\".mul(10000))._scope()\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1051,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Создаёт byte beat с пользовательскими выражениями</p>","name":"byteBeatStartTime","synonyms_text":"bbst","synonyms":["bbst"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>в sample (t)</p>","name":"byteBeatStartTime"}],"examples":["note(\\"c3!8\\".add(\\"{0 0 12 0 7 5 3}%8\\")).s(\\"bytebeat:5\\").bbst(\\"<3 1>\\".mul(10000))._scope()"],"longname":"byteBeatStartTime","kind":"member","scope":"global"},{"comment":"/**\\n * Позволяет установить выходные каналы на интерфейсе\\n *\\n * @name channels\\n * @synonyms ch\\n *\\n * @param {number | Pattern} channels pattern выходных каналов\\n * @example\\n * note(\\"e a d b g\\").channels(\\"3:4\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1064,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Позволяет установить выходные каналы на интерфейсе</p>","name":"channels","synonyms_text":"ch","synonyms":["ch"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>pattern выходных каналов</p>","name":"channels"}],"examples":["note(\\"e a d b g\\").channels(\\"3:4\\")"],"longname":"channels","kind":"member","scope":"global"},{"comment":"/**\\n * Управляет шириной импульса pulse oscillator\\n *\\n * @name pw\\n * @param {number | Pattern} pulsewidth\\n * @example\\n * note(\\"{f a c e}%16\\").s(\\"pulse\\").pw(\\".8:1:.2\\")\\n * @example\\n * n(run(8)).scale(\\"D:pentatonic\\").s(\\"pulse\\").pw(\\"0 .75 .5 1\\")\\n */","meta":{"filename":"controls.mjs","lineno":1077,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Управляет шириной импульса pulse oscillator</p>","name":"pw","params":[{"type":{"names":["number","Pattern"]},"name":"pulsewidth"}],"examples":["note(\\"{f a c e}%16\\").s(\\"pulse\\").pw(\\".8:1:.2\\")","n(run(8)).scale(\\"D:pentatonic\\").s(\\"pulse\\").pw(\\"0 .75 .5 1\\")"],"longname":"pw","kind":"member","scope":"global"},{"comment":"/**\\n * Управляет частотой lfo для ширины импульса pulse oscillator\\n *\\n * @name pwrate\\n * @param {number | Pattern} rate\\n * @example\\n * n(run(8)).scale(\\"D:pentatonic\\").s(\\"pulse\\").pw(\\"0.5\\").pwrate(\\"<5 .1 25>\\").pwsweep(\\"<0.3 .8>\\")\\n\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1089,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Управляет частотой lfo для ширины импульса pulse oscillator</p>","name":"pwrate","params":[{"type":{"names":["number","Pattern"]},"name":"rate"}],"examples":["n(run(8)).scale(\\"D:pentatonic\\").s(\\"pulse\\").pw(\\"0.5\\").pwrate(\\"<5 .1 25>\\").pwsweep(\\"<0.3 .8>\\")"],"longname":"pwrate","kind":"member","scope":"global"},{"comment":"/**\\n * Управляет sweep lfo для ширины импульса pulse oscillator\\n *\\n * @name pwsweep\\n * @param {number | Pattern} sweep\\n * @example\\n * n(run(8)).scale(\\"D:pentatonic\\").s(\\"pulse\\").pw(\\"0.5\\").pwrate(\\"<5 .1 25>\\").pwsweep(\\"<0.3 .8>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1101,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Управляет sweep lfo для ширины импульса pulse oscillator</p>","name":"pwsweep","params":[{"type":{"names":["number","Pattern"]},"name":"sweep"}],"examples":["n(run(8)).scale(\\"D:pentatonic\\").s(\\"pulse\\").pw(\\"0.5\\").pwrate(\\"<5 .1 25>\\").pwsweep(\\"<0.3 .8>\\")"],"longname":"pwsweep","kind":"member","scope":"global"},{"comment":"/**\\n * Аудио эффект phaser, приближенный к популярным гитарным педалям.\\n *\\n * @name phaser\\n * @synonyms ph\\n * @param {number | Pattern} speed скорость модуляции\\n * @example\\n * n(run(8)).scale(\\"D:pentatonic\\").s(\\"sawtooth\\").release(0.5)\\n * .phaser(\\"<1 2 4 8>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1112,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Аудио эффект phaser, приближенный к популярным гитарным педалям.</p>","name":"phaser","synonyms_text":"ph","synonyms":["ph"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>скорость модуляции</p>","name":"speed"}],"examples":["n(run(8)).scale(\\"D:pentatonic\\").s(\\"sawtooth\\").release(0.5)\\n.phaser(\\"<1 2 4 8>\\")"],"longname":"phaser","kind":"member","scope":"global"},{"comment":"/**\\n * Диапазон частотного sweep lfo для эффекта phaser. По умолчанию 2000\\n *\\n * @name phasersweep\\n * @synonyms phs\\n * @param {number | Pattern} phasersweep наиболее полезные значения между 0 и 4000\\n * @example\\n * n(run(8)).scale(\\"D:pentatonic\\").s(\\"sawtooth\\").release(0.5)\\n * .phaser(2).phasersweep(\\"<800 2000 4000>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1129,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Диапазон частотного sweep lfo для эффекта phaser. По умолчанию 2000</p>","name":"phasersweep","synonyms_text":"phs","synonyms":["phs"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>наиболее полезные значения между 0 и 4000</p>","name":"phasersweep"}],"examples":["n(run(8)).scale(\\"D:pentatonic\\").s(\\"sawtooth\\").release(0.5)\\n.phaser(2).phasersweep(\\"<800 2000 4000>\\")"],"longname":"phasersweep","kind":"member","scope":"global"},{"comment":"/**\\n * Центральная частота phaser в Гц. По умолчанию 1000\\n *\\n * @name phasercenter\\n * @synonyms phc\\n * @param {number | Pattern} centerfrequency в Гц\\n * @example\\n * n(run(8)).scale(\\"D:pentatonic\\").s(\\"sawtooth\\").release(0.5)\\n * .phaser(2).phasercenter(\\"<800 2000 4000>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1142,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Центральная частота phaser в Гц. По умолчанию 1000</p>","name":"phasercenter","synonyms_text":"phc","synonyms":["phc"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>в Гц</p>","name":"centerfrequency"}],"examples":["n(run(8)).scale(\\"D:pentatonic\\").s(\\"sawtooth\\").release(0.5)\\n.phaser(2).phasercenter(\\"<800 2000 4000>\\")"],"longname":"phasercenter","kind":"member","scope":"global"},{"comment":"/**\\n * Количество влияния эффекта phaser на сигнал. По умолчанию 0.75\\n *\\n * @name phaserdepth\\n * @synonyms phd, phasdp\\n * @param {number | Pattern} depth число от 0 до 1\\n * @example\\n * n(run(8)).scale(\\"D:pentatonic\\").s(\\"sawtooth\\").release(0.5)\\n * .phaser(2).phaserdepth(\\"<0 .5 .75 1>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1156,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Количество влияния эффекта phaser на сигнал. По умолчанию 0.75</p>","name":"phaserdepth","synonyms_text":"phd, phasdp","synonyms":["phd","phasdp"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>число от 0 до 1</p>","name":"depth"}],"examples":["n(run(8)).scale(\\"D:pentatonic\\").s(\\"sawtooth\\").release(0.5)\\n.phaser(2).phaserdepth(\\"<0 .5 .75 1>\\")"],"longname":"phaserdepth","kind":"member","scope":"global"},{"comment":"/**\\n * Выбирает канал, на который отправляется pattern в superdirt\\n *\\n * @name channel\\n * @param {number | Pattern} channel номер канала\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1170,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Выбирает канал, на который отправляется pattern в superdirt</p>","name":"channel","params":[{"type":{"names":["number","Pattern"]},"description":"<p>номер канала</p>","name":"channel"}],"longname":"channel","kind":"member","scope":"global"},{"comment":"/**\\n * В стиле классических драм-машин, \`cut\` остановит воспроизводящийся sample, как только будет воспроизведён другой sample в той же группе cut. Примером может быть открытый хэт, за которым следует закрытый, фактически заглушая открытый.\\n *\\n * @name cut\\n * @param {number | Pattern} group номер группы cut\\n * @example\\n * s(\\"[oh hh]*4\\").cut(1)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1178,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>В стиле классических драм-машин, <code>cut</code> остановит воспроизводящийся sample, как только будет воспроизведён другой sample в той же группе cut. Примером может быть открытый хэт, за которым следует закрытый, фактически заглушая открытый.</p>","name":"cut","params":[{"type":{"names":["number","Pattern"]},"description":"<p>номер группы cut</p>","name":"group"}],"examples":["s(\\"[oh hh]*4\\").cut(1)"],"longname":"cut","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает частоту среза **l**ow-**p**ass **f**ilter.\\n *\\n * При использовании mininotation можно также опционально добавить параметр 'lpq', разделённый ':'.\\n *\\n * @name lpf\\n * @param {number | Pattern} frequency слышимая частота от 0 до 20000\\n * @synonyms cutoff, ctf, lp\\n * @example\\n * s(\\"bd sd [~ bd] sd,hh*6\\").lpf(\\"<4000 2000 1000 500 200 100>\\")\\n * @example\\n * s(\\"bd*16\\").lpf(\\"1000:0 1000:10 1000:20 1000:30\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1188,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает частоту среза <strong>l</strong>ow-<strong>p</strong>ass <strong>f</strong>ilter.</p>\\n<p>При использовании mininotation можно также опционально добавить параметр 'lpq', разделённый ':'.</p>","name":"lpf","params":[{"type":{"names":["number","Pattern"]},"description":"<p>слышимая частота от 0 до 20000</p>","name":"frequency"}],"synonyms_text":"cutoff, ctf, lp","synonyms":["cutoff","ctf","lp"],"examples":["s(\\"bd sd [~ bd] sd,hh*6\\").lpf(\\"<4000 2000 1000 500 200 100>\\")","s(\\"bd*16\\").lpf(\\"1000:0 1000:10 1000:20 1000:30\\")"],"longname":"lpf","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает глубину модуляции envelope lowpass filter.\\n * @name lpenv\\n * @param {number | Pattern} modulation глубина envelope lowpass filter от 0 до _n_\\n * @synonyms lpe\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .lpf(300)\\n * .lpa(.5)\\n * .lpenv(\\"<4 2 1 0 -1 -2 -4>/4\\")\\n */","meta":{"filename":"controls.mjs","lineno":1204,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает глубину модуляции envelope lowpass filter.</p>","name":"lpenv","params":[{"type":{"names":["number","Pattern"]},"description":"<p>глубина envelope lowpass filter от 0 до <em>n</em></p>","name":"modulation"}],"synonyms_text":"lpe","synonyms":["lpe"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.lpf(300)\\n.lpa(.5)\\n.lpenv(\\"<4 2 1 0 -1 -2 -4>/4\\")"],"longname":"lpenv","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает глубину модуляции envelope highpass filter.\\n * @name hpenv\\n * @param {number | Pattern} modulation глубина envelope highpass filter от 0 до _n_\\n * @synonyms hpe\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .hpf(500)\\n * .hpa(.5)\\n * .hpenv(\\"<4 2 1 0 -1 -2 -4>/4\\")\\n */","meta":{"filename":"controls.mjs","lineno":1217,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает глубину модуляции envelope highpass filter.</p>","name":"hpenv","params":[{"type":{"names":["number","Pattern"]},"description":"<p>глубина envelope highpass filter от 0 до <em>n</em></p>","name":"modulation"}],"synonyms_text":"hpe","synonyms":["hpe"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.hpf(500)\\n.hpa(.5)\\n.hpenv(\\"<4 2 1 0 -1 -2 -4>/4\\")"],"longname":"hpenv","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает глубину модуляции envelope bandpass filter.\\n * @name bpenv\\n * @param {number | Pattern} modulation глубина envelope bandpass filter от 0 до _n_\\n * @synonyms bpe\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .bpf(500)\\n * .bpa(.5)\\n * .bpenv(\\"<4 2 1 0 -1 -2 -4>/4\\")\\n */","meta":{"filename":"controls.mjs","lineno":1230,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает глубину модуляции envelope bandpass filter.</p>","name":"bpenv","params":[{"type":{"names":["number","Pattern"]},"description":"<p>глубина envelope bandpass filter от 0 до <em>n</em></p>","name":"modulation"}],"synonyms_text":"bpe","synonyms":["bpe"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.bpf(500)\\n.bpa(.5)\\n.bpenv(\\"<4 2 1 0 -1 -2 -4>/4\\")"],"longname":"bpenv","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает длительность attack для envelope lowpass filter.\\n * @name lpattack\\n * @param {number | Pattern} attack время envelope filter\\n * @synonyms lpa\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .lpf(300)\\n * .lpa(\\"<.5 .25 .1 .01>/4\\")\\n * .lpenv(4)\\n */","meta":{"filename":"controls.mjs","lineno":1243,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает длительность attack для envelope lowpass filter.</p>","name":"lpattack","params":[{"type":{"names":["number","Pattern"]},"description":"<p>время envelope filter</p>","name":"attack"}],"synonyms_text":"lpa","synonyms":["lpa"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.lpf(300)\\n.lpa(\\"<.5 .25 .1 .01>/4\\")\\n.lpenv(4)"],"longname":"lpattack","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает длительность attack для envelope highpass filter.\\n * @name hpattack\\n * @param {number | Pattern} attack время envelope highpass filter\\n * @synonyms hpa\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .hpf(500)\\n * .hpa(\\"<.5 .25 .1 .01>/4\\")\\n * .hpenv(4)\\n */","meta":{"filename":"controls.mjs","lineno":1256,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает длительность attack для envelope highpass filter.</p>","name":"hpattack","params":[{"type":{"names":["number","Pattern"]},"description":"<p>время envelope highpass filter</p>","name":"attack"}],"synonyms_text":"hpa","synonyms":["hpa"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.hpf(500)\\n.hpa(\\"<.5 .25 .1 .01>/4\\")\\n.hpenv(4)"],"longname":"hpattack","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает длительность attack для envelope bandpass filter.\\n * @name bpattack\\n * @param {number | Pattern} attack время envelope bandpass filter\\n * @synonyms bpa\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .bpf(500)\\n * .bpa(\\"<.5 .25 .1 .01>/4\\")\\n * .bpenv(4)\\n */","meta":{"filename":"controls.mjs","lineno":1269,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает длительность attack для envelope bandpass filter.</p>","name":"bpattack","params":[{"type":{"names":["number","Pattern"]},"description":"<p>время envelope bandpass filter</p>","name":"attack"}],"synonyms_text":"bpa","synonyms":["bpa"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.bpf(500)\\n.bpa(\\"<.5 .25 .1 .01>/4\\")\\n.bpenv(4)"],"longname":"bpattack","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает длительность decay для envelope lowpass filter.\\n * @name lpdecay\\n * @param {number | Pattern} decay время envelope filter\\n * @synonyms lpd\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .lpf(300)\\n * .lpd(\\"<.5 .25 .1 0>/4\\")\\n * .lpenv(4)\\n */","meta":{"filename":"controls.mjs","lineno":1282,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает длительность decay для envelope lowpass filter.</p>","name":"lpdecay","params":[{"type":{"names":["number","Pattern"]},"description":"<p>время envelope filter</p>","name":"decay"}],"synonyms_text":"lpd","synonyms":["lpd"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.lpf(300)\\n.lpd(\\"<.5 .25 .1 0>/4\\")\\n.lpenv(4)"],"longname":"lpdecay","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает длительность decay для envelope highpass filter.\\n * @name hpdecay\\n * @param {number | Pattern} decay время envelope highpass filter\\n * @synonyms hpd\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .hpf(500)\\n * .hpd(\\"<.5 .25 .1 0>/4\\")\\n * .hps(0.2)\\n * .hpenv(4)\\n */","meta":{"filename":"controls.mjs","lineno":1295,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает длительность decay для envelope highpass filter.</p>","name":"hpdecay","params":[{"type":{"names":["number","Pattern"]},"description":"<p>время envelope highpass filter</p>","name":"decay"}],"synonyms_text":"hpd","synonyms":["hpd"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.hpf(500)\\n.hpd(\\"<.5 .25 .1 0>/4\\")\\n.hps(0.2)\\n.hpenv(4)"],"longname":"hpdecay","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает длительность decay для envelope bandpass filter.\\n * @name bpdecay\\n * @param {number | Pattern} decay время envelope bandpass filter\\n * @synonyms bpd\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .bpf(500)\\n * .bpd(\\"<.5 .25 .1 0>/4\\")\\n * .bps(0.2)\\n * .bpenv(4)\\n */","meta":{"filename":"controls.mjs","lineno":1309,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает длительность decay для envelope bandpass filter.</p>","name":"bpdecay","params":[{"type":{"names":["number","Pattern"]},"description":"<p>время envelope bandpass filter</p>","name":"decay"}],"synonyms_text":"bpd","synonyms":["bpd"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.bpf(500)\\n.bpd(\\"<.5 .25 .1 0>/4\\")\\n.bps(0.2)\\n.bpenv(4)"],"longname":"bpdecay","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает амплитуду sustain для envelope lowpass filter.\\n * @name lpsustain\\n * @param {number | Pattern} sustain амплитуда envelope lowpass filter\\n * @synonyms lps\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .lpf(300)\\n * .lpd(.5)\\n * .lps(\\"<0 .25 .5 1>/4\\")\\n * .lpenv(4)\\n */","meta":{"filename":"controls.mjs","lineno":1323,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает амплитуду sustain для envelope lowpass filter.</p>","name":"lpsustain","params":[{"type":{"names":["number","Pattern"]},"description":"<p>амплитуда envelope lowpass filter</p>","name":"sustain"}],"synonyms_text":"lps","synonyms":["lps"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.lpf(300)\\n.lpd(.5)\\n.lps(\\"<0 .25 .5 1>/4\\")\\n.lpenv(4)"],"longname":"lpsustain","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает амплитуду sustain для envelope highpass filter.\\n * @name hpsustain\\n * @param {number | Pattern} sustain амплитуда envelope highpass filter\\n * @synonyms hps\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .hpf(500)\\n * .hpd(.5)\\n * .hps(\\"<0 .25 .5 1>/4\\")\\n * .hpenv(4)\\n */","meta":{"filename":"controls.mjs","lineno":1337,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает амплитуду sustain для envelope highpass filter.</p>","name":"hpsustain","params":[{"type":{"names":["number","Pattern"]},"description":"<p>амплитуда envelope highpass filter</p>","name":"sustain"}],"synonyms_text":"hps","synonyms":["hps"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.hpf(500)\\n.hpd(.5)\\n.hps(\\"<0 .25 .5 1>/4\\")\\n.hpenv(4)"],"longname":"hpsustain","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает амплитуду sustain для envelope bandpass filter.\\n * @name bpsustain\\n * @param {number | Pattern} sustain амплитуда envelope bandpass filter\\n * @synonyms bps\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .bpf(500)\\n * .bpd(.5)\\n * .bps(\\"<0 .25 .5 1>/4\\")\\n * .bpenv(4)\\n */","meta":{"filename":"controls.mjs","lineno":1351,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает амплитуду sustain для envelope bandpass filter.</p>","name":"bpsustain","params":[{"type":{"names":["number","Pattern"]},"description":"<p>амплитуда envelope bandpass filter</p>","name":"sustain"}],"synonyms_text":"bps","synonyms":["bps"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.bpf(500)\\n.bpd(.5)\\n.bps(\\"<0 .25 .5 1>/4\\")\\n.bpenv(4)"],"longname":"bpsustain","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает время release для envelope lowpass filter.\\n * @name lprelease\\n * @param {number | Pattern} release время envelope filter\\n * @synonyms lpr\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .clip(.5)\\n * .lpf(300)\\n * .lpenv(4)\\n * .lpr(\\"<.5 .25 .1 0>/4\\")\\n * .release(.5)\\n */","meta":{"filename":"controls.mjs","lineno":1365,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает время release для envelope lowpass filter.</p>","name":"lprelease","params":[{"type":{"names":["number","Pattern"]},"description":"<p>время envelope filter</p>","name":"release"}],"synonyms_text":"lpr","synonyms":["lpr"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.clip(.5)\\n.lpf(300)\\n.lpenv(4)\\n.lpr(\\"<.5 .25 .1 0>/4\\")\\n.release(.5)"],"longname":"lprelease","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает время release для envelope highpass filter.\\n * @name hprelease\\n * @param {number | Pattern} release время envelope highpass filter\\n * @synonyms hpr\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .clip(.5)\\n * .hpf(500)\\n * .hpenv(4)\\n * .hpr(\\"<.5 .25 .1 0>/4\\")\\n * .release(.5)\\n */","meta":{"filename":"controls.mjs","lineno":1380,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает время release для envelope highpass filter.</p>","name":"hprelease","params":[{"type":{"names":["number","Pattern"]},"description":"<p>время envelope highpass filter</p>","name":"release"}],"synonyms_text":"hpr","synonyms":["hpr"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.clip(.5)\\n.hpf(500)\\n.hpenv(4)\\n.hpr(\\"<.5 .25 .1 0>/4\\")\\n.release(.5)"],"longname":"hprelease","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает время release для envelope bandpass filter.\\n * @name bprelease\\n * @param {number | Pattern} release время envelope bandpass filter\\n * @synonyms bpr\\n * @example\\n * note(\\"c2 e2 f2 g2\\")\\n * .sound('sawtooth')\\n * .clip(.5)\\n * .bpf(500)\\n * .bpenv(4)\\n * .bpr(\\"<.5 .25 .1 0>/4\\")\\n * .release(.5)\\n */","meta":{"filename":"controls.mjs","lineno":1395,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает время release для envelope bandpass filter.</p>","name":"bprelease","params":[{"type":{"names":["number","Pattern"]},"description":"<p>время envelope bandpass filter</p>","name":"release"}],"synonyms_text":"bpr","synonyms":["bpr"],"examples":["note(\\"c2 e2 f2 g2\\")\\n.sound('sawtooth')\\n.clip(.5)\\n.bpf(500)\\n.bpenv(4)\\n.bpr(\\"<.5 .25 .1 0>/4\\")\\n.release(.5)"],"longname":"bprelease","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает тип filter. Ladder filter более агрессивный. В будущем могут быть добавлены другие типы.\\n * @name ftype\\n * @param {number | Pattern} type 12db (0), ladder (1), или 24db (2)\\n * @example\\n * note(\\"{f g g c d a a#}%8\\").s(\\"sawtooth\\").lpenv(4).lpf(500).ftype(\\"<0 1 2>\\").lpq(1)\\n * @example\\n * note(\\"c f g g a c d4\\").fast(2)\\n * .sound('sawtooth')\\n * .lpf(200).fanchor(0)\\n * .lpenv(3).lpq(1)\\n * .ftype(\\"<ladder 12db 24db>\\")\\n */","meta":{"filename":"controls.mjs","lineno":1410,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает тип filter. Ladder filter более агрессивный. В будущем могут быть добавлены другие типы.</p>","name":"ftype","params":[{"type":{"names":["number","Pattern"]},"description":"<p>12db (0), ladder (1), или 24db (2)</p>","name":"type"}],"examples":["note(\\"{f g g c d a a#}%8\\").s(\\"sawtooth\\").lpenv(4).lpf(500).ftype(\\"<0 1 2>\\").lpq(1)","note(\\"c f g g a c d4\\").fast(2)\\n.sound('sawtooth')\\n.lpf(200).fanchor(0)\\n.lpenv(3).lpq(1)\\n.ftype(\\"<ladder 12db 24db>\\")"],"longname":"ftype","kind":"member","scope":"global"},{"comment":"/**\\n * Управляет центром envelope filter. 0 это униполярный положительный, .5 это биполярный, 1 это униполярный отрицательный\\n * @name fanchor\\n * @param {number | Pattern} center от 0 до 1\\n * @example\\n * note(\\"{f g g c d a a#}%8\\").s(\\"sawtooth\\").lpf(\\"{1000}%2\\")\\n * .lpenv(8).fanchor(\\"<0 .5 1>\\")\\n */","meta":{"filename":"controls.mjs","lineno":1425,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Управляет центром envelope filter. 0 это униполярный положительный, .5 это биполярный, 1 это униполярный отрицательный</p>","name":"fanchor","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1</p>","name":"center"}],"examples":["note(\\"{f g g c d a a#}%8\\").s(\\"sawtooth\\").lpf(\\"{1000}%2\\")\\n.lpenv(8).fanchor(\\"<0 .5 1>\\")"],"longname":"fanchor","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает частоту среза **h**igh-**p**ass **f**ilter.\\n *\\n * При использовании mininotation можно также опционально добавить параметр 'hpq', разделённый ':'.\\n *\\n * @name hpf\\n * @param {number | Pattern} frequency слышимая частота от 0 до 20000\\n * @synonyms hp, hcutoff\\n * @example\\n * s(\\"bd sd [~ bd] sd,hh*8\\").hpf(\\"<4000 2000 1000 500 200 100>\\")\\n * @example\\n * s(\\"bd sd [~ bd] sd,hh*8\\").hpf(\\"<2000 2000:25>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1434,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает частоту среза <strong>h</strong>igh-<strong>p</strong>ass <strong>f</strong>ilter.</p>\\n<p>При использовании mininotation можно также опционально добавить параметр 'hpq', разделённый ':'.</p>","name":"hpf","params":[{"type":{"names":["number","Pattern"]},"description":"<p>слышимая частота от 0 до 20000</p>","name":"frequency"}],"synonyms_text":"hp, hcutoff","synonyms":["hp","hcutoff"],"examples":["s(\\"bd sd [~ bd] sd,hh*8\\").hpf(\\"<4000 2000 1000 500 200 100>\\")","s(\\"bd sd [~ bd] sd,hh*8\\").hpf(\\"<2000 2000:25>\\")"],"longname":"hpf","kind":"member","scope":"global"},{"comment":"/**\\n * Частота LFO для lowpass filter\\n *\\n * @name lprate\\n * @param {number | Pattern} rate частота в герцах\\n * @example\\n * note(\\"<c c c# c c c4>*16\\").s(\\"sawtooth\\").lpf(600).lprate(\\"<4 8 2 1>\\")\\n */","meta":{"filename":"controls.mjs","lineno":1451,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Частота LFO для lowpass filter</p>","name":"lprate","params":[{"type":{"names":["number","Pattern"]},"description":"<p>частота в герцах</p>","name":"rate"}],"examples":["note(\\"<c c c# c c c4>*16\\").s(\\"sawtooth\\").lpf(600).lprate(\\"<4 8 2 1>\\")"],"longname":"lprate","kind":"member","scope":"global"},{"comment":"/**\\n * Синхронизированная с циклом частота LFO для lowpass filter\\n *\\n * @name lpsync\\n * @param {number | Pattern} rate частота в циклах\\n * @example\\n * note(\\"<c c c# c c c4>*16\\").s(\\"sawtooth\\").lpf(600).lpsync(\\"<4 8 2 1>\\")\\n */","meta":{"filename":"controls.mjs","lineno":1461,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Синхронизированная с циклом частота LFO для lowpass filter</p>","name":"lpsync","params":[{"type":{"names":["number","Pattern"]},"description":"<p>частота в циклах</p>","name":"rate"}],"examples":["note(\\"<c c c# c c c4>*16\\").s(\\"sawtooth\\").lpf(600).lpsync(\\"<4 8 2 1>\\")"],"longname":"lpsync","kind":"member","scope":"global"},{"comment":"/**\\n * Глубина LFO для lowpass filter\\n *\\n * @name lpdepth\\n * @param {number | Pattern} depth глубина модуляции\\n * @example\\n * note(\\"<c c c# c c c4>*16\\").s(\\"sawtooth\\").lpf(600).lpdepth(\\"<1 .5 1.8 0>\\")\\n */","meta":{"filename":"controls.mjs","lineno":1471,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Глубина LFO для lowpass filter</p>","name":"lpdepth","params":[{"type":{"names":["number","Pattern"]},"description":"<p>глубина модуляции</p>","name":"depth"}],"examples":["note(\\"<c c c# c c c4>*16\\").s(\\"sawtooth\\").lpf(600).lpdepth(\\"<1 .5 1.8 0>\\")"],"longname":"lpdepth","kind":"member","scope":"global"},{"comment":"/**\\n * Глубина LFO для lowpass filter, в Гц\\n *\\n * @name lpdepthfrequency\\n * @synonyms\\n * lpdethfreq\\n * @param {number | Pattern} depth глубина модуляции\\n * @example\\n * note(\\"<c c c# c c c4>*16\\").s(\\"sawtooth\\").lpf(600).lpdepthfrequency(\\"<200 500 100 0>\\")\\n */","meta":{"filename":"controls.mjs","lineno":1481,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Глубина LFO для lowpass filter, в Гц</p>","name":"lpdepthfrequency","synonyms_text":"lpdethfreq","synonyms":["lpdethfreq"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>глубина модуляции</p>","name":"depth"}],"examples":["note(\\"<c c c# c c c4>*16\\").s(\\"sawtooth\\").lpf(600).lpdepthfrequency(\\"<200 500 100 0>\\")"],"longname":"lpdepthfrequency","kind":"member","scope":"global"},{"comment":"/**\\n * Форма LFO для lowpass filter\\n *\\n * @name lpshape\\n * @param {number | Pattern} shape Форма lfo (0, 1, 2, ..)\\n */","meta":{"filename":"controls.mjs","lineno":1494,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Форма LFO для lowpass filter</p>","name":"lpshape","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Форма lfo (0, 1, 2, ..)</p>","name":"shape"}],"longname":"lpshape","kind":"member","scope":"global"},{"comment":"/**\\n * DC смещение LFO для lowpass filter\\n *\\n * @name lpdc\\n * @param {number | Pattern} dcoffset dc смещение. установите 0 для unipolar\\n */","meta":{"filename":"controls.mjs","lineno":1502,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>DC смещение LFO для lowpass filter</p>","name":"lpdc","params":[{"type":{"names":["number","Pattern"]},"description":"<p>dc смещение. установите 0 для unipolar</p>","name":"dcoffset"}],"longname":"lpdc","kind":"member","scope":"global"},{"comment":"/**\\n * Искривление LFO для lowpass filter\\n *\\n * @name lpskew\\n * @param {number | Pattern} skew Насколько изгибать форму LFO\\n */","meta":{"filename":"controls.mjs","lineno":1510,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Искривление LFO для lowpass filter</p>","name":"lpskew","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Насколько изгибать форму LFO</p>","name":"skew"}],"longname":"lpskew","kind":"member","scope":"global"},{"comment":"/**\\n * Частота LFO для bandpass filter\\n *\\n * @name bprate\\n * @param {number | Pattern} rate частота в герцах\\n */","meta":{"filename":"controls.mjs","lineno":1518,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Частота LFO для bandpass filter</p>","name":"bprate","params":[{"type":{"names":["number","Pattern"]},"description":"<p>частота в герцах</p>","name":"rate"}],"longname":"bprate","kind":"member","scope":"global"},{"comment":"/**\\n * Синхронизированная с циклом частота LFO для bandpass filter\\n *\\n * @name bpsync\\n * @param {number | Pattern} rate частота в циклах\\n */","meta":{"filename":"controls.mjs","lineno":1526,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Синхронизированная с циклом частота LFO для bandpass filter</p>","name":"bpsync","params":[{"type":{"names":["number","Pattern"]},"description":"<p>частота в циклах</p>","name":"rate"}],"longname":"bpsync","kind":"member","scope":"global"},{"comment":"/**\\n * Глубина LFO для bandpass filter\\n *\\n * @name bpdepth\\n * @param {number | Pattern} depth глубина модуляции\\n */","meta":{"filename":"controls.mjs","lineno":1534,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Глубина LFO для bandpass filter</p>","name":"bpdepth","params":[{"type":{"names":["number","Pattern"]},"description":"<p>глубина модуляции</p>","name":"depth"}],"longname":"bpdepth","kind":"member","scope":"global"},{"comment":"/**\\n * Глубина LFO для bandpass filter, в Гц\\n *\\n * @name bpdepthfrequency\\n * @synonyms\\n * bpdethfreq\\n * @param {number | Pattern} depth глубина модуляции\\n * @example\\n * note(\\"<c c c# c c c4>*16\\").s(\\"sawtooth\\").lpf(600).bpdepthfrequency(\\"<200 500 100 0>\\")\\n */","meta":{"filename":"controls.mjs","lineno":1542,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Глубина LFO для bandpass filter, в Гц</p>","name":"bpdepthfrequency","synonyms_text":"bpdethfreq","synonyms":["bpdethfreq"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>глубина модуляции</p>","name":"depth"}],"examples":["note(\\"<c c c# c c c4>*16\\").s(\\"sawtooth\\").lpf(600).bpdepthfrequency(\\"<200 500 100 0>\\")"],"longname":"bpdepthfrequency","kind":"member","scope":"global"},{"comment":"/**\\n * Форма LFO для bandpass filter\\n *\\n * @name bpshape\\n * @param {number | Pattern} shape Форма lfo (0, 1, 2, ..)\\n */","meta":{"filename":"controls.mjs","lineno":1555,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Форма LFO для bandpass filter</p>","name":"bpshape","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Форма lfo (0, 1, 2, ..)</p>","name":"shape"}],"longname":"bpshape","kind":"member","scope":"global"},{"comment":"/**\\n * DC смещение LFO для bandpass filter\\n *\\n * @name bpdc\\n * @param {number | Pattern} dcoffset dc смещение. установите 0 для unipolar\\n */","meta":{"filename":"controls.mjs","lineno":1563,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>DC смещение LFO для bandpass filter</p>","name":"bpdc","params":[{"type":{"names":["number","Pattern"]},"description":"<p>dc смещение. установите 0 для unipolar</p>","name":"dcoffset"}],"longname":"bpdc","kind":"member","scope":"global"},{"comment":"/**\\n * Искривление LFO для bandpass filter\\n *\\n * @name bpskew\\n * @param {number | Pattern} skew Насколько изгибать форму LFO\\n */","meta":{"filename":"controls.mjs","lineno":1571,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Искривление LFO для bandpass filter</p>","name":"bpskew","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Насколько изгибать форму LFO</p>","name":"skew"}],"longname":"bpskew","kind":"member","scope":"global"},{"comment":"/**\\n * Частота LFO для highpass filter\\n *\\n * @name hprate\\n * @param {number | Pattern} rate частота в герцах\\n */","meta":{"filename":"controls.mjs","lineno":1579,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Частота LFO для highpass filter</p>","name":"hprate","params":[{"type":{"names":["number","Pattern"]},"description":"<p>частота в герцах</p>","name":"rate"}],"longname":"hprate","kind":"member","scope":"global"},{"comment":"/**\\n * Синхронизированная с циклом частота LFO для highpass filter\\n *\\n * @name hpsync\\n * @param {number | Pattern} rate частота в циклах\\n */","meta":{"filename":"controls.mjs","lineno":1587,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Синхронизированная с циклом частота LFO для highpass filter</p>","name":"hpsync","params":[{"type":{"names":["number","Pattern"]},"description":"<p>частота в циклах</p>","name":"rate"}],"longname":"hpsync","kind":"member","scope":"global"},{"comment":"/**\\n * Глубина LFO для highpass filter\\n *\\n * @name hpdepth\\n * @param {number | Pattern} depth глубина модуляции\\n */","meta":{"filename":"controls.mjs","lineno":1595,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Глубина LFO для highpass filter</p>","name":"hpdepth","params":[{"type":{"names":["number","Pattern"]},"description":"<p>глубина модуляции</p>","name":"depth"}],"longname":"hpdepth","kind":"member","scope":"global"},{"comment":"/**\\n * Глубина LFO для highpass filter, в Гц\\n *\\n * @name hpdepthfrequency\\n * @synonyms\\n * hpdethfreq\\n * @param {number | Pattern} depth глубина модуляции\\n * @example\\n * note(\\"<c c c# c c c4>*16\\").s(\\"sawtooth\\").lpf(600).hpdepthfrequency(\\"<200 500 100 0>\\")\\n */","meta":{"filename":"controls.mjs","lineno":1603,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Глубина LFO для highpass filter, в Гц</p>","name":"hpdepthfrequency","synonyms_text":"hpdethfreq","synonyms":["hpdethfreq"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>глубина модуляции</p>","name":"depth"}],"examples":["note(\\"<c c c# c c c4>*16\\").s(\\"sawtooth\\").lpf(600).hpdepthfrequency(\\"<200 500 100 0>\\")"],"longname":"hpdepthfrequency","kind":"member","scope":"global"},{"comment":"/**\\n * Форма LFO для highpass filter\\n *\\n * @name hpshape\\n * @param {number | Pattern} shape Форма lfo (0, 1, 2, ..)\\n */","meta":{"filename":"controls.mjs","lineno":1616,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Форма LFO для highpass filter</p>","name":"hpshape","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Форма lfo (0, 1, 2, ..)</p>","name":"shape"}],"longname":"hpshape","kind":"member","scope":"global"},{"comment":"/**\\n * DC смещение LFO для highpass filter\\n *\\n * @name hpdc\\n * @param {number | Pattern} dcoffset dc смещение. установите 0 для unipolar\\n */","meta":{"filename":"controls.mjs","lineno":1624,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>DC смещение LFO для highpass filter</p>","name":"hpdc","params":[{"type":{"names":["number","Pattern"]},"description":"<p>dc смещение. установите 0 для unipolar</p>","name":"dcoffset"}],"longname":"hpdc","kind":"member","scope":"global"},{"comment":"/**\\n * Искривление LFO для highpass filter\\n *\\n * @name hpskew\\n * @param {number | Pattern} skew Насколько изгибать форму LFO\\n */","meta":{"filename":"controls.mjs","lineno":1632,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Искривление LFO для highpass filter</p>","name":"hpskew","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Насколько изгибать форму LFO</p>","name":"skew"}],"longname":"hpskew","kind":"member","scope":"global"},{"comment":"/**\\n * Применяет vibrato к частоте oscillator.\\n *\\n * @name vib\\n * @synonyms vibrato, v\\n * @param {number | Pattern} frequency частота vibrato в герцах\\n * @example\\n * note(\\"a e\\")\\n * .vib(\\"<.5 1 2 4 8 16>\\")\\n * ._scope()\\n * @example\\n * // изменить глубину модуляции с помощью \\":\\"\\n * note(\\"a e\\")\\n * .vib(\\"<.5 1 2 4 8 16>:12\\")\\n * ._scope()\\n */","meta":{"filename":"controls.mjs","lineno":1640,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Применяет vibrato к частоте oscillator.</p>","name":"vib","synonyms_text":"vibrato, v","synonyms":["vibrato","v"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>частота vibrato в герцах</p>","name":"frequency"}],"examples":["note(\\"a e\\")\\n.vib(\\"<.5 1 2 4 8 16>\\")\\n._scope()","// изменить глубину модуляции с помощью \\":\\"\\nnote(\\"a e\\")\\n.vib(\\"<.5 1 2 4 8 16>:12\\")\\n._scope()"],"longname":"vib","kind":"member","scope":"global"},{"comment":"/**\\n * Добавляет розовый шум в микс\\n *\\n * @name noise\\n * @param {number | Pattern} wet количество wet\\n * @example\\n * sound(\\"<white pink brown>/2\\")\\n */","meta":{"filename":"controls.mjs","lineno":1657,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Добавляет розовый шум в микс</p>","name":"noise","params":[{"type":{"names":["number","Pattern"]},"description":"<p>количество wet</p>","name":"wet"}],"examples":["sound(\\"<white pink brown>/2\\")"],"longname":"noise","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает глубину vibrato в полутонах. Имеет эффект только если \`vibrato\` | \`vib\` | \`v\` также установлен\\n *\\n * @name vibmod\\n * @synonyms vmod\\n * @param {number | Pattern} depth глубина vibrato (в полутонах)\\n * @example\\n * note(\\"a e\\").vib(4)\\n * .vibmod(\\"<.25 .5 1 2 12>\\")\\n * ._scope()\\n * @example\\n * // изменить частоту vibrato с помощью \\":\\"\\n * note(\\"a e\\")\\n * .vibmod(\\"<.25 .5 1 2 12>:8\\")\\n * ._scope()\\n */","meta":{"filename":"controls.mjs","lineno":1666,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает глубину vibrato в полутонах. Имеет эффект только если <code>vibrato</code> | <code>vib</code> | <code>v</code> также установлен</p>","name":"vibmod","synonyms_text":"vmod","synonyms":["vmod"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>глубина vibrato (в полутонах)</p>","name":"depth"}],"examples":["note(\\"a e\\").vib(4)\\n.vibmod(\\"<.25 .5 1 2 12>\\")\\n._scope()","// изменить частоту vibrato с помощью \\":\\"\\nnote(\\"a e\\")\\n.vibmod(\\"<.25 .5 1 2 12>:8\\")\\n._scope()"],"longname":"vibmod","kind":"member","scope":"global"},{"comment":"/**\\n * Управляет **h**igh-**p**ass **q**-значением.\\n *\\n * @name hpq\\n * @param {number | Pattern} q фактор резонанса от 0 до 50\\n * @synonyms hresonance\\n * @example\\n * s(\\"bd sd [~ bd] sd,hh*8\\").hpf(2000).hpq(\\"<0 10 20 30>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1684,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Управляет <strong>h</strong>igh-<strong>p</strong>ass <strong>q</strong>-значением.</p>","name":"hpq","params":[{"type":{"names":["number","Pattern"]},"description":"<p>фактор резонанса от 0 до 50</p>","name":"q"}],"synonyms_text":"hresonance","synonyms":["hresonance"],"examples":["s(\\"bd sd [~ bd] sd,hh*8\\").hpf(2000).hpq(\\"<0 10 20 30>\\")"],"longname":"hpq","kind":"member","scope":"global"},{"comment":"/**\\n * Управляет **l**ow-**p**ass **q**-значением.\\n *\\n * @name lpq\\n * @param {number | Pattern} q фактор резонанса от 0 до 50\\n * @synonyms resonance\\n * @example\\n * s(\\"bd sd [~ bd] sd,hh*8\\").lpf(2000).lpq(\\"<0 10 20 30>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1695,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Управляет <strong>l</strong>ow-<strong>p</strong>ass <strong>q</strong>-значением.</p>","name":"lpq","params":[{"type":{"names":["number","Pattern"]},"description":"<p>фактор резонанса от 0 до 50</p>","name":"q"}],"synonyms_text":"resonance","synonyms":["resonance"],"examples":["s(\\"bd sd [~ bd] sd,hh*8\\").lpf(2000).lpq(\\"<0 10 20 30>\\")"],"longname":"lpq","kind":"member","scope":"global"},{"comment":"/**\\n * DJ filter, ниже 0.5 это low pass filter, выше это high pass filter.\\n *\\n * @name djf\\n * @param {number | Pattern} cutoff ниже 0.5 это low pass filter, выше это high pass filter\\n * @example\\n * n(irand(16).seg(8)).scale(\\"d:phrygian\\").s(\\"supersaw\\").djf(\\"<.5 .3 .2 .75>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1707,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>DJ filter, ниже 0.5 это low pass filter, выше это high pass filter.</p>","name":"djf","params":[{"type":{"names":["number","Pattern"]},"description":"<p>ниже 0.5 это low pass filter, выше это high pass filter</p>","name":"cutoff"}],"examples":["n(irand(16).seg(8)).scale(\\"d:phrygian\\").s(\\"supersaw\\").djf(\\"<.5 .3 .2 .75>\\")"],"longname":"djf","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает уровень сигнала delay.\\n *\\n * При использовании mininotation можно также опционально добавить параметры 'delaytime' и 'delayfeedback',\\n * разделённые ':'.\\n *\\n *\\n * @name delay\\n * @param {number | Pattern} level от 0 до 1\\n * @example\\n * s(\\"bd bd\\").delay(\\"<0 .25 .5 1>\\")\\n * @example\\n * s(\\"bd bd\\").delay(\\"0.65:0.25:0.9 0.65:0.125:0.7\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1719,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает уровень сигнала delay.</p>\\n<p>При использовании mininotation можно также опционально добавить параметры 'delaytime' и 'delayfeedback',\\nразделённые ':'.</p>","name":"delay","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1</p>","name":"level"}],"examples":["s(\\"bd bd\\").delay(\\"<0 .25 .5 1>\\")","s(\\"bd bd\\").delay(\\"0.65:0.25:0.9 0.65:0.125:0.7\\")"],"longname":"delay","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает уровень сигнала, который возвращается обратно в delay.\\n * Внимание: Значения >= 1 приведут к тому, что сигнал будет становиться всё громче и громче! Не делайте этого\\n *\\n * @name delayfeedback\\n * @param {number | Pattern} feedback от 0 до 1\\n * @synonyms delayfb, dfb\\n * @example\\n * s(\\"bd\\").delay(.25).delayfeedback(\\"<.25 .5 .75 1>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1735,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает уровень сигнала, который возвращается обратно в delay.\\nВнимание: Значения &gt;= 1 приведут к тому, что сигнал будет становиться всё громче и громче! Не делайте этого</p>","name":"delayfeedback","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1</p>","name":"feedback"}],"synonyms_text":"delayfb, dfb","synonyms":["delayfb","dfb"],"examples":["s(\\"bd\\").delay(.25).delayfeedback(\\"<.25 .5 .75 1>\\")"],"longname":"delayfeedback","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает уровень сигнала, который возвращается обратно в delay.\\n * Осторожно: Значения >= 1 приведут к сигналу, который становится всё громче и громче! Не делайте этого\\n *\\n * @name delayfeedback\\n * @param {number | Pattern} feedback от 0 до 1\\n * @synonyms delayfb, dfb\\n * @example\\n * s(\\"bd\\").delay(.25).delayfeedback(\\"<.25 .5 .75 1>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1748,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает уровень сигнала, который возвращается обратно в delay.\\nОсторожно: Значения &gt;= 1 приведут к сигналу, который становится всё громче и громче! Не делайте этого</p>","name":"delayfeedback","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1</p>","name":"feedback"}],"synonyms_text":"delayfb, dfb","synonyms":["delayfb","dfb"],"examples":["s(\\"bd\\").delay(.25).delayfeedback(\\"<.25 .5 .75 1>\\")"],"longname":"delayfeedback","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает время эффекта delay.\\n *\\n * @name delayspeed\\n * @param {number | Pattern} delayspeed контролирует высоту тона delay feedback\\n * @synonyms delayt, dt\\n * @example\\n * note(\\"d d a# a\\".fast(2)).s(\\"sawtooth\\").delay(.8).delaytime(1/2).delayspeed(\\"<2 .5 -1 -2>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1760,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает время эффекта delay.</p>","name":"delayspeed","params":[{"type":{"names":["number","Pattern"]},"description":"<p>контролирует высоту тона delay feedback</p>","name":"delayspeed"}],"synonyms_text":"delayt, dt","synonyms":["delayt","dt"],"examples":["note(\\"d d a# a\\".fast(2)).s(\\"sawtooth\\").delay(.8).delaytime(1/2).delayspeed(\\"<2 .5 -1 -2>\\")"],"longname":"delayspeed","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает время эффекта delay в циклах.\\n *\\n * @name delaysync\\n * @param {number | Pattern} cycles длина delay в циклах\\n * @synonyms delayt, dt\\n * @example\\n * s(\\"bd bd\\").delay(.25).delaysync(\\"<1 2 3 5>\\".div(8))\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1772,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает время эффекта delay в циклах.</p>","name":"delaysync","params":[{"type":{"names":["number","Pattern"]},"description":"<p>длина delay в циклах</p>","name":"cycles"}],"synonyms_text":"delayt, dt","synonyms":["delayt","dt"],"examples":["s(\\"bd bd\\").delay(.25).delaysync(\\"<1 2 3 5>\\".div(8))"],"longname":"delaysync","kind":"member","scope":"global"},{"comment":"/**\\n * Указывает, рассчитывается ли delaytime относительно cps.\\n *\\n * @name lock\\n * @param {number | Pattern} enable Когда установлено в 1, delaytime является прямым кратным цикла.\\n * @superdirtOnly\\n * @example\\n * s(\\"sd\\").delay().lock(1).osc()\\n *\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1784,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Указывает, рассчитывается ли delaytime относительно cps.</p>","name":"lock","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Когда установлено в 1, delaytime является прямым кратным цикла.</p>","name":"enable"}],"tags":[{"originalTitle":"superdirtOnly","title":"superdirtonly","text":""}],"examples":["s(\\"sd\\").delay().lock(1).osc()"],"longname":"lock","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает детюн для наложенных голосов поддерживаемых oscillator\\n *\\n * @name detune\\n * @param {number | Pattern} amount\\n * @synonyms det\\n * @example\\n * note(\\"d f a a# a d3\\").fast(2).s(\\"supersaw\\").detune(\\"<.1 .2 .5 24.1>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1797,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает детюн для наложенных голосов поддерживаемых oscillator</p>","name":"detune","params":[{"type":{"names":["number","Pattern"]},"name":"amount"}],"synonyms_text":"det","synonyms":["det"],"examples":["note(\\"d f a a# a d3\\").fast(2).s(\\"supersaw\\").detune(\\"<.1 .2 .5 24.1>\\")"],"longname":"detune","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает количество наложенных голосов для поддерживаемых oscillator\\n *\\n * @name unison\\n * @param {number | Pattern} numvoices\\n * @example\\n * note(\\"d f a a# a d3\\").fast(2).s(\\"supersaw\\").unison(\\"<1 2 7>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1808,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает количество наложенных голосов для поддерживаемых oscillator</p>","name":"unison","params":[{"type":{"names":["number","Pattern"]},"name":"numvoices"}],"examples":["note(\\"d f a a# a d3\\").fast(2).s(\\"supersaw\\").unison(\\"<1 2 7>\\")"],"longname":"unison","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает stereo pan spread для поддерживаемых oscillator\\n *\\n * @name spread\\n * @param {number | Pattern} spread от 0 до 1\\n * @example\\n * note(\\"d f a a# a d3\\").fast(2).s(\\"supersaw\\").spread(\\"<0 .3 1>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1819,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает stereo pan spread для поддерживаемых oscillator</p>","name":"spread","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1</p>","name":"spread"}],"examples":["note(\\"d f a a# a d3\\").fast(2).s(\\"supersaw\\").spread(\\"<0 .3 1>\\")"],"longname":"spread","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает сухость reverb. Смотрите \`room\` и \`size\` для дополнительной информации о reverb.\\n *\\n * @name dry\\n * @param {number | Pattern} dry 0 = wet, 1 = dry\\n * @example\\n * n(\\"[0,3,7](3,8)\\").s(\\"superpiano\\").room(.7).dry(\\"<0 .5 .75 1>\\").osc()\\n * @superdirtOnly\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1829,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает сухость reverb. Смотрите <code>room</code> и <code>size</code> для дополнительной информации о reverb.</p>","name":"dry","params":[{"type":{"names":["number","Pattern"]},"description":"<p>0 = wet, 1 = dry</p>","name":"dry"}],"examples":["n(\\"[0,3,7](3,8)\\").s(\\"superpiano\\").room(.7).dry(\\"<0 .5 .75 1>\\").osc()"],"tags":[{"originalTitle":"superdirtOnly","title":"superdirtonly","text":""}],"longname":"dry","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает частоту звука.\\n *\\n * @name freq\\n * @param {number | Pattern} frequency в Гц. Слышимый диапазон от 20 до 20000 Гц\\n * @example\\n * freq(\\"220 110 440 110\\").s(\\"superzow\\").osc()\\n * @example\\n * freq(\\"110\\".mul.out(\\".5 1.5 .6 [2 3]\\")).s(\\"superzow\\").osc()\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1854,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает частоту звука.</p>","name":"freq","params":[{"type":{"names":["number","Pattern"]},"description":"<p>в Гц. Слышимый диапазон от 20 до 20000 Гц</p>","name":"frequency"}],"examples":["freq(\\"220 110 440 110\\").s(\\"superzow\\").osc()","freq(\\"110\\".mul.out(\\".5 1.5 .6 [2 3]\\")).s(\\"superzow\\").osc()"],"longname":"freq","kind":"member","scope":"global"},{"comment":"/**\\n * Время attack для pitch envelope.\\n *\\n * @name pattack\\n * @synonyms patt\\n * @param {number | Pattern} time время в секундах\\n * @example\\n * note(\\"c eb g bb\\").pattack(\\"0 .1 .25 .5\\").slow(2)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1867,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время attack для pitch envelope.</p>","name":"pattack","synonyms_text":"patt","synonyms":["patt"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>время в секундах</p>","name":"time"}],"examples":["note(\\"c eb g bb\\").pattack(\\"0 .1 .25 .5\\").slow(2)"],"longname":"pattack","kind":"member","scope":"global"},{"comment":"/**\\n * Время decay для pitch envelope.\\n *\\n * @name pdecay\\n * @synonyms pdec\\n * @param {number | Pattern} time время в секундах\\n * @example\\n * note(\\"<c eb g bb>\\").pdecay(\\"<0 .1 .25 .5>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1878,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время decay для pitch envelope.</p>","name":"pdecay","synonyms_text":"pdec","synonyms":["pdec"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>время в секундах</p>","name":"time"}],"examples":["note(\\"<c eb g bb>\\").pdecay(\\"<0 .1 .25 .5>\\")"],"longname":"pdecay","kind":"member","scope":"global"},{"comment":"/**\\n * Время release для pitch envelope\\n *\\n * @name prelease\\n * @synonyms prel\\n * @param {number | Pattern} time время в секундах\\n * @example\\n * note(\\"<c eb g bb> ~\\")\\n * .release(.5) // чтобы услышать pitch release\\n * .prelease(\\"<0 .1 .25 .5>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1891,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время release для pitch envelope</p>","name":"prelease","synonyms_text":"prel","synonyms":["prel"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>время в секундах</p>","name":"time"}],"examples":["note(\\"<c eb g bb> ~\\")\\n.release(.5) // чтобы услышать pitch release\\n.prelease(\\"<0 .1 .25 .5>\\")"],"longname":"prelease","kind":"member","scope":"global"},{"comment":"/**\\n * Величина pitch envelope. Отрицательные значения переворачивают envelope.\\n * Если вы не установите другие параметры pitch envelope, \`pattack:.2\` будет значением по умолчанию.\\n *\\n * @name penv\\n * @param {number | Pattern} semitones изменение в полутонах\\n * @example\\n * note(\\"c\\")\\n * .penv(\\"<12 7 1 .5 0 -1 -7 -12>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1904,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Величина pitch envelope. Отрицательные значения переворачивают envelope.\\nЕсли вы не установите другие параметры pitch envelope, <code>pattack:.2</code> будет значением по умолчанию.</p>","name":"penv","params":[{"type":{"names":["number","Pattern"]},"description":"<p>изменение в полутонах</p>","name":"semitones"}],"examples":["note(\\"c\\")\\n.penv(\\"<12 7 1 .5 0 -1 -7 -12>\\")"],"longname":"penv","kind":"member","scope":"global"},{"comment":"/**\\n * Кривая envelope. По умолчанию линейная. exponential хорошо подходит для kicks\\n *\\n * @name pcurve\\n * @param {number | Pattern} type 0 = linear, 1 = exponential\\n * @example\\n * note(\\"g1*4\\")\\n * .s(\\"sine\\").pdec(.5)\\n * .penv(32)\\n * .pcurve(\\"<0 1>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1916,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Кривая envelope. По умолчанию линейная. exponential хорошо подходит для kicks</p>","name":"pcurve","params":[{"type":{"names":["number","Pattern"]},"description":"<p>0 = linear, 1 = exponential</p>","name":"type"}],"examples":["note(\\"g1*4\\")\\n.s(\\"sine\\").pdec(.5)\\n.penv(32)\\n.pcurve(\\"<0 1>\\")"],"longname":"pcurve","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает опорную точку диапазона envelope:\\n * - anchor 0: range = [note, note + penv]\\n * - anchor 1: range = [note - penv, note]\\n * Если не установить anchor, значение по умолчанию будет равно значению psustain.\\n *\\n * @name panchor\\n * @param {number | Pattern} anchor смещение опорной точки\\n * @example\\n * note(\\"c c4\\").penv(12).panchor(\\"<0 .5 1 .5>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1929,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает опорную точку диапазона envelope:</p>\\n<ul>\\n<li>anchor 0: range = [note, note + penv]</li>\\n<li>anchor 1: range = [note - penv, note]\\nЕсли не установить anchor, значение по умолчанию будет равно значению psustain.</li>\\n</ul>","name":"panchor","params":[{"type":{"names":["number","Pattern"]},"description":"<p>смещение опорной точки</p>","name":"anchor"}],"examples":["note(\\"c c4\\").penv(12).panchor(\\"<0 .5 1 .5>\\")"],"longname":"panchor","kind":"member","scope":"global"},{"comment":"/**\\n * Эмуляция Leslie speaker: вращающиеся динамики в деревянном усиленном корпусе.\\n *\\n * @name leslie\\n * @param {number | Pattern} wet от 0 до 1\\n * @example\\n * n(\\"0,4,7\\").s(\\"supersquare\\").leslie(\\"<0 .4 .6 1>\\").osc()\\n * @superdirtOnly\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1953,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Эмуляция Leslie speaker: вращающиеся динамики в деревянном усиленном корпусе.</p>","name":"leslie","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1</p>","name":"wet"}],"examples":["n(\\"0,4,7\\").s(\\"supersquare\\").leslie(\\"<0 .4 .6 1>\\").osc()"],"tags":[{"originalTitle":"superdirtOnly","title":"superdirtonly","text":""}],"longname":"leslie","kind":"member","scope":"global"},{"comment":"/**\\n * Скорость модуляции / вращения для leslie эффекта\\n *\\n * @name lrate\\n * @param {number | Pattern} rate 6.7 для быстрого, 0.7 для медленного\\n * @example\\n * n(\\"0,4,7\\").s(\\"supersquare\\").leslie(1).lrate(\\"<1 2 4 8>\\").osc()\\n * @superdirtOnly\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1964,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Скорость модуляции / вращения для leslie эффекта</p>","name":"lrate","params":[{"type":{"names":["number","Pattern"]},"description":"<p>6.7 для быстрого, 0.7 для медленного</p>","name":"rate"}],"examples":["n(\\"0,4,7\\").s(\\"supersquare\\").leslie(1).lrate(\\"<1 2 4 8>\\").osc()"],"tags":[{"originalTitle":"superdirtOnly","title":"superdirtonly","text":""}],"longname":"lrate","kind":"member","scope":"global"},{"comment":"/**\\n * Физический размер корпуса в метрах. Будьте осторожны, он может быть немного больше вашего компьютера. Влияет на величину эффекта Doppler (колебание высоты тона)\\n *\\n * @name lsize\\n * @param {number | Pattern} meters где-то между 0 и 1\\n * @example\\n * n(\\"0,4,7\\").s(\\"supersquare\\").leslie(1).lrate(2).lsize(\\"<.1 .5 1>\\").osc()\\n * @superdirtOnly\\n *\\n */","meta":{"filename":"controls.mjs","lineno":1976,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Физический размер корпуса в метрах. Будьте осторожны, он может быть немного больше вашего компьютера. Влияет на величину эффекта Doppler (колебание высоты тона)</p>","name":"lsize","params":[{"type":{"names":["number","Pattern"]},"description":"<p>где-то между 0 и 1</p>","name":"meters"}],"examples":["n(\\"0,4,7\\").s(\\"supersquare\\").leslie(1).lrate(2).lsize(\\"<.1 .5 1>\\").osc()"],"tags":[{"originalTitle":"superdirtOnly","title":"superdirtonly","text":""}],"longname":"lsize","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает отображаемый текст для события на pianoroll\\n *\\n * @name label\\n * @param {string} label текст для отображения\\n */","meta":{"filename":"controls.mjs","lineno":1987,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает отображаемый текст для события на pianoroll</p>","name":"label","params":[{"type":{"names":["string"]},"description":"<p>текст для отображения</p>","name":"label"}],"longname":"label","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает октаву по умолчанию для synth.\\n *\\n * @name octave\\n * @synonyms oct\\n * @param {number | Pattern} octave номер октавы\\n * @example\\n * n(\\"0,4,7\\").scale(\\"F:minor\\").s('supersaw').octave(\\"<0 1 2 3>\\")\\n */","meta":{"filename":"controls.mjs","lineno":2023,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает октаву по умолчанию для synth.</p>","name":"octave","synonyms_text":"oct","synonyms":["oct"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>номер октавы</p>","name":"octave"}],"examples":["n(\\"0,4,7\\").scale(\\"F:minor\\").s('supersaw').octave(\\"<0 1 2 3>\\")"],"longname":"octave","kind":"member","scope":"global"},{"comment":"/**\\n * \`orbit\` это глобальный параметрический контекст для pattern. Pattern с одним и тем же orbit будут использовать одни и те же глобальные эффекты.\\n *\\n * @name orbit\\n * @synonyms o\\n * @param {number | Pattern} number\\n * @example\\n * stack(\\n *   s(\\"hh*6\\").delay(.5).delaytime(.25).orbit(1),\\n *   s(\\"~ sd ~ sd\\").delay(.5).delaytime(.125).orbit(2)\\n * )\\n */","meta":{"filename":"controls.mjs","lineno":2036,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p><code>orbit</code> это глобальный параметрический контекст для pattern. Pattern с одним и тем же orbit будут использовать одни и те же глобальные эффекты.</p>","name":"orbit","synonyms_text":"o","synonyms":["o"],"params":[{"type":{"names":["number","Pattern"]},"name":"number"}],"examples":["stack(\\n  s(\\"hh*6\\").delay(.5).delaytime(.25).orbit(1),\\n  s(\\"~ sd ~ sd\\").delay(.5).delaytime(.125).orbit(2)\\n)"],"longname":"orbit","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает позицию в stereo.\\n *\\n * @name pan\\n * @param {number | Pattern} pan от 0 до 1, слева направо (для stereo), один круг (для многоканальности)\\n * @example\\n * s(\\"[bd hh]*2\\").pan(\\"<.5 1 .5 0>\\")\\n * @example\\n * s(\\"bd rim sd rim bd ~ cp rim\\").pan(sine.slow(2))\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2053,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает позицию в stereo.</p>","name":"pan","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1, слева направо (для stereo), один круг (для многоканальности)</p>","name":"pan"}],"examples":["s(\\"[bd hh]*2\\").pan(\\"<.5 1 .5 0>\\")","s(\\"bd rim sd rim bd ~ cp rim\\").pan(sine.slow(2))"],"longname":"pan","kind":"member","scope":"global"},{"comment":"/**\\n * Аккорд для озвучивания\\n * @name chord\\n * @param {string | Pattern} symbols символы аккорда для озвучивания, например, C, Eb, Fm7, G7. Символы можно определить через addVoicings\\n * @example\\n * chord(\\"<Am C D F Am E Am E>\\").voicing()\\n **/","meta":{"filename":"controls.mjs","lineno":2103,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Аккорд для озвучивания</p>","name":"chord","params":[{"type":{"names":["string","Pattern"]},"description":"<p>символы аккорда для озвучивания, например, C, Eb, Fm7, G7. Символы можно определить через addVoicings</p>","name":"symbols"}],"examples":["chord(\\"<Am C D F Am E Am E>\\").voicing()"],"longname":"chord","kind":"member","scope":"global"},{"comment":"/**\\n * Какой словарь использовать для озвучивания. По умолчанию используется стандартный словарь, если не указан\\n *\\n * @name dictionary\\n * @param {string} dictionaryName какой словарь (определённый через \`addVoicings\`) использовать\\n * @example\\n * addVoicings('house', {\\n'': ['7 12 16', '0 7 16', '4 7 12'],\\n'm': ['0 3 7']\\n})\\nchord(\\"<Am C D F Am E Am E>\\")\\n.dict('house').anchor(66)\\n.voicing().room(.5)\\n **/","meta":{"filename":"controls.mjs","lineno":2111,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Какой словарь использовать для озвучивания. По умолчанию используется стандартный словарь, если не указан</p>","name":"dictionary","params":[{"type":{"names":["string"]},"description":"<p>какой словарь (определённый через <code>addVoicings</code>) использовать</p>","name":"dictionaryName"}],"examples":["addVoicings('house', {\\n'': ['7 12 16', '0 7 16', '4 7 12'],\\n'm': ['0 3 7']\\n})\\nchord(\\"<Am C D F Am E Am E>\\")\\n.dict('house').anchor(66)\\n.voicing().room(.5)"],"longname":"dictionary","kind":"member","scope":"global"},{"comment":"/** Верхняя нота для выравнивания озвучивания. По умолчанию c5\\n *\\n * @name anchor\\n * @param {string | Pattern} anchorNote нота для выравнивания озвучивания\\n * @example\\n * anchor(\\"<c4 g4 c5 g5>\\").chord(\\"C\\").voicing()\\n **/","meta":{"filename":"controls.mjs","lineno":2126,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Верхняя нота для выравнивания озвучивания. По умолчанию c5</p>","name":"anchor","params":[{"type":{"names":["string","Pattern"]},"description":"<p>нота для выравнивания озвучивания</p>","name":"anchorNote"}],"examples":["anchor(\\"<c4 g4 c5 g5>\\").chord(\\"C\\").voicing()"],"longname":"anchor","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает смещение озвучивания от закреплённой позиции\\n *\\n * @name offset\\n * @param {number | Pattern} shift величина смещения озвучивания вверх или вниз\\n * @example\\n * chord(\\"<Am C D F Am E Am E>\\").offset(\\"<0 1 2 3 4 5>\\") // изменить озвучивание каждый раз\\n **/","meta":{"filename":"controls.mjs","lineno":2134,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает смещение озвучивания от закреплённой позиции</p>","name":"offset","params":[{"type":{"names":["number","Pattern"]},"description":"<p>величина смещения озвучивания вверх или вниз</p>","name":"shift"}],"examples":["chord(\\"<Am C D F Am E Am E>\\").offset(\\"<0 1 2 3 4 5>\\") // изменить озвучивание каждый раз"],"longname":"offset","kind":"member","scope":"global"},{"comment":"/**\\n *  Сколько октав между шагами озвучивания, по умолчанию 1\\n *\\n *  @name octaves\\n *  @param {number | Pattern} count количество октав\\n *  @example\\n *  chord(\\"<Am C D F Am E Am E>\\").octaves(\\"<2 4>\\").voicing()\\n **/","meta":{"filename":"controls.mjs","lineno":2143,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Сколько октав между шагами озвучивания, по умолчанию 1</p>","name":"octaves","params":[{"type":{"names":["number","Pattern"]},"description":"<p>количество октав</p>","name":"count"}],"examples":["chord(\\"<Am C D F Am E Am E>\\").octaves(\\"<2 4>\\").voicing()"],"longname":"octaves","kind":"member","scope":"global"},{"comment":"/**\\n * Убрать опорную ноту из озвучивания. Полезно для гармонизации мелодии\\n *\\n * @name mode\\n * @param {string | Pattern} modeName один из {below | above | duck | root}\\n * @example\\n * mode(\\"<below above duck root>\\").chord(\\"C\\").voicing()\\n *\\n **/","meta":{"filename":"controls.mjs","lineno":2152,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Убрать опорную ноту из озвучивания. Полезно для гармонизации мелодии</p>","name":"mode","params":[{"type":{"names":["string","Pattern"]},"description":"<p>один из {below | above | duck | root}</p>","name":"modeName"}],"examples":["mode(\\"<below above duck root>\\").chord(\\"C\\").voicing()"],"longname":"mode","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает уровень reverb.\\n *\\n * При использовании mininotation можно также опционально добавить параметр 'size', разделённый ':'.\\n *\\n * @name room\\n * @param {number | Pattern} level от 0 до 1\\n * @example\\n * s(\\"bd sd [~ bd] sd\\").room(\\"<0 .2 .4 .6 .8 1>\\")\\n * @example\\n * s(\\"bd sd [~ bd] sd\\").room(\\"<0.9:1 0.9:4>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2163,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает уровень reverb.</p>\\n<p>При использовании mininotation можно также опционально добавить параметр 'size', разделённый ':'.</p>","name":"room","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1</p>","name":"level"}],"examples":["s(\\"bd sd [~ bd] sd\\").room(\\"<0 .2 .4 .6 .8 1>\\")","s(\\"bd sd [~ bd] sd\\").room(\\"<0.9:1 0.9:4>\\")"],"longname":"room","kind":"member","scope":"global"},{"comment":"/**\\n * Начальная частота lowpass reverb (в герцах).\\n * При изменении этого свойства reverb будет пересчитан, поэтому изменяйте его редко..\\n *\\n * @name roomlp\\n * @synonyms rlp\\n * @param {number} frequency от 0 до 20000 Гц\\n * @example\\n * s(\\"bd sd [~ bd] sd\\").room(0.5).rlp(10000)\\n * @example\\n * s(\\"bd sd [~ bd] sd\\").room(0.5).rlp(5000)\\n */","meta":{"filename":"controls.mjs","lineno":2177,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Начальная частота lowpass reverb (в герцах).\\nПри изменении этого свойства reverb будет пересчитан, поэтому изменяйте его редко..</p>","name":"roomlp","synonyms_text":"rlp","synonyms":["rlp"],"params":[{"type":{"names":["number"]},"description":"<p>от 0 до 20000 Гц</p>","name":"frequency"}],"examples":["s(\\"bd sd [~ bd] sd\\").room(0.5).rlp(10000)","s(\\"bd sd [~ bd] sd\\").room(0.5).rlp(5000)"],"longname":"roomlp","kind":"member","scope":"global"},{"comment":"/**\\n * Частота lowpass reverb на -60dB (в герцах).\\n * При изменении этого свойства reverb будет пересчитан, поэтому изменяйте его редко..\\n *\\n * @name roomdim\\n * @synonyms rdim\\n * @param {number} frequency от 0 до 20000 Гц\\n * @example\\n * s(\\"bd sd [~ bd] sd\\").room(0.5).rlp(10000).rdim(8000)\\n * @example\\n * s(\\"bd sd [~ bd] sd\\").room(0.5).rlp(5000).rdim(400)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2190,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Частота lowpass reverb на -60dB (в герцах).\\nПри изменении этого свойства reverb будет пересчитан, поэтому изменяйте его редко..</p>","name":"roomdim","synonyms_text":"rdim","synonyms":["rdim"],"params":[{"type":{"names":["number"]},"description":"<p>от 0 до 20000 Гц</p>","name":"frequency"}],"examples":["s(\\"bd sd [~ bd] sd\\").room(0.5).rlp(10000).rdim(8000)","s(\\"bd sd [~ bd] sd\\").room(0.5).rlp(5000).rdim(400)"],"longname":"roomdim","kind":"member","scope":"global"},{"comment":"/**\\n * Время затухания reverb (в секундах).\\n * При изменении этого свойства reverb будет пересчитан, поэтому изменяйте его редко..\\n *\\n * @name roomfade\\n * @synonyms rfade\\n * @param {number} seconds секунды затухания reverb\\n * @example\\n * s(\\"bd sd [~ bd] sd\\").room(0.5).rlp(10000).rfade(0.5)\\n * @example\\n * s(\\"bd sd [~ bd] sd\\").room(0.5).rlp(5000).rfade(4)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2204,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Время затухания reverb (в секундах).\\nПри изменении этого свойства reverb будет пересчитан, поэтому изменяйте его редко..</p>","name":"roomfade","synonyms_text":"rfade","synonyms":["rfade"],"params":[{"type":{"names":["number"]},"description":"<p>секунды затухания reverb</p>","name":"seconds"}],"examples":["s(\\"bd sd [~ bd] sd\\").room(0.5).rlp(10000).rfade(0.5)","s(\\"bd sd [~ bd] sd\\").room(0.5).rlp(5000).rfade(4)"],"longname":"roomfade","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает sample для использования в качестве импульсной характеристики для reverb.\\n * @name iresponse\\n * @param {string | Pattern} sample для использования в качестве импульсной характеристики\\n * @synonyms ir\\n * @example\\n * s(\\"bd sd [~ bd] sd\\").room(.8).ir(\\"<shaker_large:0 shaker_large:2>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2218,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает sample для использования в качестве импульсной характеристики для reverb.</p>","name":"iresponse","params":[{"type":{"names":["string","Pattern"]},"description":"<p>для использования в качестве импульсной характеристики</p>","name":"sample"}],"synonyms_text":"ir","synonyms":["ir"],"examples":["s(\\"bd sd [~ bd] sd\\").room(.8).ir(\\"<shaker_large:0 shaker_large:2>\\")"],"longname":"iresponse","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает скорость sample для импульсной характеристики.\\n * @name irspeed\\n * @param {string | Pattern} speed\\n * @example\\n * samples('github:switchangel/pad')\\n * $: s(\\"brk/2\\").fit().scrub(irand(16).div(16).seg(8)).ir(\\"swpad:4\\").room(.2).irspeed(\\"<2 1 .5>/2\\").irbegin(.5).roomsize(.5)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2229,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает скорость sample для импульсной характеристики.</p>","name":"irspeed","params":[{"type":{"names":["string","Pattern"]},"name":"speed"}],"examples":["samples('github:switchangel/pad')\\n$: s(\\"brk/2\\").fit().scrub(irand(16).div(16).seg(8)).ir(\\"swpad:4\\").room(.2).irspeed(\\"<2 1 .5>/2\\").irbegin(.5).roomsize(.5)"],"longname":"irspeed","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает начальную позицию sample импульсной характеристики\\n * @name irbegin\\n * @param {string | Pattern} begin от 0 до 1\\n * @synonyms ir\\n * @example\\n * samples('github:switchangel/pad')\\n * $: s(\\"brk/2\\").fit().scrub(irand(16).div(16).seg(8)).ir(\\"swpad:4\\").room(.65).irspeed(\\"-2\\").irbegin(\\"<0 .5 .75>/2\\").roomsize(.6)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2240,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает начальную позицию sample импульсной характеристики</p>","name":"irbegin","params":[{"type":{"names":["string","Pattern"]},"description":"<p>от 0 до 1</p>","name":"begin"}],"synonyms_text":"ir","synonyms":["ir"],"examples":["samples('github:switchangel/pad')\\n$: s(\\"brk/2\\").fit().scrub(irand(16).div(16).seg(8)).ir(\\"swpad:4\\").room(.65).irspeed(\\"-2\\").irbegin(\\"<0 .5 .75>/2\\").roomsize(.6)"],"longname":"irbegin","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает размер комнаты для reverb, смотрите \`room\`.\\n * При изменении этого свойства reverb будет пересчитан, поэтому изменяйте его редко..\\n *\\n * @name roomsize\\n * @param {number | Pattern} size от 0 до 10\\n * @synonyms rsize, sz, size\\n * @example\\n * s(\\"bd sd [~ bd] sd\\").room(.8).rsize(1)\\n * @example\\n * s(\\"bd sd [~ bd] sd\\").room(.8).rsize(4)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2251,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает размер комнаты для reverb, смотрите <code>room</code>.\\nПри изменении этого свойства reverb будет пересчитан, поэтому изменяйте его редко..</p>","name":"roomsize","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 10</p>","name":"size"}],"synonyms_text":"rsize, sz, size","synonyms":["rsize","sz","size"],"examples":["s(\\"bd sd [~ bd] sd\\").room(.8).rsize(1)","s(\\"bd sd [~ bd] sd\\").room(.8).rsize(4)"],"longname":"roomsize","kind":"member","scope":"global"},{"comment":"/**\\n * (Устаревший) Дисторшн с формированием волны. ВНИМАНИЕ: может внезапно стать непредсказуемо громким.\\n * Пожалуйста, используйте distort вместо этого, который имеет более предсказуемую кривую отклика\\n * второй параметр в опциональном синтаксисе массива (например: \\".9:.5\\") применяет postgain к выходу\\n *\\n *\\n * @name shape\\n * @param {number | Pattern} distortion от 0 до 1\\n * @example\\n * s(\\"bd sd [~ bd] sd,hh*8\\").shape(\\"<0 .2 .4 .6 .8>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2272,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>(Устаревший) Дисторшн с формированием волны. ВНИМАНИЕ: может внезапно стать непредсказуемо громким.\\nПожалуйста, используйте distort вместо этого, который имеет более предсказуемую кривую отклика\\nвторой параметр в опциональном синтаксисе массива (например: &quot;.9:.5&quot;) применяет postgain к выходу</p>","name":"shape","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до 1</p>","name":"distortion"}],"examples":["s(\\"bd sd [~ bd] sd,hh*8\\").shape(\\"<0 .2 .4 .6 .8>\\")"],"longname":"shape","kind":"member","scope":"global"},{"comment":"/**\\n * Дисторшн с формированием волны. ВНИМАНИЕ: может быть очень громким.\\n * Второй параметр в опциональном синтаксисе массива (например: \\".9:.5\\") применяет postgain к выходу. Третий параметр устанавливает тип формирования волны.\\n * Наиболее полезные значения обычно между 0 и 10 (в зависимости от исходного gain). Если чувствуете себя смелым, можете увеличить до 11 и выше ;)\\n *\\n * @name distort\\n * @synonyms dist\\n * @param {number | Pattern} distortion количество дисторшна для применения\\n * @param {number | Pattern} volume линейный postgain дисторшна\\n * @param {number | string | Pattern} type тип дисторшна для применения\\n * @example\\n * s(\\"bd sd [~ bd] sd,hh*8\\").distort(\\"<0 2 3 10:.5>\\")\\n * @example\\n * note(\\"d1!8\\").s(\\"sine\\").penv(36).pdecay(.12).decay(.23).distort(\\"8:.4\\")\\n * @example\\n * s(\\"bd:4*4\\").bank(\\"tr808\\").distort(\\"3:0.5:diode\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2285,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Дисторшн с формированием волны. ВНИМАНИЕ: может быть очень громким.\\nВторой параметр в опциональном синтаксисе массива (например: &quot;.9:.5&quot;) применяет postgain к выходу. Третий параметр устанавливает тип формирования волны.\\nНаиболее полезные значения обычно между 0 и 10 (в зависимости от исходного gain). Если чувствуете себя смелым, можете увеличить до 11 и выше ;)</p>","name":"distort","synonyms_text":"dist","synonyms":["dist"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>количество дисторшна для применения</p>","name":"distortion"},{"type":{"names":["number","Pattern"]},"description":"<p>линейный postgain дисторшна</p>","name":"volume"},{"type":{"names":["number","string","Pattern"]},"description":"<p>тип дисторшна для применения</p>","name":"type"}],"examples":["s(\\"bd sd [~ bd] sd,hh*8\\").distort(\\"<0 2 3 10:.5>\\")","note(\\"d1!8\\").s(\\"sine\\").penv(36).pdecay(.12).decay(.23).distort(\\"8:.4\\")","s(\\"bd:4*4\\").bank(\\"tr808\\").distort(\\"3:0.5:diode\\")"],"longname":"distort","kind":"member","scope":"global"},{"comment":"/**\\n * Postgain для дисторшна с формированием волны.\\n *\\n * @name distortvol\\n * @synonyms distvol\\n * @param {number | Pattern} volume линейный postgain дисторшна\\n * @example\\n * s(\\"bd*4\\").bank(\\"tr909\\").distort(2).distortvol(0.8)\\n */","meta":{"filename":"controls.mjs","lineno":2305,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Postgain для дисторшна с формированием волны.</p>","name":"distortvol","synonyms_text":"distvol","synonyms":["distvol"],"params":[{"type":{"names":["number","Pattern"]},"description":"<p>линейный postgain дисторшна</p>","name":"volume"}],"examples":["s(\\"bd*4\\").bank(\\"tr909\\").distort(2).distortvol(0.8)"],"longname":"distortvol","kind":"member","scope":"global"},{"comment":"/**\\n * Тип дисторшна с формированием волны для применения.\\n *\\n * @name distorttype\\n * @synonyms disttype\\n * @param {number | string | Pattern} type тип дисторшна для применения\\n * @example\\n * s(\\"bd*4\\").bank(\\"tr909\\").distort(2).distorttype(\\"<0 1 2>\\")\\n *\\n * @example\\n * s(\\"sine\\").note(\\"F1*2\\").release(1)\\n *   .penv(24).pdecay(0.05)\\n *   .distort(rand.range(1, 8))\\n *   .distorttype(\\"<fold chebyshev scurve diode asym sinefold>\\")\\n */","meta":{"filename":"controls.mjs","lineno":2316,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Тип дисторшна с формированием волны для применения.</p>","name":"distorttype","synonyms_text":"disttype","synonyms":["disttype"],"params":[{"type":{"names":["number","string","Pattern"]},"description":"<p>тип дисторшна для применения</p>","name":"type"}],"examples":["s(\\"bd*4\\").bank(\\"tr909\\").distort(2).distorttype(\\"<0 1 2>\\")","s(\\"sine\\").note(\\"F1*2\\").release(1)\\n  .penv(24).pdecay(0.05)\\n  .distort(rand.range(1, 8))\\n  .distorttype(\\"<fold chebyshev scurve diode asym sinefold>\\")"],"longname":"distorttype","kind":"member","scope":"global"},{"comment":"/**\\n * Динамический компрессор. Параметры: \`compressor(\\"threshold:ratio:knee:attack:release\\")\`\\n * Больше информации [здесь](https://developer.mozilla.org/en-US/docs/Web/API/DynamicsCompressorNode?retiredLocale=de#instance_properties)\\n *\\n * @name compressor\\n * @example\\n * s(\\"bd sd [~ bd] sd,hh*8\\")\\n * .compressor(\\"-20:20:10:.002:.02\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2333,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Динамический компрессор. Параметры: <code>compressor(&quot;threshold:ratio:knee:attack:release&quot;)</code>\\nБольше информации <a href=\\"https://developer.mozilla.org/en-US/docs/Web/API/DynamicsCompressorNode?retiredLocale=de#instance_properties\\">здесь</a></p>","name":"compressor","examples":["s(\\"bd sd [~ bd] sd,hh*8\\")\\n.compressor(\\"-20:20:10:.002:.02\\")"],"longname":"compressor","kind":"member","scope":"global"},{"comment":"/**\\n * Изменяет скорость воспроизведения sample, т.е. дешёвый способ изменить высоту тона.\\n *\\n * @name speed\\n * @param {number | Pattern} speed от -inf до inf, отрицательные числа воспроизводят sample в обратном направлении.\\n * @example\\n * s(\\"bd*6\\").speed(\\"1 2 4 1 -2 -4\\")\\n * @example\\n * speed(\\"1 1.5*2 [2 1.1]\\").s(\\"piano\\").clip(1)\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2354,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Изменяет скорость воспроизведения sample, т.е. дешёвый способ изменить высоту тона.</p>","name":"speed","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от -inf до inf, отрицательные числа воспроизводят sample в обратном направлении.</p>","name":"speed"}],"examples":["s(\\"bd*6\\").speed(\\"1 2 4 1 -2 -4\\")","speed(\\"1 1.5*2 [2 1.1]\\").s(\\"piano\\").clip(1)"],"longname":"speed","kind":"member","scope":"global"},{"comment":"/**\\n * Изменяет скорость воспроизведения sample, т.е. дешёвый способ изменить высоту тона.\\n *\\n * @name stretch\\n * @param {number | Pattern} factor от -inf до inf, отрицательные числа воспроизводят sample в обратном направлении.\\n * @example\\n * s(\\"gm_flute\\").stretch(\\"1 2 .5\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2367,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Изменяет скорость воспроизведения sample, т.е. дешёвый способ изменить высоту тона.</p>","name":"stretch","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от -inf до inf, отрицательные числа воспроизводят sample в обратном направлении.</p>","name":"factor"}],"examples":["s(\\"gm_flute\\").stretch(\\"1 2 .5\\")"],"longname":"stretch","kind":"member","scope":"global"},{"comment":"/**\\n * Используется в сочетании с \`speed\`, принимает значения \\"r\\" (rate, поведение по умолчанию), \\"c\\" (cycles), или \\"s\\" (seconds). Использование \`unit \\"c\\"\` означает, что \`speed\` будет интерпретироваться в единицах циклов, например, \`speed \\"1\\"\` означает, что sample будет растянут на весь цикл. Использование \`unit \\"s\\"\` означает, что скорость воспроизведения будет настроена так, чтобы длительность была равна количеству секунд, указанному в \`speed\`.\\n *\\n * @name unit\\n * @param {number | string | Pattern} unit смотрите описание выше\\n * @example\\n * speed(\\"1 2 .5 3\\").s(\\"bd\\").unit(\\"c\\").osc()\\n * @superdirtOnly\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2377,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Используется в сочетании с <code>speed</code>, принимает значения &quot;r&quot; (rate, поведение по умолчанию), &quot;c&quot; (cycles), или &quot;s&quot; (seconds). Использование <code>unit &quot;c&quot;</code> означает, что <code>speed</code> будет интерпретироваться в единицах циклов, например, <code>speed &quot;1&quot;</code> означает, что sample будет растянут на весь цикл. Использование <code>unit &quot;s&quot;</code> означает, что скорость воспроизведения будет настроена так, чтобы длительность была равна количеству секунд, указанному в <code>speed</code>.</p>","name":"unit","params":[{"type":{"names":["number","string","Pattern"]},"description":"<p>смотрите описание выше</p>","name":"unit"}],"examples":["speed(\\"1 2 .5 3\\").s(\\"bd\\").unit(\\"c\\").osc()"],"tags":[{"originalTitle":"superdirtOnly","title":"superdirtonly","text":""}],"longname":"unit","kind":"member","scope":"global"},{"comment":"/**\\n * Создан Calum Gunn. Напоминает странную смесь filter, ring-modulator и pitch-shifter. Руководство SuperCollider определяет Squiz как:\\n *\\n * \\"Упрощённый алгоритм повышения высоты тона. Он не предназначен для естественного звучания; его звук напоминает странную смесь filter, ring-modulator и pitch-shifter, в зависимости от входного сигнала. Алгоритм работает, разрезая сигнал на фрагменты (разделённые восходящими пересечениями нуля) и сжимая эти фрагменты во временной области (т.е. просто воспроизводя их быстрее, чем они поступили), оставляя паузы между ними. Все параметры, кроме memlen, могут модулироваться.\\"\\n *\\n * @name squiz\\n * @param {number | Pattern} squiz Попробуйте передавать кратные 2 - 2, 4, 8 и т.д.\\n * @example\\n * squiz(\\"2 4/2 6 [8 16]\\").s(\\"bd\\").osc()\\n * @superdirtOnly\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2389,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Создан Calum Gunn. Напоминает странную смесь filter, ring-modulator и pitch-shifter. Руководство SuperCollider определяет Squiz как:</p>\\n<p>&quot;Упрощённый алгоритм повышения высоты тона. Он не предназначен для естественного звучания; его звук напоминает странную смесь filter, ring-modulator и pitch-shifter, в зависимости от входного сигнала. Алгоритм работает, разрезая сигнал на фрагменты (разделённые восходящими пересечениями нуля) и сжимая эти фрагменты во временной области (т.е. просто воспроизводя их быстрее, чем они поступили), оставляя паузы между ними. Все параметры, кроме memlen, могут модулироваться.&quot;</p>","name":"squiz","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Попробуйте передавать кратные 2 - 2, 4, 8 и т.д.</p>","name":"squiz"}],"examples":["squiz(\\"2 4/2 6 [8 16]\\").s(\\"bd\\").osc()"],"tags":[{"originalTitle":"superdirtOnly","title":"superdirtonly","text":""}],"longname":"squiz","kind":"member","scope":"global"},{"comment":"/**\\n *\\n * Формантный filter, чтобы звук был похож на гласные.\\n *\\n * @name vowel\\n * @param {string | Pattern} vowel Можно использовать a e i o u ae aa oe ue y uh un en an on, соответствующие [a] [e] [i] [o] [u] [æ] [ɑ] [ø] [y] [ɯ] [ʌ] [œ̃] [ɛ̃] [ɑ̃] [ɔ̃]. Алиасы: aa = å = ɑ, oe = ø = ö, y = ı, ae = æ.\\n * @example\\n * note(\\"[c2 <eb2 <g2 g1>>]*2\\").s('sawtooth')\\n * .vowel(\\"<a e i <o u>>\\")\\n * @example\\n * s(\\"bd sd mt ht bd [~ cp] ht lt\\").vowel(\\"[a|e|i|o|u]\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2414,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Формантный filter, чтобы звук был похож на гласные.</p>","name":"vowel","params":[{"type":{"names":["string","Pattern"]},"description":"<p>Можно использовать a e i o u ae aa oe ue y uh un en an on, соответствующие [a] [e] [i] [o] [u] [æ] [ɑ] [ø] [y] [ɯ] [ʌ] [œ̃] [ɛ̃] [ɑ̃] [ɔ̃]. Алиасы: aa = å = ɑ, oe = ø = ö, y = ı, ae = æ.</p>","name":"vowel"}],"examples":["note(\\"[c2 <eb2 <g2 g1>>]*2\\").s('sawtooth')\\n.vowel(\\"<a e i <o u>>\\")","s(\\"bd sd mt ht bd [~ cp] ht lt\\").vowel(\\"[a|e|i|o|u]\\")"],"longname":"vowel","kind":"member","scope":"global"},{"comment":"/**\\n * Плотность шума crackle\\n *\\n * @name density\\n * @param {number | Pattern} density от 0 до x\\n * @example\\n * s(\\"crackle*4\\").density(\\"<0.01 0.04 0.2 0.5>\\".slow(4))\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2439,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Плотность шума crackle</p>","name":"density","params":[{"type":{"names":["number","Pattern"]},"description":"<p>от 0 до x</p>","name":"density"}],"examples":["s(\\"crackle*4\\").density(\\"<0.01 0.04 0.2 0.5>\\".slow(4))"],"longname":"density","kind":"member","scope":"global"},{"comment":"/**\\n * Умножает длительность на заданное число. Также обрезает sample в конце, если они превышают длительность.\\n *\\n * @name clip\\n * @synonyms legato\\n * @param {number | Pattern} factor >= 0\\n * @example\\n * note(\\"c a f e\\").s(\\"piano\\").clip(\\"<.5 1 2>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2488,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Умножает длительность на заданное число. Также обрезает sample в конце, если они превышают длительность.</p>","name":"clip","synonyms_text":"legato","synonyms":["legato"],"params":[{"type":{"names":["number","Pattern"]},"description":"<blockquote>\\n<p>= 0</p>\\n</blockquote>","name":"factor"}],"examples":["note(\\"c a f e\\").s(\\"piano\\").clip(\\"<.5 1 2>\\")"],"longname":"clip","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает длительность события в циклах. Аналогично clip / legato, также обрезает sample в конце, если они превышают длительность.\\n *\\n * @name duration\\n * @synonyms dur\\n * @param {number | Pattern} seconds >= 0\\n * @example\\n * note(\\"c a f e\\").s(\\"piano\\").dur(\\"<.5 1 2>\\")\\n *\\n */","meta":{"filename":"controls.mjs","lineno":2500,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает длительность события в циклах. Аналогично clip / legato, также обрезает sample в конце, если они превышают длительность.</p>","name":"duration","synonyms_text":"dur","synonyms":["dur"],"params":[{"type":{"names":["number","Pattern"]},"description":"<blockquote>\\n<p>= 0</p>\\n</blockquote>","name":"seconds"}],"examples":["note(\\"c a f e\\").s(\\"piano\\").dur(\\"<.5 1 2>\\")"],"longname":"duration","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает цвет hap в визуализациях, таких как pianoroll или подсветка.\\n * @name color\\n * @synonyms colour\\n * @param {string} color Шестнадцатеричное значение или название цвета CSS\\n */","meta":{"filename":"controls.mjs","lineno":2529,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает цвет hap в визуализациях, таких как pianoroll или подсветка.</p>","name":"color","synonyms_text":"colour","synonyms":["colour"],"params":[{"type":{"names":["string"]},"description":"<p>Шестнадцатеричное значение или название цвета CSS</p>","name":"color"}],"longname":"color","kind":"member","scope":"global"},{"comment":"/**\\n * ADSR envelope: Комбинация Attack, Decay, Sustain и Release.\\n *\\n * @name adsr\\n * @param {number | Pattern} time время attack в секундах\\n * @param {number | Pattern} time время decay в секундах\\n * @param {number | Pattern} gain уровень sustain (от 0 до 1)\\n * @param {number | Pattern} time время release в секундах\\n * @example\\n * note(\\"[c3 bb2 f3 eb3]*2\\").sound(\\"sawtooth\\").lpf(600).adsr(\\".1:.1:.5:.2\\")\\n */","meta":{"filename":"controls.mjs","lineno":2542,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>ADSR envelope: Комбинация Attack, Decay, Sustain и Release.</p>","name":"adsr","params":[{"type":{"names":["number","Pattern"]},"description":"<p>время attack в секундах</p>","name":"time"},{"type":{"names":["number","Pattern"]},"description":"<p>время decay в секундах</p>","name":"time"},{"type":{"names":["number","Pattern"]},"description":"<p>уровень sustain (от 0 до 1)</p>","name":"gain"},{"type":{"names":["number","Pattern"]},"description":"<p>время release в секундах</p>","name":"time"}],"examples":["note(\\"[c3 bb2 f3 eb3]*2\\").sound(\\"sawtooth\\").lpf(600).adsr(\\".1:.1:.5:.2\\")"],"longname":"adsr","kind":"member","scope":"global"},{"comment":"/**\\n * MIDI канал: Устанавливает MIDI канал для события.\\n *\\n * @name midichan\\n * @param {number | Pattern} channel номер MIDI канала (0-15)\\n * @example\\n * note(\\"c4\\").midichan(1).midi()\\n */","meta":{"filename":"controls.mjs","lineno":2576,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>MIDI канал: Устанавливает MIDI канал для события.</p>","name":"midichan","params":[{"type":{"names":["number","Pattern"]},"description":"<p>номер MIDI канала (0-15)</p>","name":"channel"}],"examples":["note(\\"c4\\").midichan(1).midi()"],"longname":"midichan","kind":"member","scope":"global"},{"comment":"/**\\n * MIDI порт: Устанавливает MIDI порт для события.\\n *\\n * @name midiport\\n * @param {number | Pattern} port MIDI порт\\n * @example\\n * note(\\"c a f e\\").midiport(\\"<0 1 2 3>\\").midi()\\n */","meta":{"filename":"controls.mjs","lineno":2588,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>MIDI порт: Устанавливает MIDI порт для события.</p>","name":"midiport","params":[{"type":{"names":["number","Pattern"]},"description":"<p>MIDI порт</p>","name":"port"}],"examples":["note(\\"c a f e\\").midiport(\\"<0 1 2 3>\\").midi()"],"longname":"midiport","kind":"member","scope":"global"},{"comment":"/**\\n * MIDI команда: Отправляет сообщение MIDI команды.\\n *\\n * @name midicmd\\n * @param {number | Pattern} command MIDI команда\\n * @example\\n * midicmd(\\"clock*48,<start stop>/2\\").midi()\\n */","meta":{"filename":"controls.mjs","lineno":2598,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>MIDI команда: Отправляет сообщение MIDI команды.</p>","name":"midicmd","params":[{"type":{"names":["number","Pattern"]},"description":"<p>MIDI команда</p>","name":"command"}],"examples":["midicmd(\\"clock*48,<start stop>/2\\").midi()"],"longname":"midicmd","kind":"member","scope":"global"},{"comment":"/**\\n * MIDI контроллер: Отправляет сообщение изменения MIDI контроллера.\\n *\\n * @name control\\n * @param {number | Pattern}  номер MIDI контроллера (0-127)\\n * @param {number | Pattern}  значение MIDI контроллера (0-127)\\n */","meta":{"filename":"controls.mjs","lineno":2608,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>MIDI контроллер: Отправляет сообщение изменения MIDI контроллера.</p>","name":"control","params":[{"type":{"names":["number","Pattern"]},"description":"<p>MIDI контроллера (0-127)</p>","name":"номер"},{"type":{"names":["number","Pattern"]},"description":"<p>MIDI контроллера (0-127)</p>","name":"значение"}],"longname":"control","kind":"member","scope":"global"},{"comment":"/**\\n * MIDI номер контроллера: Отправляет сообщение изменения MIDI контроллера.\\n *\\n * @name ccn\\n * @param {number | Pattern}  номер MIDI контроллера (0-127)\\n */","meta":{"filename":"controls.mjs","lineno":2623,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>MIDI номер контроллера: Отправляет сообщение изменения MIDI контроллера.</p>","name":"ccn","params":[{"type":{"names":["number","Pattern"]},"description":"<p>MIDI контроллера (0-127)</p>","name":"номер"}],"longname":"ccn","kind":"member","scope":"global"},{"comment":"/**\\n * MIDI значение контроллера: Отправляет сообщение изменения MIDI контроллера.\\n *\\n * @name ccv\\n * @param {number | Pattern}  значение MIDI контроллера (0-127)\\n */","meta":{"filename":"controls.mjs","lineno":2630,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>MIDI значение контроллера: Отправляет сообщение изменения MIDI контроллера.</p>","name":"ccv","params":[{"type":{"names":["number","Pattern"]},"description":"<p>MIDI контроллера (0-127)</p>","name":"значение"}],"longname":"ccv","kind":"member","scope":"global"},{"comment":"/**\\n * MIDI NRPN номер нерегистрированного параметра: Отправляет сообщение MIDI NRPN номера нерегистрированного параметра.\\n * @name nrpnn\\n * @param {number | Pattern} nrpnn MIDI NRPN номер нерегистрированного параметра (0-127)\\n * @example\\n * note(\\"c4\\").nrpnn(\\"1:8\\").nrpv(\\"123\\").midichan(1).midi()\\n */","meta":{"filename":"controls.mjs","lineno":2640,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>MIDI NRPN номер нерегистрированного параметра: Отправляет сообщение MIDI NRPN номера нерегистрированного параметра.</p>","name":"nrpnn","params":[{"type":{"names":["number","Pattern"]},"description":"<p>MIDI NRPN номер нерегистрированного параметра (0-127)</p>","name":"nrpnn"}],"examples":["note(\\"c4\\").nrpnn(\\"1:8\\").nrpv(\\"123\\").midichan(1).midi()"],"longname":"nrpnn","kind":"member","scope":"global"},{"comment":"/**\\n * MIDI NRPN значение нерегистрированного параметра: Отправляет сообщение MIDI NRPN значения нерегистрированного параметра.\\n * @name nrpv\\n * @param {number | Pattern} nrpv MIDI NRPN значение нерегистрированного параметра (0-127)\\n * @example\\n * note(\\"c4\\").nrpnn(\\"1:8\\").nrpv(\\"123\\").midichan(1).midi()\\n */","meta":{"filename":"controls.mjs","lineno":2648,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>MIDI NRPN значение нерегистрированного параметра: Отправляет сообщение MIDI NRPN значения нерегистрированного параметра.</p>","name":"nrpv","params":[{"type":{"names":["number","Pattern"]},"description":"<p>MIDI NRPN значение нерегистрированного параметра (0-127)</p>","name":"nrpv"}],"examples":["note(\\"c4\\").nrpnn(\\"1:8\\").nrpv(\\"123\\").midichan(1).midi()"],"longname":"nrpv","kind":"member","scope":"global"},{"comment":"/**\\n * MIDI номер программы: Отправляет сообщение изменения MIDI программы.\\n *\\n * @name progNum\\n * @param {number | Pattern} program номер MIDI программы (0-127)\\n * @example\\n * note(\\"c4\\").progNum(10).midichan(1).midi()\\n */","meta":{"filename":"controls.mjs","lineno":2657,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>MIDI номер программы: Отправляет сообщение изменения MIDI программы.</p>","name":"progNum","params":[{"type":{"names":["number","Pattern"]},"description":"<p>номер MIDI программы (0-127)</p>","name":"program"}],"examples":["note(\\"c4\\").progNum(10).midichan(1).midi()"],"longname":"progNum","kind":"member","scope":"global"},{"comment":"/**\\n * MIDI sysex: Отправляет сообщение MIDI sysex.\\n * @name sysex\\n * @param {number | Pattern} id Sysex ID\\n * @param {number | Pattern} data Sysex данные\\n * @example\\n * note(\\"c4\\").sysex([\\"0x77\\", \\"0x01:0x02:0x03:0x04\\"]).midichan(1).midi()\\n */","meta":{"filename":"controls.mjs","lineno":2667,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>MIDI sysex: Отправляет сообщение MIDI sysex.</p>","name":"sysex","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Sysex ID</p>","name":"id"},{"type":{"names":["number","Pattern"]},"description":"<p>Sysex данные</p>","name":"data"}],"examples":["note(\\"c4\\").sysex([\\"0x77\\", \\"0x01:0x02:0x03:0x04\\"]).midichan(1).midi()"],"longname":"sysex","kind":"member","scope":"global"},{"comment":"/**\\n * MIDI sysex ID: Отправляет сообщение идентификатора MIDI sysex.\\n * @name sysexid\\n * @param {number | Pattern} id Sysex ID\\n * @example\\n * note(\\"c4\\").sysexid(\\"0x77\\").sysexdata(\\"0x01:0x02:0x03:0x04\\").midichan(1).midi()\\n */","meta":{"filename":"controls.mjs","lineno":2682,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>MIDI sysex ID: Отправляет сообщение идентификатора MIDI sysex.</p>","name":"sysexid","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Sysex ID</p>","name":"id"}],"examples":["note(\\"c4\\").sysexid(\\"0x77\\").sysexdata(\\"0x01:0x02:0x03:0x04\\").midichan(1).midi()"],"longname":"sysexid","kind":"member","scope":"global"},{"comment":"/**\\n * MIDI sysex данные: Отправляет сообщение MIDI sysex.\\n * @name sysexdata\\n * @param {number | Pattern} data Sysex данные\\n * @example\\n * note(\\"c4\\").sysexid(\\"0x77\\").sysexdata(\\"0x01:0x02:0x03:0x04\\").midichan(1).midi()\\n */","meta":{"filename":"controls.mjs","lineno":2690,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>MIDI sysex данные: Отправляет сообщение MIDI sysex.</p>","name":"sysexdata","params":[{"type":{"names":["number","Pattern"]},"description":"<p>Sysex данные</p>","name":"data"}],"examples":["note(\\"c4\\").sysexid(\\"0x77\\").sysexdata(\\"0x01:0x02:0x03:0x04\\").midichan(1).midi()"],"longname":"sysexdata","kind":"member","scope":"global"},{"comment":"/**\\n * MIDI pitch bend: Отправляет сообщение MIDI pitch bend.\\n * @name midibend\\n * @param {number | Pattern} midibend MIDI pitch bend (-1 - 1)\\n * @example\\n * note(\\"c4\\").midibend(sine.slow(4).range(-0.4,0.4)).midi()\\n */","meta":{"filename":"controls.mjs","lineno":2699,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>MIDI pitch bend: Отправляет сообщение MIDI pitch bend.</p>","name":"midibend","params":[{"type":{"names":["number","Pattern"]},"description":"<p>MIDI pitch bend (-1 - 1)</p>","name":"midibend"}],"examples":["note(\\"c4\\").midibend(sine.slow(4).range(-0.4,0.4)).midi()"],"longname":"midibend","kind":"member","scope":"global"},{"comment":"/**\\n * MIDI key after touch: Отправляет сообщение MIDI key after touch.\\n * @name miditouch\\n * @param {number | Pattern} miditouch MIDI key after touch (0-1)\\n * @example\\n * note(\\"c4\\").miditouch(sine.slow(4).range(0,1)).midi()\\n */","meta":{"filename":"controls.mjs","lineno":2707,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>MIDI key after touch: Отправляет сообщение MIDI key after touch.</p>","name":"miditouch","params":[{"type":{"names":["number","Pattern"]},"description":"<p>MIDI key after touch (0-1)</p>","name":"miditouch"}],"examples":["note(\\"c4\\").miditouch(sine.slow(4).range(0,1)).midi()"],"longname":"miditouch","kind":"member","scope":"global"},{"comment":"/**\\n * Хост для отправки сообщений open sound control. Требует запущенный OSC bridge.\\n * @name oschost\\n * @param {string | Pattern} oschost например, 'localhost'\\n * @example\\n * note(\\"c4\\").oschost('127.0.0.1').oscport(57120).osc();\\n */","meta":{"filename":"controls.mjs","lineno":2719,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Хост для отправки сообщений open sound control. Требует запущенный OSC bridge.</p>","name":"oschost","params":[{"type":{"names":["string","Pattern"]},"description":"<p>например, 'localhost'</p>","name":"oschost"}],"examples":["note(\\"c4\\").oschost('127.0.0.1').oscport(57120).osc();"],"longname":"oschost","kind":"member","scope":"global"},{"comment":"/**\\n * Порт для отправки сообщений open sound control. Требует запущенный OSC bridge.\\n * @name oscport\\n * @param {number | Pattern} oscport например, 57120\\n * @example\\n * note(\\"c4\\").oschost('127.0.0.1').oscport(57120).osc();\\n */","meta":{"filename":"controls.mjs","lineno":2728,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Порт для отправки сообщений open sound control. Требует запущенный OSC bridge.</p>","name":"oscport","params":[{"type":{"names":["number","Pattern"]},"description":"<p>например, 57120</p>","name":"oscport"}],"examples":["note(\\"c4\\").oschost('127.0.0.1').oscport(57120).osc();"],"longname":"oscport","kind":"member","scope":"global"},{"comment":"/**\\n * Устанавливает свойства в пакетном режиме.\\n *\\n * @name as\\n * @param {String | Array} mapping названия контроллеров, которые устанавливаются\\n * @example\\n * \\"c:.5 a:1 f:.25 e:.8\\".as(\\"note:clip\\")\\n * @example\\n * \\"{0@2 0.25 0 0.5 .3 .5}%8\\".as(\\"begin\\").s(\\"sax_vib\\").clip(1)\\n */","meta":{"filename":"controls.mjs","lineno":2744,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устанавливает свойства в пакетном режиме.</p>","name":"as","params":[{"type":{"names":["String","Array"]},"description":"<p>названия контроллеров, которые устанавливаются</p>","name":"mapping"}],"examples":["\\"c:.5 a:1 f:.25 e:.8\\".as(\\"note:clip\\")","\\"{0@2 0.25 0 0.5 .3 .5}%8\\".as(\\"begin\\").s(\\"sax_vib\\").clip(1)"],"longname":"as","kind":"member","scope":"global"},{"comment":"/**\\n * Позволяет \\"скрабить\\" аудио файл, как ленточную петлю, передавая значения, представляющие позицию в аудио файле\\n * в опциональном синтаксисе массива, например: \\"0.5:2\\", второе значение контролирует скорость воспроизведения\\n * @name scrub\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * samples('github:switchangel/pad')\\n * s(\\"swpad:0\\").scrub(\\"{0.1!2 .25@3 0.7!2 <0.8:1.5>}%8\\")\\n * @example\\n * samples('github:yaxu/clean-breaks/main');\\n * s(\\"amen/4\\").fit().scrub(\\"{0@3 0@2 4@3}%8\\".div(16))\\n */","meta":{"filename":"controls.mjs","lineno":2763,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Позволяет &quot;скрабить&quot; аудио файл, как ленточную петлю, передавая значения, представляющие позицию в аудио файле\\nв опциональном синтаксисе массива, например: &quot;0.5:2&quot;, второе значение контролирует скорость воспроизведения</p>","name":"scrub","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["samples('github:switchangel/pad')\\ns(\\"swpad:0\\").scrub(\\"{0.1!2 .25@3 0.7!2 <0.8:1.5>}%8\\")","samples('github:yaxu/clean-breaks/main');\\ns(\\"amen/4\\").fit().scrub(\\"{0@3 0@2 4@3}%8\\".div(16))"],"scope":"static","longname":"Pattern.scrub","kind":"member"},{"comment":"/**\\n * Предназначена для отладки, drawLine рендерит pattern как строку, где каждый символ представляет одинаковый отрезок времени.\\n * Следует использовать только с одиночными символами в качестве значений, иначе символьные слоты будут испорчены.\\n * Легенда символов:\\n *\\n * - \\"|\\" разделитель cycle\\n * - \\"-\\" удержание предыдущего значения\\n * - \\".\\" silence\\n *\\n * @param {Pattern} pattern pattern для использования\\n * @param {number} chars максимальное количество символов (приблизительно)\\n * @returns string\\n * @example\\n * const line = drawLine(\\"0 [1 2 3]\\", 10); // |0--123|0--123\\n * console.log(line);\\n * silence;\\n */","meta":{"range":[1468,2838],"filename":"drawLine.mjs","lineno":26,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100022791","name":"drawLine","type":"FunctionDeclaration","paramnames":["pat","chars"]},"vars":{"cycle":"drawLine~cycle","pos":"drawLine~pos","lines":"drawLine~lines","emptyLine":"drawLine~emptyLine","haps":"drawLine~haps","durations":"drawLine~durations","":null,"charFraction":"drawLine~charFraction","totalSlots":"drawLine~totalSlots","i":"drawLine~i","undefined":null,"matches":"drawLine~matches","missingLines":"drawLine~missingLines"}},"description":"<p>Предназначена для отладки, drawLine рендерит pattern как строку, где каждый символ представляет одинаковый отрезок времени.\\nСледует использовать только с одиночными символами в качестве значений, иначе символьные слоты будут испорчены.\\nЛегенда символов:</p>\\n<ul>\\n<li>&quot;|&quot; разделитель cycle</li>\\n<li>&quot;-&quot; удержание предыдущего значения</li>\\n<li>&quot;.&quot; silence</li>\\n</ul>","params":[{"type":{"names":["Pattern"]},"description":"<p>pattern для использования</p>","name":"pattern"},{"type":{"names":["number"]},"description":"<p>максимальное количество символов (приблизительно)</p>","name":"chars"}],"returns":[{"description":"<p>string</p>"}],"examples":["const line = drawLine(\\"0 [1 2 3]\\", 10); // |0--123|0--123\\nconsole.log(line);\\nsilence;"],"name":"drawLine","longname":"drawLine","kind":"function","scope":"global"},{"comment":"/**\\n * Изменяет структуру pattern для формирования Евклидового ритма.\\n * Евклидовы ритмы - это ритмы, полученные с использованием наибольшего общего\\n * делителя двух чисел. Они были описаны в 2004 году канадским компьютерным\\n * ученым Годфридом Туссеном. Евклидовы ритмы очень полезны для компьютерной/\\n * алгоритмической музыки, потому что они могут описать большое количество ритмов\\n * с помощью пары чисел.\\n *\\n * @memberof Pattern\\n * @name euclid\\n * @param {number} pulses количество ударов/beats\\n * @param {number} steps количество шагов для заполнения\\n * @returns Pattern\\n * @example\\n * // Кубинский pattern tresillo.\\n * note(\\"c3\\").euclid(3,8)\\n */","meta":{"filename":"euclid.mjs","lineno":54,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Изменяет структуру pattern для формирования Евклидового ритма.\\nЕвклидовы ритмы - это ритмы, полученные с использованием наибольшего общего\\nделителя двух чисел. Они были описаны в 2004 году канадским компьютерным\\nученым Годфридом Туссеном. Евклидовы ритмы очень полезны для компьютерной/\\nалгоритмической музыки, потому что они могут описать большое количество ритмов\\nс помощью пары чисел.</p>","memberof":"Pattern","name":"euclid","params":[{"type":{"names":["number"]},"description":"<p>количество ударов/beats</p>","name":"pulses"},{"type":{"names":["number"]},"description":"<p>количество шагов для заполнения</p>","name":"steps"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["// Кубинский pattern tresillo.\\nnote(\\"c3\\").euclid(3,8)"],"scope":"static","longname":"Pattern.euclid","kind":"member"},{"comment":"/**\\n * Как \`euclid\`, но имеет дополнительный параметр для 'вращения' результирующей последовательности.\\n * @memberof Pattern\\n * @name euclidRot\\n * @param {number} pulses количество ударов/beats\\n * @param {number} steps количество шагов для заполнения\\n * @param {number} rotation смещение в шагах\\n * @returns Pattern\\n * @example\\n * // Бразильский ритм Самбы\\n * note(\\"c3\\").euclidRot(3,16,14)\\n */","meta":{"filename":"euclid.mjs","lineno":72,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Как <code>euclid</code>, но имеет дополнительный параметр для 'вращения' результирующей последовательности.</p>","memberof":"Pattern","name":"euclidRot","params":[{"type":{"names":["number"]},"description":"<p>количество ударов/beats</p>","name":"pulses"},{"type":{"names":["number"]},"description":"<p>количество шагов для заполнения</p>","name":"steps"},{"type":{"names":["number"]},"description":"<p>смещение в шагах</p>","name":"rotation"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["// Бразильский ритм Самбы\\nnote(\\"c3\\").euclidRot(3,16,14)"],"scope":"static","longname":"Pattern.euclidRot","kind":"member"},{"comment":"/**\\n * @example // Персидский ритм XIII века под названием Khafif-e-ramal.\\n * note(\\"c3\\").euclid(2,5)\\n * @example // Архетипический pattern Кумбии из Колумбии, а также ритм Калипсо из Тринидада.\\n * note(\\"c3\\").euclid(3,4)\\n * @example // Другой персидский ритм XIII века под названием Khafif-e-ramal, а также румынский народный танцевальный ритм.\\n * note(\\"c3\\").euclidRot(3,5,2)\\n * @example // Ритм Рученица, используемый в болгарском народном танце.\\n * note(\\"c3\\").euclid(3,7)\\n * @example // Кубинский pattern tresillo.\\n * note(\\"c3\\").euclid(3,8)\\n * @example // Другой болгарский народный танцевальный ритм Рученица.\\n * note(\\"c3\\").euclid(4,7)\\n * @example // Турецкий ритм Аксак.\\n * note(\\"c3\\").euclid(4,9)\\n * @example // Метрический pattern, использованный Фрэнком Заппой в его композиции Outside Now.\\n * note(\\"c3\\").euclid(4,11)\\n * @example // Дает pattern York-Samai, популярный арабский ритм.\\n * note(\\"c3\\").euclid(5,6)\\n * @example // Pattern Nawakhat, еще один популярный арабский ритм.\\n * note(\\"c3\\").euclid(5,7)\\n * @example // Кубинский pattern cinquillo.\\n * note(\\"c3\\").euclid(5,8)\\n * @example // Популярный арабский ритм под названием Agsag-Samai.\\n * note(\\"c3\\").euclid(5,9)\\n * @example // Метрический pattern, использованный Мусоргским в \\"Картинках с выставки\\".\\n * note(\\"c3\\").euclid(5,11)\\n * @example // Хлопающий pattern Венда из южноафриканской детской песни.\\n * note(\\"c3\\").euclid(5,12)\\n * @example // Бразильский ритм Bossa-Nova.\\n * note(\\"c3\\").euclid(5,16)\\n * @example // Типичный ритм, исполняемый на Бендире (рамочный барабан).\\n * note(\\"c3\\").euclid(7,8)\\n * @example // Распространенный западноафриканский колокольный pattern.\\n * note(\\"c3\\").euclid(7,12)\\n * @example // Бразильский ритм Самбы.\\n * note(\\"c3\\").euclidRot(7,16,14)\\n * @example // Ритм, используемый в Центральноафриканской Республике.\\n * note(\\"c3\\").euclid(9,16)\\n * @example // Ритм пигмеев Ака из Центральной Африки.\\n * note(\\"c3\\").euclidRot(11,24,14)\\n * @example // Другой ритм пигмеев Ака из верхнего Санга.\\n * note(\\"c3\\").euclidRot(13,24,5)\\n */","meta":{"range":[5288,5444],"filename":"euclid.mjs","lineno":130,"columnno":6,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100023296","name":"_euclidRot","type":"FunctionExpression"},"vars":{"b":"_euclidRot~b"}},"examples":["// Персидский ритм XIII века под названием Khafif-e-ramal.\\nnote(\\"c3\\").euclid(2,5)","// Архетипический pattern Кумбии из Колумбии, а также ритм Калипсо из Тринидада.\\nnote(\\"c3\\").euclid(3,4)","// Другой персидский ритм XIII века под названием Khafif-e-ramal, а также румынский народный танцевальный ритм.\\nnote(\\"c3\\").euclidRot(3,5,2)","// Ритм Рученица, используемый в болгарском народном танце.\\nnote(\\"c3\\").euclid(3,7)","// Кубинский pattern tresillo.\\nnote(\\"c3\\").euclid(3,8)","// Другой болгарский народный танцевальный ритм Рученица.\\nnote(\\"c3\\").euclid(4,7)","// Турецкий ритм Аксак.\\nnote(\\"c3\\").euclid(4,9)","// Метрический pattern, использованный Фрэнком Заппой в его композиции Outside Now.\\nnote(\\"c3\\").euclid(4,11)","// Дает pattern York-Samai, популярный арабский ритм.\\nnote(\\"c3\\").euclid(5,6)","// Pattern Nawakhat, еще один популярный арабский ритм.\\nnote(\\"c3\\").euclid(5,7)","// Кубинский pattern cinquillo.\\nnote(\\"c3\\").euclid(5,8)","// Популярный арабский ритм под названием Agsag-Samai.\\nnote(\\"c3\\").euclid(5,9)","// Метрический pattern, использованный Мусоргским в \\"Картинках с выставки\\".\\nnote(\\"c3\\").euclid(5,11)","// Хлопающий pattern Венда из южноафриканской детской песни.\\nnote(\\"c3\\").euclid(5,12)","// Бразильский ритм Bossa-Nova.\\nnote(\\"c3\\").euclid(5,16)","// Типичный ритм, исполняемый на Бендире (рамочный барабан).\\nnote(\\"c3\\").euclid(7,8)","// Распространенный западноафриканский колокольный pattern.\\nnote(\\"c3\\").euclid(7,12)","// Бразильский ритм Самбы.\\nnote(\\"c3\\").euclidRot(7,16,14)","// Ритм, используемый в Центральноафриканской Республике.\\nnote(\\"c3\\").euclid(9,16)","// Ритм пигмеев Ака из Центральной Африки.\\nnote(\\"c3\\").euclidRot(11,24,14)","// Другой ритм пигмеев Ака из верхнего Санга.\\nnote(\\"c3\\").euclidRot(13,24,5)"],"name":"_euclidRot","longname":"_euclidRot","kind":"function","scope":"global","params":[]},{"comment":"/**\\n * Похож на \`euclid\`, но каждый импульс удерживается до следующего импульса,\\n * поэтому пауз не будет.\\n * @name euclidLegato\\n * @memberof Pattern\\n * @param {number} pulses количество ударов/beats\\n * @param {number} steps количество шагов для заполнения\\n * @param rotation смещение в шагах\\n * @param pat\\n * @example\\n * note(\\"c3\\").euclidLegato(3,8)\\n */","meta":{"filename":"euclid.mjs","lineno":154,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Похож на <code>euclid</code>, но каждый импульс удерживается до следующего импульса,\\nпоэтому пауз не будет.</p>","name":"euclidLegato","memberof":"Pattern","params":[{"type":{"names":["number"]},"description":"<p>количество ударов/beats</p>","name":"pulses"},{"type":{"names":["number"]},"description":"<p>количество шагов для заполнения</p>","name":"steps"},{"description":"<p>смещение в шагах</p>","name":"rotation"},{"name":"pat"}],"examples":["note(\\"c3\\").euclidLegato(3,8)"],"scope":"static","longname":"Pattern.euclidLegato","kind":"member"},{"comment":"/**\\n * Похож на \`euclid\`, но каждый импульс удерживается до следующего импульса,\\n * поэтому пауз не будет, и имеет дополнительный параметр для 'вращения'\\n * результирующей последовательности\\n * @name euclidLegatoRot\\n * @memberof Pattern\\n * @param {number} pulses количество ударов/beats\\n * @param {number} steps количество шагов для заполнения\\n * @param {number} rotation смещение в шагах\\n * @example\\n * note(\\"c3\\").euclidLegatoRot(3,5,2)\\n */","meta":{"filename":"euclid.mjs","lineno":184,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Похож на <code>euclid</code>, но каждый импульс удерживается до следующего импульса,\\nпоэтому пауз не будет, и имеет дополнительный параметр для 'вращения'\\nрезультирующей последовательности</p>","name":"euclidLegatoRot","memberof":"Pattern","params":[{"type":{"names":["number"]},"description":"<p>количество ударов/beats</p>","name":"pulses"},{"type":{"names":["number"]},"description":"<p>количество шагов для заполнения</p>","name":"steps"},{"type":{"names":["number"]},"description":"<p>смещение в шагах</p>","name":"rotation"}],"examples":["note(\\"c3\\").euclidLegatoRot(3,5,2)"],"scope":"static","longname":"Pattern.euclidLegatoRot","kind":"member"},{"comment":"/**\\n * Вариант 'euclid' с дополнительным параметром, который морфирует результирующий\\n * ритм от 0 (без морфинга) до 1 (полностью 'ровный'). Например,\\n * \`sound(\\"bd\\").euclidish(3,8,0)\` будет таким же, как\\n * \`sound(\\"bd\\").euclid(3,8)\`, а \`sound(\\"bd\\").euclidish(3,8,1)\` будет таким же,\\n * как \`sound(\\"bd bd bd\\")\`. \`sound(\\"bd\\").euclidish(3,8,0.5)\` будет иметь\\n * groove где-то посередине.\\n * Вдохновлено работой Малкома Браффа.\\n * @name euclidish\\n * @synonyms eish\\n * @memberof Pattern\\n * @param {number} pulses количество ударов\\n * @param {number} steps количество шагов для заполнения\\n * @param {number} groove существует между крайностями 0 (строго евклидов) и 1 (строго импульсный)\\n * @example\\n * sound(\\"hh\\").euclidish(7,12,sine.slow(8))\\n * .pan(sine.slow(8))\\n */","meta":{"filename":"euclid.mjs","lineno":200,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Вариант 'euclid' с дополнительным параметром, который морфирует результирующий\\nритм от 0 (без морфинга) до 1 (полностью 'ровный'). Например,\\n<code>sound(&quot;bd&quot;).euclidish(3,8,0)</code> будет таким же, как\\n<code>sound(&quot;bd&quot;).euclid(3,8)</code>, а <code>sound(&quot;bd&quot;).euclidish(3,8,1)</code> будет таким же,\\nкак <code>sound(&quot;bd bd bd&quot;)</code>. <code>sound(&quot;bd&quot;).euclidish(3,8,0.5)</code> будет иметь\\ngroove где-то посередине.\\nВдохновлено работой Малкома Браффа.</p>","name":"euclidish","synonyms_text":"eish","synonyms":["eish"],"memberof":"Pattern","params":[{"type":{"names":["number"]},"description":"<p>количество ударов</p>","name":"pulses"},{"type":{"names":["number"]},"description":"<p>количество шагов для заполнения</p>","name":"steps"},{"type":{"names":["number"]},"description":"<p>существует между крайностями 0 (строго евклидов) и 1 (строго импульсный)</p>","name":"groove"}],"examples":["sound(\\"hh\\").euclidish(7,12,sine.slow(8))\\n.pan(sine.slow(8))"],"scope":"static","longname":"Pattern.euclidish","kind":"member"},{"comment":"/** @class Класс, представляющий pattern. */","meta":{"range":[1727,27984],"filename":"pattern.mjs","lineno":44,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100025903","name":"exports.Pattern","type":"ClassDeclaration"}},"name":"Pattern","longname":"Pattern","kind":"class","classdesc":"<p>Класс, представляющий pattern.</p>","scope":"global","description":"<p>Создаёт pattern. Как конечный пользователь, вы скорее всего не будете создавать Pattern напрямую.</p>","tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"memberof":"Pattern","params":[{"type":{"names":["function"]},"description":"<p>Функция, которая отображает <code>State</code> в массив <code>Hap</code>.</p>","name":"query"}]},{"comment":"/**\\n   * Возвращает новый pattern, где функция применена к значению\\n   * каждого hap. Имеет синоним \`fmap\`.\\n   * @synonyms fmap\\n   * @param {Function} func функция для применения к значению\\n   * @returns Pattern\\n   * @example\\n   * \\"0 1 2\\".withValue(v => v + 10).log()\\n   */","meta":{"range":[3046,3215],"filename":"pattern.mjs","lineno":93,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100026011","name":"Pattern#withValue","type":"MethodDefinition","paramnames":["func"]},"vars":{"":null}},"description":"<p>Возвращает новый pattern, где функция применена к значению\\nкаждого hap. Имеет синоним <code>fmap</code>.</p>","synonyms_text":"fmap","synonyms":["fmap"],"params":[{"type":{"names":["function"]},"description":"<p>функция для применения к значению</p>","name":"func"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["\\"0 1 2\\".withValue(v => v + 10).log()"],"name":"withValue","longname":"Pattern#withValue","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * см. \`withValue\`\\n   * @noAutocomplete\\n   */","meta":{"range":[3388,3437],"filename":"pattern.mjs","lineno":108,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100026065","name":"Pattern#fmap","type":"MethodDefinition","paramnames":["func"]},"vars":{"":null}},"description":"<p>см. <code>withValue</code></p>","tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"fmap","longname":"Pattern#fmap","kind":"function","memberof":"Pattern","scope":"instance","params":[]},{"comment":"/**\\n   * Предполагается, что 'this' является pattern функций, и при наличии функции для\\n   * разрешения wholes, применяет заданный pattern значений к этому\\n   * pattern функций.\\n   * @param {Function} whole_func\\n   * @param {Function} func\\n   * @noAutocomplete\\n   * @returns Pattern\\n   */","meta":{"range":[3732,4474],"filename":"pattern.mjs","lineno":121,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100026076","name":"Pattern#appWhole","type":"MethodDefinition","paramnames":["whole_func","pat_val"]},"vars":{"":null}},"description":"<p>Предполагается, что 'this' является pattern функций, и при наличии функции для\\nразрешения wholes, применяет заданный pattern значений к этому\\npattern функций.</p>","params":[{"type":{"names":["function"]},"name":"whole_func"},{"type":{"names":["function"]},"name":"func"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"returns":[{"description":"<p>Pattern</p>"}],"name":"appWhole","longname":"Pattern#appWhole","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Когда этот метод вызывается на pattern функций, он сопоставляет его haps\\n   * с теми, что в заданном pattern значений. Возвращается новый pattern, где\\n   * каждое совпадающее значение применяется к соответствующей функции.\\n   *\\n   * В этом варианте \`_appBoth\`, где timespans function и value haps\\n   * не совпадают, но пересекаются, результирующий hap имеет timespan\\n   * пересечения. Это применяется как к part, так и к whole timespan.\\n   * @param {Pattern} pat_val\\n   * @noAutocomplete\\n   * @returns Pattern\\n   */","meta":{"range":[5005,5429],"filename":"pattern.mjs","lineno":157,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100026183","name":"Pattern#appBoth","type":"MethodDefinition","paramnames":["pat_val"]},"vars":{"":null}},"description":"<p>Когда этот метод вызывается на pattern функций, он сопоставляет его haps\\nс теми, что в заданном pattern значений. Возвращается новый pattern, где\\nкаждое совпадающее значение применяется к соответствующей функции.</p>\\n<p>В этом варианте <code>_appBoth</code>, где timespans function и value haps\\nне совпадают, но пересекаются, результирующий hap имеет timespan\\nпересечения. Это применяется как к part, так и к whole timespan.</p>","params":[{"type":{"names":["Pattern"]},"name":"pat_val"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"returns":[{"description":"<p>Pattern</p>"}],"name":"appBoth","longname":"Pattern#appBoth","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Как и \`appBoth\`, но \`whole\` timespan - это не пересечение,\\n   * а timespan из функции patterns, на которой вызывается этот метод.\\n   * На практике это означает, что структура pattern, включая onsets,\\n   * сохраняется из pattern функций (часто называемого левым\\n   * или внутренним pattern).\\n   * @param {Pattern} pat_val\\n   * @noAutocomplete\\n   * @returns Pattern\\n   */","meta":{"range":[5814,6618],"filename":"pattern.mjs","lineno":184,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100026243","name":"Pattern#appLeft","type":"MethodDefinition","paramnames":["pat_val"]},"vars":{"":null}},"description":"<p>Как и <code>appBoth</code>, но <code>whole</code> timespan - это не пересечение,\\nа timespan из функции patterns, на которой вызывается этот метод.\\nНа практике это означает, что структура pattern, включая onsets,\\nсохраняется из pattern функций (часто называемого левым\\nили внутренним pattern).</p>","params":[{"type":{"names":["Pattern"]},"name":"pat_val"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"returns":[{"description":"<p>Pattern</p>"}],"name":"appLeft","longname":"Pattern#appLeft","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Как и \`appLeft\`, но \`whole\` timespans вместо этого берутся из\\n   * pattern значений, то есть структура сохраняется из правого/внешнего\\n   * pattern.\\n   * @param {Pattern} pat_val\\n   * @noAutocomplete\\n   * @returns Pattern\\n   */","meta":{"range":[6861,7669],"filename":"pattern.mjs","lineno":217,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100026365","name":"Pattern#appRight","type":"MethodDefinition","paramnames":["pat_val"]},"vars":{"":null}},"description":"<p>Как и <code>appLeft</code>, но <code>whole</code> timespans вместо этого берутся из\\npattern значений, то есть структура сохраняется из правого/внешнего\\npattern.</p>","params":[{"type":{"names":["Pattern"]},"name":"pat_val"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"returns":[{"description":"<p>Pattern</p>"}],"name":"appRight","longname":"Pattern#appRight","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Запрашивает haps внутри заданного временного промежутка.\\n   *\\n   * @param {Fraction | number} begin время начала\\n   * @param {Fraction | number} end время окончания\\n   * @returns Hap[]\\n   * @example\\n   * const pattern = sequence('a', ['b', 'c'])\\n   * const haps = pattern.queryArc(0, 1)\\n   * console.log(haps)\\n   * silence\\n   * @noAutocomplete\\n   */","meta":{"range":[13334,13533],"filename":"pattern.mjs","lineno":413,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027045","name":"Pattern#queryArc","type":"MethodDefinition","paramnames":["begin","end","controls"]},"vars":{"":null}},"description":"<p>Запрашивает haps внутри заданного временного промежутка.</p>","params":[{"type":{"names":["Fraction","number"]},"description":"<p>время начала</p>","name":"begin"},{"type":{"names":["Fraction","number"]},"description":"<p>время окончания</p>","name":"end"}],"returns":[{"description":"<p>Hap[]</p>"}],"examples":["const pattern = sequence('a', ['b', 'c'])\\nconst haps = pattern.queryArc(0, 1)\\nconsole.log(haps)\\nsilence"],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"queryArc","longname":"Pattern#queryArc","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Возвращает новый pattern, где запросы разделены на границах циклов. Это делает\\n   * некоторые вычисления более простыми для выражения, так как все haps затем ограничены\\n   * происходящими внутри цикла.\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[13799,13999],"filename":"pattern.mjs","lineno":429,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027076","name":"Pattern#splitQueries","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Возвращает новый pattern, где запросы разделены на границах циклов. Это делает\\nнекоторые вычисления более простыми для выражения, так как все haps затем ограничены\\nпроисходящими внутри цикла.</p>","returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"splitQueries","longname":"Pattern#splitQueries","kind":"function","memberof":"Pattern","scope":"instance","params":[]},{"comment":"/**\\n   * Возвращает новый pattern, где заданная функция применяется к\\n   * timespan запроса перед передачей его в исходный pattern.\\n   * @param {Function} func функция для применения\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[14237,14331],"filename":"pattern.mjs","lineno":444,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027116","name":"Pattern#withQuerySpan","type":"MethodDefinition","paramnames":["func"]},"vars":{"":null}},"description":"<p>Возвращает новый pattern, где заданная функция применяется к\\ntimespan запроса перед передачей его в исходный pattern.</p>","params":[{"type":{"names":["function"]},"description":"<p>функция для применения</p>","name":"func"}],"returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"withQuerySpan","longname":"Pattern#withQuerySpan","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Как и \`withQuerySpan\`, но функция применяется к времени\\n   * начала и окончания timespan запроса.\\n   * @param {Function} func функция для применения\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[14778,14897],"filename":"pattern.mjs","lineno":466,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027172","name":"Pattern#withQueryTime","type":"MethodDefinition","paramnames":["func"]},"vars":{"":null}},"description":"<p>Как и <code>withQuerySpan</code>, но функция применяется к времени\\nначала и окончания timespan запроса.</p>","params":[{"type":{"names":["function"]},"description":"<p>функция для применения</p>","name":"func"}],"returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"withQueryTime","longname":"Pattern#withQueryTime","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Похоже на \`withQuerySpan\`, но функция применяется к timespans\\n   * всех haps, возвращаемых запросами pattern (как к \`part\` timespans, так и, при наличии,\\n   * к \`whole\` timespans).\\n   * @param {Function} func\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[15170,15280],"filename":"pattern.mjs","lineno":478,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027197","name":"Pattern#withHapSpan","type":"MethodDefinition","paramnames":["func"]},"vars":{"":null}},"description":"<p>Похоже на <code>withQuerySpan</code>, но функция применяется к timespans\\nвсех haps, возвращаемых запросами pattern (как к <code>part</code> timespans, так и, при наличии,\\nк <code>whole</code> timespans).</p>","params":[{"type":{"names":["function"]},"name":"func"}],"returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"withHapSpan","longname":"Pattern#withHapSpan","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Как и \`withHapSpan\`, но функция применяется к времени\\n   * начала и окончания timespans hap.\\n   * @param {Function} func функция для применения\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[15488,15571],"filename":"pattern.mjs","lineno":489,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027222","name":"Pattern#withHapTime","type":"MethodDefinition","paramnames":["func"]},"vars":{"":null}},"description":"<p>Как и <code>withHapSpan</code>, но функция применяется к времени\\nначала и окончания timespans hap.</p>","params":[{"type":{"names":["function"]},"description":"<p>функция для применения</p>","name":"func"}],"returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"withHapTime","longname":"Pattern#withHapTime","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Возвращает новый pattern с заданной функцией, применённой к списку haps, возвращаемых каждым запросом.\\n   * @param {Function} func\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[15766,15913],"filename":"pattern.mjs","lineno":499,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027239","name":"Pattern#withHaps","type":"MethodDefinition","paramnames":["func"]},"vars":{"":null}},"description":"<p>Возвращает новый pattern с заданной функцией, применённой к списку haps, возвращаемых каждым запросом.</p>","params":[{"type":{"names":["function"]},"name":"func"}],"returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"withHaps","longname":"Pattern#withHaps","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Как и \`withHaps\`, но применяет функцию к каждому hap, а не к каждому списку haps.\\n   * @param {Function} func\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[16087,16158],"filename":"pattern.mjs","lineno":511,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027269","name":"Pattern#withHap","type":"MethodDefinition","paramnames":["func"]},"vars":{"":null}},"description":"<p>Как и <code>withHaps</code>, но применяет функцию к каждому hap, а не к каждому списку haps.</p>","params":[{"type":{"names":["function"]},"name":"func"}],"returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"withHap","longname":"Pattern#withHap","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Возвращает новый pattern с полем context, установленным для каждого hap в заданное значение.\\n   * @param {*} context\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[16339,16423],"filename":"pattern.mjs","lineno":521,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027286","name":"Pattern#setContext","type":"MethodDefinition","paramnames":["context"]},"vars":{"":null}},"description":"<p>Возвращает новый pattern с полем context, установленным для каждого hap в заданное значение.</p>","params":[{"type":{"names":["*"]},"name":"context"}],"returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"setContext","longname":"Pattern#setContext","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Возвращает новый pattern с заданной функцией, применённой к полю context каждого hap.\\n   * @param {Function} func\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[16601,16841],"filename":"pattern.mjs","lineno":531,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027303","name":"Pattern#withContext","type":"MethodDefinition","paramnames":["func"]},"vars":{"":null}},"description":"<p>Возвращает новый pattern с заданной функцией, применённой к полю context каждого hap.</p>","params":[{"type":{"names":["function"]},"name":"func"}],"returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"withContext","longname":"Pattern#withContext","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Возвращает новый pattern с полем context каждого hap, установленным в пустой объект.\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[16990,17064],"filename":"pattern.mjs","lineno":545,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027351","name":"Pattern#stripContext","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Возвращает новый pattern с полем context каждого hap, установленным в пустой объект.</p>","returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"stripContext","longname":"Pattern#stripContext","kind":"function","memberof":"Pattern","scope":"instance","params":[]},{"comment":"/**\\n   * Возвращает новый pattern с добавленной заданной информацией о расположении к\\n   * context каждого hap.\\n   * @param {Number} start начальное смещение\\n   * @param {Number} end конечное смещение\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[17320,17687],"filename":"pattern.mjs","lineno":557,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027367","name":"Pattern#withLoc","type":"MethodDefinition","paramnames":["start","end"]},"vars":{"":null}},"description":"<p>Возвращает новый pattern с добавленной заданной информацией о расположении к\\ncontext каждого hap.</p>","params":[{"type":{"names":["Number"]},"description":"<p>начальное смещение</p>","name":"start"},{"type":{"names":["Number"]},"description":"<p>конечное смещение</p>","name":"end"}],"returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"withLoc","longname":"Pattern#withLoc","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Возвращает новый Pattern, который возвращает только те haps, которые соответствуют заданному тесту.\\n   * @param {Function} hap_test - функция, которая возвращает false для haps, которые нужно удалить из pattern\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[17962,18059],"filename":"pattern.mjs","lineno":579,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027431","name":"Pattern#filterHaps","type":"MethodDefinition","paramnames":["hap_test"]},"vars":{"":null}},"description":"<p>Возвращает новый Pattern, который возвращает только те haps, которые соответствуют заданному тесту.</p>","params":[{"type":{"names":["function"]},"description":"<p>функция, которая возвращает false для haps, которые нужно удалить из pattern</p>","name":"hap_test"}],"returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"filterHaps","longname":"Pattern#filterHaps","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Как и \`filterHaps\`, но функция применяется к значениям\\n   * внутри haps.\\n   * @param {Function} value_test\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[18230,18375],"filename":"pattern.mjs","lineno":590,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027450","name":"Pattern#filterValues","type":"MethodDefinition","paramnames":["value_test"]},"vars":{"":null}},"description":"<p>Как и <code>filterHaps</code>, но функция применяется к значениям\\nвнутри haps.</p>","params":[{"type":{"names":["function"]},"name":"value_test"}],"returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"filterValues","longname":"Pattern#filterValues","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Возвращает новый pattern с удалёнными из результатов запроса\\n   * haps, содержащими undefined значения.\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[18543,18624],"filename":"pattern.mjs","lineno":600,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027481","name":"Pattern#removeUndefineds","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Возвращает новый pattern с удалёнными из результатов запроса\\nhaps, содержащими undefined значения.</p>","returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"removeUndefineds","longname":"Pattern#removeUndefineds","kind":"function","memberof":"Pattern","scope":"instance","params":[]},{"comment":"/**\\n   * Возвращает новый pattern, где отфильтрованы все haps без onsets. Hap\\n   * с onset - это тот, у которого \`whole\` timespan начинается в то же время,\\n   * что и его \`part\` timespan.\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[18867,19132],"filename":"pattern.mjs","lineno":611,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027495","name":"Pattern#onsetsOnly","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Возвращает новый pattern, где отфильтрованы все haps без onsets. Hap\\nс onset - это тот, у которого <code>whole</code> timespan начинается в то же время,\\nчто и его <code>part</code> timespan.</p>","returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"onsetsOnly","longname":"Pattern#onsetsOnly","kind":"function","memberof":"Pattern","scope":"instance","params":[]},{"comment":"/**\\n   * Возвращает новый pattern с удалёнными из результатов запроса\\n   * 'continuous' haps (те, что без 'whole' timespans).\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[19313,19447],"filename":"pattern.mjs","lineno":624,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027510","name":"Pattern#discreteOnly","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Возвращает новый pattern с удалёнными из результатов запроса\\n'continuous' haps (те, что без 'whole' timespans).</p>","returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"discreteOnly","longname":"Pattern#discreteOnly","kind":"function","memberof":"Pattern","scope":"instance","params":[]},{"comment":"/**\\n   * Объединяет смежные haps с одинаковыми значениями и whole. Предназначено\\n   * только для использования в тестах.\\n   * @noAutocomplete\\n   */","meta":{"range":[19601,21046],"filename":"pattern.mjs","lineno":634,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027524","name":"Pattern#defragmentHaps","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Объединяет смежные haps с одинаковыми значениями и whole. Предназначено\\nтолько для использования в тестах.</p>","tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"defragmentHaps","longname":"Pattern#defragmentHaps","kind":"function","memberof":"Pattern","scope":"instance","params":[]},{"comment":"/**\\n   * Запрашивает pattern для первого цикла, возвращая Haps. В основном используется при\\n   * отладке pattern.\\n   * @param {Boolean} with_context - установите в true, иначе поле context\\n   * будет удалено из результирующих haps.\\n   * @returns [Hap]\\n   * @noAutocomplete\\n   */","meta":{"range":[21331,21529],"filename":"pattern.mjs","lineno":689,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027755","name":"Pattern#firstCycle","type":"MethodDefinition","paramnames":["with_context"]},"vars":{"":null}},"description":"<p>Запрашивает pattern для первого цикла, возвращая Haps. В основном используется при\\nотладке pattern.</p>","params":[{"type":{"names":["Boolean"]},"description":"<p>установите в true, иначе поле context\\nбудет удалено из результирующих haps.</p>","name":"with_context","defaultvalue":false}],"returns":[{"description":"<p>[Hap]</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"firstCycle","longname":"Pattern#firstCycle","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Аксессор для списка значений, возвращаемых запросом первого цикла.\\n   * @noAutocomplete\\n   */","meta":{"range":[21638,21720],"filename":"pattern.mjs","lineno":701,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027792","name":"Pattern#firstCycleValues","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Аксессор для списка значений, возвращаемых запросом первого цикла.</p>","tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"firstCycleValues","longname":"Pattern#firstCycleValues","kind":"member","memberof":"Pattern","scope":"instance","params":[]},{"comment":"/**\\n   * Более читаемая версия аксессора \`firstCycleValues\`.\\n   * @noAutocomplete\\n   */","meta":{"range":[21814,21977],"filename":"pattern.mjs","lineno":709,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027809","name":"Pattern#showFirstCycle","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Более читаемая версия аксессора <code>firstCycleValues</code>.</p>","tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"showFirstCycle","longname":"Pattern#showFirstCycle","kind":"member","memberof":"Pattern","scope":"instance","params":[]},{"comment":"/**\\n   * Возвращает новый pattern, который возвращает haps, отсортированные во временном порядке. В основном\\n   * используется при сравнении двух patterns на равенство в тестах.\\n   * @returns Pattern\\n   * @noAutocomplete\\n   */","meta":{"range":[22210,22483],"filename":"pattern.mjs","lineno":721,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100027847","name":"Pattern#sortHapsByPart","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Возвращает новый pattern, который возвращает haps, отсортированные во временном порядке. В основном\\nиспользуется при сравнении двух patterns на равенство в тестах.</p>","returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"sortHapsByPart","longname":"Pattern#sortHapsByPart","kind":"function","memberof":"Pattern","scope":"instance","params":[]},{"comment":"/**\\n   * Накладывает результат заданной функции (функций). Похоже на \`superimpose\`, но без оригинального pattern:\\n   * @name layer\\n   * @memberof Pattern\\n   * @synonyms apply\\n   * @returns Pattern\\n   * @example\\n   * \\"<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*8\\"\\n   *   .layer(x=>x.add(\\"0,2\\"))\\n   *   .scale('C minor').note()\\n   */","meta":{"filename":"pattern.mjs","lineno":779,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Накладывает результат заданной функции (функций). Похоже на <code>superimpose</code>, но без оригинального pattern:</p>","name":"layer","memberof":"Pattern","synonyms_text":"apply","synonyms":["apply"],"returns":[{"description":"<p>Pattern</p>"}],"examples":["\\"<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*8\\"\\n  .layer(x=>x.add(\\"0,2\\"))\\n  .scale('C minor').note()"],"scope":"static","longname":"Pattern.layer","kind":"member"},{"comment":"/**\\n   * Накладывает результат заданной функции (функций) поверх оригинального pattern:\\n   * @name superimpose\\n   * @memberof Pattern\\n   * @returns Pattern\\n   * @example\\n   * \\"<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*8\\"\\n   *   .superimpose(x=>x.add(2))\\n   *   .scale('C minor').note()\\n   */","meta":{"filename":"pattern.mjs","lineno":794,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Накладывает результат заданной функции (функций) поверх оригинального pattern:</p>","name":"superimpose","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["\\"<0 2 4 6 ~ 4 ~ 2 0!3 ~!5>*8\\"\\n  .superimpose(x=>x.add(2))\\n  .scale('C minor').note()"],"scope":"static","longname":"Pattern.superimpose","kind":"member"},{"comment":"/**\\n   * Записывает содержимое текущего события в консоль (видно в боковом меню).\\n   * @name log\\n   * @memberof Pattern\\n   * @example\\n   * s(\\"bd sd\\").log()\\n   */","meta":{"filename":"pattern.mjs","lineno":854,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Записывает содержимое текущего события в консоль (видно в боковом меню).</p>","name":"log","memberof":"Pattern","examples":["s(\\"bd sd\\").log()"],"scope":"static","longname":"Pattern.log","kind":"member"},{"comment":"/**\\n   * Упрощённая версия \`log\`, которая записывает все \\"значения\\" (различные настраиваемые параметры)\\n   * внутри события в консоль (видно в боковом меню).\\n   * @name logValues\\n   * @memberof Pattern\\n   * @example\\n   * s(\\"bd sd\\").gain(\\"0.25 0.5 1\\").n(\\"2 1 0\\").logValues()\\n   */","meta":{"filename":"pattern.mjs","lineno":867,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Упрощённая версия <code>log</code>, которая записывает все &quot;значения&quot; (различные настраиваемые параметры)\\nвнутри события в консоль (видно в боковом меню).</p>","name":"logValues","memberof":"Pattern","examples":["s(\\"bd sd\\").gain(\\"0.25 0.5 1\\").n(\\"2 1 0\\").logValues()"],"scope":"static","longname":"Pattern.logValues","kind":"member"},{"comment":"/**\\n   * Разбивает pattern на части в соответствии со структурой заданного pattern.\\n   * Истинные значения в заданном pattern заставляют соответствующий подцикл\\n   * исходного pattern зацикливаться, и для них применяется (опциональная) заданная функция.\\n   * Ложные значения приводят к тому, что соответствующая часть исходного pattern\\n   * воспроизводится без изменений.\\n   * @name into\\n   * @memberof Pattern\\n   * @example\\n   * sound(\\"bd sd ht lt\\").into(\\"1 0\\", hurry(2))\\n   */","meta":{"filename":"pattern.mjs","lineno":897,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Разбивает pattern на части в соответствии со структурой заданного pattern.\\nИстинные значения в заданном pattern заставляют соответствующий подцикл\\nисходного pattern зацикливаться, и для них применяется (опциональная) заданная функция.\\nЛожные значения приводят к тому, что соответствующая часть исходного pattern\\nвоспроизводится без изменений.</p>","name":"into","memberof":"Pattern","examples":["sound(\\"bd sd ht lt\\").into(\\"1 0\\", hurry(2))"],"scope":"static","longname":"Pattern.into","kind":"member"},{"comment":"/**\\n * Выбирает индексы в наложенных нотах.\\n * @example\\n * note(\\"<[c,eb,g]!2 [c,f,ab] [d,f,ab]>\\")\\n * .arpWith(haps => haps[2])\\n * */","meta":{"range":[28954,29184],"filename":"pattern.mjs","lineno":946,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100028561","name":"exports.arpWith","type":"VariableDeclaration"}},"description":"<p>Выбирает индексы в наложенных нотах.</p>","examples":["note(\\"<[c,eb,g]!2 [c,f,ab] [d,f,ab]>\\")\\n.arpWith(haps => haps[2])"],"name":"arpWith","longname":"arpWith","kind":"constant","scope":"global"},{"comment":"/**\\n * Выбирает индексы в наложенных нотах.\\n * @example\\n * note(\\"<[c,eb,g]!2 [c,f,ab] [d,f,ab]>\\")\\n * .arp(\\"0 [0,2] 1 [0,2]\\")\\n * */","meta":{"range":[29317,29460],"filename":"pattern.mjs","lineno":960,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100028615","name":"exports.arp","type":"VariableDeclaration"}},"description":"<p>Выбирает индексы в наложенных нотах.</p>","examples":["note(\\"<[c,eb,g]!2 [c,f,ab] [d,f,ab]>\\")\\n.arp(\\"0 [0,2] 1 [0,2]\\")"],"name":"arp","longname":"arp","kind":"constant","scope":"global"},{"comment":"/**\\n     *\\n     * Предполагается pattern из чисел. Добавляет заданное число к каждому элементу в pattern.\\n     * @name add\\n     * @memberof Pattern\\n     * @example\\n     * // Здесь трезвучие 0, 2, 4 смещается на разные величины\\n     * n(\\"0 2 4\\".add(\\"<0 3 4 0>\\")).scale(\\"C:major\\")\\n     * // Без add эквивалент был бы:\\n     * // n(\\"<[0 2 4] [3 5 7] [4 6 8] [0 2 4]>\\").scale(\\"C:major\\")\\n     * @example\\n     * // Вы также можете использовать add с нотами:\\n     * note(\\"c3 e3 g3\\".add(\\"<0 5 7 0>\\"))\\n     * // За кулисами ноты преобразуются в midi-номера:\\n     * // note(\\"48 52 55\\".add(\\"<0 5 7 0>\\"))\\n     */","meta":{"filename":"pattern.mjs","lineno":1023,"columnno":4,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Предполагается pattern из чисел. Добавляет заданное число к каждому элементу в pattern.</p>","name":"add","memberof":"Pattern","examples":["// Здесь трезвучие 0, 2, 4 смещается на разные величины\\nn(\\"0 2 4\\".add(\\"<0 3 4 0>\\")).scale(\\"C:major\\")\\n// Без add эквивалент был бы:\\n// n(\\"<[0 2 4] [3 5 7] [4 6 8] [0 2 4]>\\").scale(\\"C:major\\")","// Вы также можете использовать add с нотами:\\nnote(\\"c3 e3 g3\\".add(\\"<0 5 7 0>\\"))\\n// За кулисами ноты преобразуются в midi-номера:\\n// note(\\"48 52 55\\".add(\\"<0 5 7 0>\\"))"],"scope":"static","longname":"Pattern.add","kind":"member"},{"comment":"/**\\n     *\\n     * Как add, но заданные числа вычитаются.\\n     * @name sub\\n     * @memberof Pattern\\n     * @example\\n     * n(\\"0 2 4\\".sub(\\"<0 1 2 3>\\")).scale(\\"C4:minor\\")\\n     * // См. add для получения дополнительной информации.\\n     */","meta":{"filename":"pattern.mjs","lineno":1040,"columnno":4,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Как add, но заданные числа вычитаются.</p>","name":"sub","memberof":"Pattern","examples":["n(\\"0 2 4\\".sub(\\"<0 1 2 3>\\")).scale(\\"C4:minor\\")\\n// См. add для получения дополнительной информации."],"scope":"static","longname":"Pattern.sub","kind":"member"},{"comment":"/**\\n     *\\n     * Умножает каждое число на заданный множитель.\\n     * @name mul\\n     * @memberof Pattern\\n     * @example\\n     * \\"<1 1.5 [1.66, <2 2.33>]>*4\\".mul(150).freq()\\n     */","meta":{"filename":"pattern.mjs","lineno":1050,"columnno":4,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Умножает каждое число на заданный множитель.</p>","name":"mul","memberof":"Pattern","examples":["\\"<1 1.5 [1.66, <2 2.33>]>*4\\".mul(150).freq()"],"scope":"static","longname":"Pattern.mul","kind":"member"},{"comment":"/**\\n     *\\n     * Делит каждое число на заданный делитель.\\n     * @name div\\n     * @memberof Pattern\\n     */","meta":{"filename":"pattern.mjs","lineno":1059,"columnno":4,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Делит каждое число на заданный делитель.</p>","name":"div","memberof":"Pattern","scope":"static","longname":"Pattern.div","kind":"member"},{"comment":"/**\\n   * Применяет заданную структуру к pattern:\\n   *\\n   * @example\\n   * note(\\"c,eb,g\\")\\n   *   .struct(\\"x ~ x ~ ~ x ~ x ~ ~ ~ x ~ x ~ ~\\")\\n   *   .slow(2)\\n   */","meta":{"range":[35342,35430],"filename":"pattern.mjs","lineno":1155,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100029160","name":"Pattern.prototype.struct","type":"FunctionExpression","paramnames":["args"]}},"description":"<p>Применяет заданную структуру к pattern:</p>","examples":["note(\\"c,eb,g\\")\\n  .struct(\\"x ~ x ~ ~ x ~ x ~ ~ ~ x ~ x ~ ~\\")\\n  .slow(2)"],"name":"struct","longname":"Pattern#struct","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Возвращает silence, когда mask равна 0 или \\"~\\"\\n   *\\n   * @example\\n   * note(\\"c [eb,g] d [eb,g]\\").mask(\\"<1 [0 1]>\\")\\n   */","meta":{"range":[35659,35744],"filename":"pattern.mjs","lineno":1167,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100029200","name":"Pattern.prototype.mask","type":"FunctionExpression","paramnames":["args"]}},"description":"<p>Возвращает silence, когда mask равна 0 или &quot;~&quot;</p>","examples":["note(\\"c [eb,g] d [eb,g]\\").mask(\\"<1 [0 1]>\\")"],"name":"mask","longname":"Pattern#mask","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Сбрасывает pattern к началу цикла для каждого onset pattern сброса.\\n   *\\n   * @example\\n   * s(\\"[<bd lt> sd]*2, hh*8\\").reset(\\"<x@3 x(5,8)>\\")\\n   */","meta":{"range":[35995,36084],"filename":"pattern.mjs","lineno":1179,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100029240","name":"Pattern.prototype.reset","type":"FunctionExpression","paramnames":["args"]}},"description":"<p>Сбрасывает pattern к началу цикла для каждого onset pattern сброса.</p>","examples":["s(\\"[<bd lt> sd]*2, hh*8\\").reset(\\"<x@3 x(5,8)>\\")"],"name":"reset","longname":"Pattern#reset","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n   * Перезапускает pattern для каждого onset pattern перезапуска.\\n   * В то время как reset сбросит только текущий цикл, restart начнёт с цикла 0.\\n   *\\n   * @example\\n   * s(\\"[<bd lt> sd]*2, hh*8\\").restart(\\"<x@3 x(5,8)>\\")\\n   */","meta":{"range":[36415,36508],"filename":"pattern.mjs","lineno":1192,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100029280","name":"Pattern.prototype.restart","type":"FunctionExpression","paramnames":["args"]}},"description":"<p>Перезапускает pattern для каждого onset pattern перезапуска.\\nВ то время как reset сбросит только текущий цикл, restart начнёт с цикла 0.</p>","examples":["s(\\"[<bd lt> sd]*2, hh*8\\").restart(\\"<x@3 x(5,8)>\\")"],"name":"restart","longname":"Pattern#restart","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n * Абсолютно ничего не делает, но с заданными метрическими 'steps'\\n * @name gap\\n * @param  {number} steps\\n * @example\\n * gap(3) // \\"~@3\\"\\n */","meta":{"filename":"pattern.mjs","lineno":1226,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Абсолютно ничего не делает, но с заданными метрическими 'steps'</p>","name":"gap","params":[{"type":{"names":["number"]},"name":"steps"}],"examples":["gap(3) // \\"~@3\\""],"longname":"gap","kind":"member","scope":"global"},{"comment":"/**\\n * Абсолютно ничего не делает..\\n * @name silence\\n * @example\\n * silence // \\"~\\"\\n */","meta":{"filename":"pattern.mjs","lineno":1235,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Абсолютно ничего не делает..</p>","name":"silence","examples":["silence // \\"~\\""],"longname":"silence","kind":"member","scope":"global"},{"comment":"/**\\n * Дискретное значение, которое повторяется один раз за цикл.\\n *\\n * @returns {Pattern}\\n * @example\\n * pure('e4') // \\"e4\\"\\n * @noAutocomplete\\n */","meta":{"range":[37780,38037],"filename":"pattern.mjs","lineno":1254,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100029359","name":"exports.pure","type":"FunctionDeclaration","paramnames":["value"]}},"description":"<p>Дискретное значение, которое повторяется один раз за цикл.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["pure('e4') // \\"e4\\""],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"pure","longname":"pure","kind":"function","scope":"global"},{"comment":"/** Takes a list of patterns, and returns a pattern of lists.\\n */","meta":{"range":[39042,39222],"filename":"pattern.mjs","lineno":1292,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100029449","name":"exports.sequenceP","type":"FunctionDeclaration","paramnames":["pats"]}},"description":"<p>Takes a list of patterns, and returns a pattern of lists.</p>","name":"sequenceP","longname":"sequenceP","kind":"function","scope":"global"},{"comment":"/**\\n * Заданные элементы воспроизводятся одновременно с одинаковой длительностью.\\n *\\n * @return {Pattern}\\n * @synonyms polyrhythm, pr\\n * @example\\n * stack(\\"g3\\", \\"b3\\", [\\"e4\\", \\"d4\\"]).note()\\n * // \\"g3,b3,[e4 d4]\\".note()\\n *\\n * @example\\n * // Как цепная функция:\\n * s(\\"hh*4\\").stack(\\n *   note(\\"c4(5,8)\\")\\n * )\\n */","meta":{"range":[39532,39910],"filename":"pattern.mjs","lineno":1315,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100029489","name":"exports.stack","type":"FunctionDeclaration","paramnames":["pats"]}},"description":"<p>Заданные элементы воспроизводятся одновременно с одинаковой длительностью.</p>","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"polyrhythm, pr","synonyms":["polyrhythm","pr"],"examples":["stack(\\"g3\\", \\"b3\\", [\\"e4\\", \\"d4\\"]).note()\\n// \\"g3,b3,[e4 d4]\\".note()","// Как цепная функция:\\ns(\\"hh*4\\").stack(\\n  note(\\"c4(5,8)\\")\\n)"],"name":"stack","longname":"stack","kind":"function","scope":"global"},{"comment":"/**\\n * Конкатенация: объединяет список patterns, последовательно переключаясь между ними, один за цикл.\\n *\\n * @return {Pattern}\\n * @synonyms cat\\n * @example\\n * slowcat(\\"e5\\", \\"b4\\", [\\"d5\\", \\"c5\\"])\\n *\\n */","meta":{"range":[41579,42629],"filename":"pattern.mjs","lineno":1393,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100029853","name":"exports.slowcat","type":"FunctionDeclaration","paramnames":["pats"]}},"description":"<p>Конкатенация: объединяет список patterns, последовательно переключаясь между ними, один за цикл.</p>","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"cat","synonyms":["cat"],"examples":["slowcat(\\"e5\\", \\"b4\\", [\\"d5\\", \\"c5\\"])"],"name":"slowcat","longname":"slowcat","kind":"function","scope":"global"},{"comment":"/** Конкатенация: объединяет список patterns, последовательно переключаясь между ними, один за цикл. В отличие от slowcat, эта версия пропускает циклы.\\n * @param {...any} items - Элементы для конкатенации\\n * @return {Pattern}\\n */","meta":{"range":[42861,43234],"filename":"pattern.mjs","lineno":1423,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100030013","name":"exports.slowcatPrime","type":"FunctionDeclaration","paramnames":["pats"]}},"description":"<p>Конкатенация: объединяет список patterns, последовательно переключаясь между ними, один за цикл. В отличие от slowcat, эта версия пропускает циклы.</p>","params":[{"type":{"names":["any"]},"variable":true,"description":"<p>Элементы для конкатенации</p>","name":"items"}],"returns":[{"type":{"names":["Pattern"]}}],"name":"slowcatPrime","longname":"slowcatPrime","kind":"function","scope":"global"},{"comment":"/** Заданные элементы кон**кат**енируются, где каждый занимает один цикл.\\n *\\n * @param {...any} items - Элементы для конкатенации\\n * @synonyms slowcat\\n * @return {Pattern}\\n * @example\\n * cat(\\"e5\\", \\"b4\\", [\\"d5\\", \\"c5\\"]).note()\\n * // \\"<e5 b4 [d5 c5]>\\".note()\\n *\\n * @example\\n * // Как цепная функция:\\n * s(\\"hh*4\\").cat(\\n *    note(\\"c4(5,8)\\")\\n * )\\n */","meta":{"range":[43581,43640],"filename":"pattern.mjs","lineno":1448,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100030066","name":"exports.cat","type":"FunctionDeclaration","paramnames":["pats"]}},"description":"<p>Заданные элементы кон<strong>кат</strong>енируются, где каждый занимает один цикл.</p>","params":[{"type":{"names":["any"]},"variable":true,"description":"<p>Элементы для конкатенации</p>","name":"items"}],"synonyms_text":"slowcat","synonyms":["slowcat"],"returns":[{"type":{"names":["Pattern"]}}],"examples":["cat(\\"e5\\", \\"b4\\", [\\"d5\\", \\"c5\\"]).note()\\n// \\"<e5 b4 [d5 c5]>\\".note()","// Как цепная функция:\\ns(\\"hh*4\\").cat(\\n   note(\\"c4(5,8)\\")\\n)"],"name":"cat","longname":"cat","kind":"function","scope":"global"},{"comment":"/**\\n * Позволяет расположить несколько patterns вместе на протяжении нескольких циклов.\\n * Принимает переменное количество массивов с двумя элементами, указывающими количество циклов и используемый pattern.\\n *\\n * @return {Pattern}\\n * @example\\n * arrange(\\n *   [4, \\"<c a f e>(3,8)\\"],\\n *   [2, \\"<g a>(5,8)\\"]\\n * ).note()\\n */","meta":{"range":[43964,44198],"filename":"pattern.mjs","lineno":1463,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100030077","name":"exports.arrange","type":"FunctionDeclaration","paramnames":["sections"]}},"description":"<p>Позволяет расположить несколько patterns вместе на протяжении нескольких циклов.\\nПринимает переменное количество массивов с двумя элементами, указывающими количество циклов и используемый pattern.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["arrange(\\n  [4, \\"<c a f e>(3,8)\\"],\\n  [2, \\"<g a>(5,8)\\"]\\n).note()"],"name":"arrange","longname":"arrange","kind":"function","scope":"global"},{"comment":"/**\\n * Подобно \`arrange\`, позволяет располагать несколько patterns вместе на протяжении нескольких циклов.\\n * В отличие от \`arrange\`, вы указываете время начала и остановки для каждого pattern, а не длительность, что\\n * означает, что patterns могут перекрываться.\\n * @return {Pattern}\\n * @example\\nseqPLoop([0, 2, \\"bd(3,8)\\"],\\n         [1, 3, \\"cp(3,8)\\"]\\n        )\\n  .sound()\\n */","meta":{"range":[44577,45001],"filename":"pattern.mjs","lineno":1480,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100030122","name":"exports.seqPLoop","type":"FunctionDeclaration","paramnames":["parts"]}},"description":"<p>Подобно <code>arrange</code>, позволяет располагать несколько patterns вместе на протяжении нескольких циклов.\\nВ отличие от <code>arrange</code>, вы указываете время начала и остановки для каждого pattern, а не длительность, что\\nозначает, что patterns могут перекрываться.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["seqPLoop([0, 2, \\"bd(3,8)\\"],\\n         [1, 3, \\"cp(3,8)\\"]\\n        )\\n  .sound()"],"name":"seqPLoop","longname":"seqPLoop","kind":"function","scope":"global"},{"comment":"/** See \`fastcat\` */","meta":{"range":[45304,45368],"filename":"pattern.mjs","lineno":1512,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100030265","name":"exports.sequence","type":"FunctionDeclaration","paramnames":["pats"]}},"description":"<p>See <code>fastcat</code></p>","name":"sequence","longname":"sequence","kind":"function","scope":"global"},{"comment":"/** Как **cat**, но элементы втиснуты в один цикл.\\n * @synonyms sequence, fastcat\\n * @example\\n * seq(\\"e5\\", \\"b4\\", [\\"d5\\", \\"c5\\"]).note()\\n * // \\"e5 b4 [d5 c5]\\".note()\\n *\\n * @example\\n * // Как цепная функция:\\n * s(\\"hh*4\\").seq(\\n *   note(\\"c4(5,8)\\")\\n * )\\n */","meta":{"range":[45623,45682],"filename":"pattern.mjs","lineno":1529,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100030276","name":"exports.seq","type":"FunctionDeclaration","paramnames":["pats"]}},"description":"<p>Как <strong>cat</strong>, но элементы втиснуты в один цикл.</p>","synonyms_text":"sequence, fastcat","synonyms":["sequence","fastcat"],"examples":["seq(\\"e5\\", \\"b4\\", [\\"d5\\", \\"c5\\"]).note()\\n// \\"e5 b4 [d5 c5]\\".note()","// Как цепная функция:\\ns(\\"hh*4\\").seq(\\n  note(\\"c4(5,8)\\")\\n)"],"name":"seq","longname":"seq","kind":"function","scope":"global"},{"comment":"/**\\n * Регистрирует новый метод pattern. Метод добавляется в класс Pattern + отдельная функция возвращается из register.\\n *\\n * @param {string | string[]} name имя функции или массив имён для использования в качестве синонимов\\n * @param {function} func функция с 1 или более параметрами, где последний - текущий pattern\\n * @noAutocomplete\\n *\\n */","meta":{"range":[48302,50978],"filename":"pattern.mjs","lineno":1593,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100030908","name":"exports.register","type":"FunctionDeclaration","paramnames":["name","func","patternify","preserveSteps","join"]}},"description":"<p>Регистрирует новый метод pattern. Метод добавляется в класс Pattern + отдельная функция возвращается из register.</p>","params":[{"type":{"names":["string","Array.<string>"]},"description":"<p>имя функции или массив имён для использования в качестве синонимов</p>","name":"name"},{"type":{"names":["function"]},"description":"<p>функция с 1 или более параметрами, где последний - текущий pattern</p>","name":"func"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"register","longname":"register","kind":"function","scope":"global"},{"comment":"/**\\n * Предполагается числовой pattern. Возвращает новый pattern со всеми значениями, округлёнными\\n * до ближайшего целого.\\n * @name round\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * n(\\"0.5 1.5 2.5\\".round()).scale(\\"C:major\\")\\n */","meta":{"filename":"pattern.mjs","lineno":1686,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Предполагается числовой pattern. Возвращает новый pattern со всеми значениями, округлёнными\\nдо ближайшего целого.</p>","name":"round","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["n(\\"0.5 1.5 2.5\\".round()).scale(\\"C:major\\")"],"scope":"static","longname":"Pattern.round","kind":"member"},{"comment":"/**\\n * Предполагается числовой pattern. Возвращает новый pattern со всеми значениями, установленными в\\n * их математический floor. Например, \`3.7\` заменяется на \`3\`, а \`-4.2\`\\n * заменяется на \`-5\`.\\n * @name floor\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * note(\\"42 42.1 42.5 43\\".floor())\\n */","meta":{"filename":"pattern.mjs","lineno":1699,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Предполагается числовой pattern. Возвращает новый pattern со всеми значениями, установленными в\\nих математический floor. Например, <code>3.7</code> заменяется на <code>3</code>, а <code>-4.2</code>\\nзаменяется на <code>-5</code>.</p>","name":"floor","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["note(\\"42 42.1 42.5 43\\".floor())"],"scope":"static","longname":"Pattern.floor","kind":"member"},{"comment":"/**\\n * Предполагается числовой pattern. Возвращает новый pattern со всеми значениями, установленными в\\n * их математический ceiling. Например, \`3.2\` заменяется на \`4\`, а \`-4.2\`\\n * заменяется на \`-4\`.\\n * @name ceil\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * note(\\"42 42.1 42.5 43\\".ceil())\\n */","meta":{"filename":"pattern.mjs","lineno":1713,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Предполагается числовой pattern. Возвращает новый pattern со всеми значениями, установленными в\\nих математический ceiling. Например, <code>3.2</code> заменяется на <code>4</code>, а <code>-4.2</code>\\nзаменяется на <code>-4</code>.</p>","name":"ceil","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["note(\\"42 42.1 42.5 43\\".ceil())"],"scope":"static","longname":"Pattern.ceil","kind":"member"},{"comment":"/**\\n * Предполагается числовой pattern, содержащий униполярные значения в диапазоне 0 ..\\n * 1. Возвращает новый pattern со значениями, масштабированными в биполярный диапазон -1 .. 1\\n * @returns Pattern\\n * @noAutocomplete\\n */","meta":{"range":[52709,52813],"filename":"pattern.mjs","lineno":1732,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100031424","name":"exports.toBipolar","type":"VariableDeclaration"}},"description":"<p>Предполагается числовой pattern, содержащий униполярные значения в диапазоне 0 ..</p>\\n<ol>\\n<li>Возвращает новый pattern со значениями, масштабированными в биполярный диапазон -1 .. 1</li>\\n</ol>","returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"toBipolar","longname":"toBipolar","kind":"constant","scope":"global"},{"comment":"/**\\n * Предполагается числовой pattern, содержащий биполярные значения в диапазоне -1 .. 1\\n * Возвращает новый pattern со значениями, масштабированными в униполярный диапазон 0 .. 1\\n * @returns Pattern\\n * @noAutocomplete\\n */","meta":{"range":[53040,53150],"filename":"pattern.mjs","lineno":1742,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100031446","name":"exports.fromBipolar","type":"VariableDeclaration"}},"description":"<p>Предполагается числовой pattern, содержащий биполярные значения в диапазоне -1 .. 1\\nВозвращает новый pattern со значениями, масштабированными в униполярный диапазон 0 .. 1</p>","returns":[{"description":"<p>Pattern</p>"}],"tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"fromBipolar","longname":"fromBipolar","kind":"constant","scope":"global"},{"comment":"/**\\n * Предполагается числовой pattern, содержащий униполярные значения в диапазоне 0 .. 1.\\n * Возвращает новый pattern со значениями, масштабированными в заданный диапазон min/max.\\n * Наиболее полезно в сочетании с непрерывными patterns.\\n * @name range\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * s(\\"[bd sd]*2,hh*8\\")\\n * .cutoff(sine.range(500,4000))\\n */","meta":{"filename":"pattern.mjs","lineno":1746,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Предполагается числовой pattern, содержащий униполярные значения в диапазоне 0 .. 1.\\nВозвращает новый pattern со значениями, масштабированными в заданный диапазон min/max.\\nНаиболее полезно в сочетании с непрерывными patterns.</p>","name":"range","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"[bd sd]*2,hh*8\\")\\n.cutoff(sine.range(500,4000))"],"scope":"static","longname":"Pattern.range","kind":"member"},{"comment":"/**\\n * Предполагается числовой pattern, содержащий униполярные значения в диапазоне 0 .. 1\\n * Возвращает новый pattern со значениями, масштабированными в заданный диапазон min/max,\\n * следуя экспоненциальной кривой.\\n * @name rangex\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * s(\\"[bd sd]*2,hh*8\\")\\n * .cutoff(sine.rangex(500,4000))\\n */","meta":{"filename":"pattern.mjs","lineno":1761,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Предполагается числовой pattern, содержащий униполярные значения в диапазоне 0 .. 1\\nВозвращает новый pattern со значениями, масштабированными в заданный диапазон min/max,\\nследуя экспоненциальной кривой.</p>","name":"rangex","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"[bd sd]*2,hh*8\\")\\n.cutoff(sine.rangex(500,4000))"],"scope":"static","longname":"Pattern.rangex","kind":"member"},{"comment":"/**\\n * Предполагается числовой pattern, содержащий биполярные значения в диапазоне -1 .. 1\\n * Возвращает новый pattern со значениями, масштабированными в заданный диапазон min/max.\\n * @name range2\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * s(\\"[bd sd]*2,hh*8\\")\\n * .cutoff(sine2.range2(500,4000))\\n */","meta":{"filename":"pattern.mjs","lineno":1776,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Предполагается числовой pattern, содержащий биполярные значения в диапазоне -1 .. 1\\nВозвращает новый pattern со значениями, масштабированными в заданный диапазон min/max.</p>","name":"range2","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"[bd sd]*2,hh*8\\")\\n.cutoff(sine2.range2(500,4000))"],"scope":"static","longname":"Pattern.range2","kind":"member"},{"comment":"/**\\n * Позволяет делить числа через list-нотацию, используя \\":\\".\\n * Возвращает новый pattern только с числами.\\n * @name ratio\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * ratio(\\"1, 5:4, 3:2\\").mul(110)\\n * .freq().s(\\"piano\\")\\n */","meta":{"filename":"pattern.mjs","lineno":1790,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Позволяет делить числа через list-нотацию, используя &quot;:&quot;.\\nВозвращает новый pattern только с числами.</p>","name":"ratio","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["ratio(\\"1, 5:4, 3:2\\").mul(110)\\n.freq().s(\\"piano\\")"],"scope":"static","longname":"Pattern.ratio","kind":"member"},{"comment":"/** Сжимает каждый цикл в заданный timespan, оставляя промежуток\\n * @example\\n * cat(\\n *   s(\\"bd sd\\").compress(.25,.75),\\n *   s(\\"~ bd sd ~\\")\\n * )\\n */","meta":{"range":[55231,55484],"filename":"pattern.mjs","lineno":1819,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100031591","name":"exports.compress","type":"VariableDeclaration"}},"description":"<p>Сжимает каждый цикл в заданный timespan, оставляя промежуток</p>","examples":["cat(\\n  s(\\"bd sd\\").compress(.25,.75),\\n  s(\\"~ bd sd ~\\")\\n)"],"name":"compress","longname":"compress","kind":"constant","scope":"global"},{"comment":"/**\\n * Ускоряет pattern как fast, но вместо того, чтобы воспроизводить его несколько раз, как это делает fast, оставляет промежуток в оставшемся пространстве цикла. Например, следующее воспроизведёт звуковой pattern \\"bd sn\\" только один раз, но сжатым в первую половину цикла, то есть вдвое быстрее.\\n * @name fastGap\\n * @synonyms fastgap\\n * @example\\n * s(\\"bd sd\\").fastGap(2)\\n */","meta":{"filename":"pattern.mjs","lineno":1832,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Ускоряет pattern как fast, но вместо того, чтобы воспроизводить его несколько раз, как это делает fast, оставляет промежуток в оставшемся пространстве цикла. Например, следующее воспроизведёт звуковой pattern &quot;bd sn&quot; только один раз, но сжатым в первую половину цикла, то есть вдвое быстрее.</p>","name":"fastGap","synonyms_text":"fastgap","synonyms":["fastgap"],"examples":["s(\\"bd sd\\").fastGap(2)"],"longname":"fastGap","kind":"member","scope":"global"},{"comment":"/**\\n * Похоже на \`compress\`, но не оставляет промежутков, и 'focus' может быть больше цикла\\n * @example\\n * s(\\"bd hh sd hh\\").focus(1/4, 3/4)\\n */","meta":{"range":[57372,57562],"filename":"pattern.mjs","lineno":1874,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100031933","name":"exports.focus","type":"VariableDeclaration"}},"description":"<p>Похоже на <code>compress</code>, но не оставляет промежутков, и 'focus' может быть больше цикла</p>","examples":["s(\\"bd hh sd hh\\").focus(1/4, 3/4)"],"name":"focus","longname":"focus","kind":"constant","scope":"global"},{"comment":"/** Функция ply повторяет каждое событие заданное количество раз.\\n * @example\\n * s(\\"bd ~ sd cp\\").ply(\\"<1 2 3>\\")\\n */","meta":{"range":[57828,58059],"filename":"pattern.mjs","lineno":1891,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100032012","name":"exports.ply","type":"VariableDeclaration"}},"description":"<p>Функция ply повторяет каждое событие заданное количество раз.</p>","examples":["s(\\"bd ~ sd cp\\").ply(\\"<1 2 3>\\")"],"name":"ply","longname":"ply","kind":"constant","scope":"global"},{"comment":"/**\\n * Ускоряет pattern в заданное количество раз. Используется \\"*\\" в mini-нотации.\\n *\\n * @name fast\\n * @synonyms density\\n * @memberof Pattern\\n * @param {number | Pattern} factor множитель ускорения\\n * @returns Pattern\\n * @example\\n * s(\\"bd hh sd hh\\").fast(2) // s(\\"[bd hh sd hh]*2\\")\\n */","meta":{"filename":"pattern.mjs","lineno":1899,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Ускоряет pattern в заданное количество раз. Используется &quot;*&quot; в mini-нотации.</p>","name":"fast","synonyms_text":"density","synonyms":["density"],"memberof":"Pattern","params":[{"type":{"names":["number","Pattern"]},"description":"<p>множитель ускорения</p>","name":"factor"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"bd hh sd hh\\").fast(2) // s(\\"[bd hh sd hh]*2\\")"],"scope":"static","longname":"Pattern.fast","kind":"member"},{"comment":"/**\\n * Одновременно ускоряет pattern (как 'fast') и воспроизведение sample (как 'speed').\\n * @example\\n * s(\\"bd sd:2\\").hurry(\\"<1 2 4 3>\\").slow(1.5)\\n */","meta":{"range":[58840,58949],"filename":"pattern.mjs","lineno":1929,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100032125","name":"exports.hurry","type":"VariableDeclaration"}},"description":"<p>Одновременно ускоряет pattern (как 'fast') и воспроизведение sample (как 'speed').</p>","examples":["s(\\"bd sd:2\\").hurry(\\"<1 2 4 3>\\").slow(1.5)"],"name":"hurry","longname":"hurry","kind":"constant","scope":"global"},{"comment":"/**\\n * Замедляет pattern на заданное количество циклов. Как оператор \\"/\\" в mini-нотации.\\n *\\n * @name slow\\n * @synonyms sparsity\\n * @memberof Pattern\\n * @param {number | Pattern} factor множитель замедления\\n * @returns Pattern\\n * @example\\n * s(\\"bd hh sd hh\\").slow(2) // s(\\"[bd hh sd hh]/2\\")\\n */","meta":{"filename":"pattern.mjs","lineno":1933,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Замедляет pattern на заданное количество циклов. Как оператор &quot;/&quot; в mini-нотации.</p>","name":"slow","synonyms_text":"sparsity","synonyms":["sparsity"],"memberof":"Pattern","params":[{"type":{"names":["number","Pattern"]},"description":"<p>множитель замедления</p>","name":"factor"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"bd hh sd hh\\").slow(2) // s(\\"[bd hh sd hh]/2\\")"],"scope":"static","longname":"Pattern.slow","kind":"member"},{"comment":"/**\\n * Выполняет операцию 'внутри' цикла.\\n * @example\\n * \\"0 1 2 3 4 3 2 1\\".inside(4, rev).scale('C major').note()\\n * // \\"0 1 2 3 4 3 2 1\\".slow(4).rev().fast(4).scale('C major').note()\\n */","meta":{"range":[59619,59736],"filename":"pattern.mjs","lineno":1957,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100032186","name":"exports.inside","type":"VariableDeclaration"}},"description":"<p>Выполняет операцию 'внутри' цикла.</p>","examples":["\\"0 1 2 3 4 3 2 1\\".inside(4, rev).scale('C major').note()\\n// \\"0 1 2 3 4 3 2 1\\".slow(4).rev().fast(4).scale('C major').note()"],"name":"inside","longname":"inside","kind":"constant","scope":"global"},{"comment":"/**\\n * Выполняет операцию 'снаружи' цикла.\\n * @example\\n * \\"<[0 1] 2 [3 4] 5>\\".outside(4, rev).scale('C major').note()\\n * // \\"<[0 1] 2 [3 4] 5>\\".fast(4).rev().slow(4).scale('C major').note()\\n */","meta":{"range":[59932,60051],"filename":"pattern.mjs","lineno":1967,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100032210","name":"exports.outside","type":"VariableDeclaration"}},"description":"<p>Выполняет операцию 'снаружи' цикла.</p>","examples":["\\"<[0 1] 2 [3 4] 5>\\".outside(4, rev).scale('C major').note()\\n// \\"<[0 1] 2 [3 4] 5>\\".fast(4).rev().slow(4).scale('C major').note()"],"name":"outside","longname":"outside","kind":"constant","scope":"global"},{"comment":"/**\\n * Применяет заданную функцию каждые n циклов, начиная с последнего цикла.\\n * @name lastOf\\n * @memberof Pattern\\n * @param {number} n сколько циклов\\n * @param {function} func функция для применения\\n * @returns Pattern\\n * @example\\n * note(\\"c3 d3 e3 g3\\").lastOf(4, x=>x.rev())\\n */","meta":{"filename":"pattern.mjs","lineno":1971,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Применяет заданную функцию каждые n циклов, начиная с последнего цикла.</p>","name":"lastOf","memberof":"Pattern","params":[{"type":{"names":["number"]},"description":"<p>сколько циклов</p>","name":"n"},{"type":{"names":["function"]},"description":"<p>функция для применения</p>","name":"func"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["note(\\"c3 d3 e3 g3\\").lastOf(4, x=>x.rev())"],"scope":"static","longname":"Pattern.lastOf","kind":"member"},{"comment":"/**\\n * Применяет заданную функцию каждые n циклов, начиная с первого цикла.\\n * @name firstOf\\n * @memberof Pattern\\n * @param {number} n сколько циклов\\n * @param {function} func функция для применения\\n * @returns Pattern\\n * @example\\n * note(\\"c3 d3 e3 g3\\").firstOf(4, x=>x.rev())\\n */","meta":{"filename":"pattern.mjs","lineno":1987,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Применяет заданную функцию каждые n циклов, начиная с первого цикла.</p>","name":"firstOf","memberof":"Pattern","params":[{"type":{"names":["number"]},"description":"<p>сколько циклов</p>","name":"n"},{"type":{"names":["function"]},"description":"<p>функция для применения</p>","name":"func"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["note(\\"c3 d3 e3 g3\\").firstOf(4, x=>x.rev())"],"scope":"static","longname":"Pattern.firstOf","kind":"member"},{"comment":"/**\\n * Синоним для \`firstOf\`\\n * @name every\\n * @memberof Pattern\\n * @param {number} n сколько циклов\\n * @param {function} func функция для применения\\n * @returns Pattern\\n * @example\\n * note(\\"c3 d3 e3 g3\\").every(4, x=>x.rev())\\n */","meta":{"filename":"pattern.mjs","lineno":1998,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Синоним для <code>firstOf</code></p>","name":"every","memberof":"Pattern","params":[{"type":{"names":["number"]},"description":"<p>сколько циклов</p>","name":"n"},{"type":{"names":["function"]},"description":"<p>функция для применения</p>","name":"func"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["note(\\"c3 d3 e3 g3\\").every(4, x=>x.rev())"],"scope":"static","longname":"Pattern.every","kind":"member"},{"comment":"/**\\n * Как layer, но с единственной функцией:\\n * @name apply\\n * @memberof Pattern\\n * @example\\n * \\"<c3 eb3 g3>\\".scale('C minor').apply(scaleTranspose(\\"0,2,4\\")).note()\\n */","meta":{"filename":"pattern.mjs","lineno":2014,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Как layer, но с единственной функцией:</p>","name":"apply","memberof":"Pattern","examples":["\\"<c3 eb3 g3>\\".scale('C minor').apply(scaleTranspose(\\"0,2,4\\")).note()"],"scope":"static","longname":"Pattern.apply","kind":"member"},{"comment":"/**\\n * Воспроизводит pattern с заданными циклами в минуту.\\n * @deprecated\\n * @example\\n * s(\\"<bd sd>,hh*2\\").cpm(90) // = 90 bpm\\n */","meta":{"range":[61701,61795],"filename":"pattern.mjs","lineno":2033,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100032329","name":"exports.cpm","type":"VariableDeclaration"}},"description":"<p>Воспроизводит pattern с заданными циклами в минуту.</p>","deprecated":true,"examples":["s(\\"<bd sd>,hh*2\\").cpm(90) // = 90 bpm"],"name":"cpm","longname":"cpm","kind":"constant","scope":"global"},{"comment":"/**\\n * Сдвигает pattern, чтобы начать раньше во времени. Эквивалент оператора <~ из Tidal\\n *\\n * @name early\\n * @memberof Pattern\\n * @param {number | Pattern} cycles количество циклов для сдвига влево\\n * @returns Pattern\\n * @example\\n * \\"bd ~\\".stack(\\"hh ~\\".early(.1)).s()\\n */","meta":{"filename":"pattern.mjs","lineno":2037,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Сдвигает pattern, чтобы начать раньше во времени. Эквивалент оператора &lt;~ из Tidal</p>","name":"early","memberof":"Pattern","params":[{"type":{"names":["number","Pattern"]},"description":"<p>количество циклов для сдвига влево</p>","name":"cycles"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["\\"bd ~\\".stack(\\"hh ~\\".early(.1)).s()"],"scope":"static","longname":"Pattern.early","kind":"member"},{"comment":"/**\\n * Сдвигает pattern, чтобы начать позже во времени. Эквивалент оператора ~> из Tidal\\n *\\n * @name late\\n * @memberof Pattern\\n * @param {number | Pattern} cycles количество циклов для сдвига вправо\\n * @returns Pattern\\n * @example\\n * \\"bd ~\\".stack(\\"hh ~\\".late(.1)).s()\\n */","meta":{"filename":"pattern.mjs","lineno":2057,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Сдвигает pattern, чтобы начать позже во времени. Эквивалент оператора ~&gt; из Tidal</p>","name":"late","memberof":"Pattern","params":[{"type":{"names":["number","Pattern"]},"description":"<p>количество циклов для сдвига вправо</p>","name":"cycles"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["\\"bd ~\\".stack(\\"hh ~\\".late(.1)).s()"],"scope":"static","longname":"Pattern.late","kind":"member"},{"comment":"/**\\n * Воспроизводит часть pattern, указанную началом и окончанием временного промежутка. Новый результирующий pattern воспроизводится за период времени оригинального pattern:\\n *\\n * @example\\n * s(\\"bd*2 hh*3 [sd bd]*2 perc\\").zoom(0.25, 0.75)\\n * // s(\\"hh*3 [sd bd]*2\\") // эквивалент\\n */","meta":{"range":[63010,63429],"filename":"pattern.mjs","lineno":2084,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100032422","name":"exports.zoom","type":"VariableDeclaration"}},"description":"<p>Воспроизводит часть pattern, указанную началом и окончанием временного промежутка. Новый результирующий pattern воспроизводится за период времени оригинального pattern:</p>","examples":["s(\\"bd*2 hh*3 [sd bd]*2 perc\\").zoom(0.25, 0.75)\\n// s(\\"hh*3 [sd bd]*2\\") // эквивалент"],"name":"zoom","longname":"zoom","kind":"constant","scope":"global"},{"comment":"/**\\n * Разбивает pattern на заданное количество частей и воспроизводит их в соответствии с pattern номеров частей.\\n * Похоже на \`slice\`, но разрезает patterns, а не звуковые samples.\\n * @param {number} number количество частей\\n * @param {number} slices какие части воспроизводить\\n * @example\\n * note(\\"0 1 2 3 4 5 6 7\\".scale('c:mixolydian'))\\n *.bite(4, \\"3 2 1 0\\")\\n * @example\\n * sound(\\"bd - bd bd*2, - sd:6 - sd:5 sd:1 - [- sd:2] -, hh [- cp:7]\\")\\n  .bank(\\"RolandTR909\\").speed(1.2)\\n  .bite(4, \\"0 0 [1 2] <3 2> 0 0 [2 1] 3\\")\\n */","meta":{"range":[64086,64384],"filename":"pattern.mjs","lineno":2116,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100032547","name":"exports.bite","type":"VariableDeclaration"}},"description":"<p>Разбивает pattern на заданное количество частей и воспроизводит их в соответствии с pattern номеров частей.\\nПохоже на <code>slice</code>, но разрезает patterns, а не звуковые samples.</p>","params":[{"type":{"names":["number"]},"description":"<p>количество частей</p>","name":"number"},{"type":{"names":["number"]},"description":"<p>какие части воспроизводить</p>","name":"slices"}],"examples":["note(\\"0 1 2 3 4 5 6 7\\".scale('c:mixolydian'))\\n.bite(4, \\"3 2 1 0\\")","sound(\\"bd - bd bd*2, - sd:6 - sd:5 sd:1 - [- sd:2] -, hh [- cp:7]\\")\\n  .bank(\\"RolandTR909\\").speed(1.2)\\n  .bite(4, \\"0 0 [1 2] <3 2> 0 0 [2 1] 3\\")"],"name":"bite","longname":"bite","kind":"constant","scope":"global"},{"comment":"/**\\n * Выбирает заданную часть pattern и повторяет эту часть, чтобы заполнить оставшуюся часть цикла.\\n * @param {number} fraction дробь для выбора\\n * @example\\n * s(\\"lt ht mt cp, [hh oh]*2\\").linger(\\"<1 .5 .25 .125>\\")\\n */","meta":{"range":[64606,64848],"filename":"pattern.mjs","lineno":2137,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100032612","name":"exports.linger","type":"VariableDeclaration"}},"description":"<p>Выбирает заданную часть pattern и повторяет эту часть, чтобы заполнить оставшуюся часть цикла.</p>","params":[{"type":{"names":["number"]},"description":"<p>дробь для выбора</p>","name":"fraction"}],"examples":["s(\\"lt ht mt cp, [hh oh]*2\\").linger(\\"<1 .5 .25 .125>\\")"],"name":"linger","longname":"linger","kind":"constant","scope":"global"},{"comment":"/**\\n * Семплирует pattern со скоростью n событий за цикл. Полезно для преобразования непрерывного pattern в дискретный.\\n * @name segment\\n * @synonyms seg\\n * @param {number} segments количество сегментов за цикл\\n * @example\\n * note(saw.range(40,52).segment(24))\\n */","meta":{"filename":"pattern.mjs","lineno":2151,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Семплирует pattern со скоростью n событий за цикл. Полезно для преобразования непрерывного pattern в дискретный.</p>","name":"segment","synonyms_text":"seg","synonyms":["seg"],"params":[{"type":{"names":["number"]},"description":"<p>количество сегментов за цикл</p>","name":"segments"}],"examples":["note(saw.range(40,52).segment(24))"],"longname":"segment","kind":"member","scope":"global"},{"comment":"/**\\n * Функция \`swingBy x n\` разбивает каждый цикл на \`n\` частей, а затем задерживает события во второй половине каждой части на величину \`x\`, которая относительна размеру (половины) части. Так что если \`x\` равно 0, ничего не происходит, \`0.5\` задерживает на половину длительности ноты, а 1 снова завернётся и не будет ничего делать. Конечный результат - shuffle или swing-подобный ритм\\n * @param {number} subdivision\\n * @param {number} offset\\n * @example\\n * s(\\"hh*8\\").swingBy(1/3, 4)\\n */","meta":{"range":[65753,65855],"filename":"pattern.mjs","lineno":2170,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100032696","name":"exports.swingBy","type":"VariableDeclaration"}},"description":"<p>Функция <code>swingBy x n</code> разбивает каждый цикл на <code>n</code> частей, а затем задерживает события во второй половине каждой части на величину <code>x</code>, которая относительна размеру (половины) части. Так что если <code>x</code> равно 0, ничего не происходит, <code>0.5</code> задерживает на половину длительности ноты, а 1 снова завернётся и не будет ничего делать. Конечный результат - shuffle или swing-подобный ритм</p>","params":[{"type":{"names":["number"]},"name":"subdivision"},{"type":{"names":["number"]},"name":"offset"}],"examples":["s(\\"hh*8\\").swingBy(1/3, 4)"],"name":"swingBy","longname":"swingBy","kind":"constant","scope":"global"},{"comment":"/**\\n * Сокращение для swingBy с 1/3:\\n * @param {number} subdivision\\n * @example\\n * s(\\"hh*8\\").swing(4)\\n * // s(\\"hh*8\\").swingBy(1/3, 4)\\n */","meta":{"range":[65995,66069],"filename":"pattern.mjs","lineno":2179,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100032720","name":"exports.swing","type":"VariableDeclaration"}},"description":"<p>Сокращение для swingBy с 1/3:</p>","params":[{"type":{"names":["number"]},"name":"subdivision"}],"examples":["s(\\"hh*8\\").swing(4)\\n// s(\\"hh*8\\").swingBy(1/3, 4)"],"name":"swing","longname":"swing","kind":"constant","scope":"global"},{"comment":"/**\\n * Меняет местами 1 и 0 в бинарном pattern.\\n * @name invert\\n * @synonyms inv\\n * @example\\n * s(\\"bd\\").struct(\\"1 0 0 1 0 0 1 0\\".lastOf(4, invert))\\n */","meta":{"filename":"pattern.mjs","lineno":2181,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Меняет местами 1 и 0 в бинарном pattern.</p>","name":"invert","synonyms_text":"inv","synonyms":["inv"],"examples":["s(\\"bd\\").struct(\\"1 0 0 1 0 0 1 0\\".lastOf(4, invert))"],"longname":"invert","kind":"member","scope":"global"},{"comment":"/**\\n * Применяет заданную функцию всякий раз, когда заданный pattern находится в истинном состоянии.\\n * @name when\\n * @memberof Pattern\\n * @param {Pattern} binary_pat\\n * @param {function} func\\n * @returns Pattern\\n * @example\\n * \\"c3 eb3 g3\\".when(\\"<0 1>/2\\", x=>x.sub(\\"5\\")).note()\\n */","meta":{"filename":"pattern.mjs","lineno":2198,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Применяет заданную функцию всякий раз, когда заданный pattern находится в истинном состоянии.</p>","name":"when","memberof":"Pattern","params":[{"type":{"names":["Pattern"]},"name":"binary_pat"},{"type":{"names":["function"]},"name":"func"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["\\"c3 eb3 g3\\".when(\\"<0 1>/2\\", x=>x.sub(\\"5\\")).note()"],"scope":"static","longname":"Pattern.when","kind":"member"},{"comment":"/**\\n * Накладывает результат функции поверх оригинального pattern, задержанный на заданное время.\\n * @name off\\n * @memberof Pattern\\n * @param {Pattern | number} time время смещения\\n * @param {function} func функция для применения\\n * @returns Pattern\\n * @example\\n * \\"c3 eb3 g3\\".off(1/8, x=>x.add(7)).note()\\n */","meta":{"filename":"pattern.mjs","lineno":2212,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Накладывает результат функции поверх оригинального pattern, задержанный на заданное время.</p>","name":"off","memberof":"Pattern","params":[{"type":{"names":["Pattern","number"]},"description":"<p>время смещения</p>","name":"time"},{"type":{"names":["function"]},"description":"<p>функция для применения</p>","name":"func"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["\\"c3 eb3 g3\\".off(1/8, x=>x.add(7)).note()"],"scope":"static","longname":"Pattern.off","kind":"member"},{"comment":"/**\\n * Возвращает новый pattern, где каждый второй цикл воспроизводится один раз, вдвое\\n * быстрее и со смещением во времени на четверть цикла. Создаёт своего рода\\n * breakbeat ощущение.\\n * @returns Pattern\\n */","meta":{"range":[67427,67565],"filename":"pattern.mjs","lineno":2232,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100032807","name":"exports.brak","type":"VariableDeclaration"}},"description":"<p>Возвращает новый pattern, где каждый второй цикл воспроизводится один раз, вдвое\\nбыстрее и со смещением во времени на четверть цикла. Создаёт своего рода\\nbreakbeat ощущение.</p>","returns":[{"description":"<p>Pattern</p>"}],"name":"brak","longname":"brak","kind":"constant","scope":"global"},{"comment":"/**\\n * Реверсирует все циклы в pattern. См. также \`revv\` для реверсирования всего pattern.\\n *\\n * @name rev\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * note(\\"c d e g\\").rev()\\n */","meta":{"filename":"pattern.mjs","lineno":2236,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Реверсирует все циклы в pattern. См. также <code>revv</code> для реверсирования всего pattern.</p>","name":"rev","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["note(\\"c d e g\\").rev()"],"scope":"static","longname":"Pattern.rev","kind":"member"},{"comment":"/**\\n * Реверсирует весь pattern. См. также \`rev\` для реверсирования каждого цикла.\\n *\\n * @name revv\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * // Это то же самое, что \`<[g e] [d c]>\`. Если используется \`rev()\`, вы получите\\n * // то же, что \`<[d c] [g e]>\`, где каждый цикл реверсируется, но порядок\\n * // циклов остаётся прежним.\\n * note(\\"<[c d] [e g]>\\").revv()\\n */","meta":{"filename":"pattern.mjs","lineno":2269,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Реверсирует весь pattern. См. также <code>rev</code> для реверсирования каждого цикла.</p>","name":"revv","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["// Это то же самое, что \`<[g e] [d c]>\`. Если используется \`rev()\`, вы получите\\n// то же, что \`<[d c] [g e]>\`, где каждый цикл реверсируется, но порядок\\n// циклов остаётся прежним.\\nnote(\\"<[c d] [e g]>\\").revv()"],"scope":"static","longname":"Pattern.revv","kind":"member"},{"comment":"/** Как press, но позволяет указать величину, на которую\\n * смещается каждое событие. pressBy(0.5) - то же, что press, в то время как\\n * pressBy(1/3) смещает каждое событие на треть его timespan.\\n * @example\\n * stack(s(\\"hh*4\\"),\\n *       s(\\"bd mt sd ht\\").pressBy(\\"<0 0.5 0.25>\\")\\n *      ).slow(2)\\n */","meta":{"range":[69435,69565],"filename":"pattern.mjs","lineno":2294,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100033002","name":"exports.pressBy","type":"VariableDeclaration"}},"description":"<p>Как press, но позволяет указать величину, на которую\\nсмещается каждое событие. pressBy(0.5) - то же, что press, в то время как\\npressBy(1/3) смещает каждое событие на треть его timespan.</p>","examples":["stack(s(\\"hh*4\\"),\\n      s(\\"bd mt sd ht\\").pressBy(\\"<0 0.5 0.25>\\")\\n     ).slow(2)"],"name":"pressBy","longname":"pressBy","kind":"constant","scope":"global"},{"comment":"/**\\n * Синкопирует ритм, смещая каждое событие на половину его timespan.\\n * @example\\n * stack(s(\\"hh*4\\"),\\n *       s(\\"bd mt sd ht\\").every(4, press)\\n *      ).slow(2)\\n */","meta":{"range":[69736,69823],"filename":"pattern.mjs","lineno":2305,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100033031","name":"exports.press","type":"VariableDeclaration"}},"description":"<p>Синкопирует ритм, смещая каждое событие на половину его timespan.</p>","examples":["stack(s(\\"hh*4\\"),\\n      s(\\"bd mt sd ht\\").every(4, press)\\n     ).slow(2)"],"name":"press","longname":"press","kind":"constant","scope":"global"},{"comment":"/**\\n * Заглушает pattern.\\n * @example\\n * stack(\\n *   s(\\"bd\\").hush(),\\n *   s(\\"hh*3\\")\\n * )\\n */","meta":{"range":[69918,69976],"filename":"pattern.mjs","lineno":2317,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100033048","name":"Pattern.prototype.hush","type":"FunctionExpression","paramnames":[]}},"description":"<p>Заглушает pattern.</p>","examples":["stack(\\n  s(\\"bd\\").hush(),\\n  s(\\"hh*3\\")\\n)"],"name":"hush","longname":"Pattern#hush","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n * Применяет \`rev\` к pattern через цикл, так что pattern чередуется между прямым и обратным.\\n * @example\\n * note(\\"c d e g\\").palindrome()\\n */","meta":{"range":[70124,70249],"filename":"pattern.mjs","lineno":2326,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100033058","name":"exports.palindrome","type":"VariableDeclaration"}},"description":"<p>Применяет <code>rev</code> к pattern через цикл, так что pattern чередуется между прямым и обратным.</p>","examples":["note(\\"c d e g\\").palindrome()"],"name":"palindrome","longname":"palindrome","kind":"constant","scope":"global"},{"comment":"/**\\n * Jux с регулируемой стерео шириной. 0 = моно, 1 = полное стерео.\\n * @name juxBy\\n * @synonyms juxby\\n * @example\\n * s(\\"bd lt [~ ht] mt cp ~ bd hh\\").juxBy(\\"<0 .5 1>/2\\", rev)\\n */","meta":{"filename":"pattern.mjs","lineno":2335,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Jux с регулируемой стерео шириной. 0 = моно, 1 = полное стерео.</p>","name":"juxBy","synonyms_text":"juxby","synonyms":["juxby"],"examples":["s(\\"bd lt [~ ht] mt cp ~ bd hh\\").juxBy(\\"<0 .5 1>/2\\", rev)"],"longname":"juxBy","kind":"member","scope":"global"},{"comment":"/**\\n * Функция jux создаёт странные стерео эффекты, применяя функцию к pattern, но только в правом канале.\\n * @example\\n * s(\\"bd lt [~ ht] mt cp ~ bd hh\\").jux(rev)\\n * @example\\n * s(\\"bd lt [~ ht] mt cp ~ bd hh\\").jux(press)\\n * @example\\n * s(\\"bd lt [~ ht] mt cp ~ bd hh\\").jux(iter(4))\\n */","meta":{"range":[71249,71345],"filename":"pattern.mjs","lineno":2365,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100033187","name":"exports.jux","type":"VariableDeclaration"}},"description":"<p>Функция jux создаёт странные стерео эффекты, применяя функцию к pattern, но только в правом канале.</p>","examples":["s(\\"bd lt [~ ht] mt cp ~ bd hh\\").jux(rev)","s(\\"bd lt [~ ht] mt cp ~ bd hh\\").jux(press)","s(\\"bd lt [~ ht] mt cp ~ bd hh\\").jux(iter(4))"],"name":"jux","longname":"jux","kind":"constant","scope":"global"},{"comment":"/**\\n * Накладывает и смещает несколько раз, применяя заданную функцию каждый раз.\\n * @name echoWith\\n * @synonyms echowith, stutWith, stutwith\\n * @param {number} times сколько раз повторять\\n * @param {number} time смещение цикла между итерациями\\n * @param {function} func функция для применения, получающая pattern и индекс итерации\\n * @example\\n * \\"<0 [2 4]>\\"\\n * .echoWith(4, 1/8, (p,n) => p.add(n*2))\\n * .scale(\\"C:minor\\").note()\\n */","meta":{"filename":"pattern.mjs","lineno":2369,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Накладывает и смещает несколько раз, применяя заданную функцию каждый раз.</p>","name":"echoWith","synonyms_text":"echowith, stutWith, stutwith","synonyms":["echowith","stutWith","stutwith"],"params":[{"type":{"names":["number"]},"description":"<p>сколько раз повторять</p>","name":"times"},{"type":{"names":["number"]},"description":"<p>смещение цикла между итерациями</p>","name":"time"},{"type":{"names":["function"]},"description":"<p>функция для применения, получающая pattern и индекс итерации</p>","name":"func"}],"examples":["\\"<0 [2 4]>\\"\\n.echoWith(4, 1/8, (p,n) => p.add(n*2))\\n.scale(\\"C:minor\\").note()"],"longname":"echoWith","kind":"member","scope":"global"},{"comment":"/**\\n * Накладывает и смещает несколько раз, постепенно уменьшая громкость\\n * @name echo\\n * @memberof Pattern\\n * @returns Pattern\\n * @param {number} times сколько раз повторять\\n * @param {number} time смещение цикла между итерациями\\n * @param {number} feedback множитель громкости для каждой итерации\\n * @example\\n * s(\\"bd sd\\").echo(3, 1/6, .8)\\n */","meta":{"filename":"pattern.mjs","lineno":2388,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Накладывает и смещает несколько раз, постепенно уменьшая громкость</p>","name":"echo","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"params":[{"type":{"names":["number"]},"description":"<p>сколько раз повторять</p>","name":"times"},{"type":{"names":["number"]},"description":"<p>смещение цикла между итерациями</p>","name":"time"},{"type":{"names":["number"]},"description":"<p>множитель громкости для каждой итерации</p>","name":"feedback"}],"examples":["s(\\"bd sd\\").echo(3, 1/6, .8)"],"scope":"static","longname":"Pattern.echo","kind":"member"},{"comment":"/**\\n * Устарело. Как echo, но последние 2 параметра поменяны местами.\\n * @name stut\\n * @param {number} times сколько раз повторять\\n * @param {number} feedback множитель громкости для каждой итерации\\n * @param {number} time смещение цикла между итерациями\\n * @example\\n * s(\\"bd sd\\").stut(3, .8, 1/6)\\n */","meta":{"filename":"pattern.mjs","lineno":2403,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Устарело. Как echo, но последние 2 параметра поменяны местами.</p>","name":"stut","params":[{"type":{"names":["number"]},"description":"<p>сколько раз повторять</p>","name":"times"},{"type":{"names":["number"]},"description":"<p>множитель громкости для каждой итерации</p>","name":"feedback"},{"type":{"names":["number"]},"description":"<p>смещение цикла между итерациями</p>","name":"time"}],"examples":["s(\\"bd sd\\").stut(3, .8, 1/6)"],"longname":"stut","kind":"member","scope":"global"},{"comment":"/**\\n * The plyWith function repeats each event the given number of times, applying the given function to each event.\\\\n\\n * @name plyWith\\n * @synonyms plywith\\n * @param {number} factor how many times to repeat\\n * @param {function} func function to apply, given the pattern\\n * @example\\n * \\"<0 [2 4]>\\"\\n * .plyWith(4, (p) => p.add(2))\\n * .scale(\\"C:minor\\").note()\\n */","meta":{"filename":"pattern.mjs","lineno":2424,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>The plyWith function repeats each event the given number of times, applying the given function to each event.\\\\n</p>","name":"plyWith","synonyms_text":"plywith","synonyms":["plywith"],"params":[{"type":{"names":["number"]},"description":"<p>how many times to repeat</p>","name":"factor"},{"type":{"names":["function"]},"description":"<p>function to apply, given the pattern</p>","name":"func"}],"examples":["\\"<0 [2 4]>\\"\\n.plyWith(4, (p) => p.add(2))\\n.scale(\\"C:minor\\").note()"],"longname":"plyWith","kind":"member","scope":"global"},{"comment":"/**\\n * The plyForEach function repeats each event the given number of times, applying the given function to each event.\\n * This version of ply uses the iteration index as an argument to the function, similar to echoWith.\\n * @name plyForEach\\n * @synonyms plyforeach\\n * @param {number} factor how many times to repeat\\n * @param {function} func function to apply, given the pattern and the iteration index\\n * @example\\n * \\"<0 [2 4]>\\"\\n * .plyForEach(4, (p,n) => p.add(n*2))\\n * .scale(\\"C:minor\\").note()\\n */","meta":{"filename":"pattern.mjs","lineno":2445,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>The plyForEach function repeats each event the given number of times, applying the given function to each event.\\nThis version of ply uses the iteration index as an argument to the function, similar to echoWith.</p>","name":"plyForEach","synonyms_text":"plyforeach","synonyms":["plyforeach"],"params":[{"type":{"names":["number"]},"description":"<p>how many times to repeat</p>","name":"factor"},{"type":{"names":["function"]},"description":"<p>function to apply, given the pattern and the iteration index</p>","name":"func"}],"examples":["\\"<0 [2 4]>\\"\\n.plyForEach(4, (p,n) => p.add(n*2))\\n.scale(\\"C:minor\\").note()"],"longname":"plyForEach","kind":"member","scope":"global"},{"comment":"/**\\n * Divides a pattern into a given number of subdivisions, plays the subdivisions in order, but increments the starting subdivision each cycle. The pattern wraps to the first subdivision after the last subdivision is played.\\n * @name iter\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * note(\\"0 1 2 3\\".scale('A minor')).iter(4)\\n */","meta":{"filename":"pattern.mjs","lineno":2467,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Divides a pattern into a given number of subdivisions, plays the subdivisions in order, but increments the starting subdivision each cycle. The pattern wraps to the first subdivision after the last subdivision is played.</p>","name":"iter","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["note(\\"0 1 2 3\\".scale('A minor')).iter(4)"],"scope":"static","longname":"Pattern.iter","kind":"member"},{"comment":"/**\\n * Like \`iter\`, but plays the subdivisions in reverse order. Known as iter' in tidalcycles\\n * @name iterBack\\n * @synonyms iterback\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * note(\\"0 1 2 3\\".scale('A minor')).iterBack(4)\\n */","meta":{"filename":"pattern.mjs","lineno":2494,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Like <code>iter</code>, but plays the subdivisions in reverse order. Known as iter' in tidalcycles</p>","name":"iterBack","synonyms_text":"iterback","synonyms":["iterback"],"memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["note(\\"0 1 2 3\\".scale('A minor')).iterBack(4)"],"scope":"static","longname":"Pattern.iterBack","kind":"member"},{"comment":"/**\\n * Repeats each cycle the given number of times.\\n * @name repeatCycles\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * note(irand(12).add(34)).segment(4).repeatCycles(2).s(\\"gm_acoustic_guitar_nylon\\")\\n */","meta":{"filename":"pattern.mjs","lineno":2512,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Repeats each cycle the given number of times.</p>","name":"repeatCycles","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["note(irand(12).add(34)).segment(4).repeatCycles(2).s(\\"gm_acoustic_guitar_nylon\\")"],"scope":"static","longname":"Pattern.repeatCycles","kind":"member"},{"comment":"/**\\n * Divides a pattern into a given number of parts, then cycles through those parts in turn, applying the given function to each part in turn (one part per cycle).\\n * @name chunk\\n * @synonyms slowChunk, slowchunk\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * \\"0 1 2 3\\".chunk(4, x=>x.add(7))\\n * .scale(\\"A:minor\\").note()\\n */","meta":{"filename":"pattern.mjs","lineno":2535,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Divides a pattern into a given number of parts, then cycles through those parts in turn, applying the given function to each part in turn (one part per cycle).</p>","name":"chunk","synonyms_text":"slowChunk, slowchunk","synonyms":["slowChunk","slowchunk"],"memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["\\"0 1 2 3\\".chunk(4, x=>x.add(7))\\n.scale(\\"A:minor\\").note()"],"scope":"static","longname":"Pattern.chunk","kind":"member"},{"comment":"/**\\n * Like \`chunk\`, but cycles through the parts in reverse order. Known as chunk' in tidalcycles\\n * @name chunkBack\\n * @synonyms chunkback\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * \\"0 1 2 3\\".chunkBack(4, x=>x.add(7))\\n * .scale(\\"A:minor\\").note()\\n */","meta":{"filename":"pattern.mjs","lineno":2566,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Like <code>chunk</code>, but cycles through the parts in reverse order. Known as chunk' in tidalcycles</p>","name":"chunkBack","synonyms_text":"chunkback","synonyms":["chunkback"],"memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["\\"0 1 2 3\\".chunkBack(4, x=>x.add(7))\\n.scale(\\"A:minor\\").note()"],"scope":"static","longname":"Pattern.chunkBack","kind":"member"},{"comment":"/**\\n * Like \`chunk\`, but the cycles of the source pattern aren't repeated\\n * for each set of chunks.\\n * @name fastChunk\\n * @synonyms fastchunk\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * \\"<0 8> 1 2 3 4 5 6 7\\"\\n * .scale(\\"C2:major\\").note()\\n * .fastChunk(4, x => x.color('red')).slow(2)\\n */","meta":{"filename":"pattern.mjs","lineno":2585,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Like <code>chunk</code>, but the cycles of the source pattern aren't repeated\\nfor each set of chunks.</p>","name":"fastChunk","synonyms_text":"fastchunk","synonyms":["fastchunk"],"memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["\\"<0 8> 1 2 3 4 5 6 7\\"\\n.scale(\\"C2:major\\").note()\\n.fastChunk(4, x => x.color('red')).slow(2)"],"scope":"static","longname":"Pattern.fastChunk","kind":"member"},{"comment":"/**\\n * Like \`chunk\`, but the function is applied to a looped subcycle of the source pattern.\\n * @name chunkInto\\n * @synonyms chunkinto\\n * @memberof Pattern\\n * @example\\n * sound(\\"bd sd ht lt bd - cp lt\\").chunkInto(4, hurry(2))\\n *   .bank(\\"tr909\\")\\n */","meta":{"filename":"pattern.mjs","lineno":2606,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Like <code>chunk</code>, but the function is applied to a looped subcycle of the source pattern.</p>","name":"chunkInto","synonyms_text":"chunkinto","synonyms":["chunkinto"],"memberof":"Pattern","examples":["sound(\\"bd sd ht lt bd - cp lt\\").chunkInto(4, hurry(2))\\n  .bank(\\"tr909\\")"],"scope":"static","longname":"Pattern.chunkInto","kind":"member"},{"comment":"/**\\n * Like \`chunkInto\`, but moves backwards through the chunks.\\n * @name chunkBackInto\\n * @synonyms chunkbackinto\\n * @memberof Pattern\\n * @example\\n * sound(\\"bd sd ht lt bd - cp lt\\").chunkInto(4, hurry(2))\\n *   .bank(\\"tr909\\")\\n */","meta":{"filename":"pattern.mjs","lineno":2619,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Like <code>chunkInto</code>, but moves backwards through the chunks.</p>","name":"chunkBackInto","synonyms_text":"chunkbackinto","synonyms":["chunkbackinto"],"memberof":"Pattern","examples":["sound(\\"bd sd ht lt bd - cp lt\\").chunkInto(4, hurry(2))\\n  .bank(\\"tr909\\")"],"scope":"static","longname":"Pattern.chunkBackInto","kind":"member"},{"comment":"/**\\n * Loops the pattern inside an \`offset\` for \`cycles\`.\\n * If you think of the entire span of time in cycles as a ribbon, you can cut a single piece and loop it.\\n * @name ribbon\\n * @synonyms rib\\n * @param {number} offset start point of loop in cycles\\n * @param {number} cycles loop length in cycles\\n * @example\\n * note(\\"<c d e f>\\").ribbon(1, 2)\\n * @example\\n * // Looping a portion of randomness\\n * n(irand(8).segment(4)).scale(\\"c:pentatonic\\").ribbon(1337, 2)\\n * @example\\n * // rhythm generator\\n * s(\\"bd!16?\\").ribbon(29,.5)\\n */","meta":{"filename":"pattern.mjs","lineno":2648,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Loops the pattern inside an <code>offset</code> for <code>cycles</code>.\\nIf you think of the entire span of time in cycles as a ribbon, you can cut a single piece and loop it.</p>","name":"ribbon","synonyms_text":"rib","synonyms":["rib"],"params":[{"type":{"names":["number"]},"description":"<p>start point of loop in cycles</p>","name":"offset"},{"type":{"names":["number"]},"description":"<p>loop length in cycles</p>","name":"cycles"}],"examples":["note(\\"<c d e f>\\").ribbon(1, 2)","// Looping a portion of randomness\\nn(irand(8).segment(4)).scale(\\"c:pentatonic\\").ribbon(1337, 2)","// rhythm generator\\ns(\\"bd!16?\\").ribbon(29,.5)"],"longname":"ribbon","kind":"member","scope":"global"},{"comment":"/**\\n * Tags each Hap with an identifier. Good for filtering. The function populates Hap.context.tags (Array).\\n * @name tag\\n * @noAutocomplete\\n * @param {string} tag anything unique\\n */","meta":{"filename":"pattern.mjs","lineno":2676,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Tags each Hap with an identifier. Good for filtering. The function populates Hap.context.tags (Array).</p>","name":"tag","tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"params":[{"type":{"names":["string"]},"description":"<p>anything unique</p>","name":"tag"}],"longname":"tag","kind":"member","scope":"global"},{"comment":"/**\\n * Filters haps using the given function\\n * @name filter\\n * @param {Function} test function to test Hap\\n * @example\\n * s(\\"hh!7 oh\\").filter(hap => hap.value.s==='hh')\\n */","meta":{"filename":"pattern.mjs","lineno":2686,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Filters haps using the given function</p>","name":"filter","params":[{"type":{"names":["function"]},"description":"<p>function to test Hap</p>","name":"test"}],"examples":["s(\\"hh!7 oh\\").filter(hap => hap.value.s==='hh')"],"longname":"filter","kind":"member","scope":"global"},{"comment":"/**\\n * Filters haps by their begin time\\n * @name filterWhen\\n * @noAutocomplete\\n * @param {Function} test function to test Hap.whole.begin\\n */","meta":{"filename":"pattern.mjs","lineno":2695,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Filters haps by their begin time</p>","name":"filterWhen","tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"params":[{"type":{"names":["function"]},"description":"<p>function to test Hap.whole.begin</p>","name":"test"}],"longname":"filterWhen","kind":"member","scope":"global"},{"comment":"/**\\n * Use within to apply a function to only a part of a pattern.\\n * @name within\\n * @param {number} start start within cycle (0 - 1)\\n * @param {number} end end within cycle (0 - 1). Must be > start\\n * @param {Function} func function to be applied to the sub-pattern\\n */","meta":{"filename":"pattern.mjs","lineno":2703,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Use within to apply a function to only a part of a pattern.</p>","name":"within","params":[{"type":{"names":["number"]},"description":"<p>start within cycle (0 - 1)</p>","name":"start"},{"type":{"names":["number"]},"description":"<p>end within cycle (0 - 1). Must be &gt; start</p>","name":"end"},{"type":{"names":["function"]},"description":"<p>function to be applied to the sub-pattern</p>","name":"func"}],"longname":"within","kind":"member","scope":"global"},{"comment":"/**\\n * *Experimental*\\n *\\n * Speeds a pattern up or down, to fit to the given number of steps per cycle.\\n * @example\\n * sound(\\"bd sd cp\\").pace(4)\\n * // The same as sound(\\"{bd sd cp}%4\\") or sound(\\"<bd sd cp>*4\\")\\n */","meta":{"range":[84050,84345],"filename":"pattern.mjs","lineno":2784,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100034567","name":"exports.pace","type":"VariableDeclaration"}},"description":"<p><em>Experimental</em></p>\\n<p>Speeds a pattern up or down, to fit to the given number of steps per cycle.</p>","examples":["sound(\\"bd sd cp\\").pace(4)\\n// The same as sound(\\"{bd sd cp}%4\\") or sound(\\"<bd sd cp>*4\\")"],"name":"pace","longname":"pace","kind":"constant","scope":"global"},{"comment":"/**\\n * *Experimental*\\n *\\n * Aligns the steps of the patterns, creating polymeters. The patterns are repeated until they all fit the cycle. For example, in the below the first pattern is repeated twice, and the second is repeated three times, to fit the lowest common multiple of six steps.\\n * @synonyms pm\\n * @example\\n * // The same as note(\\"{c eb g, c2 g2}%6\\")\\n * polymeter(\\"c eb g\\", \\"c2 g2\\").note()\\n *\\n */","meta":{"range":[85223,85731],"filename":"pattern.mjs","lineno":2827,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100034720","name":"exports.polymeter","type":"FunctionDeclaration","paramnames":["args"]}},"description":"<p><em>Experimental</em></p>\\n<p>Aligns the steps of the patterns, creating polymeters. The patterns are repeated until they all fit the cycle. For example, in the below the first pattern is repeated twice, and the second is repeated three times, to fit the lowest common multiple of six steps.</p>","synonyms_text":"pm","synonyms":["pm"],"examples":["// The same as note(\\"{c eb g, c2 g2}%6\\")\\npolymeter(\\"c eb g\\", \\"c2 g2\\").note()"],"name":"polymeter","longname":"polymeter","kind":"function","scope":"global"},{"comment":"/** 'Concatenates' patterns like \`fastcat\`, but proportional to a number of steps per cycle.\\n * The steps can either be inferred from the pattern, or provided as a [length, pattern] pair.\\n * Has the alias \`timecat\`.\\n * @name stepcat\\n * @synonyms timeCat, timecat\\n * @return {Pattern}\\n * @example\\n * stepcat([3,\\"e3\\"],[1, \\"g3\\"]).note()\\n * // the same as \\"e3@3 g3\\".note()\\n * @example\\n * stepcat(\\"bd sd cp\\",\\"hh hh\\").sound()\\n * // the same as \\"bd sd cp hh hh\\".sound()\\n */","meta":{"filename":"pattern.mjs","lineno":2849,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>'Concatenates' patterns like <code>fastcat</code>, but proportional to a number of steps per cycle.\\nThe steps can either be inferred from the pattern, or provided as a [length, pattern] pair.\\nHas the alias <code>timecat</code>.</p>","name":"stepcat","synonyms_text":"timeCat, timecat","synonyms":["timeCat","timecat"],"returns":[{"type":{"names":["Pattern"]}}],"examples":["stepcat([3,\\"e3\\"],[1, \\"g3\\"]).note()\\n// the same as \\"e3@3 g3\\".note()","stepcat(\\"bd sd cp\\",\\"hh hh\\").sound()\\n// the same as \\"bd sd cp hh hh\\".sound()"],"longname":"stepcat","kind":"member","scope":"global"},{"comment":"/**\\n * *Experimental*\\n *\\n * Concatenates patterns stepwise, according to an inferred 'steps per cycle'.\\n * Similar to \`stepcat\`, but if an argument is a list, the whole pattern will alternate between the elements in the list.\\n *\\n * @return {Pattern}\\n * @example\\n * stepalt([\\"bd cp\\", \\"mt\\"], \\"bd\\").sound()\\n * // The same as \\"bd cp bd mt bd\\".sound()\\n */","meta":{"range":[87795,88342],"filename":"pattern.mjs","lineno":2915,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100035091","name":"exports.stepalt","type":"FunctionDeclaration","paramnames":["groups"]}},"description":"<p><em>Experimental</em></p>\\n<p>Concatenates patterns stepwise, according to an inferred 'steps per cycle'.\\nSimilar to <code>stepcat</code>, but if an argument is a list, the whole pattern will alternate between the elements in the list.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["stepalt([\\"bd cp\\", \\"mt\\"], \\"bd\\").sound()\\n// The same as \\"bd cp bd mt bd\\".sound()"],"name":"stepalt","longname":"stepalt","kind":"function","scope":"global"},{"comment":"/**\\n * *Experimental*\\n *\\n * Takes the given number of steps from a pattern (dropping the rest).\\n * A positive number will take steps from the start of a pattern, and a negative number from the end.\\n * @return {Pattern}\\n * @example\\n * \\"bd cp ht mt\\".take(\\"2\\").sound()\\n * // The same as \\"bd cp\\".sound()\\n * @example\\n * \\"bd cp ht mt\\".take(\\"1 2 3\\").sound()\\n * // The same as \\"bd bd cp bd cp ht\\".sound()\\n * @example\\n * \\"bd cp ht mt\\".take(\\"-1 -2 -3\\").sound()\\n * // The same as \\"mt ht mt cp ht mt\\".sound()\\n */","meta":{"range":[88845,89337],"filename":"pattern.mjs","lineno":2947,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100035232","name":"exports.take","type":"VariableDeclaration"}},"description":"<p><em>Experimental</em></p>\\n<p>Takes the given number of steps from a pattern (dropping the rest).\\nA positive number will take steps from the start of a pattern, and a negative number from the end.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["\\"bd cp ht mt\\".take(\\"2\\").sound()\\n// The same as \\"bd cp\\".sound()","\\"bd cp ht mt\\".take(\\"1 2 3\\").sound()\\n// The same as \\"bd bd cp bd cp ht\\".sound()","\\"bd cp ht mt\\".take(\\"-1 -2 -3\\").sound()\\n// The same as \\"mt ht mt cp ht mt\\".sound()"],"name":"take","longname":"take","kind":"constant","scope":"global"},{"comment":"/**\\n * *Experimental*\\n *\\n * Drops the given number of steps from a pattern.\\n * A positive number will drop steps from the start of a pattern, and a negative number from the end.\\n * @return {Pattern}\\n * @example\\n * \\"tha dhi thom nam\\".drop(\\"1\\").sound().bank(\\"mridangam\\")\\n * @example\\n * \\"tha dhi thom nam\\".drop(\\"-1\\").sound().bank(\\"mridangam\\")\\n * @example\\n * \\"tha dhi thom nam\\".drop(\\"0 1 2 3\\").sound().bank(\\"mridangam\\")\\n * @example\\n * \\"tha dhi thom nam\\".drop(\\"0 -1 -2 -3\\").sound().bank(\\"mridangam\\")\\n */","meta":{"range":[89838,90085],"filename":"pattern.mjs","lineno":2990,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100035344","name":"exports.drop","type":"VariableDeclaration"}},"description":"<p><em>Experimental</em></p>\\n<p>Drops the given number of steps from a pattern.\\nA positive number will drop steps from the start of a pattern, and a negative number from the end.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["\\"tha dhi thom nam\\".drop(\\"1\\").sound().bank(\\"mridangam\\")","\\"tha dhi thom nam\\".drop(\\"-1\\").sound().bank(\\"mridangam\\")","\\"tha dhi thom nam\\".drop(\\"0 1 2 3\\").sound().bank(\\"mridangam\\")","\\"tha dhi thom nam\\".drop(\\"0 -1 -2 -3\\").sound().bank(\\"mridangam\\")"],"name":"drop","longname":"drop","kind":"constant","scope":"global"},{"comment":"/**\\n * *Experimental*\\n *\\n * \`extend\` is similar to \`fast\` in that it increases its density, but it also increases the step count\\n * accordingly. So \`stepcat(\\"a b\\".extend(2), \\"c d\\")\` would be the same as \`\\"a b a b c d\\"\`, whereas\\n * \`stepcat(\\"a b\\".fast(2), \\"c d\\")\` would be the same as \`\\"[a b] [a b] c d\\"\`.\\n * @example\\n * stepcat(\\n *   sound(\\"bd bd - cp\\").extend(2),\\n *   sound(\\"bd - sd -\\")\\n * ).pace(8)\\n */","meta":{"range":[90493,90608],"filename":"pattern.mjs","lineno":3014,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100035406","name":"exports.extend","type":"VariableDeclaration"}},"description":"<p><em>Experimental</em></p>\\n<p><code>extend</code> is similar to <code>fast</code> in that it increases its density, but it also increases the step count\\naccordingly. So <code>stepcat(&quot;a b&quot;.extend(2), &quot;c d&quot;)</code> would be the same as <code>&quot;a b a b c d&quot;</code>, whereas\\n<code>stepcat(&quot;a b&quot;.fast(2), &quot;c d&quot;)</code> would be the same as <code>&quot;[a b] [a b] c d&quot;</code>.</p>","examples":["stepcat(\\n  sound(\\"bd bd - cp\\").extend(2),\\n  sound(\\"bd - sd -\\")\\n).pace(8)"],"name":"extend","longname":"extend","kind":"constant","scope":"global"},{"comment":"/**\\n * *Experimental*\\n *\\n * \`replicate\` is similar to \`fast\` in that it increases its density, but it also increases the step count\\n * accordingly. So \`stepcat(\\"a b\\".replicate(2), \\"c d\\")\` would be the same as \`\\"a b a b c d\\"\`, whereas\\n * \`stepcat(\\"a b\\".fast(2), \\"c d\\")\` would be the same as \`\\"[a b] [a b] c d\\"\`.\\n *\\n * TODO: find out how this function differs from extend\\n * @example\\n * stepcat(\\n *   sound(\\"bd bd - cp\\").replicate(2),\\n *   sound(\\"bd - sd -\\")\\n * ).pace(8)\\n */","meta":{"range":[91084,91226],"filename":"pattern.mjs","lineno":3032,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100035427","name":"exports.replicate","type":"VariableDeclaration"}},"description":"<p><em>Experimental</em></p>\\n<p><code>replicate</code> is similar to <code>fast</code> in that it increases its density, but it also increases the step count\\naccordingly. So <code>stepcat(&quot;a b&quot;.replicate(2), &quot;c d&quot;)</code> would be the same as <code>&quot;a b a b c d&quot;</code>, whereas\\n<code>stepcat(&quot;a b&quot;.fast(2), &quot;c d&quot;)</code> would be the same as <code>&quot;[a b] [a b] c d&quot;</code>.</p>\\n<p>TODO: find out how this function differs from extend</p>","examples":["stepcat(\\n  sound(\\"bd bd - cp\\").replicate(2),\\n  sound(\\"bd - sd -\\")\\n).pace(8)"],"name":"replicate","longname":"replicate","kind":"constant","scope":"global"},{"comment":"/**\\n * *Experimental*\\n *\\n * Expands the step size of the pattern by the given factor.\\n * @example\\n * sound(\\"tha dhi thom nam\\").bank(\\"mridangam\\").expand(\\"3 2 1 1 2 3\\").pace(8)\\n */","meta":{"range":[91407,91536],"filename":"pattern.mjs","lineno":3043,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100035452","name":"exports.expand","type":"VariableDeclaration"}},"description":"<p><em>Experimental</em></p>\\n<p>Expands the step size of the pattern by the given factor.</p>","examples":["sound(\\"tha dhi thom nam\\").bank(\\"mridangam\\").expand(\\"3 2 1 1 2 3\\").pace(8)"],"name":"expand","longname":"expand","kind":"constant","scope":"global"},{"comment":"/**\\n * *Experimental*\\n *\\n * Contracts the step size of the pattern by the given factor. See also \`expand\`.\\n * @example\\n * sound(\\"tha dhi thom nam\\").bank(\\"mridangam\\").contract(\\"3 2 1 1 2 3\\").pace(8)\\n */","meta":{"range":[91740,91873],"filename":"pattern.mjs","lineno":3054,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100035477","name":"exports.contract","type":"VariableDeclaration"}},"description":"<p><em>Experimental</em></p>\\n<p>Contracts the step size of the pattern by the given factor. See also <code>expand</code>.</p>","examples":["sound(\\"tha dhi thom nam\\").bank(\\"mridangam\\").contract(\\"3 2 1 1 2 3\\").pace(8)"],"name":"contract","longname":"contract","kind":"constant","scope":"global"},{"comment":"/**\\n * *Experimental*\\n *\\n * Progressively shrinks the pattern by 'n' steps until there's nothing left, or if a second value is given (using mininotation list syntax with \`:\`),\\n * that number of times.\\n * A positive number will progressively drop steps from the start of a pattern, and a negative number from the end.\\n * @return {Pattern}\\n * @example\\n * \\"tha dhi thom nam\\".shrink(\\"1\\").sound()\\n * .bank(\\"mridangam\\")\\n * @example\\n * \\"tha dhi thom nam\\".shrink(\\"-1\\").sound()\\n * .bank(\\"mridangam\\")\\n * @example\\n * \\"tha dhi thom nam\\".shrink(\\"1 -1\\").sound().bank(\\"mridangam\\").pace(4)\\n * @example\\n * note(\\"0 1 2 3 4 5 6 7\\".scale(\\"C:ritusen\\")).sound(\\"folkharp\\")\\n   .shrink(\\"1 -1\\").pace(8)\\n\\n */","meta":{"range":[93522,93904],"filename":"pattern.mjs","lineno":3120,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100035717","name":"exports.shrink","type":"VariableDeclaration"}},"description":"<p><em>Experimental</em></p>\\n<p>Progressively shrinks the pattern by 'n' steps until there's nothing left, or if a second value is given (using mininotation list syntax with <code>:</code>),\\nthat number of times.\\nA positive number will progressively drop steps from the start of a pattern, and a negative number from the end.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["\\"tha dhi thom nam\\".shrink(\\"1\\").sound()\\n.bank(\\"mridangam\\")","\\"tha dhi thom nam\\".shrink(\\"-1\\").sound()\\n.bank(\\"mridangam\\")","\\"tha dhi thom nam\\".shrink(\\"1 -1\\").sound().bank(\\"mridangam\\").pace(4)","note(\\"0 1 2 3 4 5 6 7\\".scale(\\"C:ritusen\\")).sound(\\"folkharp\\")\\n   .shrink(\\"1 -1\\").pace(8)"],"name":"shrink","longname":"shrink","kind":"constant","scope":"global"},{"comment":"/**\\n * *Experimental*\\n *\\n * Progressively grows the pattern by 'n' steps until the full pattern is played, or if a second value is given (using mininotation list syntax with \`:\`),\\n * that number of times.\\n * A positive number will progressively grow steps from the start of a pattern, and a negative number from the end.\\n * @return {Pattern}\\n * @example\\n * \\"tha dhi thom nam\\".grow(\\"1\\").sound()\\n * .bank(\\"mridangam\\")\\n * @example\\n * \\"tha dhi thom nam\\".grow(\\"-1\\").sound()\\n * .bank(\\"mridangam\\")\\n * @example\\n * \\"tha dhi thom nam\\".grow(\\"1 -1\\").sound().bank(\\"mridangam\\").pace(4)\\n * @example\\n * note(\\"0 1 2 3 4 5 6 7\\".scale(\\"C:ritusen\\")).sound(\\"folkharp\\")\\n   .grow(\\"1 -1\\").pace(8)\\n */","meta":{"range":[94584,94999],"filename":"pattern.mjs","lineno":3158,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100035783","name":"exports.grow","type":"VariableDeclaration"}},"description":"<p><em>Experimental</em></p>\\n<p>Progressively grows the pattern by 'n' steps until the full pattern is played, or if a second value is given (using mininotation list syntax with <code>:</code>),\\nthat number of times.\\nA positive number will progressively grow steps from the start of a pattern, and a negative number from the end.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["\\"tha dhi thom nam\\".grow(\\"1\\").sound()\\n.bank(\\"mridangam\\")","\\"tha dhi thom nam\\".grow(\\"-1\\").sound()\\n.bank(\\"mridangam\\")","\\"tha dhi thom nam\\".grow(\\"1 -1\\").sound().bank(\\"mridangam\\").pace(4)","note(\\"0 1 2 3 4 5 6 7\\".scale(\\"C:ritusen\\")).sound(\\"folkharp\\")\\n   .grow(\\"1 -1\\").pace(8)"],"name":"grow","longname":"grow","kind":"constant","scope":"global"},{"comment":"/**\\n * *Experimental*\\n * \\n * Inserts a pattern into a list of patterns. On the first repetition it will be inserted at the end of the list, then moved backwards through the list \\n * on successive repetitions. The patterns are added together stepwise, with all repetitions taking place over a single cycle. Using \`pace\` to set the \\n * number of steps per cycle is therefore usually recommended.\\n * \\n * @return {Pattern}\\n * @example\\n * \\"[c g]\\".tour(\\"e f\\", \\"e f g\\", \\"g f e c\\").note()\\n   .sound(\\"folkharp\\")\\n   .pace(8)\\n */","meta":{"range":[95520,95596],"filename":"pattern.mjs","lineno":3190,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100035860","name":"exports.tour","type":"VariableDeclaration"}},"description":"<p><em>Experimental</em></p>\\n<p>Inserts a pattern into a list of patterns. On the first repetition it will be inserted at the end of the list, then moved backwards through the list\\non successive repetitions. The patterns are added together stepwise, with all repetitions taking place over a single cycle. Using <code>pace</code> to set the\\nnumber of steps per cycle is therefore usually recommended.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["\\"[c g]\\".tour(\\"e f\\", \\"e f g\\", \\"g f e c\\").note()\\n   .sound(\\"folkharp\\")\\n   .pace(8)"],"name":"tour","longname":"tour","kind":"constant","scope":"global"},{"comment":"/**\\n * *Experimental*\\n * \\n * 'zips' together the steps of the provided patterns. This can create a long repetition, taking place over a single, dense cycle. \\n * Using \`pace\` to set the number of steps per cycle is therefore usually recommended.\\n * \\n * @returns {Pattern}\\n * @example\\n * zip(\\"e f\\", \\"e f g\\", \\"g [f e] a f4 c\\").note()\\n   .sound(\\"folkharp\\")\\n   .pace(8)\\n */","meta":{"range":[96196,96451],"filename":"pattern.mjs","lineno":3216,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100035929","name":"exports.zip","type":"VariableDeclaration"}},"description":"<p><em>Experimental</em></p>\\n<p>'zips' together the steps of the provided patterns. This can create a long repetition, taking place over a single, dense cycle.\\nUsing <code>pace</code> to set the number of steps per cycle is therefore usually recommended.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["zip(\\"e f\\", \\"e f g\\", \\"g [f e] a f4 c\\").note()\\n   .sound(\\"folkharp\\")\\n   .pace(8)"],"name":"zip","longname":"zip","kind":"constant","scope":"global"},{"comment":"/** Aliases for \`stepcat\` */","meta":{"range":[96482,96513],"filename":"pattern.mjs","lineno":3224,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100035993","name":"exports.timecat","type":"VariableDeclaration"}},"description":"<p>Aliases for <code>stepcat</code></p>","name":"timecat","longname":"timecat","kind":"constant","scope":"global"},{"comment":"/**\\n * Cuts each sample into the given number of parts, allowing you to explore a technique known as 'granular synthesis'.\\n * It turns a pattern of samples into a pattern of parts of samples.\\n * @name chop\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })\\n * s(\\"rhodes\\")\\n *  .chop(4)\\n *  .rev() // reverse order of chops\\n *  .loopAt(2) // fit sample into 2 cycles\\n *\\n */","meta":{"filename":"pattern.mjs","lineno":3257,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Cuts each sample into the given number of parts, allowing you to explore a technique known as 'granular synthesis'.\\nIt turns a pattern of samples into a pattern of parts of samples.</p>","name":"chop","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })\\ns(\\"rhodes\\")\\n .chop(4)\\n .rev() // reverse order of chops\\n .loopAt(2) // fit sample into 2 cycles"],"scope":"static","longname":"Pattern.chop","kind":"member"},{"comment":"/**\\n * Cuts each sample into the given number of parts, triggering progressive portions of each sample at each loop.\\n * @name striate\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * s(\\"numbers:0 numbers:1 numbers:2\\").striate(6).slow(3)\\n */","meta":{"filename":"pattern.mjs","lineno":3288,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Cuts each sample into the given number of parts, triggering progressive portions of each sample at each loop.</p>","name":"striate","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"numbers:0 numbers:1 numbers:2\\").striate(6).slow(3)"],"scope":"static","longname":"Pattern.striate","kind":"member"},{"comment":"/**\\n * Makes the sample fit the given number of cycles by changing the speed.\\n * @name loopAt\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })\\n * s(\\"rhodes\\").loopAt(2)\\n */","meta":{"filename":"pattern.mjs","lineno":3306,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Makes the sample fit the given number of cycles by changing the speed.</p>","name":"loopAt","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })\\ns(\\"rhodes\\").loopAt(2)"],"scope":"static","longname":"Pattern.loopAt","kind":"member"},{"comment":"/**\\n * Chops samples into the given number of slices, triggering those slices with a given pattern of slice numbers.\\n * Instead of a number, it also accepts a list of numbers from 0 to 1 to slice at specific points.\\n * @name slice\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * samples('github:tidalcycles/dirt-samples')\\n * s(\\"breaks165\\").slice(8, \\"0 1 <2 2*2> 3 [4 0] 5 6 7\\".every(3, rev)).slow(0.75)\\n * @example\\n * samples('github:tidalcycles/dirt-samples')\\n * s(\\"breaks125\\").fit().slice([0,.25,.5,.75], \\"0 1 1 <2 3>\\")\\n */","meta":{"filename":"pattern.mjs","lineno":3323,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Chops samples into the given number of slices, triggering those slices with a given pattern of slice numbers.\\nInstead of a number, it also accepts a list of numbers from 0 to 1 to slice at specific points.</p>","name":"slice","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["samples('github:tidalcycles/dirt-samples')\\ns(\\"breaks165\\").slice(8, \\"0 1 <2 2*2> 3 [4 0] 5 6 7\\".every(3, rev)).slow(0.75)","samples('github:tidalcycles/dirt-samples')\\ns(\\"breaks125\\").fit().slice([0,.25,.5,.75], \\"0 1 1 <2 3>\\")"],"scope":"static","longname":"Pattern.slice","kind":"member"},{"comment":"/**\\n *\\n * make something happen on event time\\n * uses browser timeout which is innacurate for audio tasks\\n * @name onTriggerTime\\n * @memberof Pattern\\n *  @returns Pattern\\n * @example\\n * s(\\"bd!8\\").onTriggerTime((hap) => {console.log(hap)})\\n */","meta":{"filename":"pattern.mjs","lineno":3357,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>make something happen on event time\\nuses browser timeout which is innacurate for audio tasks</p>","name":"onTriggerTime","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"bd!8\\").onTriggerTime((hap) => {console.log(hap)})"],"scope":"static","longname":"Pattern.onTriggerTime","kind":"member"},{"comment":"/**\\n * Works the same as slice, but changes the playback speed of each slice to match the duration of its step.\\n * @name splice\\n * @example\\n * samples('github:tidalcycles/dirt-samples')\\n * s(\\"breaks165\\")\\n * .splice(8,  \\"0 1 [2 3 0]@2 3 0@2 7\\")\\n */","meta":{"filename":"pattern.mjs","lineno":3376,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Works the same as slice, but changes the playback speed of each slice to match the duration of its step.</p>","name":"splice","examples":["samples('github:tidalcycles/dirt-samples')\\ns(\\"breaks165\\")\\n.splice(8,  \\"0 1 [2 3 0]@2 3 0@2 7\\")"],"longname":"splice","kind":"member","scope":"global"},{"comment":"/**\\n * Makes the sample fit its event duration. Good for rhythmical loops like drum breaks.\\n * Similar to \`loopAt\`.\\n * @name fit\\n * @example\\n * samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })\\n * s(\\"rhodes/2\\").fit()\\n */","meta":{"filename":"pattern.mjs","lineno":3412,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Makes the sample fit its event duration. Good for rhythmical loops like drum breaks.\\nSimilar to <code>loopAt</code>.</p>","name":"fit","examples":["samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })\\ns(\\"rhodes/2\\").fit()"],"longname":"fit","kind":"member","scope":"global"},{"comment":"/**\\n * Makes the sample fit the given number of cycles and cps value, by\\n * changing the speed. Please note that at some point cps will be\\n * given by a global clock and this function will be\\n * deprecated/removed.\\n * @name loopAtCps\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })\\n * s(\\"rhodes\\").loopAtCps(4,1.5).cps(1.5)\\n */","meta":{"filename":"pattern.mjs","lineno":3435,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Makes the sample fit the given number of cycles and cps value, by\\nchanging the speed. Please note that at some point cps will be\\ngiven by a global clock and this function will be\\ndeprecated/removed.</p>","name":"loopAtCps","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["samples({ rhodes: 'https://cdn.freesound.org/previews/132/132051_316502-lq.mp3' })\\ns(\\"rhodes\\").loopAtCps(4,1.5).cps(1.5)"],"scope":"static","longname":"Pattern.loopAtCps","kind":"member"},{"comment":"/** exposes a custom value at query time. basically allows mutating state without evaluation */","meta":{"range":[103983,104083],"filename":"pattern.mjs","lineno":3453,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100036833","name":"exports.ref","type":"VariableDeclaration"}},"description":"<p>exposes a custom value at query time. basically allows mutating state without evaluation</p>","name":"ref","longname":"ref","kind":"constant","scope":"global"},{"comment":"/**\\n * Cross-fades between left and right from 0 to 1:\\n * - 0 = (full left, no right)\\n * - .5 = (both equal)\\n * - 1 = (no left, full right)\\n *\\n * @name xfade\\n * @example\\n * xfade(s(\\"bd*2\\"), \\"<0 .25 .5 .75 1>\\", s(\\"hh*8\\"))\\n */","meta":{"filename":"pattern.mjs","lineno":3460,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Cross-fades between left and right from 0 to 1:</p>\\n<ul>\\n<li>0 = (full left, no right)</li>\\n<li>.5 = (both equal)</li>\\n<li>1 = (no left, full right)</li>\\n</ul>","name":"xfade","examples":["xfade(s(\\"bd*2\\"), \\"<0 .25 .5 .75 1>\\", s(\\"hh*8\\"))"],"longname":"xfade","kind":"member","scope":"global"},{"comment":"/**\\n * creates a structure pattern from divisions of a cycle\\n * especially useful for creating rhythms\\n * @name beat\\n * @example\\n * s(\\"bd\\").beat(\\"0,7,10\\", 16)\\n * @example\\n * s(\\"sd\\").beat(\\"4,12\\", 16)\\n */","meta":{"filename":"pattern.mjs","lineno":3484,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>creates a structure pattern from divisions of a cycle\\nespecially useful for creating rhythms</p>","name":"beat","examples":["s(\\"bd\\").beat(\\"0,7,10\\", 16)","s(\\"sd\\").beat(\\"4,12\\", 16)"],"longname":"beat","kind":"member","scope":"global"},{"comment":"/**\\n * Takes two binary rhythms represented as lists of 1s and 0s, and a number\\n * between 0 and 1 that morphs between them. The two lists should contain the same\\n * number of true values.\\n * @example\\n * sound(\\"hh\\").struct(morph([1,0,1,0,1,0,1,0], // straight rhythm\\n *                          [1,1,0,1,0,1,0], // wonky rhythm\\n *                          0.25 // creates a slightly wonky rhythm\\n *                         )\\n *                   )\\n * @example\\n * sound(\\"hh\\").struct(morph(\\"1:0:1:0:1:0:1:0\\", // straight rhythm\\n *                          \\"1:1:0:1:0:1:0\\", // wonky rhythm\\n *                          sine.slow(8) // slowly morph between the rhythms\\n *                         )\\n *                   )\\n */","meta":{"range":[107057,107295],"filename":"pattern.mjs","lineno":3565,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100037233","name":"exports.morph","type":"VariableDeclaration"}},"description":"<p>Takes two binary rhythms represented as lists of 1s and 0s, and a number\\nbetween 0 and 1 that morphs between them. The two lists should contain the same\\nnumber of true values.</p>","examples":["sound(\\"hh\\").struct(morph([1,0,1,0,1,0,1,0], // straight rhythm\\n                         [1,1,0,1,0,1,0], // wonky rhythm\\n                         0.25 // creates a slightly wonky rhythm\\n                        )\\n                  )","sound(\\"hh\\").struct(morph(\\"1:0:1:0:1:0:1:0\\", // straight rhythm\\n                         \\"1:1:0:1:0:1:0\\", // wonky rhythm\\n                         sine.slow(8) // slowly morph between the rhythms\\n                        )\\n                  )"],"name":"morph","longname":"morph","kind":"constant","scope":"global"},{"comment":"/**\\n * Soft-clipping distortion\\n *\\n * @name soft\\n * @param {number | Pattern} distortion amount of distortion to apply\\n * @param {number | Pattern} volume linear postgain of the distortion\\n *\\n */","meta":{"filename":"pattern.mjs","lineno":3572,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Soft-clipping distortion</p>","name":"soft","params":[{"type":{"names":["number","Pattern"]},"description":"<p>amount of distortion to apply</p>","name":"distortion"},{"type":{"names":["number","Pattern"]},"description":"<p>linear postgain of the distortion</p>","name":"volume"}],"longname":"soft","kind":"member","scope":"global"},{"comment":"/**\\n * Hard-clipping distortion\\n *\\n * @name hard\\n * @param {number | Pattern} distortion amount of distortion to apply\\n * @param {number | Pattern} volume linear postgain of the distortion\\n *\\n */","meta":{"filename":"pattern.mjs","lineno":3580,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Hard-clipping distortion</p>","name":"hard","params":[{"type":{"names":["number","Pattern"]},"description":"<p>amount of distortion to apply</p>","name":"distortion"},{"type":{"names":["number","Pattern"]},"description":"<p>linear postgain of the distortion</p>","name":"volume"}],"longname":"hard","kind":"member","scope":"global"},{"comment":"/**\\n * Cubic polynomial distortion\\n *\\n * @name cubic\\n * @param {number | Pattern} distortion amount of distortion to apply\\n * @param {number | Pattern} volume linear postgain of the distortion\\n *\\n */","meta":{"filename":"pattern.mjs","lineno":3588,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Cubic polynomial distortion</p>","name":"cubic","params":[{"type":{"names":["number","Pattern"]},"description":"<p>amount of distortion to apply</p>","name":"distortion"},{"type":{"names":["number","Pattern"]},"description":"<p>linear postgain of the distortion</p>","name":"volume"}],"longname":"cubic","kind":"member","scope":"global"},{"comment":"/**\\n * Diode-emulating distortion\\n *\\n * @name diode\\n * @param {number | Pattern} distortion amount of distortion to apply\\n * @param {number | Pattern} volume linear postgain of the distortion\\n *\\n */","meta":{"filename":"pattern.mjs","lineno":3596,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Diode-emulating distortion</p>","name":"diode","params":[{"type":{"names":["number","Pattern"]},"description":"<p>amount of distortion to apply</p>","name":"distortion"},{"type":{"names":["number","Pattern"]},"description":"<p>linear postgain of the distortion</p>","name":"volume"}],"longname":"diode","kind":"member","scope":"global"},{"comment":"/**\\n * Asymmetrical diode distortion\\n *\\n * @name asym\\n * @param {number | Pattern} distortion amount of distortion to apply\\n * @param {number | Pattern} volume linear postgain of the distortion\\n *\\n */","meta":{"filename":"pattern.mjs","lineno":3604,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Asymmetrical diode distortion</p>","name":"asym","params":[{"type":{"names":["number","Pattern"]},"description":"<p>amount of distortion to apply</p>","name":"distortion"},{"type":{"names":["number","Pattern"]},"description":"<p>linear postgain of the distortion</p>","name":"volume"}],"longname":"asym","kind":"member","scope":"global"},{"comment":"/**\\n * Wavefolding distortion\\n *\\n * @name fold\\n * @param {number | Pattern} distortion amount of distortion to apply\\n * @param {number | Pattern} volume linear postgain of the distortion\\n *\\n */","meta":{"filename":"pattern.mjs","lineno":3612,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Wavefolding distortion</p>","name":"fold","params":[{"type":{"names":["number","Pattern"]},"description":"<p>amount of distortion to apply</p>","name":"distortion"},{"type":{"names":["number","Pattern"]},"description":"<p>linear postgain of the distortion</p>","name":"volume"}],"longname":"fold","kind":"member","scope":"global"},{"comment":"/**\\n * Wavefolding distortion composed with sinusoid\\n *\\n * @name sinefold\\n * @param {number | Pattern} distortion amount of distortion to apply\\n * @param {number | Pattern} volume linear postgain of the distortion\\n *\\n */","meta":{"filename":"pattern.mjs","lineno":3620,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Wavefolding distortion composed with sinusoid</p>","name":"sinefold","params":[{"type":{"names":["number","Pattern"]},"description":"<p>amount of distortion to apply</p>","name":"distortion"},{"type":{"names":["number","Pattern"]},"description":"<p>linear postgain of the distortion</p>","name":"volume"}],"longname":"sinefold","kind":"member","scope":"global"},{"comment":"/**\\n * Distortion via Chebyshev polynomials\\n *\\n * @name chebyshev\\n * @param {number | Pattern} distortion amount of distortion to apply\\n * @param {number | Pattern} volume linear postgain of the distortion\\n *\\n */","meta":{"filename":"pattern.mjs","lineno":3628,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Distortion via Chebyshev polynomials</p>","name":"chebyshev","params":[{"type":{"names":["number","Pattern"]},"description":"<p>amount of distortion to apply</p>","name":"distortion"},{"type":{"names":["number","Pattern"]},"description":"<p>linear postgain of the distortion</p>","name":"volume"}],"longname":"chebyshev","kind":"member","scope":"global"},{"comment":"/**\\n * Turns a list of patterns into a single pattern which outputs list-values\\n *\\n * @name parray\\n * @returns Pattern\\n */","meta":{"filename":"pattern.mjs","lineno":3645,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Turns a list of patterns into a single pattern which outputs list-values</p>","name":"parray","returns":[{"description":"<p>Pattern</p>"}],"longname":"parray","kind":"member","scope":"global"},{"comment":"/**\\n * Scale the magnitude of the harmonics of one of the core synths ('sine', 'tri', 'saw', ..)\\n *\\n * Can also be used to create a new synth via \`s('user').partials(...)\`\\n *\\n * @name partials\\n * @param {number[] | Pattern} magnitudes List of [0, 1] magnitudes for partials. 0th entry is the fundamental harmonic (i.e. DC offset is skipped)\\n * @example\\n * s(\\"user\\").seg(16).n(irand(8)).scale(\\"A:major\\")\\n *   .partials([1, 0, 1, 0, 0, 1])\\n * @example\\n * s(\\"saw\\").seg(8).n(irand(12)).scale(\\"G#:minor\\")\\n *   .partials(binaryL(irand(256).add(\\"1\\")))\\n */","meta":{"filename":"pattern.mjs","lineno":3665,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Scale the magnitude of the harmonics of one of the core synths ('sine', 'tri', 'saw', ..)</p>\\n<p>Can also be used to create a new synth via <code>s('user').partials(...)</code></p>","name":"partials","params":[{"type":{"names":["Array.<number>","Pattern"]},"description":"<p>List of [0, 1] magnitudes for partials. 0th entry is the fundamental harmonic (i.e. DC offset is skipped)</p>","name":"magnitudes"}],"examples":["s(\\"user\\").seg(16).n(irand(8)).scale(\\"A:major\\")\\n  .partials([1, 0, 1, 0, 0, 1])","s(\\"saw\\").seg(8).n(irand(12)).scale(\\"G#:minor\\")\\n  .partials(binaryL(irand(256).add(\\"1\\")))"],"longname":"partials","kind":"member","scope":"global"},{"comment":"/**\\n * Rotates the harmonics of one of the core synths ('sine', 'tri', 'saw', 'user', ..) by a list of phases\\n *\\n * @name phases\\n * @param {number[] | Pattern} phases List of [0, 1) phases for partials. 0th entry is the fundamental phase (i.e. DC offset is skipped)\\n * @example\\n * // Phase cancellation\\n * s(\\"saw\\").seg(8).n(irand(12)).scale(\\"G#1:minor\\")\\n *   .partials(partials([1, 1, 1]))\\n *   .superimpose(x => x.phases([0.5, 0.5, 0.5]))\\n */","meta":{"filename":"pattern.mjs","lineno":3688,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Rotates the harmonics of one of the core synths ('sine', 'tri', 'saw', 'user', ..) by a list of phases</p>","name":"phases","params":[{"type":{"names":["Array.<number>","Pattern"]},"description":"<p>List of [0, 1) phases for partials. 0th entry is the fundamental phase (i.e. DC offset is skipped)</p>","name":"phases"}],"examples":["// Phase cancellation\\ns(\\"saw\\").seg(8).n(irand(12)).scale(\\"G#1:minor\\")\\n  .partials(partials([1, 1, 1]))\\n  .superimpose(x => x.phases([0.5, 0.5, 0.5]))"],"longname":"phases","kind":"member","scope":"global"},{"comment":"/** * Выбирает patterns (или простые значения) либо из списка (по индексу), либо из таблицы поиска (по имени).\\n * Похож на \`inhabit\`, но сохраняет структуру исходных patterns.\\n * @param {Pattern} pat\\n * @param {*} xs\\n * @returns {Pattern}\\n * @example\\n * note(\\"<0 1 2!2 3>\\".pick([\\"g a\\", \\"e f\\", \\"f g f g\\" , \\"g c d\\"]))\\n * @example\\n * sound(\\"<0 1 [2,0]>\\".pick([\\"bd sd\\", \\"cp cp\\", \\"hh hh\\"]))\\n * @example\\n * sound(\\"<0!2 [0,1] 1>\\".pick([\\"bd(3,8)\\", \\"sd sd\\"]))\\n * @example\\n * s(\\"<a!2 [a,b] b>\\".pick({a: \\"bd(3,8)\\", b: \\"sd sd\\"}))\\n */","meta":{"range":[1891,2093],"filename":"pick.mjs","lineno":44,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100037604","name":"exports.pick","type":"VariableDeclaration"}},"description":"<p>Выбирает patterns (или простые значения) либо из списка (по индексу), либо из таблицы поиска (по имени).\\nПохож на <code>inhabit</code>, но сохраняет структуру исходных patterns.</p>","params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["*"]},"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"examples":["note(\\"<0 1 2!2 3>\\".pick([\\"g a\\", \\"e f\\", \\"f g f g\\" , \\"g c d\\"]))","sound(\\"<0 1 [2,0]>\\".pick([\\"bd sd\\", \\"cp cp\\", \\"hh hh\\"]))","sound(\\"<0!2 [0,1] 1>\\".pick([\\"bd(3,8)\\", \\"sd sd\\"]))","s(\\"<a!2 [a,b] b>\\".pick({a: \\"bd(3,8)\\", b: \\"sd sd\\"}))"],"name":"pick","longname":"pick","kind":"constant","scope":"global"},{"comment":"/** * То же самое, что \`pick\`, но если вы выбираете число больше размера списка,\\n * оно зацикливается, вместо того чтобы остановиться на максимальном значении.\\n * Например, если вы выбираете пятый pattern из списка из трех, вы получите\\n * второй.\\n * @param {Pattern} pat\\n * @param {*} xs\\n * @returns {Pattern}\\n */","meta":{"range":[2520,2638],"filename":"pick.mjs","lineno":65,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100037649","name":"exports.pickmod","type":"VariableDeclaration"}},"description":"<p>То же самое, что <code>pick</code>, но если вы выбираете число больше размера списка,\\nоно зацикливается, вместо того чтобы остановиться на максимальном значении.\\nНапример, если вы выбираете пятый pattern из списка из трех, вы получите\\nвторой.</p>","params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["*"]},"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"name":"pickmod","longname":"pickmod","kind":"constant","scope":"global"},{"comment":"/** * pickF позволяет использовать pattern чисел для выбора функции, которую нужно применить к другому pattern.\\n * @param {Pattern} pat\\n * @param {Pattern} lookup pattern индексов\\n * @param {function[]} funcs массив функций, из которых нужно выбирать\\n * @returns {Pattern}\\n * @example\\n * s(\\"bd [rim hh]\\").pickF(\\"<0 1 2>\\", [rev,jux(rev),fast(2)])\\n * @example\\n * note(\\"<c2 d2>(3,8)\\").s(\\"square\\")\\n *     .pickF(\\"<0 2> 1\\", [jux(rev),fast(2),x=>x.lpf(800)])\\n */","meta":{"range":[3097,3212],"filename":"pick.mjs","lineno":80,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100037669","name":"exports.pickF","type":"VariableDeclaration"}},"description":"<p>pickF позволяет использовать pattern чисел для выбора функции, которую нужно применить к другому pattern.</p>","params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["Pattern"]},"description":"<p>pattern индексов</p>","name":"lookup"},{"type":{"names":["Array.<function()>"]},"description":"<p>массив функций, из которых нужно выбирать</p>","name":"funcs"}],"returns":[{"type":{"names":["Pattern"]}}],"examples":["s(\\"bd [rim hh]\\").pickF(\\"<0 1 2>\\", [rev,jux(rev),fast(2)])","note(\\"<c2 d2>(3,8)\\").s(\\"square\\")\\n    .pickF(\\"<0 2> 1\\", [jux(rev),fast(2),x=>x.lpf(800)])"],"name":"pickF","longname":"pickF","kind":"constant","scope":"global"},{"comment":"/** * То же самое, что \`pickF\`, но если вы выбираете число больше размера списка функций,\\n * оно зацикливается, вместо того чтобы остановиться на максимальном значении.\\n * @param {Pattern} pat\\n * @param {Pattern} lookup pattern индексов\\n * @param {function[]} funcs массив функций, из которых нужно выбирать\\n * @returns {Pattern}\\n */","meta":{"range":[3548,3672],"filename":"pick.mjs","lineno":91,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100037690","name":"exports.pickmodF","type":"VariableDeclaration"}},"description":"<p>То же самое, что <code>pickF</code>, но если вы выбираете число больше размера списка функций,\\nоно зацикливается, вместо того чтобы остановиться на максимальном значении.</p>","params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["Pattern"]},"description":"<p>pattern индексов</p>","name":"lookup"},{"type":{"names":["Array.<function()>"]},"description":"<p>массив функций, из которых нужно выбирать</p>","name":"funcs"}],"returns":[{"type":{"names":["Pattern"]}}],"name":"pickmodF","longname":"pickmodF","kind":"constant","scope":"global"},{"comment":"/** * Похож на \`pick\`, но применяет outerJoin вместо innerJoin.\\n * @param {Pattern} pat\\n * @param {*} xs\\n * @returns {Pattern}\\n */","meta":{"range":[3805,3924],"filename":"pick.mjs","lineno":100,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100037711","name":"exports.pickOut","type":"VariableDeclaration"}},"description":"<p>Похож на <code>pick</code>, но применяет outerJoin вместо innerJoin.</p>","params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["*"]},"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"name":"pickOut","longname":"pickOut","kind":"constant","scope":"global"},{"comment":"/** * То же самое, что \`pickOut\`, но если вы выбираете число больше размера списка,\\n * оно зацикливается, вместо того чтобы остановиться на максимальном значении.\\n * @param {Pattern} pat\\n * @param {*} xs\\n * @returns {Pattern}\\n */","meta":{"range":[4156,4280],"filename":"pick.mjs","lineno":110,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100037731","name":"exports.pickmodOut","type":"VariableDeclaration"}},"description":"<p>То же самое, что <code>pickOut</code>, но если вы выбираете число больше размера списка,\\nоно зацикливается, вместо того чтобы остановиться на максимальном значении.</p>","params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["*"]},"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"name":"pickmodOut","longname":"pickmodOut","kind":"constant","scope":"global"},{"comment":"/** * Похож на \`pick\`, но выбранный pattern перезапускается, когда активируется его индекс.\\n * @param {Pattern} pat\\n * @param {*} xs\\n * @returns {Pattern}\\n */","meta":{"range":[4441,4570],"filename":"pick.mjs","lineno":119,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100037751","name":"exports.pickRestart","type":"VariableDeclaration"}},"description":"<p>Похож на <code>pick</code>, но выбранный pattern перезапускается, когда активируется его индекс.</p>","params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["*"]},"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"name":"pickRestart","longname":"pickRestart","kind":"constant","scope":"global"},{"comment":"/** * То же самое, что \`pickRestart\`, но если вы выбираете число больше размера списка,\\n   * оно зацикливается, вместо того чтобы остановиться на максимальном значении.\\n   * @param {Pattern} pat\\n   * @param {*} xs\\n   * @returns {Pattern}\\n   * @example\\n   * \\"<a@2 b@2 c@2 d@2>\\".pickRestart({\\n        a: n(\\"0 1 2 0\\"),\\n        b: n(\\"2 3 4 ~\\"),\\n        c: n(\\"[4 5] [4 3] 2 0\\"),\\n        d: n(\\"0 -3 0 ~\\")\\n      }).scale(\\"C:major\\").s(\\"piano\\")\\n   */","meta":{"range":[5014,5148],"filename":"pick.mjs","lineno":136,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100037771","name":"exports.pickmodRestart","type":"VariableDeclaration"}},"description":"<p>То же самое, что <code>pickRestart</code>, но если вы выбираете число больше размера списка,\\nоно зацикливается, вместо того чтобы остановиться на максимальном значении.</p>","params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["*"]},"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"examples":["\\"<a@2 b@2 c@2 d@2>\\".pickRestart({\\n        a: n(\\"0 1 2 0\\"),\\n        b: n(\\"2 3 4 ~\\"),\\n        c: n(\\"[4 5] [4 3] 2 0\\"),\\n        d: n(\\"0 -3 0 ~\\")\\n      }).scale(\\"C:major\\").s(\\"piano\\")"],"name":"pickmodRestart","longname":"pickmodRestart","kind":"constant","scope":"global"},{"comment":"/** * Похож на \`pick\`, но выбранный pattern сбрасывается, когда активируется его индекс.\\n * @param {Pattern} pat\\n * @param {*} xs\\n * @returns {Pattern}\\n */","meta":{"range":[5306,5429],"filename":"pick.mjs","lineno":145,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100037791","name":"exports.pickReset","type":"VariableDeclaration"}},"description":"<p>Похож на <code>pick</code>, но выбранный pattern сбрасывается, когда активируется его индекс.</p>","params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["*"]},"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"name":"pickReset","longname":"pickReset","kind":"constant","scope":"global"},{"comment":"/** * То же самое, что \`pickReset\`, но если вы выбираете число больше размера списка,\\n * оно зацикливается, вместо того чтобы остановиться на максимальном значении.\\n * @param {Pattern} pat\\n * @param {*} xs\\n * @returns {Pattern}\\n */","meta":{"range":[5663,5791],"filename":"pick.mjs","lineno":155,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100037811","name":"exports.pickmodReset","type":"VariableDeclaration"}},"description":"<p>То же самое, что <code>pickReset</code>, но если вы выбираете число больше размера списка,\\nоно зацикливается, вместо того чтобы остановиться на максимальном значении.</p>","params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["*"]},"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"name":"pickmodReset","longname":"pickmodReset","kind":"constant","scope":"global"},{"comment":"/** Выбирает patterns (или простые значения) либо из списка (по индексу), либо из таблицы поиска (по имени).\\n   * Похож на \`pick\`, но cycle сжимаются в целевой ('обитаемый') pattern.\\n   * @name inhabit\\n   * @synonyms pickSqueeze\\n   * @param {Pattern} pat\\n   * @param {*} xs\\n   * @returns {Pattern}\\n   * @example\\n   * \\"<a b [a,b]>\\".inhabit({a: s(\\"bd(3,8)\\"),\\n                            b: s(\\"cp sd\\")\\n                           })\\n   * @example\\n   * s(\\"a@2 [a b] a\\".inhabit({a: \\"bd(3,8)\\", b: \\"sd sd\\"})).slow(4)\\n   */","meta":{"filename":"pick.mjs","lineno":159,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Выбирает patterns (или простые значения) либо из списка (по индексу), либо из таблицы поиска (по имени).\\nПохож на <code>pick</code>, но cycle сжимаются в целевой ('обитаемый') pattern.</p>","name":"inhabit","synonyms_text":"pickSqueeze","synonyms":["pickSqueeze"],"params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["*"]},"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"examples":["\\"<a b [a,b]>\\".inhabit({a: s(\\"bd(3,8)\\"),\\n                            b: s(\\"cp sd\\")\\n                           })","s(\\"a@2 [a b] a\\".inhabit({a: \\"bd(3,8)\\", b: \\"sd sd\\"})).slow(4)"],"longname":"inhabit","kind":"member","scope":"global"},{"comment":"/** * То же самое, что \`inhabit\`, но если вы выбираете число больше размера списка,\\n * оно зацикливается, вместо того чтобы остановиться на максимальном значении.\\n * Например, если вы выбираете пятый pattern из списка из трех, вы получите\\n * второй.\\n * @name inhabitmod\\n * @synonyms pickmodSqueeze\\n * @param {Pattern} pat\\n * @param {*} xs\\n * @returns {Pattern}\\n */","meta":{"filename":"pick.mjs","lineno":177,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>То же самое, что <code>inhabit</code>, но если вы выбираете число больше размера списка,\\nоно зацикливается, вместо того чтобы остановиться на максимальном значении.\\nНапример, если вы выбираете пятый pattern из списка из трех, вы получите\\nвторой.</p>","name":"inhabitmod","synonyms_text":"pickmodSqueeze","synonyms":["pickmodSqueeze"],"params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["*"]},"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"longname":"inhabitmod","kind":"member","scope":"global"},{"comment":"/**\\n * Выбирает из списка значений (или patterns значений) по индексу, используя заданный\\n * pattern целых чисел. Выбранный pattern будет сжат, чтобы соответствовать длительности выбирающего события\\n * @param {Pattern} pat\\n * @param {*} xs\\n * @returns {Pattern}\\n * @example\\n * note(squeeze(\\"<0@2 [1!2] 2>\\", [\\"g a\\", \\"f g f g\\" , \\"g a c d\\"]))\\n */","meta":{"range":[7344,7585],"filename":"pick.mjs","lineno":202,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100037883","name":"exports.squeeze","type":"VariableDeclaration"}},"description":"<p>Выбирает из списка значений (или patterns значений) по индексу, используя заданный\\npattern целых чисел. Выбранный pattern будет сжат, чтобы соответствовать длительности выбирающего события</p>","params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["*"]},"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"examples":["note(squeeze(\\"<0@2 [1!2] 2>\\", [\\"g a\\", \\"f g f g\\" , \\"g a c d\\"]))"],"name":"squeeze","longname":"squeeze","kind":"constant","scope":"global"},{"comment":"/**\\n   * Изменяет глобальный темп на указанное количество cycles в минуту\\n   *\\n   * @name setcpm\\n   * @alias setCpm\\n   * @param {number} cpm cycles в минуту\\n   * @example\\n   * setcpm(140/4) // =140 bpm в 4/4\\n   * $: s(\\"bd*4,[- sd]*2\\").bank('tr707')\\n   */","meta":{"filename":"repl.mjs","lineno":101,"columnno":2,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Изменяет глобальный темп на указанное количество cycles в минуту</p>","name":"setcpm","alias":"setCpm","params":[{"type":{"names":["number"]},"description":"<p>cycles в минуту</p>","name":"cpm"}],"examples":["setcpm(140/4) // =140 bpm в 4/4\\n$: s(\\"bd*4,[- sd]*2\\").bank('tr707')"],"longname":"setcpm","kind":"member","scope":"global"},{"comment":"/** Applies a function to all the running patterns. Note that the patterns are groups together into a single \`stack\` before the function is applied. This is probably what you want, but see \`each\` for\\n   * a version that applies the function to each pattern separately.\\n   * \`\`\`\\n   * $: sound(\\"bd - cp sd\\")\\n   * $: sound(\\"hh*8\\")\\n   * all(fast(\\"<2 3>\\"))\\n   * \`\`\`\\n   * \`\`\`\\n   * $: sound(\\"bd - cp sd\\")\\n   * $: sound(\\"hh*8\\")\\n   * all(x => x.pianoroll())\\n   * \`\`\`\\n   */","meta":{"range":[3434,3452],"filename":"repl.mjs","lineno":131,"columnno":6,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100038282","name":"allTransforms","type":"ArrayExpression","value":"[]"}},"description":"<p>Applies a function to all the running patterns. Note that the patterns are groups together into a single <code>stack</code> before the function is applied. This is probably what you want, but see <code>each</code> for\\na version that applies the function to each pattern separately.</p>\\n<pre class=\\"prettyprint source\\"><code>$: sound(&quot;bd - cp sd&quot;)\\n$: sound(&quot;hh*8&quot;)\\nall(fast(&quot;&lt;2 3>&quot;))\\n</code></pre>\\n<pre class=\\"prettyprint source\\"><code>$: sound(&quot;bd - cp sd&quot;)\\n$: sound(&quot;hh*8&quot;)\\nall(x => x.pianoroll())\\n</code></pre>","name":"allTransforms","longname":"repl~allTransforms","kind":"member","memberof":"repl","scope":"inner","params":[]},{"comment":"/** Applies a function to each of the running patterns separately. This is intended for future use with upcoming 'stepwise' features. See \`all\` for a version that applies the function to all the patterns stacked together into a single pattern.\\n   * \`\`\`\\n   * $: sound(\\"bd - cp sd\\")\\n   * $: sound(\\"hh*8\\")\\n   * each(fast(\\"<2 3>\\"))\\n   * \`\`\`\\n   */","meta":{"range":[3904,3988],"filename":"repl.mjs","lineno":143,"columnno":8,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100038300","name":"each","type":"FunctionExpression"},"vars":{"eachTransform":"repl~each~eachTransform"}},"description":"<p>Applies a function to each of the running patterns separately. This is intended for future use with upcoming 'stepwise' features. See <code>all</code> for a version that applies the function to all the patterns stacked together into a single pattern.</p>\\n<pre class=\\"prettyprint source\\"><code>$: sound(&quot;bd - cp sd&quot;)\\n$: sound(&quot;hh*8&quot;)\\neach(fast(&quot;&lt;2 3>&quot;))\\n</code></pre>","name":"each","longname":"repl~each","kind":"function","memberof":"repl","scope":"inner","params":[]},{"comment":"/**\\n *  Пилообразный signal от 0 до 1.\\n *\\n * @return {Pattern}\\n * @example\\n * note(\\"<c3 [eb3,g3] g2 [g3,bb3]>*8\\")\\n * .clip(saw.slow(2))\\n * @example\\n * n(saw.range(0,8).segment(8))\\n * .scale('C major')\\n *\\n */","meta":{"range":[1529,1569],"filename":"signal.mjs","lineno":35,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100038979","name":"exports.saw","type":"VariableDeclaration"}},"description":"<p>Пилообразный signal от 0 до 1.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["note(\\"<c3 [eb3,g3] g2 [g3,bb3]>*8\\")\\n.clip(saw.slow(2))","n(saw.range(0,8).segment(8))\\n.scale('C major')"],"name":"saw","longname":"saw","kind":"constant","scope":"global"},{"comment":"/**\\n *  Пилообразный signal от -1 до 1 (как \`saw\`, но биполярный).\\n *\\n * @return {Pattern}\\n */","meta":{"range":[1666,1702],"filename":"signal.mjs","lineno":42,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100038990","name":"exports.saw2","type":"VariableDeclaration"}},"description":"<p>Пилообразный signal от -1 до 1 (как <code>saw</code>, но биполярный).</p>","returns":[{"type":{"names":["Pattern"]}}],"name":"saw2","longname":"saw2","kind":"constant","scope":"global"},{"comment":"/**\\n *  Пилообразный signal от 1 до 0 (как \`saw\`, но перевернутый).\\n *\\n * @return {Pattern}\\n * @example\\n * note(\\"<c3 [eb3,g3] g2 [g3,bb3]>*8\\")\\n * .clip(isaw.slow(2))\\n * @example\\n * n(isaw.range(0,8).segment(8))\\n * .scale('C major')\\n *\\n */","meta":{"range":[1943,1990],"filename":"signal.mjs","lineno":56,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100038998","name":"exports.isaw","type":"VariableDeclaration"}},"description":"<p>Пилообразный signal от 1 до 0 (как <code>saw</code>, но перевернутый).</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["note(\\"<c3 [eb3,g3] g2 [g3,bb3]>*8\\")\\n.clip(isaw.slow(2))","n(isaw.range(0,8).segment(8))\\n.scale('C major')"],"name":"isaw","longname":"isaw","kind":"constant","scope":"global"},{"comment":"/**\\n *  Пилообразный signal от 1 до -1 (как \`saw2\`, но перевернутый).\\n *\\n * @return {Pattern}\\n */","meta":{"range":[2090,2128],"filename":"signal.mjs","lineno":63,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039011","name":"exports.isaw2","type":"VariableDeclaration"}},"description":"<p>Пилообразный signal от 1 до -1 (как <code>saw2</code>, но перевернутый).</p>","returns":[{"type":{"names":["Pattern"]}}],"name":"isaw2","longname":"isaw2","kind":"constant","scope":"global"},{"comment":"/**\\n *  Синусоидальный signal от -1 до 1 (как \`sine\`, но биполярный).\\n *\\n * @return {Pattern}\\n */","meta":{"range":[2228,2290],"filename":"signal.mjs","lineno":70,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039019","name":"exports.sine2","type":"VariableDeclaration"}},"description":"<p>Синусоидальный signal от -1 до 1 (как <code>sine</code>, но биполярный).</p>","returns":[{"type":{"names":["Pattern"]}}],"name":"sine2","longname":"sine2","kind":"constant","scope":"global"},{"comment":"/**\\n *  Синусоидальный signal от 0 до 1.\\n * @return {Pattern}\\n * @example\\n * n(sine.segment(16).range(0,15))\\n * .scale(\\"C:minor\\")\\n *\\n */","meta":{"range":[2429,2469],"filename":"signal.mjs","lineno":80,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039038","name":"exports.sine","type":"VariableDeclaration"}},"description":"<p>Синусоидальный signal от 0 до 1.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["n(sine.segment(16).range(0,15))\\n.scale(\\"C:minor\\")"],"name":"sine","longname":"sine","kind":"constant","scope":"global"},{"comment":"/**\\n *  Косинусоидальный signal от 0 до 1.\\n *\\n * @return {Pattern}\\n * @example\\n * n(stack(sine,cosine).segment(16).range(0,15))\\n * .scale(\\"C:minor\\")\\n *\\n */","meta":{"range":[2627,2681],"filename":"signal.mjs","lineno":91,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039046","name":"exports.cosine","type":"VariableDeclaration"}},"description":"<p>Косинусоидальный signal от 0 до 1.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["n(stack(sine,cosine).segment(16).range(0,15))\\n.scale(\\"C:minor\\")"],"name":"cosine","longname":"cosine","kind":"constant","scope":"global"},{"comment":"/**\\n *  Косинусоидальный signal от -1 до 1 (как \`cosine\`, но биполярный).\\n *\\n * @return {Pattern}\\n */","meta":{"range":[2785,2841],"filename":"signal.mjs","lineno":98,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039061","name":"exports.cosine2","type":"VariableDeclaration"}},"description":"<p>Косинусоидальный signal от -1 до 1 (как <code>cosine</code>, но биполярный).</p>","returns":[{"type":{"names":["Pattern"]}}],"name":"cosine2","longname":"cosine2","kind":"constant","scope":"global"},{"comment":"/**\\n *  Прямоугольный signal от 0 до 1.\\n * @return {Pattern}\\n * @example\\n * n(square.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"range":[2975,3036],"filename":"signal.mjs","lineno":107,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039076","name":"exports.square","type":"VariableDeclaration"}},"description":"<p>Прямоугольный signal от 0 до 1.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["n(square.segment(4).range(0,7)).scale(\\"C:minor\\")"],"name":"square","longname":"square","kind":"constant","scope":"global"},{"comment":"/**\\n *  Прямоугольный signal от -1 до 1 (как \`square\`, но биполярный).\\n *\\n * @return {Pattern}\\n */","meta":{"range":[3137,3179],"filename":"signal.mjs","lineno":114,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039093","name":"exports.square2","type":"VariableDeclaration"}},"description":"<p>Прямоугольный signal от -1 до 1 (как <code>square</code>, но биполярный).</p>","returns":[{"type":{"names":["Pattern"]}}],"name":"square2","longname":"square2","kind":"constant","scope":"global"},{"comment":"/**\\n *  Треугольный signal от 0 до 1.\\n *\\n * @return {Pattern}\\n * @example\\n * n(tri.segment(8).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"range":[3311,3349],"filename":"signal.mjs","lineno":124,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039101","name":"exports.tri","type":"VariableDeclaration"}},"description":"<p>Треугольный signal от 0 до 1.</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["n(tri.segment(8).range(0,7)).scale(\\"C:minor\\")"],"name":"tri","longname":"tri","kind":"constant","scope":"global"},{"comment":"/**\\n *  Треугольный signal от -1 до 1 (как \`tri\`, но биполярный).\\n *\\n * @return {Pattern}\\n */","meta":{"range":[3445,3486],"filename":"signal.mjs","lineno":131,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039109","name":"exports.tri2","type":"VariableDeclaration"}},"description":"<p>Треугольный signal от -1 до 1 (как <code>tri</code>, но биполярный).</p>","returns":[{"type":{"names":["Pattern"]}}],"name":"tri2","longname":"tri2","kind":"constant","scope":"global"},{"comment":"/**\\n *  Перевернутый треугольный signal от 1 до 0 (как \`tri\`, но перевернутый).\\n *\\n * @return {Pattern}\\n * @example\\n * n(itri.segment(8).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"range":[3661,3700],"filename":"signal.mjs","lineno":141,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039117","name":"exports.itri","type":"VariableDeclaration"}},"description":"<p>Перевернутый треугольный signal от 1 до 0 (как <code>tri</code>, но перевернутый).</p>","returns":[{"type":{"names":["Pattern"]}}],"examples":["n(itri.segment(8).range(0,7)).scale(\\"C:minor\\")"],"name":"itri","longname":"itri","kind":"constant","scope":"global"},{"comment":"/**\\n *  Перевернутый треугольный signal от -1 до 1 (как \`itri\`, но биполярный).\\n *\\n * @return {Pattern}\\n */","meta":{"range":[3810,3852],"filename":"signal.mjs","lineno":148,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039125","name":"exports.itri2","type":"VariableDeclaration"}},"description":"<p>Перевернутый треугольный signal от -1 до 1 (как <code>itri</code>, но биполярный).</p>","returns":[{"type":{"names":["Pattern"]}}],"name":"itri2","longname":"itri2","kind":"constant","scope":"global"},{"comment":"/**\\n *  Signal, представляющий время cycle.\\n *\\n * @return {Pattern}\\n */","meta":{"range":[3926,3957],"filename":"signal.mjs","lineno":155,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039133","name":"exports.time","type":"VariableDeclaration"}},"description":"<p>Signal, представляющий время cycle.</p>","returns":[{"type":{"names":["Pattern"]}}],"name":"time","longname":"time","kind":"constant","scope":"global"},{"comment":"/**\\n *  Позиция мыши по x в диапазоне от 0 до 1.\\n * @name mousex\\n * @return {Pattern}\\n * @example\\n * n(mousex.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"signal.mjs","lineno":157,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Позиция мыши по x в диапазоне от 0 до 1.</p>","name":"mousex","returns":[{"type":{"names":["Pattern"]}}],"examples":["n(mousex.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"mousex","kind":"member","scope":"global"},{"comment":"/**\\n *  Позиция мыши по y в диапазоне от 0 до 1.\\n * @name mousey\\n * @return {Pattern}\\n * @example\\n * n(mousey.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"signal.mjs","lineno":166,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Позиция мыши по y в диапазоне от 0 до 1.</p>","name":"mousey","returns":[{"type":{"names":["Pattern"]}}],"examples":["n(mousey.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"mousey","kind":"member","scope":"global"},{"comment":"/**\\n * Дискретный pattern чисел от 0 до n-1\\n * @example\\n * n(run(4)).scale(\\"C4:pentatonic\\")\\n * // n(\\"0 1 2 3\\").scale(\\"C4:pentatonic\\")\\n */","meta":{"range":[5629,5690],"filename":"signal.mjs","lineno":228,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039350","name":"exports.run","type":"VariableDeclaration"}},"description":"<p>Дискретный pattern чисел от 0 до n-1</p>","examples":["n(run(4)).scale(\\"C4:pentatonic\\")\\n// n(\\"0 1 2 3\\").scale(\\"C4:pentatonic\\")"],"name":"run","longname":"run","kind":"constant","scope":"global"},{"comment":"/**\\n * Создает двоичный pattern из числа.\\n *\\n * @name binary\\n * @param {number} n - входное число для преобразования в двоичную систему\\n * @example\\n * \\"hh\\".s().struct(binary(5))\\n * // \\"hh\\".s().struct(\\"1 0 1\\")\\n */","meta":{"filename":"signal.mjs","lineno":230,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Создает двоичный pattern из числа.</p>","name":"binary","params":[{"type":{"names":["number"]},"description":"<p>входное число для преобразования в двоичную систему</p>","name":"n"}],"examples":["\\"hh\\".s().struct(binary(5))\\n// \\"hh\\".s().struct(\\"1 0 1\\")"],"longname":"binary","kind":"member","scope":"global"},{"comment":"/**\\n * Создает двоичный pattern из числа, дополненный до n бит.\\n *\\n * @name binaryN\\n * @param {number} n - входное число для преобразования в двоичную систему\\n * @param {number} nBits - длина pattern, по умолчанию 16\\n * @example\\n * \\"hh\\".s().struct(binaryN(55532, 16))\\n * // \\"hh\\".s().struct(\\"1 1 0 1 1 0 0 0 1 1 1 0 1 1 0 0\\")\\n */","meta":{"filename":"signal.mjs","lineno":244,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Создает двоичный pattern из числа, дополненный до n бит.</p>","name":"binaryN","params":[{"type":{"names":["number"]},"description":"<p>входное число для преобразования в двоичную систему</p>","name":"n"},{"type":{"names":["number"]},"description":"<p>длина pattern, по умолчанию 16</p>","name":"nBits"}],"examples":["\\"hh\\".s().struct(binaryN(55532, 16))\\n// \\"hh\\".s().struct(\\"1 1 0 1 1 0 0 0 1 1 1 0 1 1 0 0\\")"],"longname":"binaryN","kind":"member","scope":"global"},{"comment":"/**\\n * Создает двоичный список pattern из числа.\\n *\\n * @name binaryL\\n * @param {number} n - входное число для преобразования в двоичную систему\\n * s(\\"saw\\").seg(8)\\n *   .partials(binaryL(irand(4096).add(1)))\\n */","meta":{"filename":"signal.mjs","lineno":261,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Создает двоичный список pattern из числа.</p>","name":"binaryL","params":[{"type":{"names":["number"]},"description":"<p>входное число для преобразования в двоичную систему\\ns(&quot;saw&quot;).seg(8)\\n.partials(binaryL(irand(4096).add(1)))</p>","name":"n"}],"longname":"binaryL","kind":"member","scope":"global"},{"comment":"/**\\n * Создает двоичный список pattern из числа, дополненный до n бит.\\n *\\n * @name binaryNL\\n * @param {number} n - входное число для преобразования в двоичную систему\\n * @param {number} nBits - длина pattern, по умолчанию 16\\n */","meta":{"filename":"signal.mjs","lineno":274,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Создает двоичный список pattern из числа, дополненный до n бит.</p>","name":"binaryNL","params":[{"type":{"names":["number"]},"description":"<p>входное число для преобразования в двоичную систему</p>","name":"n"},{"type":{"names":["number"]},"description":"<p>длина pattern, по умолчанию 16</p>","name":"nBits"}],"longname":"binaryNL","kind":"member","scope":"global"},{"comment":"/**\\n * Создает список случайных чисел заданной длины\\n *\\n * @name randL\\n * @param {number} n количество случайных чисел для выборки\\n * @example\\n * s(\\"saw\\").seg(16).n(irand(12)).scale(\\"F1:minor\\")\\n *   .partials(randL(8))\\n */","meta":{"filename":"signal.mjs","lineno":293,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Создает список случайных чисел заданной длины</p>","name":"randL","params":[{"type":{"names":["number"]},"description":"<p>количество случайных чисел для выборки</p>","name":"n"}],"examples":["s(\\"saw\\").seg(16).n(irand(12)).scale(\\"F1:minor\\")\\n  .partials(randL(8))"],"longname":"randL","kind":"member","scope":"global"},{"comment":"/**\\n * Разрезает pattern на указанное количество частей, затем воспроизводит эти части в случайном порядке.\\n * Каждая часть будет воспроизведена ровно один раз за cycle.\\n * @name shuffle\\n * @example\\n * note(\\"c d e f\\").sound(\\"piano\\").shuffle(4)\\n * @example\\n * seq(\\"c d e f\\".shuffle(4), \\"g\\").note().sound(\\"piano\\")\\n */","meta":{"filename":"signal.mjs","lineno":324,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Разрезает pattern на указанное количество частей, затем воспроизводит эти части в случайном порядке.\\nКаждая часть будет воспроизведена ровно один раз за cycle.</p>","name":"shuffle","examples":["note(\\"c d e f\\").sound(\\"piano\\").shuffle(4)","seq(\\"c d e f\\".shuffle(4), \\"g\\").note().sound(\\"piano\\")"],"longname":"shuffle","kind":"member","scope":"global"},{"comment":"/**\\n * Разрезает pattern на указанное количество частей, затем воспроизводит эти части случайным образом. Похоже на \`shuffle\`,\\n * но части могут воспроизводиться более одного раза или вообще не воспроизводиться за cycle.\\n * @name scramble\\n * @example\\n * note(\\"c d e f\\").sound(\\"piano\\").scramble(4)\\n * @example\\n * seq(\\"c d e f\\".scramble(4), \\"g\\").note().sound(\\"piano\\")\\n */","meta":{"filename":"signal.mjs","lineno":337,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Разрезает pattern на указанное количество частей, затем воспроизводит эти части случайным образом. Похоже на <code>shuffle</code>,\\nно части могут воспроизводиться более одного раза или вообще не воспроизводиться за cycle.</p>","name":"scramble","examples":["note(\\"c d e f\\").sound(\\"piano\\").scramble(4)","seq(\\"c d e f\\".scramble(4), \\"g\\").note().sound(\\"piano\\")"],"longname":"scramble","kind":"member","scope":"global"},{"comment":"/**\\n * Непрерывный pattern случайных чисел от 0 до 1.\\n *\\n * @name rand\\n * @example\\n * // случайно изменяем cutoff\\n * s(\\"bd*4,hh*8\\").cutoff(rand.range(500,8000))\\n *\\n */","meta":{"filename":"signal.mjs","lineno":350,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Непрерывный pattern случайных чисел от 0 до 1.</p>","name":"rand","examples":["// случайно изменяем cutoff\\ns(\\"bd*4,hh*8\\").cutoff(rand.range(500,8000))"],"longname":"rand","kind":"member","scope":"global"},{"comment":"/**\\n * Непрерывный pattern случайных чисел от -1 до 1\\n */","meta":{"range":[9549,9587],"filename":"signal.mjs","lineno":363,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039774","name":"exports.rand2","type":"VariableDeclaration"}},"description":"<p>Непрерывный pattern случайных чисел от -1 до 1</p>","name":"rand2","longname":"rand2","kind":"constant","scope":"global"},{"comment":"/**\\n * Непрерывный pattern 0 или 1 (двоичный случайный), с вероятностью того, что значение будет 1\\n *\\n * @name brandBy\\n * @param {number} probability - число от 0 до 1\\n * @example\\n * s(\\"hh*10\\").pan(brandBy(0.2))\\n */","meta":{"filename":"signal.mjs","lineno":367,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Непрерывный pattern 0 или 1 (двоичный случайный), с вероятностью того, что значение будет 1</p>","name":"brandBy","params":[{"type":{"names":["number"]},"description":"<p>число от 0 до 1</p>","name":"probability"}],"examples":["s(\\"hh*10\\").pan(brandBy(0.2))"],"longname":"brandBy","kind":"member","scope":"global"},{"comment":"/**\\n * Непрерывный pattern 0 или 1 (двоичный случайный)\\n *\\n * @name brand\\n * @example\\n * s(\\"hh*10\\").pan(brand)\\n */","meta":{"filename":"signal.mjs","lineno":377,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Непрерывный pattern 0 или 1 (двоичный случайный)</p>","name":"brand","examples":["s(\\"hh*10\\").pan(brand)"],"longname":"brand","kind":"member","scope":"global"},{"comment":"/**\\n * Непрерывный pattern случайных целых чисел от 0 до n-1.\\n *\\n * @name irand\\n * @param {number} n максимальное значение (исключая)\\n * @example\\n * // случайно выбираем ноты scale от 0 до 7 (= от C до C)\\n * n(irand(8)).struct(\\"x x*2 x x*3\\").scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"signal.mjs","lineno":388,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Непрерывный pattern случайных целых чисел от 0 до n-1.</p>","name":"irand","params":[{"type":{"names":["number"]},"description":"<p>максимальное значение (исключая)</p>","name":"n"}],"examples":["// случайно выбираем ноты scale от 0 до 7 (= от C до C)\\nn(irand(8)).struct(\\"x x*2 x x*3\\").scale(\\"C:minor\\")"],"longname":"irand","kind":"member","scope":"global"},{"comment":"/**\\n * Выбирает из списка значений (или patterns значений), используя заданный\\n * pattern чисел в диапазоне 0..1\\n * @param {Pattern} pat\\n * @param {*} xs\\n * @returns {Pattern}\\n * @example\\n * note(\\"c2 g2!2 d2 f1\\").s(chooseWith(sine.fast(2), [\\"sawtooth\\", \\"triangle\\", \\"bd:6\\"]))\\n */","meta":{"range":[11029,11116],"filename":"signal.mjs","lineno":420,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039921","name":"exports.chooseWith","type":"VariableDeclaration"}},"description":"<p>Выбирает из списка значений (или patterns значений), используя заданный\\npattern чисел в диапазоне 0..1</p>","params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["*"]},"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"examples":["note(\\"c2 g2!2 d2 f1\\").s(chooseWith(sine.fast(2), [\\"sawtooth\\", \\"triangle\\", \\"bd:6\\"]))"],"name":"chooseWith","longname":"chooseWith","kind":"constant","scope":"global"},{"comment":"/**\\n * Как {chooseWith}, но структура берется из выбранных значений, а не\\n * из pattern, который вы используете для выбора.\\n * @param {Pattern} pat\\n * @param {*} xs\\n * @returns {Pattern}\\n */","meta":{"range":[11309,11398],"filename":"signal.mjs","lineno":431,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039937","name":"exports.chooseInWith","type":"VariableDeclaration"}},"description":"<p>Как {chooseWith}, но структура берется из выбранных значений, а не\\nиз pattern, который вы используете для выбора.</p>","params":[{"type":{"names":["Pattern"]},"name":"pat"},{"type":{"names":["*"]},"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"name":"chooseInWith","longname":"chooseInWith","kind":"constant","scope":"global"},{"comment":"/**\\n * Случайно выбирает из заданного списка элементов.\\n * @param  {...any} xs значения / patterns для выбора.\\n * @returns {Pattern} - непрерывный pattern.\\n * @example\\n * note(\\"c2 g2!2 d2 f1\\").s(choose(\\"sine\\", \\"triangle\\", \\"bd:6\\"))\\n */","meta":{"range":[11635,11689],"filename":"signal.mjs","lineno":442,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039953","name":"exports.choose","type":"VariableDeclaration"}},"description":"<p>Случайно выбирает из заданного списка элементов.</p>","params":[{"type":{"names":["any"]},"variable":true,"description":"<p>значения / patterns для выбора.</p>","name":"xs"}],"returns":[{"type":{"names":["Pattern"]},"description":"<ul>\\n<li>непрерывный pattern.</li>\\n</ul>"}],"examples":["note(\\"c2 g2!2 d2 f1\\").s(choose(\\"sine\\", \\"triangle\\", \\"bd:6\\"))"],"name":"choose","longname":"choose","kind":"constant","scope":"global"},{"comment":"/**\\n * Выбирает из заданного списка значений (или patterns значений) в соответствии\\n * с pattern, на котором вызывается метод. Pattern должен быть в\\n * диапазоне 0 .. 1.\\n * @param  {...any} xs\\n * @returns {Pattern}\\n */","meta":{"range":[12016,12094],"filename":"signal.mjs","lineno":455,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039981","name":"Pattern.prototype.choose","type":"FunctionExpression","paramnames":["xs"]}},"description":"<p>Выбирает из заданного списка значений (или patterns значений) в соответствии\\nс pattern, на котором вызывается метод. Pattern должен быть в\\nдиапазоне 0 .. 1.</p>","params":[{"type":{"names":["any"]},"variable":true,"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"name":"choose","longname":"Pattern#choose","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n * Как с choose, но pattern, на котором вызывается этот метод, должен быть\\n * в диапазоне -1 .. 1\\n * @param  {...any} xs\\n * @returns {Pattern}\\n */","meta":{"range":[12248,12341],"filename":"signal.mjs","lineno":465,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100039997","name":"Pattern.prototype.choose2","type":"FunctionExpression","paramnames":["xs"]}},"description":"<p>Как с choose, но pattern, на котором вызывается этот метод, должен быть\\nв диапазоне -1 .. 1</p>","params":[{"type":{"names":["any"]},"variable":true,"name":"xs"}],"returns":[{"type":{"names":["Pattern"]}}],"name":"choose2","longname":"Pattern#choose2","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n * Выбирает один из элементов случайным образом каждый cycle.\\n * @synonyms randcat\\n * @returns {Pattern}\\n * @example\\n * chooseCycles(\\"bd\\", \\"hh\\", \\"sd\\").s().fast(8)\\n * @example\\n * s(\\"bd | hh | sd\\").fast(8)\\n */","meta":{"range":[12556,12629],"filename":"signal.mjs","lineno":478,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100040015","name":"exports.chooseCycles","type":"VariableDeclaration"}},"description":"<p>Выбирает один из элементов случайным образом каждый cycle.</p>","synonyms_text":"randcat","synonyms":["randcat"],"returns":[{"type":{"names":["Pattern"]}}],"examples":["chooseCycles(\\"bd\\", \\"hh\\", \\"sd\\").s().fast(8)","s(\\"bd | hh | sd\\").fast(8)"],"name":"chooseCycles","longname":"chooseCycles","kind":"constant","scope":"global"},{"comment":"/**\\n * Случайно выбирает из заданного списка элементов, задавая вероятность каждому элементу\\n * @param {...any} pairs массивы значения и веса\\n * @returns {Pattern} - непрерывный pattern.\\n * @example\\n * note(\\"c2 g2!2 d2 f1\\").s(wchoose([\\"sine\\",10], [\\"triangle\\",1], [\\"bd:6\\",1]))\\n */","meta":{"range":[13914,13979],"filename":"signal.mjs","lineno":518,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100040153","name":"exports.wchoose","type":"VariableDeclaration"}},"description":"<p>Случайно выбирает из заданного списка элементов, задавая вероятность каждому элементу</p>","params":[{"type":{"names":["any"]},"variable":true,"description":"<p>массивы значения и веса</p>","name":"pairs"}],"returns":[{"type":{"names":["Pattern"]},"description":"<ul>\\n<li>непрерывный pattern.</li>\\n</ul>"}],"examples":["note(\\"c2 g2!2 d2 f1\\").s(wchoose([\\"sine\\",10], [\\"triangle\\",1], [\\"bd:6\\",1]))"],"name":"wchoose","longname":"wchoose","kind":"constant","scope":"global"},{"comment":"/**\\n * Выбирает один из элементов случайным образом каждый cycle, задавая вероятность каждому элементу\\n * @synonyms wrandcat\\n * @returns {Pattern}\\n * @example\\n * wchooseCycles([\\"bd\\",10], [\\"hh\\",1], [\\"sd\\",1]).s().fast(8)\\n * @example\\n * wchooseCycles([\\"c c c\\",5], [\\"a a a\\",3], [\\"f f f\\",1]).fast(4).note()\\n * @example\\n * // Вероятность сама может быть pattern\\n * wchooseCycles([\\"bd(3,8)\\",\\"<5 0>\\"], [\\"hh hh hh\\",3]).fast(4).s()\\n */","meta":{"range":[14407,14502],"filename":"signal.mjs","lineno":532,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100040165","name":"exports.wchooseCycles","type":"VariableDeclaration"}},"description":"<p>Выбирает один из элементов случайным образом каждый cycle, задавая вероятность каждому элементу</p>","synonyms_text":"wrandcat","synonyms":["wrandcat"],"returns":[{"type":{"names":["Pattern"]}}],"examples":["wchooseCycles([\\"bd\\",10], [\\"hh\\",1], [\\"sd\\",1]).s().fast(8)","wchooseCycles([\\"c c c\\",5], [\\"a a a\\",3], [\\"f f f\\",1]).fast(4).note()","// Вероятность сама может быть pattern\\nwchooseCycles([\\"bd(3,8)\\",\\"<5 0>\\"], [\\"hh hh hh\\",3]).fast(4).s()"],"name":"wchooseCycles","longname":"wchooseCycles","kind":"constant","scope":"global"},{"comment":"/**\\n * Генерирует непрерывный pattern [шума Перлина](https://en.wikipedia.org/wiki/Perlin_noise) в диапазоне 0..1.\\n *\\n * @name perlin\\n * @example\\n * // случайно изменяем cutoff\\n * s(\\"bd*4,hh*8\\").cutoff(perlin.range(500,8000))\\n *\\n */","meta":{"filename":"signal.mjs","lineno":566,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Генерирует непрерывный pattern <a href=\\"https://en.wikipedia.org/wiki/Perlin_noise\\">шума Перлина</a> в диапазоне 0..1.</p>","name":"perlin","examples":["// случайно изменяем cutoff\\ns(\\"bd*4,hh*8\\").cutoff(perlin.range(500,8000))"],"longname":"perlin","kind":"member","scope":"global"},{"comment":"/**\\n * Генерирует непрерывный pattern [шума berlin](придуманного Джеймсом Койном и Джейд Роуланд как шутка, но оказавшегося на удивление крутым и полезным,\\n * как шум perlin, но с пилообразными волнами) в диапазоне 0..1.\\n *\\n * @name berlin\\n * @example\\n * // восходящие арпеджио\\n * n(\\"0!16\\".add(berlin.fast(4).mul(14))).scale(\\"d:minor\\")\\n *\\n */","meta":{"filename":"signal.mjs","lineno":577,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Генерирует непрерывный pattern [шума berlin](придуманного Джеймсом Койном и Джейд Роуланд как шутка, но оказавшегося на удивление крутым и полезным,\\nкак шум perlin, но с пилообразными волнами) в диапазоне 0..1.</p>","name":"berlin","examples":["// восходящие арпеджио\\nn(\\"0!16\\".add(berlin.fast(4).mul(14))).scale(\\"d:minor\\")"],"longname":"berlin","kind":"member","scope":"global"},{"comment":"/**\\n * Случайно удаляет события из pattern на заданную величину.\\n * 0 = 0% вероятность удаления\\n * 1 = 100% вероятность удаления\\n *\\n * @name degradeBy\\n * @memberof Pattern\\n * @param {number} amount - число от 0 до 1\\n * @returns Pattern\\n * @example\\n * s(\\"hh*8\\").degradeBy(0.2)\\n * @example\\n * s(\\"[hh?0.2]*8\\")\\n * @example\\n * //генератор beat\\n * s(\\"bd\\").segment(16).degradeBy(.5).ribbon(16,1)\\n */","meta":{"filename":"signal.mjs","lineno":596,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Случайно удаляет события из pattern на заданную величину.\\n0 = 0% вероятность удаления\\n1 = 100% вероятность удаления</p>","name":"degradeBy","memberof":"Pattern","params":[{"type":{"names":["number"]},"description":"<p>число от 0 до 1</p>","name":"amount"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"hh*8\\").degradeBy(0.2)","s(\\"[hh?0.2]*8\\")","//генератор beat\\ns(\\"bd\\").segment(16).degradeBy(.5).ribbon(16,1)"],"scope":"static","longname":"Pattern.degradeBy","kind":"member"},{"comment":"/**\\n *\\n * Случайно удаляет 50% событий из pattern. Сокращение для \`.degradeBy(0.5)\`\\n *\\n * @name degrade\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * s(\\"hh*8\\").degrade()\\n * @example\\n * s(\\"[hh?]*8\\")\\n */","meta":{"filename":"signal.mjs","lineno":622,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Случайно удаляет 50% событий из pattern. Сокращение для <code>.degradeBy(0.5)</code></p>","name":"degrade","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"hh*8\\").degrade()","s(\\"[hh?]*8\\")"],"scope":"static","longname":"Pattern.degrade","kind":"member"},{"comment":"/**\\n * Обратное \`degradeBy\`: случайно удаляет события из pattern на заданную величину.\\n * 0 = 100% вероятность удаления\\n * 1 = 0% вероятность удаления\\n * События, которые были бы удалены degradeBy, пропускаются undegradeBy и наоборот (см. второй пример).\\n *\\n * @name undegradeBy\\n * @memberof Pattern\\n * @param {number} amount - число от 0 до 1\\n * @returns Pattern\\n * @example\\n * s(\\"hh*8\\").undegradeBy(0.2)\\n * @example\\n * s(\\"hh*10\\").layer(\\n *   x => x.degradeBy(0.2).pan(0),\\n *   x => x.undegradeBy(0.8).pan(1)\\n * )\\n */","meta":{"filename":"signal.mjs","lineno":636,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Обратное <code>degradeBy</code>: случайно удаляет события из pattern на заданную величину.\\n0 = 100% вероятность удаления\\n1 = 0% вероятность удаления\\nСобытия, которые были бы удалены degradeBy, пропускаются undegradeBy и наоборот (см. второй пример).</p>","name":"undegradeBy","memberof":"Pattern","params":[{"type":{"names":["number"]},"description":"<p>число от 0 до 1</p>","name":"amount"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"hh*8\\").undegradeBy(0.2)","s(\\"hh*10\\").layer(\\n  x => x.degradeBy(0.2).pan(0),\\n  x => x.undegradeBy(0.8).pan(1)\\n)"],"scope":"static","longname":"Pattern.undegradeBy","kind":"member"},{"comment":"/**\\n * Обратное \`degrade\`: случайно удаляет 50% событий из pattern. Сокращение для \`.undegradeBy(0.5)\`\\n * События, которые были бы удалены degrade, пропускаются undegrade и наоборот (см. второй пример).\\n *\\n * @name undegrade\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * s(\\"hh*8\\").undegrade()\\n * @example\\n * s(\\"hh*10\\").layer(\\n *   x => x.degrade().pan(0),\\n *   x => x.undegrade().pan(1)\\n * )\\n */","meta":{"filename":"signal.mjs","lineno":666,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Обратное <code>degrade</code>: случайно удаляет 50% событий из pattern. Сокращение для <code>.undegradeBy(0.5)</code>\\nСобытия, которые были бы удалены degrade, пропускаются undegrade и наоборот (см. второй пример).</p>","name":"undegrade","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"hh*8\\").undegrade()","s(\\"hh*10\\").layer(\\n  x => x.degrade().pan(0),\\n  x => x.undegrade().pan(1)\\n)"],"scope":"static","longname":"Pattern.undegrade","kind":"member"},{"comment":"/**\\n *\\n * Случайно применяет заданную функцию с заданной вероятностью.\\n * Похоже на \`someCyclesBy\`\\n *\\n * @name sometimesBy\\n * @memberof Pattern\\n * @param {number | Pattern} probability - число от 0 до 1\\n * @param {function} function - преобразование для применения\\n * @returns Pattern\\n * @example\\n * s(\\"hh*8\\").sometimesBy(.4, x=>x.speed(\\"0.5\\"))\\n */","meta":{"filename":"signal.mjs","lineno":683,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Случайно применяет заданную функцию с заданной вероятностью.\\nПохоже на <code>someCyclesBy</code></p>","name":"sometimesBy","memberof":"Pattern","params":[{"type":{"names":["number","Pattern"]},"description":"<p>число от 0 до 1</p>","name":"probability"},{"type":{"names":["function"]},"description":"<p>преобразование для применения</p>","name":"function"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"hh*8\\").sometimesBy(.4, x=>x.speed(\\"0.5\\"))"],"scope":"static","longname":"Pattern.sometimesBy","kind":"member"},{"comment":"/**\\n *\\n * Применяет заданную функцию с вероятностью 50%\\n *\\n * @name sometimes\\n * @memberof Pattern\\n * @param {function} function - преобразование для применения\\n * @returns Pattern\\n * @example\\n * s(\\"hh*8\\").sometimes(x=>x.speed(\\"0.5\\"))\\n */","meta":{"filename":"signal.mjs","lineno":703,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Применяет заданную функцию с вероятностью 50%</p>","name":"sometimes","memberof":"Pattern","params":[{"type":{"names":["function"]},"description":"<p>преобразование для применения</p>","name":"function"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"hh*8\\").sometimes(x=>x.speed(\\"0.5\\"))"],"scope":"static","longname":"Pattern.sometimes","kind":"member"},{"comment":"/**\\n *\\n * Случайно применяет заданную функцию с заданной вероятностью на основе cycle за cycle.\\n * Похоже на \`sometimesBy\`\\n *\\n * @name someCyclesBy\\n * @memberof Pattern\\n * @param {number | Pattern} probability - число от 0 до 1\\n * @param {function} function - преобразование для применения\\n * @returns Pattern\\n * @example\\n * s(\\"bd,hh*8\\").someCyclesBy(.3, x=>x.speed(\\"0.5\\"))\\n */","meta":{"filename":"signal.mjs","lineno":718,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Случайно применяет заданную функцию с заданной вероятностью на основе cycle за cycle.\\nПохоже на <code>sometimesBy</code></p>","name":"someCyclesBy","memberof":"Pattern","params":[{"type":{"names":["number","Pattern"]},"description":"<p>число от 0 до 1</p>","name":"probability"},{"type":{"names":["function"]},"description":"<p>преобразование для применения</p>","name":"function"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"bd,hh*8\\").someCyclesBy(.3, x=>x.speed(\\"0.5\\"))"],"scope":"static","longname":"Pattern.someCyclesBy","kind":"member"},{"comment":"/**\\n *\\n * Сокращение для \`.someCyclesBy(0.5, fn)\`\\n *\\n * @name someCycles\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * s(\\"bd,hh*8\\").someCycles(x=>x.speed(\\"0.5\\"))\\n */","meta":{"filename":"signal.mjs","lineno":743,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Сокращение для <code>.someCyclesBy(0.5, fn)</code></p>","name":"someCycles","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"bd,hh*8\\").someCycles(x=>x.speed(\\"0.5\\"))"],"scope":"static","longname":"Pattern.someCycles","kind":"member"},{"comment":"/**\\n *\\n * Сокращение для \`.sometimesBy(0.75, fn)\`\\n *\\n * @name often\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * s(\\"hh*8\\").often(x=>x.speed(\\"0.5\\"))\\n */","meta":{"filename":"signal.mjs","lineno":757,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Сокращение для <code>.sometimesBy(0.75, fn)</code></p>","name":"often","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"hh*8\\").often(x=>x.speed(\\"0.5\\"))"],"scope":"static","longname":"Pattern.often","kind":"member"},{"comment":"/**\\n *\\n * Сокращение для \`.sometimesBy(0.25, fn)\`\\n *\\n * @name rarely\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * s(\\"hh*8\\").rarely(x=>x.speed(\\"0.5\\"))\\n */","meta":{"filename":"signal.mjs","lineno":771,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Сокращение для <code>.sometimesBy(0.25, fn)</code></p>","name":"rarely","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"hh*8\\").rarely(x=>x.speed(\\"0.5\\"))"],"scope":"static","longname":"Pattern.rarely","kind":"member"},{"comment":"/**\\n *\\n * Сокращение для \`.sometimesBy(0.1, fn)\`\\n *\\n * @name almostNever\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * s(\\"hh*8\\").almostNever(x=>x.speed(\\"0.5\\"))\\n */","meta":{"filename":"signal.mjs","lineno":785,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Сокращение для <code>.sometimesBy(0.1, fn)</code></p>","name":"almostNever","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"hh*8\\").almostNever(x=>x.speed(\\"0.5\\"))"],"scope":"static","longname":"Pattern.almostNever","kind":"member"},{"comment":"/**\\n *\\n * Сокращение для \`.sometimesBy(0.9, fn)\`\\n *\\n * @name almostAlways\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * s(\\"hh*8\\").almostAlways(x=>x.speed(\\"0.5\\"))\\n */","meta":{"filename":"signal.mjs","lineno":799,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Сокращение для <code>.sometimesBy(0.9, fn)</code></p>","name":"almostAlways","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"hh*8\\").almostAlways(x=>x.speed(\\"0.5\\"))"],"scope":"static","longname":"Pattern.almostAlways","kind":"member"},{"comment":"/**\\n *\\n * Сокращение для \`.sometimesBy(0, fn)\` (никогда не вызывает fn)\\n *\\n * @name never\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * s(\\"hh*8\\").never(x=>x.speed(\\"0.5\\"))\\n */","meta":{"filename":"signal.mjs","lineno":813,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Сокращение для <code>.sometimesBy(0, fn)</code> (никогда не вызывает fn)</p>","name":"never","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"hh*8\\").never(x=>x.speed(\\"0.5\\"))"],"scope":"static","longname":"Pattern.never","kind":"member"},{"comment":"/**\\n *\\n * Сокращение для \`.sometimesBy(1, fn)\` (всегда вызывает fn)\\n *\\n * @name always\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * s(\\"hh*8\\").always(x=>x.speed(\\"0.5\\"))\\n */","meta":{"filename":"signal.mjs","lineno":827,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Сокращение для <code>.sometimesBy(1, fn)</code> (всегда вызывает fn)</p>","name":"always","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"hh*8\\").always(x=>x.speed(\\"0.5\\"))"],"scope":"static","longname":"Pattern.always","kind":"member"},{"comment":"/**\\n *\\n * Делать что-то при нажатии клавиши или массива клавиш\\n * [Справочник по именам клавиш](https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values)\\n *\\n * @name whenKey\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * s(\\"bd(5,8)\\").whenKey(\\"Control:j\\", x => x.segment(16).color(\\"red\\")).whenKey(\\"Control:i\\", x => x.fast(2).color(\\"blue\\"))\\n */","meta":{"filename":"signal.mjs","lineno":854,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>Делать что-то при нажатии клавиши или массива клавиш\\n<a href=\\"https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values\\">Справочник по именам клавиш</a></p>","name":"whenKey","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["s(\\"bd(5,8)\\").whenKey(\\"Control:j\\", x => x.segment(16).color(\\"red\\")).whenKey(\\"Control:i\\", x => x.fast(2).color(\\"blue\\"))"],"scope":"static","longname":"Pattern.whenKey","kind":"member"},{"comment":"/**\\n *\\n * возвращает true, когда клавиша или массив клавиш удерживается\\n * [Справочник по именам клавиш](https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values)\\n *\\n * @name keyDown\\n * @memberof Pattern\\n * @returns Pattern\\n * @example\\n * keyDown(\\"Control:j\\").pick([s(\\"bd(5,8)\\"), s(\\"cp(3,8)\\")])\\n */","meta":{"filename":"signal.mjs","lineno":870,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{}},"description":"<p>возвращает true, когда клавиша или массив клавиш удерживается\\n<a href=\\"https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values\\">Справочник по именам клавиш</a></p>","name":"keyDown","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"examples":["keyDown(\\"Control:j\\").pick([s(\\"bd(5,8)\\"), s(\\"cp(3,8)\\")])"],"scope":"static","longname":"Pattern.keyDown","kind":"member"},{"comment":"/**\\n * @deprecated не используется и не вызывается нигде в кодовой базе\\n * @noAutocomplete\\n */","meta":{"range":[2905,3072],"filename":"util.mjs","lineno":77,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100054087","name":"exports.getFreq","type":"VariableDeclaration"}},"deprecated":"не используется и не вызывается нигде в кодовой базе","tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"getFreq","longname":"getFreq","kind":"constant","scope":"global"},{"comment":"/**\\n * @deprecated используется только в workshop (first-notes)\\n * @noAutocomplete\\n */","meta":{"range":[3240,3359],"filename":"util.mjs","lineno":89,"columnno":0,"path":"/home/user/Bulka/packages/core","code":{"id":"astnode100054126","name":"exports.midi2note","type":"VariableDeclaration"}},"deprecated":"используется только в workshop (first-notes)","tags":[{"originalTitle":"noAutocomplete","title":"noautocomplete","text":""}],"name":"midi2note","longname":"midi2note","kind":"constant","scope":"global"},{"comment":"/**\\n * Отправляет ноты в Csound для рендеринга с семантикой MIDI. Значение hap\\n * транслируется в следующие поля Csound (pfields):\\n *\\n *  p1 -- Инструмент Csound в виде числа (начиная с 1, может быть дробным),\\n *        или в виде строкового имени.\\n *  p2 -- Время в beats (обычно секунды) от начала исполнения.\\n *  p3 -- Длительность в beats (обычно секунды).\\n *  p4 -- Номер MIDI клавиши (вещественное число, не целое, в диапазоне [0, 127].\\n *  p5 -- MIDI velocity (вещественное число, не целое, в диапазоне [0, 127].\\n *  p6 -- Strudel controls, в виде строки.\\n */","meta":{"range":[4702,6086],"filename":"index.mjs","lineno":139,"columnno":0,"path":"/home/user/Bulka/packages/csound","code":{"id":"astnode100056730","name":"exports.csoundm","type":"VariableDeclaration"}},"description":"<p>Отправляет ноты в Csound для рендеринга с семантикой MIDI. Значение hap\\nтранслируется в следующие поля Csound (pfields):</p>\\n<p>p1 -- Инструмент Csound в виде числа (начиная с 1, может быть дробным),\\nили в виде строкового имени.\\np2 -- Время в beats (обычно секунды) от начала исполнения.\\np3 -- Длительность в beats (обычно секунды).\\np4 -- Номер MIDI клавиши (вещественное число, не целое, в диапазоне [0, 127].\\np5 -- MIDI velocity (вещественное число, не целое, в диапазоне [0, 127].\\np6 -- Strudel controls, в виде строки.</p>","name":"csoundm","longname":"csoundm","kind":"constant","scope":"global"},{"comment":"/**\\n * Визуализирует pattern в виде прокручивающегося 'pianoroll', отображаемого на фоне редактора. Чтобы показать pianoroll для всех выполняющихся pattern, используйте \`all(pianoroll)\`. Чтобы pianoroll появился под\\n * pattern вместо этого, добавьте префикс \`_\`, например: \`sound(\\"bd sd\\")._pianoroll()\`.\\n *\\n * @name pianoroll\\n * @synonyms punchcard\\n * @param {Object} options Объект, содержащий все следующие необязательные параметры в виде пар ключ-значение:\\n * @param {integer} cycles количество циклов для одновременного отображения - по умолчанию 4\\n * @param {number} playhead позиция активных нот на оси времени - от 0 до 1, по умолчанию 0.5\\n * @param {boolean} vertical отображает roll вертикально - по умолчанию 0\\n * @param {boolean} labels отображает метки на отдельных нотах (см. функцию label) - по умолчанию 0\\n * @param {boolean} flipTime меняет направление roll - по умолчанию 0\\n * @param {boolean} flipValues меняет относительное расположение нот на оси значений - по умолчанию 0\\n * @param {number} overscan просматривает X циклов за пределами окна циклов для предварительного отображения нот - по умолчанию 1\\n * @param {boolean} hideNegative скрывает ноты с отрицательным временем (до начала воспроизведения pattern) - по умолчанию 0\\n * @param {boolean} smear ноты оставляют сплошной след - по умолчанию 0\\n * @param {boolean} fold ноты занимают полную ширину оси значений - по умолчанию 0\\n * @param {string} active шестнадцатеричный или CSS цвет активных нот - по умолчанию #FFCA28\\n * @param {string} inactive шестнадцатеричный или CSS цвет неактивных нот - по умолчанию #7491D2\\n * @param {string} background шестнадцатеричный или CSS цвет фона - по умолчанию transparent\\n * @param {string} playheadColor шестнадцатеричный или CSS цвет линии, представляющей playhead - по умолчанию white\\n * @param {boolean} fill ноты заполнены цветом (иначе отображается только метка) - по умолчанию 0\\n * @param {boolean} fillActive активные ноты заполнены цветом - по умолчанию 0\\n * @param {boolean} stroke ноты отображаются с цветными границами - по умолчанию 0\\n * @param {boolean} strokeActive активные ноты отображаются с цветными границами - по умолчанию 0\\n * @param {boolean} hideInactive отображаются только активные ноты - по умолчанию 0\\n * @param {boolean} colorizeInactive использовать цвет ноты для неактивных нот - по умолчанию 1\\n * @param {string} fontFamily определяет шрифт, используемый для меток нот - по умолчанию 'monospace'\\n * @param {integer} minMidi минимальное значение ноты для отображения на оси значений - по умолчанию 10\\n * @param {integer} maxMidi максимальное значение ноты для отображения на оси значений - по умолчанию 90\\n * @param {boolean} autorange автоматически вычисляет параметры minMidi и maxMidi - по умолчанию 0\\n * @see _pianoroll\\n * @example\\n * note(\\"c2 a2 eb2\\")\\n * .euclid(5,8)\\n * .s('sawtooth')\\n * .lpenv(4).lpf(300)\\n * .pianoroll({ labels: 1 })\\n */","meta":{"filename":"pianoroll.mjs","lineno":39,"columnno":0,"path":"/home/user/Bulka/packages/draw","code":{}},"description":"<p>Визуализирует pattern в виде прокручивающегося 'pianoroll', отображаемого на фоне редактора. Чтобы показать pianoroll для всех выполняющихся pattern, используйте <code>all(pianoroll)</code>. Чтобы pianoroll появился под\\npattern вместо этого, добавьте префикс <code>_</code>, например: <code>sound(&quot;bd sd&quot;)._pianoroll()</code>.</p>","name":"pianoroll","synonyms_text":"punchcard","synonyms":["punchcard"],"params":[{"type":{"names":["Object"]},"description":"<p>Объект, содержащий все следующие необязательные параметры в виде пар ключ-значение:</p>","name":"options"},{"type":{"names":["integer"]},"description":"<p>количество циклов для одновременного отображения - по умолчанию 4</p>","name":"cycles"},{"type":{"names":["number"]},"description":"<p>позиция активных нот на оси времени - от 0 до 1, по умолчанию 0.5</p>","name":"playhead"},{"type":{"names":["boolean"]},"description":"<p>отображает roll вертикально - по умолчанию 0</p>","name":"vertical"},{"type":{"names":["boolean"]},"description":"<p>отображает метки на отдельных нотах (см. функцию label) - по умолчанию 0</p>","name":"labels"},{"type":{"names":["boolean"]},"description":"<p>меняет направление roll - по умолчанию 0</p>","name":"flipTime"},{"type":{"names":["boolean"]},"description":"<p>меняет относительное расположение нот на оси значений - по умолчанию 0</p>","name":"flipValues"},{"type":{"names":["number"]},"description":"<p>просматривает X циклов за пределами окна циклов для предварительного отображения нот - по умолчанию 1</p>","name":"overscan"},{"type":{"names":["boolean"]},"description":"<p>скрывает ноты с отрицательным временем (до начала воспроизведения pattern) - по умолчанию 0</p>","name":"hideNegative"},{"type":{"names":["boolean"]},"description":"<p>ноты оставляют сплошной след - по умолчанию 0</p>","name":"smear"},{"type":{"names":["boolean"]},"description":"<p>ноты занимают полную ширину оси значений - по умолчанию 0</p>","name":"fold"},{"type":{"names":["string"]},"description":"<p>шестнадцатеричный или CSS цвет активных нот - по умолчанию #FFCA28</p>","name":"active"},{"type":{"names":["string"]},"description":"<p>шестнадцатеричный или CSS цвет неактивных нот - по умолчанию #7491D2</p>","name":"inactive"},{"type":{"names":["string"]},"description":"<p>шестнадцатеричный или CSS цвет фона - по умолчанию transparent</p>","name":"background"},{"type":{"names":["string"]},"description":"<p>шестнадцатеричный или CSS цвет линии, представляющей playhead - по умолчанию white</p>","name":"playheadColor"},{"type":{"names":["boolean"]},"description":"<p>ноты заполнены цветом (иначе отображается только метка) - по умолчанию 0</p>","name":"fill"},{"type":{"names":["boolean"]},"description":"<p>активные ноты заполнены цветом - по умолчанию 0</p>","name":"fillActive"},{"type":{"names":["boolean"]},"description":"<p>ноты отображаются с цветными границами - по умолчанию 0</p>","name":"stroke"},{"type":{"names":["boolean"]},"description":"<p>активные ноты отображаются с цветными границами - по умолчанию 0</p>","name":"strokeActive"},{"type":{"names":["boolean"]},"description":"<p>отображаются только активные ноты - по умолчанию 0</p>","name":"hideInactive"},{"type":{"names":["boolean"]},"description":"<p>использовать цвет ноты для неактивных нот - по умолчанию 1</p>","name":"colorizeInactive"},{"type":{"names":["string"]},"description":"<p>определяет шрифт, используемый для меток нот - по умолчанию 'monospace'</p>","name":"fontFamily"},{"type":{"names":["integer"]},"description":"<p>минимальное значение ноты для отображения на оси значений - по умолчанию 10</p>","name":"minMidi"},{"type":{"names":["integer"]},"description":"<p>максимальное значение ноты для отображения на оси значений - по умолчанию 90</p>","name":"maxMidi"},{"type":{"names":["boolean"]},"description":"<p>автоматически вычисляет параметры minMidi и maxMidi - по умолчанию 0</p>","name":"autorange"}],"see":["_pianoroll"],"examples":["note(\\"c2 a2 eb2\\")\\n.euclid(5,8)\\n.s('sawtooth')\\n.lpenv(4).lpf(300)\\n.pianoroll({ labels: 1 })"],"longname":"pianoroll","kind":"member","scope":"global"},{"comment":"/**\\n * Отображает вертикальный pianoroll с метками событий.\\n * Поддерживает все те же опции, что и pianoroll.\\n *\\n * @name wordfall\\n */","meta":{"filename":"pianoroll.mjs","lineno":297,"columnno":0,"path":"/home/user/Bulka/packages/draw","code":{}},"description":"<p>Отображает вертикальный pianoroll с метками событий.\\nПоддерживает все те же опции, что и pianoroll.</p>","name":"wordfall","longname":"wordfall","kind":"member","scope":"global"},{"comment":"/**\\n * Отрисовывает круг высот для визуализации частот в пределах одной октавы\\n * @name pitchwheel\\n * @param {number} hapcircles\\n * @param {number} circle\\n * @param {number} edo\\n * @param {string} root\\n * @param {number} thickness\\n * @param {number} hapRadius\\n * @param {string} mode\\n * @param {number} margin\\n * @example\\n * n(\\"0 .. 12\\").scale(\\"C:chromatic\\")\\n * .s(\\"sawtooth\\")\\n * .lpf(500)\\n * ._pitchwheel()\\n */","meta":{"filename":"pitchwheel.mjs","lineno":116,"columnno":0,"path":"/home/user/Bulka/packages/draw","code":{}},"description":"<p>Отрисовывает круг высот для визуализации частот в пределах одной октавы</p>","name":"pitchwheel","params":[{"type":{"names":["number"]},"name":"hapcircles"},{"type":{"names":["number"]},"name":"circle"},{"type":{"names":["number"]},"name":"edo"},{"type":{"names":["string"]},"name":"root"},{"type":{"names":["number"]},"name":"thickness"},{"type":{"names":["number"]},"name":"hapRadius"},{"type":{"names":["string"]},"name":"mode"},{"type":{"names":["number"]},"name":"margin"}],"examples":["n(\\"0 .. 12\\").scale(\\"C:chromatic\\")\\n.s(\\"sawtooth\\")\\n.lpf(500)\\n._pitchwheel()"],"longname":"pitchwheel","kind":"member","scope":"global"},{"comment":"/**\\n * Отображает спиральную визуализацию.\\n *\\n * @name spiral\\n * @param {Object} options Объект, содержащий все следующие необязательные параметры в виде пар ключ-значение:\\n * @param {number} stretch управляет соотношением вращений за цикл, где 1 = 1 цикл / 360 градусов\\n * @param {number} size диаметр спирали\\n * @param {number} thickness толщина линии\\n * @param {string} cap стиль концов линий: butt (по умолчанию), round, square\\n * @param {string} inset количество вращений до начала спирали (по умолчанию 3)\\n * @param {string} playheadColor цвет playhead, по умолчанию white\\n * @param {number} playheadLength длина playhead во вращениях, по умолчанию 0.02\\n * @param {number} playheadThickness толщина playhead, по умолчанию равна thickness\\n * @param {number} padding пространство вокруг спирали\\n * @param {number} steady устойчивость спирали относительно playhead. 1 = спираль не двигается, двигается playhead.\\n * @param {number} activeColor цвет активного сегмента. по умолчанию foreground темы\\n * @param {number} inactiveColor цвет неактивных сегментов. по умолчанию gutterForeground темы\\n * @param {boolean} colorizeInactive окрашивать ли неактивные сегменты, по умолчанию 0\\n * @param {boolean} fade затухают ли прошлое и будущее. по умолчанию 1\\n * @param {boolean} logSpiral должна ли спираль быть логарифмической. по умолчанию 0\\n * @example\\n * note(\\"c2 a2 eb2\\")\\n * .euclid(5,8)\\n * .s('sawtooth')\\n * .lpenv(4).lpf(300)\\n * ._spiral({ steady: .96 })\\n */","meta":{"filename":"spiral.mjs","lineno":128,"columnno":0,"path":"/home/user/Bulka/packages/draw","code":{}},"description":"<p>Отображает спиральную визуализацию.</p>","name":"spiral","params":[{"type":{"names":["Object"]},"description":"<p>Объект, содержащий все следующие необязательные параметры в виде пар ключ-значение:</p>","name":"options"},{"type":{"names":["number"]},"description":"<p>управляет соотношением вращений за цикл, где 1 = 1 цикл / 360 градусов</p>","name":"stretch"},{"type":{"names":["number"]},"description":"<p>диаметр спирали</p>","name":"size"},{"type":{"names":["number"]},"description":"<p>толщина линии</p>","name":"thickness"},{"type":{"names":["string"]},"description":"<p>стиль концов линий: butt (по умолчанию), round, square</p>","name":"cap"},{"type":{"names":["string"]},"description":"<p>количество вращений до начала спирали (по умолчанию 3)</p>","name":"inset"},{"type":{"names":["string"]},"description":"<p>цвет playhead, по умолчанию white</p>","name":"playheadColor"},{"type":{"names":["number"]},"description":"<p>длина playhead во вращениях, по умолчанию 0.02</p>","name":"playheadLength"},{"type":{"names":["number"]},"description":"<p>толщина playhead, по умолчанию равна thickness</p>","name":"playheadThickness"},{"type":{"names":["number"]},"description":"<p>пространство вокруг спирали</p>","name":"padding"},{"type":{"names":["number"]},"description":"<p>устойчивость спирали относительно playhead. 1 = спираль не двигается, двигается playhead.</p>","name":"steady"},{"type":{"names":["number"]},"description":"<p>цвет активного сегмента. по умолчанию foreground темы</p>","name":"activeColor"},{"type":{"names":["number"]},"description":"<p>цвет неактивных сегментов. по умолчанию gutterForeground темы</p>","name":"inactiveColor"},{"type":{"names":["boolean"]},"description":"<p>окрашивать ли неактивные сегменты, по умолчанию 0</p>","name":"colorizeInactive"},{"type":{"names":["boolean"]},"description":"<p>затухают ли прошлое и будущее. по умолчанию 1</p>","name":"fade"},{"type":{"names":["boolean"]},"description":"<p>должна ли спираль быть логарифмической. по умолчанию 0</p>","name":"logSpiral"}],"examples":["note(\\"c2 a2 eb2\\")\\n.euclid(5,8)\\n.s('sawtooth')\\n.lpenv(4).lpf(300)\\n._spiral({ steady: .96 })"],"longname":"spiral","kind":"member","scope":"global"},{"comment":"/**\\n * Настраивает midimap по умолчанию, который используется когда параметр \\"midimap\\" не задан\\n * @example\\n * defaultmidimap({ lpf: 74 })\\n * $: note(\\"c a f e\\").midi();\\n * $: lpf(sine.slow(4).segment(16)).midi();\\n */","meta":{"range":[4471,4570],"filename":"midi.mjs","lineno":132,"columnno":0,"path":"/home/user/Bulka/packages/midi","code":{"id":"astnode100064664","name":"exports.defaultmidimap","type":"FunctionDeclaration","paramnames":["mapping"]}},"description":"<p>Настраивает midimap по умолчанию, который используется когда параметр &quot;midimap&quot; не задан</p>","examples":["defaultmidimap({ lpf: 74 })\\n$: note(\\"c a f e\\").midi();\\n$: lpf(sine.slow(4).segment(16)).midi();"],"name":"defaultmidimap","longname":"defaultmidimap","kind":"function","scope":"global"},{"comment":"/**\\n * Добавляет midimaps в реестр. Внутри каждого midimap имена контролов (например lpf) сопоставляются с номерами cc.\\n * @example\\n * midimaps({ mymap: { lpf: 74 } })\\n * $: note(\\"c a f e\\")\\n * .lpf(sine.slow(4))\\n * .midimap('mymap')\\n * .midi()\\n * @example\\n * midimaps({ mymap: {\\n *   lpf: { ccn: 74, min: 0, max: 20000, exp: 0.5 }\\n * }})\\n * $: note(\\"c a f e\\")\\n * .lpf(sine.slow(2).range(400,2000))\\n * .midimap('mymap')\\n * .midi()\\n */","meta":{"range":[5027,5457],"filename":"midi.mjs","lineno":155,"columnno":0,"path":"/home/user/Bulka/packages/midi","code":{"id":"astnode100064682","name":"exports.midimaps","type":"FunctionDeclaration","paramnames":["map"]}},"description":"<p>Добавляет midimaps в реестр. Внутри каждого midimap имена контролов (например lpf) сопоставляются с номерами cc.</p>","examples":["midimaps({ mymap: { lpf: 74 } })\\n$: note(\\"c a f e\\")\\n.lpf(sine.slow(4))\\n.midimap('mymap')\\n.midi()","midimaps({ mymap: {\\n  lpf: { ccn: 74, min: 0, max: 20000, exp: 0.5 }\\n}})\\n$: note(\\"c a f e\\")\\n.lpf(sine.slow(2).range(400,2000))\\n.midimap('mymap')\\n.midi()"],"name":"midimaps","longname":"midimaps","kind":"function","scope":"global"},{"comment":"/**\\n * MIDI output: Открывает порт вывода MIDI.\\n * @param {string | number} midiport Имя MIDI устройства или индекс, по умолчанию 0\\n * @param {object} options Дополнительные опции конфигурации MIDI\\n * @example\\n * note(\\"c4\\").midichan(1).midi('IAC Driver Bus 1')\\n * @example\\n * note(\\"c4\\").midichan(1).midi('IAC Driver Bus 1', { controller: true, latency: 50 })\\n */","meta":{"range":[10486,16257],"filename":"midi.mjs","lineno":302,"columnno":0,"path":"/home/user/Bulka/packages/midi","code":{"id":"astnode100065354","name":"Pattern.prototype.midi","type":"FunctionExpression","paramnames":["midiport","options"]},"vars":{"undefined":null,"options":"Pattern#midi~options","midiport":"Pattern#midi~midiport","midiConfig":"Pattern#midi~midiConfig","":null}},"description":"<p>MIDI output: Открывает порт вывода MIDI.</p>","params":[{"type":{"names":["string","number"]},"description":"<p>Имя MIDI устройства или индекс, по умолчанию 0</p>","name":"midiport"},{"type":{"names":["object"]},"description":"<p>Дополнительные опции конфигурации MIDI</p>","name":"options"}],"examples":["note(\\"c4\\").midichan(1).midi('IAC Driver Bus 1')","note(\\"c4\\").midichan(1).midi('IAC Driver Bus 1', { controller: true, latency: 50 })"],"name":"midi","longname":"Pattern#midi","kind":"function","memberof":"Pattern","scope":"instance"},{"comment":"/**\\n * MIDI input: Открывает порт ввода MIDI для приёма MIDI control change сообщений.\\n * @param {string | number} input Имя MIDI устройства или индекс, по умолчанию 0\\n * @returns {Function}\\n * @example\\n * let cc = await midin('IAC Driver Bus 1')\\n * note(\\"c a f e\\").lpf(cc(0).range(0, 1000)).lpq(cc(1).range(0, 10)).sound(\\"sawtooth\\")\\n */","meta":{"range":[16636,17910],"filename":"midi.mjs","lineno":491,"columnno":0,"path":"/home/user/Bulka/packages/midi","code":{"id":"astnode100065998","name":"exports.midin","type":"FunctionDeclaration","paramnames":["input"]}},"description":"<p>MIDI input: Открывает порт ввода MIDI для приёма MIDI control change сообщений.</p>","params":[{"type":{"names":["string","number"]},"description":"<p>Имя MIDI устройства или индекс, по умолчанию 0</p>","name":"input"}],"returns":[{"type":{"names":["function"]}}],"examples":["let cc = await midin('IAC Driver Bus 1')\\nnote(\\"c a f e\\").lpf(cc(0).range(0, 1000)).lpq(cc(1).range(0, 10)).sound(\\"sawtooth\\")"],"name":"midin","longname":"midin","kind":"function","scope":"global"},{"comment":"/**\\n *  Значение акселерометра по оси x в диапазоне от 0 до 1.\\n * @name accelerationX\\n * @return {Pattern}\\n * @synonyms accX\\n * @example\\n * n(accelerationX.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":5,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение акселерометра по оси x в диапазоне от 0 до 1.</p>","name":"accelerationX","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"accX","synonyms":["accX"],"examples":["n(accelerationX.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"accelerationX","kind":"member","scope":"global"},{"comment":"/**\\n *  Значение акселерометра по оси y в диапазоне от 0 до 1.\\n * @name accelerationY\\n * @return {Pattern}\\n * @synonyms accY\\n * @example\\n * n(accelerationY.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":15,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение акселерометра по оси y в диапазоне от 0 до 1.</p>","name":"accelerationY","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"accY","synonyms":["accY"],"examples":["n(accelerationY.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"accelerationY","kind":"member","scope":"global"},{"comment":"/**\\n *  Значение акселерометра по оси z в диапазоне от 0 до 1.\\n * @name accelerationZ\\n * @return {Pattern}\\n * @synonyms accZ\\n * @example\\n * n(accelerationZ.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":25,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение акселерометра по оси z в диапазоне от 0 до 1.</p>","name":"accelerationZ","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"accZ","synonyms":["accZ"],"examples":["n(accelerationZ.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"accelerationZ","kind":"member","scope":"global"},{"comment":"/**\\n *  Значение гравитации устройства по оси x в диапазоне от 0 до 1.\\n * @name gravityX\\n * @return {Pattern}\\n * @synonyms gravX\\n * @example\\n * n(gravityX.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":35,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение гравитации устройства по оси x в диапазоне от 0 до 1.</p>","name":"gravityX","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"gravX","synonyms":["gravX"],"examples":["n(gravityX.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"gravityX","kind":"member","scope":"global"},{"comment":"/**\\n *  Значение гравитации устройства по оси y в диапазоне от 0 до 1.\\n * @name gravityY\\n * @return {Pattern}\\n * @synonyms gravY\\n * @example\\n * n(gravityY.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":45,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение гравитации устройства по оси y в диапазоне от 0 до 1.</p>","name":"gravityY","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"gravY","synonyms":["gravY"],"examples":["n(gravityY.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"gravityY","kind":"member","scope":"global"},{"comment":"/**\\n *  Значение гравитации устройства по оси z в диапазоне от 0 до 1.\\n * @name gravityZ\\n * @return {Pattern}\\n * @synonyms gravZ\\n * @example\\n * n(gravityZ.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":55,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение гравитации устройства по оси z в диапазоне от 0 до 1.</p>","name":"gravityZ","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"gravZ","synonyms":["gravZ"],"examples":["n(gravityZ.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"gravityZ","kind":"member","scope":"global"},{"comment":"/**\\n *  Значение вращения устройства вокруг оси alpha в диапазоне от 0 до 1.\\n * @name rotationAlpha\\n * @return {Pattern}\\n * @synonyms rotA, rotZ, rotationZ\\n * @example\\n * n(rotationAlpha.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":65,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение вращения устройства вокруг оси alpha в диапазоне от 0 до 1.</p>","name":"rotationAlpha","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"rotA, rotZ, rotationZ","synonyms":["rotA","rotZ","rotationZ"],"examples":["n(rotationAlpha.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"rotationAlpha","kind":"member","scope":"global"},{"comment":"/**\\n *  Значение вращения устройства вокруг оси beta в диапазоне от 0 до 1.\\n * @name rotationBeta\\n * @return {Pattern}\\n * @synonyms rotB, rotX, rotationX\\n * @example\\n * n(rotationBeta.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":75,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение вращения устройства вокруг оси beta в диапазоне от 0 до 1.</p>","name":"rotationBeta","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"rotB, rotX, rotationX","synonyms":["rotB","rotX","rotationX"],"examples":["n(rotationBeta.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"rotationBeta","kind":"member","scope":"global"},{"comment":"/**\\n *  Значение вращения устройства вокруг оси gamma в диапазоне от 0 до 1.\\n * @name rotationGamma\\n * @return {Pattern}\\n * @synonyms rotG, rotY, rotationY\\n * @example\\n * n(rotationGamma.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":85,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение вращения устройства вокруг оси gamma в диапазоне от 0 до 1.</p>","name":"rotationGamma","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"rotG, rotY, rotationY","synonyms":["rotG","rotY","rotationY"],"examples":["n(rotationGamma.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"rotationGamma","kind":"member","scope":"global"},{"comment":"/**\\n *  Значение ориентации устройства alpha в диапазоне от 0 до 1.\\n * @name orientationAlpha\\n * @return {Pattern}\\n * @synonyms oriA, oriZ, orientationZ\\n * @example\\n * n(orientationAlpha.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":95,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение ориентации устройства alpha в диапазоне от 0 до 1.</p>","name":"orientationAlpha","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"oriA, oriZ, orientationZ","synonyms":["oriA","oriZ","orientationZ"],"examples":["n(orientationAlpha.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"orientationAlpha","kind":"member","scope":"global"},{"comment":"/**\\n *  Значение ориентации устройства beta в диапазоне от 0 до 1.\\n * @name orientationBeta\\n * @return {Pattern}\\n * @synonyms oriB, oriX, orientationX\\n * @example\\n * n(orientationBeta.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":105,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение ориентации устройства beta в диапазоне от 0 до 1.</p>","name":"orientationBeta","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"oriB, oriX, orientationX","synonyms":["oriB","oriX","orientationX"],"examples":["n(orientationBeta.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"orientationBeta","kind":"member","scope":"global"},{"comment":"/**\\n *  Значение ориентации устройства gamma в диапазоне от 0 до 1.\\n * @name orientationGamma\\n * @return {Pattern}\\n * @synonyms oriG, oriY, orientationY\\n * @example\\n * n(orientationGamma.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":115,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение ориентации устройства gamma в диапазоне от 0 до 1.</p>","name":"orientationGamma","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"oriG, oriY, orientationY","synonyms":["oriG","oriY","orientationY"],"examples":["n(orientationGamma.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"orientationGamma","kind":"member","scope":"global"},{"comment":"/**\\n *  Значение абсолютной ориентации устройства alpha в диапазоне от 0 до 1.\\n * @name absoluteOrientationAlpha\\n * @return {Pattern}\\n * @synonyms absOriA, absOriZ, absoluteOrientationZ\\n * @example\\n * n(absoluteOrientationAlpha.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":125,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение абсолютной ориентации устройства alpha в диапазоне от 0 до 1.</p>","name":"absoluteOrientationAlpha","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"absOriA, absOriZ, absoluteOrientationZ","synonyms":["absOriA","absOriZ","absoluteOrientationZ"],"examples":["n(absoluteOrientationAlpha.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"absoluteOrientationAlpha","kind":"member","scope":"global"},{"comment":"/**\\n *  Значение абсолютной ориентации устройства beta в диапазоне от 0 до 1.\\n * @name absoluteOrientationBeta\\n * @return {Pattern}\\n * @synonyms absOriB, absOriX, absoluteOrientationX\\n * @example\\n * n(absoluteOrientationBeta.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":135,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение абсолютной ориентации устройства beta в диапазоне от 0 до 1.</p>","name":"absoluteOrientationBeta","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"absOriB, absOriX, absoluteOrientationX","synonyms":["absOriB","absOriX","absoluteOrientationX"],"examples":["n(absoluteOrientationBeta.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"absoluteOrientationBeta","kind":"member","scope":"global"},{"comment":"/**\\n *  Значение абсолютной ориентации устройства gamma в диапазоне от 0 до 1.\\n * @name absoluteOrientationGamma\\n * @return {Pattern}\\n * @synonyms absOriG, absOriY, absoluteOrientationY\\n * @example\\n * n(absoluteOrientationGamma.segment(4).range(0,7)).scale(\\"C:minor\\")\\n *\\n */","meta":{"filename":"motion.mjs","lineno":145,"columnno":0,"path":"/home/user/Bulka/packages/motion","code":{}},"description":"<p>Значение абсолютной ориентации устройства gamma в диапазоне от 0 до 1.</p>","name":"absoluteOrientationGamma","returns":[{"type":{"names":["Pattern"]}}],"synonyms_text":"absOriG, absOriY, absoluteOrientationY","synonyms":["absOriG","absOriY","absoluteOrientationY"],"examples":["n(absoluteOrientationGamma.segment(4).range(0,7)).scale(\\"C:minor\\")"],"longname":"absoluteOrientationGamma","kind":"member","scope":"global"},{"comment":"/**\\n *\\n * Отправляет каждый hap как OSC сообщение, которое может быть принято SuperCollider или любым другим программным обеспечением с поддержкой OSC.\\n * Для дополнительной информации читайте [MIDI & OSC в документации](https://strudel.cc/learn/input-output/)\\n *\\n * @name osc\\n * @memberof Pattern\\n * @returns Pattern\\n */","meta":{"filename":"osc.mjs","lineno":76,"columnno":0,"path":"/home/user/Bulka/packages/osc","code":{}},"description":"<p>Отправляет каждый hap как OSC сообщение, которое может быть принято SuperCollider или любым другим программным обеспечением с поддержкой OSC.\\nДля дополнительной информации читайте <a href=\\"https://strudel.cc/learn/input-output/\\">MIDI &amp; OSC в документации</a></p>","name":"osc","memberof":"Pattern","returns":[{"description":"<p>Pattern</p>"}],"scope":"static","longname":"Pattern.osc","kind":"member"},{"comment":"/** Overlap-Add нода */","meta":{"range":[150,6616],"filename":"ola-processor.js","lineno":7,"columnno":0,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100103616","name":"OLAProcessor","type":"ClassDeclaration","paramnames":["options"]}},"name":"OLAProcessor","longname":"OLAProcessor","kind":"class","classdesc":"<p>Overlap-Add нода</p>","scope":"global"},{"comment":"/** Обрабатывает динамическую реаллокацию буферов входных/выходных каналов\\n     (количество каналов может изменяться в течение жизненного цикла) **/","meta":{"range":[1460,1928],"filename":"ola-processor.js","lineno":39,"columnno":2,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100103769","name":"OLAProcessor#reallocateChannelsIfNeeded","type":"MethodDefinition","paramnames":["inputs","outputs"]},"vars":{"":null}},"description":"<p>Обрабатывает динамическую реаллокацию буферов входных/выходных каналов\\n(количество каналов может изменяться в течение жизненного цикла)</p>","name":"reallocateChannelsIfNeeded","longname":"OLAProcessor#reallocateChannelsIfNeeded","kind":"function","memberof":"OLAProcessor","scope":"instance","params":[]},{"comment":"/** Читает следующий блок web audio в входные буферы **/","meta":{"range":[3571,4159],"filename":"ola-processor.js","lineno":92,"columnno":2,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100104076","name":"OLAProcessor#readInputs","type":"MethodDefinition","paramnames":["inputs"]},"vars":{"":null}},"description":"<p>Читает следующий блок web audio в входные буферы</p>","name":"readInputs","longname":"OLAProcessor#readInputs","kind":"function","memberof":"OLAProcessor","scope":"instance","params":[]},{"comment":"/** Записывает следующий блок web audio из выходных буферов **/","meta":{"range":[4229,4507],"filename":"ola-processor.js","lineno":112,"columnno":2,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100104197","name":"OLAProcessor#writeOutputs","type":"MethodDefinition","paramnames":["outputs"]},"vars":{"":null}},"description":"<p>Записывает следующий блок web audio из выходных буферов</p>","name":"writeOutputs","longname":"OLAProcessor#writeOutputs","kind":"function","memberof":"OLAProcessor","scope":"instance","params":[]},{"comment":"/** Сдвигает содержимое входных буферов влево для получения нового блока web audio **/","meta":{"range":[4600,4815],"filename":"ola-processor.js","lineno":122,"columnno":2,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100104257","name":"OLAProcessor#shiftInputBuffers","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Сдвигает содержимое входных буферов влево для получения нового блока web audio</p>","name":"shiftInputBuffers","longname":"OLAProcessor#shiftInputBuffers","kind":"function","memberof":"OLAProcessor","scope":"instance","params":[]},{"comment":"/** Сдвигает содержимое выходных буферов влево для получения нового блока web audio **/","meta":{"range":[4909,5217],"filename":"ola-processor.js","lineno":131,"columnno":2,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100104304","name":"OLAProcessor#shiftOutputBuffers","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Сдвигает содержимое выходных буферов влево для получения нового блока web audio</p>","name":"shiftOutputBuffers","longname":"OLAProcessor#shiftOutputBuffers","kind":"function","memberof":"OLAProcessor","scope":"instance","params":[]},{"comment":"/** Копирует содержимое входных буферов в буфер, фактически отправляемый на обработку **/","meta":{"range":[5313,5540],"filename":"ola-processor.js","lineno":141,"columnno":2,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100104371","name":"OLAProcessor#prepareInputBuffersToSend","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Копирует содержимое входных буферов в буфер, фактически отправляемый на обработку</p>","name":"prepareInputBuffersToSend","longname":"OLAProcessor#prepareInputBuffersToSend","kind":"function","memberof":"OLAProcessor","scope":"instance","params":[]},{"comment":"/** Добавляет содержимое только что обработанных выходных буферов к выходным буферам **/","meta":{"range":[5635,5955],"filename":"ola-processor.js","lineno":150,"columnno":2,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100104423","name":"OLAProcessor#handleOutputBuffersToRetrieve","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Добавляет содержимое только что обработанных выходных буферов к выходным буферам</p>","name":"handleOutputBuffersToRetrieve","longname":"OLAProcessor#handleOutputBuffersToRetrieve","kind":"function","memberof":"OLAProcessor","scope":"instance","params":[]},{"comment":"/** Генерирует импульсный отклик reverb.\\n\\n @param {!Object} params TODO: Документировать свойства.\\n @param {!function(!AudioBuffer)} callback Функция для вызова, когда\\n  импульсный отклик был сгенерирован. Импульсный отклик\\n  передается этой функции в качестве параметра. Может быть вызвана\\n  немедленно в текущем контексте выполнения или позже. */","meta":{"range":[965,2134],"filename":"reverbGen.mjs","lineno":24,"columnno":0,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100104908","name":"reverbGen.generateReverb","type":"FunctionExpression","paramnames":["params","callback"]},"vars":{"audioContext":"reverbGen.generateReverb~audioContext","sampleRate":"reverbGen.generateReverb~sampleRate","numChannels":"reverbGen.generateReverb~numChannels","totalTime":"reverbGen.generateReverb~totalTime","decaySampleFrames":"reverbGen.generateReverb~decaySampleFrames","numSampleFrames":"reverbGen.generateReverb~numSampleFrames","fadeInSampleFrames":"reverbGen.generateReverb~fadeInSampleFrames","decayBase":"reverbGen.generateReverb~decayBase","reverbIR":"reverbGen.generateReverb~reverbIR","i":"reverbGen.generateReverb~i","chan":"reverbGen.generateReverb~chan","j":"reverbGen.generateReverb~j","chan[undefined]":"reverbGen.generateReverb~chan.undefined]"}},"description":"<p>Генерирует импульсный отклик reverb.</p>","params":[{"type":{"names":["Object"]},"nullable":false,"description":"<p>TODO: Документировать свойства.</p>","name":"params"},{"type":{"names":["function"]},"nullable":false,"description":"<p>Функция для вызова, когда\\nимпульсный отклик был сгенерирован. Импульсный отклик\\nпередается этой функции в качестве параметра. Может быть вызвана\\nнемедленно в текущем контексте выполнения или позже.</p>","name":"callback"}],"name":"generateReverb","longname":"reverbGen.generateReverb","kind":"function","memberof":"reverbGen","scope":"static"},{"comment":"/** Создает элемент canvas с графиком предоставленных данных.\\n\\n\\n @param {!Float32Array} data Массив чисел или Float32Array.\\n @param {number} width Ширина canvas в пикселях.\\n @param {number} height Высота canvas в пикселях.\\n @param {number} min Минимальное значение данных для графика (нижний край).\\n @param {number} max Максимальное значение данных на графике (верхний край).\\n @return {!CanvasElement} Сгенерированный элемент canvas. */","meta":{"range":[2574,3085],"filename":"reverbGen.mjs","lineno":58,"columnno":0,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100105088","name":"reverbGen.generateGraph","type":"FunctionExpression","paramnames":["data","width","height","min","max"]},"vars":{"canvas":"reverbGen.generateGraph~canvas","canvas.width":"reverbGen.generateGraph~canvas.width","canvas.height":"reverbGen.generateGraph~canvas.height","gc":"reverbGen.generateGraph~gc","gc.fillStyle":"reverbGen.generateGraph~gc.fillStyle","xscale":"reverbGen.generateGraph~xscale","yscale":"reverbGen.generateGraph~yscale","i":"reverbGen.generateGraph~i"}},"description":"<p>Создает элемент canvas с графиком предоставленных данных.</p>","params":[{"type":{"names":["Float32Array"]},"nullable":false,"description":"<p>Массив чисел или Float32Array.</p>","name":"data"},{"type":{"names":["number"]},"description":"<p>Ширина canvas в пикселях.</p>","name":"width"},{"type":{"names":["number"]},"description":"<p>Высота canvas в пикселях.</p>","name":"height"},{"type":{"names":["number"]},"description":"<p>Минимальное значение данных для графика (нижний край).</p>","name":"min"},{"type":{"names":["number"]},"description":"<p>Максимальное значение данных на графике (верхний край).</p>","name":"max"}],"returns":[{"type":{"names":["CanvasElement"]},"nullable":false,"description":"<p>Сгенерированный элемент canvas.</p>"}],"name":"generateGraph","longname":"reverbGen.generateGraph","kind":"function","memberof":"reverbGen","scope":"static"},{"comment":"/** Применяет постоянно изменяющийся lowpass filter к данному звуку.\\n\\n @private\\n @param {!AudioBuffer} input\\n @param {number} lpFreqStart\\n @param {number} lpFreqEnd\\n @param {number} lpFreqEndAt\\n @param {!function(!AudioBuffer)} callback Может быть вызвана\\n  немедленно в текущем контексте выполнения или позже.*/","meta":{"range":[3405,4393],"filename":"reverbGen.mjs","lineno":83,"columnno":4,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100105203","name":"applyGradualLowpass","type":"FunctionExpression"},"vars":{"channelData":"applyGradualLowpass~channelData","context":"applyGradualLowpass~context","player":"applyGradualLowpass~player","player.buffer":"applyGradualLowpass~player.buffer","filter":"applyGradualLowpass~filter","lpFreqStart":"applyGradualLowpass~lpFreqStart","lpFreqEnd":"applyGradualLowpass~lpFreqEnd","filter.type":"applyGradualLowpass~filter.type","filter.Q.value":"applyGradualLowpass~filter.Q.value","context.oncomplete":"applyGradualLowpass~context.oncomplete","":null,"window.filterNode":"window.filterNode"}},"description":"<p>Применяет постоянно изменяющийся lowpass filter к данному звуку.</p>","access":"private","params":[{"type":{"names":["AudioBuffer"]},"nullable":false,"name":"input"},{"type":{"names":["number"]},"name":"lpFreqStart"},{"type":{"names":["number"]},"name":"lpFreqEnd"},{"type":{"names":["number"]},"name":"lpFreqEndAt"},{"type":{"names":["function"]},"nullable":false,"description":"<p>Может быть вызвана\\nнемедленно в текущем контексте выполнения или позже.</p>","name":"callback"}],"name":"applyGradualLowpass","longname":"applyGradualLowpass","kind":"function","scope":"global"},{"comment":"/** @private\\n @param {!AudioBuffer} buffer\\n @return {!Array.<!Float32Array>} Массив, содержащий Float32Array с sample каждого канала. */","meta":{"range":[4537,4720],"filename":"reverbGen.mjs","lineno":118,"columnno":4,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100105377","name":"getAllChannelData","type":"FunctionExpression"},"vars":{"channels":"getAllChannelData~channels","i":"getAllChannelData~i","channels[undefined]":"getAllChannelData~channels.undefined]"}},"access":"private","params":[{"type":{"names":["AudioBuffer"]},"nullable":false,"name":"buffer"}],"returns":[{"type":{"names":["Array.<!Float32Array>"]},"nullable":false,"description":"<p>Массив, содержащий Float32Array с sample каждого канала.</p>"}],"name":"getAllChannelData","longname":"getAllChannelData","kind":"function","scope":"global"},{"comment":"/** @private\\n @return {number} Случайное число от -1 до 1. */","meta":{"range":[4789,4851],"filename":"reverbGen.mjs","lineno":128,"columnno":4,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100105412","name":"randomSample","type":"FunctionExpression"}},"access":"private","returns":[{"type":{"names":["number"]},"description":"<p>Случайное число от -1 до 1.</p>"}],"name":"randomSample","longname":"randomSample","kind":"function","scope":"global","params":[]},{"comment":"/**\\n * Загружает коллекцию sample для использования с \`s\`\\n * @example\\n * samples('github:tidalcycles/dirt-samples');\\n * s(\\"[bd ~]*2, [~ hh]*2, ~ sd\\")\\n * @example\\n * samples({\\n *  bd: '808bd/BD0000.WAV',\\n *  sd: '808sd/SD0010.WAV'\\n *  }, 'https://raw.githubusercontent.com/tidalcycles/Dirt-Samples/master/');\\n * s(\\"[bd ~]*2, [~ hh]*2, ~ sd\\")\\n * @example\\n * samples('shabda:noise,chimp:2')\\n * s(\\"noise <chimp:0*2 chimp:1>\\")\\n * @example\\n * samples('shabda/speech/fr-FR/f:chocolat')\\n * s(\\"chocolat*4\\")\\n */","meta":{"range":[8343,8775],"filename":"sampler.mjs","lineno":254,"columnno":0,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100106589","name":"exports.samples","type":"VariableDeclaration"}},"description":"<p>Загружает коллекцию sample для использования с <code>s</code></p>","examples":["samples('github:tidalcycles/dirt-samples');\\ns(\\"[bd ~]*2, [~ hh]*2, ~ sd\\")","samples({\\n bd: '808bd/BD0000.WAV',\\n sd: '808sd/SD0010.WAV'\\n }, 'https://raw.githubusercontent.com/tidalcycles/Dirt-Samples/master/');\\ns(\\"[bd ~]*2, [~ hh]*2, ~ sd\\")","samples('shabda:noise,chimp:2')\\ns(\\"noise <chimp:0*2 chimp:1>\\")","samples('shabda/speech/fr-FR/f:chocolat')\\ns(\\"chocolat*4\\")"],"name":"samples","longname":"samples","kind":"constant","scope":"global"},{"comment":"/**\\n * Регистрирует alias для банка звуков.\\n * Опционально принимает один аргумент - объект с alias банков.\\n * Опционально принимает один аргумент - строку с путем к JSON файлу, содержащему alias банков.\\n * @param {string} bank - Банк для создания alias\\n * @param {string} alias - Alias, который будет использоваться для банка\\n */","meta":{"range":[3642,4029],"filename":"superdough.mjs","lineno":96,"columnno":0,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100107342","name":"exports.aliasBank","type":"FunctionDeclaration","paramnames":["args"]}},"description":"<p>Регистрирует alias для банка звуков.\\nОпционально принимает один аргумент - объект с alias банков.\\nОпционально принимает один аргумент - строку с путем к JSON файлу, содержащему alias банков.</p>","params":[{"type":{"names":["string"]},"description":"<p>Банк для создания alias</p>","name":"bank"},{"type":{"names":["string"]},"description":"<p>Alias, который будет использоваться для банка</p>","name":"alias"}],"name":"aliasBank","longname":"aliasBank","kind":"function","scope":"global"},{"comment":"/**\\n * Регистрирует alias для звука.\\n * @param {string} original - Оригинальное имя звука\\n * @param {string} alias - Alias, который будет использоваться для звука\\n */","meta":{"range":[4198,4395],"filename":"superdough.mjs","lineno":116,"columnno":0,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100107394","name":"exports.soundAlias","type":"FunctionDeclaration","paramnames":["original","alias"]}},"description":"<p>Регистрирует alias для звука.</p>","params":[{"type":{"names":["string"]},"description":"<p>Оригинальное имя звука</p>","name":"original"},{"type":{"names":["string"]},"description":"<p>Alias, который будет использоваться для звука</p>","name":"alias"}],"name":"soundAlias","longname":"soundAlias","kind":"function","scope":"global"},{"comment":"/** Выбирает записи из \`source\` и переименовывает их через \`map\` */","meta":{"range":[3675,3827],"filename":"util.mjs","lineno":114,"columnno":0,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100113587","name":"exports.pickAndRename","type":"VariableDeclaration"}},"description":"<p>Выбирает записи из <code>source</code> и переименовывает их через <code>map</code></p>","name":"pickAndRename","longname":"pickAndRename","kind":"constant","scope":"global"},{"comment":"/**\\n * Загружает коллекцию wavetable для использования с \`s\`\\n *\\n * @name tables\\n */","meta":{"filename":"wavetable.mjs","lineno":180,"columnno":0,"path":"/home/user/Bulka/packages/superdough","code":{}},"description":"<p>Загружает коллекцию wavetable для использования с <code>s</code></p>","name":"tables","longname":"tables","kind":"member","scope":"global"},{"comment":"/** Apply Hann window in-place */","meta":{"range":[17390,17516],"filename":"worklets.mjs","lineno":628,"columnno":2,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100118773","name":"PhaseVocoderProcessor#applyHannWindow","type":"MethodDefinition","paramnames":["input"]},"vars":{"":null}},"description":"<p>Apply Hann window in-place</p>","name":"applyHannWindow","longname":"PhaseVocoderProcessor#applyHannWindow","kind":"function","memberof":"PhaseVocoderProcessor","scope":"instance","params":[]},{"comment":"/** Compute squared magnitudes for peak finding **/","meta":{"range":[17574,17890],"filename":"worklets.mjs","lineno":635,"columnno":2,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100118803","name":"PhaseVocoderProcessor#computeMagnitudes","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Compute squared magnitudes for peak finding</p>","name":"computeMagnitudes","longname":"PhaseVocoderProcessor#computeMagnitudes","kind":"function","memberof":"PhaseVocoderProcessor","scope":"instance","params":[]},{"comment":"/** Find peaks in spectrum magnitudes **/","meta":{"range":[17938,18410],"filename":"worklets.mjs","lineno":649,"columnno":2,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100118863","name":"PhaseVocoderProcessor#findPeaks","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Find peaks in spectrum magnitudes</p>","name":"findPeaks","longname":"PhaseVocoderProcessor#findPeaks","kind":"function","memberof":"PhaseVocoderProcessor","scope":"instance","params":[]},{"comment":"/** Shift peaks and regions of influence by pitchFactor into new specturm */","meta":{"range":[18493,20471],"filename":"worklets.mjs","lineno":670,"columnno":2,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100118969","name":"PhaseVocoderProcessor#shiftPeaks","type":"MethodDefinition","paramnames":["pitchFactor"]},"vars":{"":null}},"description":"<p>Shift peaks and regions of influence by pitchFactor into new specturm</p>","name":"shiftPeaks","longname":"PhaseVocoderProcessor#shiftPeaks","kind":"function","memberof":"PhaseVocoderProcessor","scope":"instance","params":[]},{"comment":"/**  BYTE BEATS */","meta":{"range":[23436,24324],"filename":"worklets.mjs","lineno":823,"columnno":6,"path":"/home/user/Bulka/packages/superdough","code":{"id":"astnode100119643","name":"chyx","type":"ObjectExpression","value":"{\\"bitC\\":\\"\\",\\"br\\":\\"\\",\\"sinf\\":\\"\\",\\"cosf\\":\\"\\",\\"tanf\\":\\"\\",\\"regG\\":\\"\\"}"}},"description":"<p>BYTE BEATS</p>","name":"chyx","longname":"chyx","kind":"constant","scope":"global","params":[]},{"comment":"/**\\n * Функция кроссфейда с равной мощностью.\\n * Плавно переключает между сигналами A и B, поддерживая постоянную воспринимаемую громкость.\\n *\\n * @param {number} a - Сигнал A (может быть одиночным значением или значением массива при обработке буфера).\\n * @param {number} b - Сигнал B (может быть одиночным значением или значением массива при обработке буфера).\\n * @param {number} m - Параметр кроссфейда (0.0 = только A, 1.0 = только B, 0.5 = равная смесь).\\n * @returns {number} Выходное значение кроссфейда.\\n */","meta":{"range":[969,1128],"filename":"dough.mjs","lineno":24,"columnno":0,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100124508","name":"crossfade","type":"FunctionDeclaration","paramnames":["a","b","m"]},"vars":{"aGain":"crossfade~aGain","bGain":"crossfade~bGain"}},"description":"<p>Функция кроссфейда с равной мощностью.\\nПлавно переключает между сигналами A и B, поддерживая постоянную воспринимаемую громкость.</p>","params":[{"type":{"names":["number"]},"description":"<p>Сигнал A (может быть одиночным значением или значением массива при обработке буфера).</p>","name":"a"},{"type":{"names":["number"]},"description":"<p>Сигнал B (может быть одиночным значением или значением массива при обработке буфера).</p>","name":"b"},{"type":{"names":["number"]},"description":"<p>Параметр кроссфейда (0.0 = только A, 1.0 = только B, 0.5 = равная смесь).</p>","name":"m"}],"returns":[{"type":{"names":["number"]},"description":"<p>Выходное значение кроссфейда.</p>"}],"name":"crossfade","longname":"crossfade","kind":"function","scope":"global"},{"comment":"/** @type {number} */","meta":{"range":[17007,17014],"filename":"dough.mjs","lineno":662,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127475","name":"id","type":"ClassProperty"}},"type":{"names":["number"]},"name":"id","longname":"DoughVoice#id","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number[]} */","meta":{"range":[17043,17056],"filename":"dough.mjs","lineno":664,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127477","name":"out","type":"ClassProperty"}},"type":{"names":["Array.<number>"]},"name":"out","longname":"DoughVoice#out","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[17096,17103],"filename":"dough.mjs","lineno":667,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127481","name":"attack","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"attack","longname":"DoughVoice#attack","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[17142,17148],"filename":"dough.mjs","lineno":669,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127482","name":"decay","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"decay","longname":"DoughVoice#decay","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[17187,17195],"filename":"dough.mjs","lineno":671,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127483","name":"sustain","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"sustain","longname":"DoughVoice#sustain","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number} */","meta":{"range":[17222,17230],"filename":"dough.mjs","lineno":673,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127484","name":"release","type":"ClassProperty"}},"type":{"names":["number"]},"name":"release","longname":"DoughVoice#release","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number} */","meta":{"range":[17257,17264],"filename":"dough.mjs","lineno":675,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127485","name":"_begin","type":"ClassProperty"}},"type":{"names":["number"]},"name":"_begin","longname":"DoughVoice#_begin","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number} */","meta":{"range":[17291,17301],"filename":"dough.mjs","lineno":677,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127486","name":"_duration","type":"ClassProperty"}},"type":{"names":["number"]},"name":"_duration","longname":"DoughVoice#_duration","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {any} */","meta":{"range":[17326,17333],"filename":"dough.mjs","lineno":680,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127487","name":"_sound","type":"ClassProperty"}},"type":{"names":["any"]},"name":"_sound","longname":"DoughVoice#_sound","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number} */","meta":{"range":[17360,17374],"filename":"dough.mjs","lineno":682,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127488","name":"_channels","type":"ClassProperty"}},"type":{"names":["number"]},"name":"_channels","longname":"DoughVoice#_channels","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {BufferPlayer[] | undefined} */","meta":{"range":[17421,17430],"filename":"dough.mjs","lineno":684,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127490","name":"_buffers","type":"ClassProperty"}},"type":{"names":["Array.<BufferPlayer>","undefined"]},"name":"_buffers","longname":"DoughVoice#_buffers","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {string | undefined} */","meta":{"range":[17469,17474],"filename":"dough.mjs","lineno":686,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127491","name":"unit","type":"ClassProperty"}},"type":{"names":["string","undefined"]},"name":"unit","longname":"DoughVoice#unit","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {ADSR | undefined} */","meta":{"range":[17512,17518],"filename":"dough.mjs","lineno":689,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127492","name":"_penv","type":"ClassProperty"}},"type":{"names":["ADSR","undefined"]},"name":"_penv","longname":"DoughVoice#_penv","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[17557,17562],"filename":"dough.mjs","lineno":691,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127493","name":"penv","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"penv","longname":"DoughVoice#penv","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[17601,17609],"filename":"dough.mjs","lineno":693,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127494","name":"pattack","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"pattack","longname":"DoughVoice#pattack","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[17648,17655],"filename":"dough.mjs","lineno":695,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127495","name":"pdecay","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"pdecay","longname":"DoughVoice#pdecay","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[17694,17703],"filename":"dough.mjs","lineno":697,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127496","name":"psustain","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"psustain","longname":"DoughVoice#psustain","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[17742,17751],"filename":"dough.mjs","lineno":699,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127497","name":"prelease","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"prelease","longname":"DoughVoice#prelease","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[17791,17795],"filename":"dough.mjs","lineno":702,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127498","name":"vib","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"vib","longname":"DoughVoice#vib","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[17843,17850],"filename":"dough.mjs","lineno":706,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127500","name":"vibmod","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"vibmod","longname":"DoughVoice#vibmod","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {SineOsc | undefined} */","meta":{"range":[17891,17895],"filename":"dough.mjs","lineno":709,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127501","name":"_fm","type":"ClassProperty"}},"type":{"names":["SineOsc","undefined"]},"name":"_fm","longname":"DoughVoice#_fm","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[17934,17938],"filename":"dough.mjs","lineno":711,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127502","name":"fmh","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"fmh","longname":"DoughVoice#fmh","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[17977,17981],"filename":"dough.mjs","lineno":713,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127503","name":"fmi","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"fmi","longname":"DoughVoice#fmi","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {ADSR | undefined} */","meta":{"range":[18019,18026],"filename":"dough.mjs","lineno":716,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127504","name":"_fmenv","type":"ClassProperty"}},"type":{"names":["ADSR","undefined"]},"name":"_fmenv","longname":"DoughVoice#_fmenv","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18065,18074],"filename":"dough.mjs","lineno":718,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127505","name":"fmattack","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"fmattack","longname":"DoughVoice#fmattack","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18113,18121],"filename":"dough.mjs","lineno":720,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127506","name":"fmdecay","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"fmdecay","longname":"DoughVoice#fmdecay","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18160,18170],"filename":"dough.mjs","lineno":722,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127507","name":"fmsustain","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"fmsustain","longname":"DoughVoice#fmsustain","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18209,18219],"filename":"dough.mjs","lineno":724,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127508","name":"fmrelease","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"fmrelease","longname":"DoughVoice#fmrelease","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {ADSR | undefined} */","meta":{"range":[18257,18264],"filename":"dough.mjs","lineno":727,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127509","name":"_lpenv","type":"ClassProperty"}},"type":{"names":["ADSR","undefined"]},"name":"_lpenv","longname":"DoughVoice#_lpenv","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18312,18321],"filename":"dough.mjs","lineno":730,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127511","name":"lpattack","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"lpattack","longname":"DoughVoice#lpattack","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18360,18368],"filename":"dough.mjs","lineno":732,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127512","name":"lpdecay","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"lpdecay","longname":"DoughVoice#lpdecay","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18407,18417],"filename":"dough.mjs","lineno":734,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127513","name":"lpsustain","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"lpsustain","longname":"DoughVoice#lpsustain","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18456,18466],"filename":"dough.mjs","lineno":736,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127514","name":"lprelease","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"lprelease","longname":"DoughVoice#lprelease","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {ADSR | undefined} */","meta":{"range":[18504,18511],"filename":"dough.mjs","lineno":739,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127515","name":"_hpenv","type":"ClassProperty"}},"type":{"names":["ADSR","undefined"]},"name":"_hpenv","longname":"DoughVoice#_hpenv","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18550,18556],"filename":"dough.mjs","lineno":741,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127516","name":"hpenv","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"hpenv","longname":"DoughVoice#hpenv","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18595,18604],"filename":"dough.mjs","lineno":743,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127517","name":"hpattack","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"hpattack","longname":"DoughVoice#hpattack","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18643,18651],"filename":"dough.mjs","lineno":745,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127518","name":"hpdecay","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"hpdecay","longname":"DoughVoice#hpdecay","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18690,18700],"filename":"dough.mjs","lineno":747,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127519","name":"hpsustain","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"hpsustain","longname":"DoughVoice#hpsustain","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18739,18749],"filename":"dough.mjs","lineno":749,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127520","name":"hprelease","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"hprelease","longname":"DoughVoice#hprelease","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {ADSR | undefined} */","meta":{"range":[18787,18794],"filename":"dough.mjs","lineno":752,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127521","name":"_bpenv","type":"ClassProperty"}},"type":{"names":["ADSR","undefined"]},"name":"_bpenv","longname":"DoughVoice#_bpenv","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18833,18839],"filename":"dough.mjs","lineno":754,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127522","name":"bpenv","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"bpenv","longname":"DoughVoice#bpenv","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18878,18887],"filename":"dough.mjs","lineno":756,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127523","name":"bpattack","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"bpattack","longname":"DoughVoice#bpattack","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18926,18934],"filename":"dough.mjs","lineno":758,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127524","name":"bpdecay","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"bpdecay","longname":"DoughVoice#bpdecay","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[18973,18983],"filename":"dough.mjs","lineno":760,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127525","name":"bpsustain","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"bpsustain","longname":"DoughVoice#bpsustain","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[19022,19032],"filename":"dough.mjs","lineno":762,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127526","name":"bprelease","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"bprelease","longname":"DoughVoice#bprelease","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[19072,19079],"filename":"dough.mjs","lineno":765,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127527","name":"cutoff","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"cutoff","longname":"DoughVoice#cutoff","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[19118,19126],"filename":"dough.mjs","lineno":767,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127528","name":"hcutoff","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"hcutoff","longname":"DoughVoice#hcutoff","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[19165,19171],"filename":"dough.mjs","lineno":769,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127529","name":"bandf","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"bandf","longname":"DoughVoice#bandf","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[19210,19217],"filename":"dough.mjs","lineno":771,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127530","name":"coarse","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"coarse","longname":"DoughVoice#coarse","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[19256,19262],"filename":"dough.mjs","lineno":773,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127531","name":"crush","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"crush","longname":"DoughVoice#crush","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number | undefined} */","meta":{"range":[19301,19309],"filename":"dough.mjs","lineno":775,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127532","name":"distort","type":"ClassProperty"}},"type":{"names":["number","undefined"]},"name":"distort","longname":"DoughVoice#distort","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {number} */","meta":{"range":[19337,19342],"filename":"dough.mjs","lineno":778,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127533","name":"freq","type":"ClassProperty"}},"type":{"names":["number"]},"name":"freq","longname":"DoughVoice#freq","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {string | undefined} */","meta":{"range":[19381,19386],"filename":"dough.mjs","lineno":780,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127534","name":"note","type":"ClassProperty"}},"type":{"names":["string","undefined"]},"name":"note","longname":"DoughVoice#note","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {TwoPoleFilter[] | null | undefined} */","meta":{"range":[19442,19447],"filename":"dough.mjs","lineno":783,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127535","name":"_lpf","type":"ClassProperty"}},"type":{"names":["Array.<TwoPoleFilter>","null","undefined"]},"name":"_lpf","longname":"DoughVoice#_lpf","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {TwoPoleFilter[] | null | undefined} */","meta":{"range":[19502,19507],"filename":"dough.mjs","lineno":785,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127536","name":"_hpf","type":"ClassProperty"}},"type":{"names":["Array.<TwoPoleFilter>","null","undefined"]},"name":"_hpf","longname":"DoughVoice#_hpf","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {TwoPoleFilter[] | null | undefined} */","meta":{"range":[19562,19567],"filename":"dough.mjs","lineno":787,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127537","name":"_bpf","type":"ClassProperty"}},"type":{"names":["Array.<TwoPoleFilter>","null","undefined"]},"name":"_bpf","longname":"DoughVoice#_bpf","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {Chorus[] | null | undefined} */","meta":{"range":[19615,19623],"filename":"dough.mjs","lineno":789,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127538","name":"_chorus","type":"ClassProperty"}},"type":{"names":["Array.<Chorus>","null","undefined"]},"name":"_chorus","longname":"DoughVoice#_chorus","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {Coarse[] | null | undefined} */","meta":{"range":[19671,19679],"filename":"dough.mjs","lineno":791,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127539","name":"_coarse","type":"ClassProperty"}},"type":{"names":["Array.<Coarse>","null","undefined"]},"name":"_coarse","longname":"DoughVoice#_coarse","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {Crush[] | null | undefined} */","meta":{"range":[19726,19733],"filename":"dough.mjs","lineno":793,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127540","name":"_crush","type":"ClassProperty"}},"type":{"names":["Array.<Crush>","null","undefined"]},"name":"_crush","longname":"DoughVoice#_crush","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/** @type {Distort[] | null | undefined} */","meta":{"range":[19782,19791],"filename":"dough.mjs","lineno":795,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127541","name":"_distort","type":"ClassProperty"}},"type":{"names":["Array.<Distort>","null","undefined"]},"name":"_distort","longname":"DoughVoice#_distort","kind":"member","memberof":"DoughVoice","scope":"instance"},{"comment":"/**\\n   * @param {DoughVoice} value\\n   */","meta":{"range":[19838,24327],"filename":"dough.mjs","lineno":800,"columnno":2,"path":"/home/user/Bulka/packages/supradough","code":{"id":"astnode100127542","name":"exports.DoughVoice","type":"MethodDefinition","paramnames":["value"]},"vars":{"":null}},"params":[{"type":{"names":["DoughVoice"]},"name":"value"}],"name":"DoughVoice","longname":"DoughVoice#DoughVoice","kind":"class","memberof":"DoughVoice","scope":"instance"},{"comment":"/**\\n * Изменяет высоту каждого значения на заданную величину. Ожидает числа или строки note в качестве значений.\\n * Величина может быть задана как количество полутонов или как строка в краткой нотации интервалов.\\n * Если вас не волнует энгармоническая правильность, просто используйте числа. В противном случае передайте интервал в\\n * форме: ST, где S - номер ступени, а T - тип интервала:\\n *\\n * - M = мажорный\\n * - m = минорный\\n * - P = чистый\\n * - A = увеличенный\\n * - d = уменьшенный\\n *\\n * Примеры интервалов:\\n *\\n * - 1P = прима\\n * - 3M = большая терция\\n * - 3m = малая терция\\n * - 4P = чистая кварта\\n * - 4A = увеличенная кварта\\n * - 5P = чистая квинта\\n * - 5d = уменьшенная квинта\\n *\\n * @param {string | number} amount Количество полутонов или строка интервала.\\n * @returns Pattern\\n * @memberof Pattern\\n * @name transpose\\n * @synonyms trans\\n * @example\\n * \\"c2 c3\\".fast(2).transpose(\\"<0 -2 5 3>\\".slow(2)).note()\\n * @example\\n * \\"c2 c3\\".fast(2).transpose(\\"<1P -2M 4P 3m>\\".slow(2)).note()\\n */","meta":{"filename":"tonal.mjs","lineno":81,"columnno":0,"path":"/home/user/Bulka/packages/tonal","code":{}},"description":"<p>Изменяет высоту каждого значения на заданную величину. Ожидает числа или строки note в качестве значений.\\nВеличина может быть задана как количество полутонов или как строка в краткой нотации интервалов.\\nЕсли вас не волнует энгармоническая правильность, просто используйте числа. В противном случае передайте интервал в\\nформе: ST, где S - номер ступени, а T - тип интервала:</p>\\n<ul>\\n<li>M = мажорный</li>\\n<li>m = минорный</li>\\n<li>P = чистый</li>\\n<li>A = увеличенный</li>\\n<li>d = уменьшенный</li>\\n</ul>\\n<p>Примеры интервалов:</p>\\n<ul>\\n<li>1P = прима</li>\\n<li>3M = большая терция</li>\\n<li>3m = малая терция</li>\\n<li>4P = чистая кварта</li>\\n<li>4A = увеличенная кварта</li>\\n<li>5P = чистая квинта</li>\\n<li>5d = уменьшенная квинта</li>\\n</ul>","params":[{"type":{"names":["string","number"]},"description":"<p>Количество полутонов или строка интервала.</p>","name":"amount"}],"returns":[{"description":"<p>Pattern</p>"}],"memberof":"Pattern","name":"transpose","synonyms_text":"trans","synonyms":["trans"],"examples":["\\"c2 c3\\".fast(2).transpose(\\"<0 -2 5 3>\\".slow(2)).note()","\\"c2 c3\\".fast(2).transpose(\\"<1P -2M 4P 3m>\\".slow(2)).note()"],"scope":"static","longname":"Pattern.transpose","kind":"member"},{"comment":"/**\\n * Транспонирует ноты внутри scale на заданное количество ступеней.\\n * Ожидается вызов на Pattern, который уже имеет {@link Pattern#scale}\\n *\\n * @memberof Pattern\\n * @name scaleTranspose\\n * @param {offset} offset количество ступеней внутри scale\\n * @returns Pattern\\n * @synonyms scaleTrans, strans\\n * @example\\n * \\"-8 [2,4,6]\\"\\n * .scale('C4 bebop major')\\n * .scaleTranspose(\\"<0 -1 -2 -3 -4 -5 -6 -4>\\")\\n * .note()\\n */","meta":{"filename":"tonal.mjs","lineno":151,"columnno":0,"path":"/home/user/Bulka/packages/tonal","code":{}},"description":"<p>Транспонирует ноты внутри scale на заданное количество ступеней.\\nОжидается вызов на Pattern, который уже имеет {@link Pattern#scale}</p>","memberof":"Pattern","name":"scaleTranspose","params":[{"type":{"names":["offset"]},"description":"<p>количество ступеней внутри scale</p>","name":"offset"}],"returns":[{"description":"<p>Pattern</p>"}],"synonyms_text":"scaleTrans, strans","synonyms":["scaleTrans","strans"],"examples":["\\"-8 [2,4,6]\\"\\n.scale('C4 bebop major')\\n.scaleTranspose(\\"<0 -1 -2 -3 -4 -5 -6 -4>\\")\\n.note()"],"scope":"static","longname":"Pattern.scaleTranspose","kind":"member"},{"comment":"/**\\n * Преобразует числа в ноты в scale (с нулевой индексацией) или квантизует ноты к scale.\\n *\\n * При описании нот через числа обратите внимание, что отрицательные числа могут использоваться для\\n * движения назад по scale, а также диезы или бемоли для получения нот вне scale.\\n *\\n * Также устанавливает scale для других операций со scale, таких как {@link Pattern#scaleTranspose}.\\n *\\n * Scale состоит из основной ноты (например, \`c4\`, \`c\`, \`f#\`, \`bb4\`), за которой следует двоеточие (':'), а затем [тип scale](https://github.com/tonaljs/tonal/blob/main/packages/scale-type/data.ts).\\n *\\n * Название scale должно быть написано без пробелов (потому что иначе оно будет интерпретировано как многошаговый pattern).\\n * Если название вашей scale содержит пробелы, замените их на двоеточия.\\n *\\n * Основная нота по умолчанию находится в октаве 3, если номер октавы не указан.\\n *\\n * @name scale\\n * @param {string} scale Название scale\\n * @returns Pattern\\n * @example\\n * n(\\"0 2 4 6 4 2\\").scale(\\"C:major\\")\\n * @example\\n * n(\\"[0,7] 4 [2,7] 4\\")\\n * .scale(\\"C:<major minor>/2\\")\\n * .s(\\"piano\\")\\n * @example\\n * n(rand.range(0,12).segment(8))\\n * .scale(\\"C:ritusen\\")\\n * .s(\\"piano\\")\\n * @example\\n * n(\\"<[0,7b] [-4# -4] [-2,7##] 4 [0,7] [-4# -4b] [-2,7###] 4b>*4\\")\\n * .scale(\\"C:<major minor>/2\\")\\n * .s(\\"piano\\")\\n * @example\\n * note(\\"C1*16\\").transpose(irand(36)).scale('Cb2 major').scaleTranspose(3)\\n * @example\\n * n(\\"[0 0] [1 2] [3 4] [5 6]\\").scale(\\"C:major:blues\\")\\n */","meta":{"filename":"tonal.mjs","lineno":231,"columnno":0,"path":"/home/user/Bulka/packages/tonal","code":{}},"description":"<p>Преобразует числа в ноты в scale (с нулевой индексацией) или квантизует ноты к scale.</p>\\n<p>При описании нот через числа обратите внимание, что отрицательные числа могут использоваться для\\nдвижения назад по scale, а также диезы или бемоли для получения нот вне scale.</p>\\n<p>Также устанавливает scale для других операций со scale, таких как {@link Pattern#scaleTranspose}.</p>\\n<p>Scale состоит из основной ноты (например, <code>c4</code>, <code>c</code>, <code>f#</code>, <code>bb4</code>), за которой следует двоеточие (':'), а затем <a href=\\"https://github.com/tonaljs/tonal/blob/main/packages/scale-type/data.ts\\">тип scale</a>.</p>\\n<p>Название scale должно быть написано без пробелов (потому что иначе оно будет интерпретировано как многошаговый pattern).\\nЕсли название вашей scale содержит пробелы, замените их на двоеточия.</p>\\n<p>Основная нота по умолчанию находится в октаве 3, если номер октавы не указан.</p>","name":"scale","params":[{"type":{"names":["string"]},"description":"<p>Название scale</p>","name":"scale"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["n(\\"0 2 4 6 4 2\\").scale(\\"C:major\\")","n(\\"[0,7] 4 [2,7] 4\\")\\n.scale(\\"C:<major minor>/2\\")\\n.s(\\"piano\\")","n(rand.range(0,12).segment(8))\\n.scale(\\"C:ritusen\\")\\n.s(\\"piano\\")","n(\\"<[0,7b] [-4# -4] [-2,7##] 4 [0,7] [-4# -4b] [-2,7###] 4b>*4\\")\\n.scale(\\"C:<major minor>/2\\")\\n.s(\\"piano\\")","note(\\"C1*16\\").transpose(irand(36)).scale('Cb2 major').scaleTranspose(3)","n(\\"[0 0] [1 2] [3 4] [5 6]\\").scale(\\"C:major:blues\\")"],"longname":"scale","kind":"member","scope":"global"},{"comment":"/**\\n * Добавляет новый пользовательский словарь voicing.\\n *\\n * @name addVoicings\\n * @memberof Pattern\\n * @param {string} name идентификатор для словаря voicing\\n * @param {Object} dictionary отображает символ chord на возможные voicing\\n * @param {Array} range минимальная и максимальная нота\\n * @returns Pattern\\n * @example\\n * addVoicings('cookie', {\\n *   7: ['3M 7m 9M 12P 15P', '7m 10M 13M 16M 19P'],\\n *   '^7': ['3M 6M 9M 12P 14M', '7M 10M 13M 16M 19P'],\\n *   m7: ['8P 11P 14m 17m 19P', '5P 8P 11P 14m 17m'],\\n *   m7b5: ['3m 5d 8P 11P 14m', '5d 8P 11P 14m 17m'],\\n *   o7: ['3m 6M 9M 11A 15P'],\\n *   '7alt': ['3M 7m 10m 13m 15P'],\\n *   '7#11': ['7m 10m 13m 15P 17m'],\\n * }, ['C3', 'C6'])\\n * \\"<C^7 A7 Dm7 G7>\\".voicings('cookie').note()\\n */","meta":{"filename":"voicings.mjs","lineno":89,"columnno":0,"path":"/home/user/Bulka/packages/tonal","code":{}},"description":"<p>Добавляет новый пользовательский словарь voicing.</p>","name":"addVoicings","memberof":"Pattern","params":[{"type":{"names":["string"]},"description":"<p>идентификатор для словаря voicing</p>","name":"name"},{"type":{"names":["Object"]},"description":"<p>отображает символ chord на возможные voicing</p>","name":"dictionary"},{"type":{"names":["Array"]},"description":"<p>минимальная и максимальная нота</p>","name":"range"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["addVoicings('cookie', {\\n  7: ['3M 7m 9M 12P 15P', '7m 10M 13M 16M 19P'],\\n  '^7': ['3M 6M 9M 12P 14M', '7M 10M 13M 16M 19P'],\\n  m7: ['8P 11P 14m 17m 19P', '5P 8P 11P 14m 17m'],\\n  m7b5: ['3m 5d 8P 11P 14m', '5d 8P 11P 14m 17m'],\\n  o7: ['3m 6M 9M 11A 15P'],\\n  '7alt': ['3M 7m 10m 13m 15P'],\\n  '7#11': ['7m 10m 13m 15P 17m'],\\n}, ['C3', 'C6'])\\n\\"<C^7 A7 Dm7 G7>\\".voicings('cookie').note()"],"scope":"static","longname":"Pattern.addVoicings","kind":"member"},{"comment":"/**\\n * УСТАРЕЛО: всё ещё работает, но рекомендуется использовать .voicing (без s).\\n * Преобразует символы chord в voicing, используя максимально плавное голосоведение.\\n * Использует [пакет chord-voicings](https://github.com/felixroos/chord-voicings#chord-voicings).\\n *\\n * @name voicings\\n * @memberof Pattern\\n * @param {string} dictionary какой словарь voicing использовать.\\n * @returns Pattern\\n * @example\\n * stack(\\"<C^7 A7 Dm7 G7>\\".voicings('lefthand'), \\"<C3 A2 D3 G2>\\").note()\\n */","meta":{"filename":"voicings.mjs","lineno":130,"columnno":0,"path":"/home/user/Bulka/packages/tonal","code":{}},"description":"<p>УСТАРЕЛО: всё ещё работает, но рекомендуется использовать .voicing (без s).\\nПреобразует символы chord в voicing, используя максимально плавное голосоведение.\\nИспользует <a href=\\"https://github.com/felixroos/chord-voicings#chord-voicings\\">пакет chord-voicings</a>.</p>","name":"voicings","memberof":"Pattern","params":[{"type":{"names":["string"]},"description":"<p>какой словарь voicing использовать.</p>","name":"dictionary"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["stack(\\"<C^7 A7 Dm7 G7>\\".voicings('lefthand'), \\"<C3 A2 D3 G2>\\").note()"],"scope":"static","longname":"Pattern.voicings","kind":"member"},{"comment":"/**\\n * Отображает chord входящего pattern на основные ноты в заданной октаве.\\n *\\n * @name rootNotes\\n * @memberof Pattern\\n * @param {octave} octave октава для использования\\n * @returns Pattern\\n * @example\\n * \\"<C^7 A7 Dm7 G7>\\".rootNotes(2).note()\\n */","meta":{"filename":"voicings.mjs","lineno":156,"columnno":0,"path":"/home/user/Bulka/packages/tonal","code":{}},"description":"<p>Отображает chord входящего pattern на основные ноты в заданной октаве.</p>","name":"rootNotes","memberof":"Pattern","params":[{"type":{"names":["octave"]},"description":"<p>октава для использования</p>","name":"octave"}],"returns":[{"description":"<p>Pattern</p>"}],"examples":["\\"<C^7 A7 Dm7 G7>\\".rootNotes(2).note()"],"scope":"static","longname":"Pattern.rootNotes","kind":"member"},{"comment":"/**\\n * Преобразует символы chord в voicing. Вы можете использовать следующие параметры управления:\\n *\\n * - \`chord\`: нота, за которой следует символ chord, например C Am G7 Bb^7\\n * - \`dict\`: словарь voicing для использования, по умолчанию используется словарь по умолчанию\\n * - \`anchor\`: нота, которая используется для выравнивания chord\\n * - \`mode\`: как voicing выравнивается относительно anchor\\n *   - \`below\`: верхняя нота <= anchor\\n *   - \`duck\`: верхняя нота <= anchor, anchor исключается\\n *   - \`above\`: нижняя нота >= anchor\\n * - \`offset\`: целое число, которое сдвигает voicing вверх или вниз к следующему voicing\\n * - \`n\`: если установлено, voicing играется как scale. Выходящие за пределы числа будут октавированы\\n *\\n * Все вышеперечисленные параметры являются необязательными, кроме \`chord\`.\\n * Если вы передаете pattern строк в voicing, они будут интерпретированы как chord.\\n *\\n * @name voicing\\n * @returns Pattern\\n * @example\\n * n(\\"0 1 2 3\\").chord(\\"<C Am F G>\\").voicing()\\n */","meta":{"filename":"voicings.mjs","lineno":175,"columnno":0,"path":"/home/user/Bulka/packages/tonal","code":{}},"description":"<p>Преобразует символы chord в voicing. Вы можете использовать следующие параметры управления:</p>\\n<ul>\\n<li><code>chord</code>: нота, за которой следует символ chord, например C Am G7 Bb^7</li>\\n<li><code>dict</code>: словарь voicing для использования, по умолчанию используется словарь по умолчанию</li>\\n<li><code>anchor</code>: нота, которая используется для выравнивания chord</li>\\n<li><code>mode</code>: как voicing выравнивается относительно anchor\\n<ul>\\n<li><code>below</code>: верхняя нота &lt;= anchor</li>\\n<li><code>duck</code>: верхняя нота &lt;= anchor, anchor исключается</li>\\n<li><code>above</code>: нижняя нота &gt;= anchor</li>\\n</ul>\\n</li>\\n<li><code>offset</code>: целое число, которое сдвигает voicing вверх или вниз к следующему voicing</li>\\n<li><code>n</code>: если установлено, voicing играется как scale. Выходящие за пределы числа будут октавированы</li>\\n</ul>\\n<p>Все вышеперечисленные параметры являются необязательными, кроме <code>chord</code>.\\nЕсли вы передаете pattern строк в voicing, они будут интерпретированы как chord.</p>","name":"voicing","returns":[{"description":"<p>Pattern</p>"}],"examples":["n(\\"0 1 2 3\\").chord(\\"<C Am F G>\\").voicing()"],"longname":"voicing","kind":"member","scope":"global"},{"comment":"/**\\n * Рендерит осциллограф для частотной области аудиосигнала.\\n * @name fscope\\n * @param {string} color Цвет линии в виде hex или названия цвета. По умолчанию белый.\\n * @param {number} scale Масштабирует ось y. По умолчанию 0.25\\n * @param {number} pos Позиция по оси y относительно высоты экрана. 0 = верх, 1 = низ экрана\\n * @param {number} lean Выравнивание по оси y, где 0 = верх и 1 = низ\\n * @param {number} min Минимальное значение\\n * @param {number} max Максимальное значение\\n * @example\\n * s(\\"sawtooth\\").fscope()\\n */","meta":{"filename":"scope.mjs","lineno":98,"columnno":0,"path":"/home/user/Bulka/packages/webaudio","code":{}},"description":"<p>Рендерит осциллограф для частотной области аудиосигнала.</p>","name":"fscope","params":[{"type":{"names":["string"]},"description":"<p>Цвет линии в виде hex или названия цвета. По умолчанию белый.</p>","name":"color"},{"type":{"names":["number"]},"description":"<p>Масштабирует ось y. По умолчанию 0.25</p>","name":"scale"},{"type":{"names":["number"]},"description":"<p>Позиция по оси y относительно высоты экрана. 0 = верх, 1 = низ экрана</p>","name":"pos"},{"type":{"names":["number"]},"description":"<p>Выравнивание по оси y, где 0 = верх и 1 = низ</p>","name":"lean"},{"type":{"names":["number"]},"description":"<p>Минимальное значение</p>","name":"min"},{"type":{"names":["number"]},"description":"<p>Максимальное значение</p>","name":"max"}],"examples":["s(\\"sawtooth\\").fscope()"],"longname":"fscope","kind":"member","scope":"global"},{"comment":"/**\\n * Рендерит осциллограф для временной области аудиосигнала.\\n * @name scope\\n * @synonyms tscope\\n * @param {object} config Опциональная конфигурация с параметрами:\\n * @param {boolean} align Если 1, осциллограф будет выровнен по первому пересечению нуля. По умолчанию 1\\n * @param {string} color Цвет линии в виде hex или названия цвета. По умолчанию белый.\\n * @param {number} thickness Толщина линии. По умолчанию 3\\n * @param {number} scale Масштабирует ось y. По умолчанию 0.25\\n * @param {number} pos Позиция по оси y относительно высоты экрана. 0 = верх, 1 = низ экрана\\n * @param {number} trigger Значение амплитуды, используемое для выравнивания осциллографа. По умолчанию 0.\\n * @example\\n * s(\\"sawtooth\\")._scope()\\n */","meta":{"filename":"scope.mjs","lineno":121,"columnno":0,"path":"/home/user/Bulka/packages/webaudio","code":{}},"description":"<p>Рендерит осциллограф для временной области аудиосигнала.</p>","name":"scope","synonyms_text":"tscope","synonyms":["tscope"],"params":[{"type":{"names":["object"]},"description":"<p>Опциональная конфигурация с параметрами:</p>","name":"config"},{"type":{"names":["boolean"]},"description":"<p>Если 1, осциллограф будет выровнен по первому пересечению нуля. По умолчанию 1</p>","name":"align"},{"type":{"names":["string"]},"description":"<p>Цвет линии в виде hex или названия цвета. По умолчанию белый.</p>","name":"color"},{"type":{"names":["number"]},"description":"<p>Толщина линии. По умолчанию 3</p>","name":"thickness"},{"type":{"names":["number"]},"description":"<p>Масштабирует ось y. По умолчанию 0.25</p>","name":"scale"},{"type":{"names":["number"]},"description":"<p>Позиция по оси y относительно высоты экрана. 0 = верх, 1 = низ экрана</p>","name":"pos"},{"type":{"names":["number"]},"description":"<p>Значение амплитуды, используемое для выравнивания осциллографа. По умолчанию 0.</p>","name":"trigger"}],"examples":["s(\\"sawtooth\\")._scope()"],"longname":"scope","kind":"member","scope":"global"},{"comment":"/**\\n * Рендерит анализатор спектра для входящего аудиосигнала.\\n * @name spectrum\\n * @param {object} config Опциональная конфигурация с параметрами:\\n * @param {integer} thickness Толщина линии в px (по умолчанию 3)\\n * @param {integer} speed Скорость прокрутки (по умолчанию 1)\\n * @param {integer} min Минимальное значение в db (по умолчанию -80)\\n * @param {integer} max Максимальное значение в db (по умолчанию 0)\\n * @example\\n * n(\\"<0 4 <2 3> 1>*3\\")\\n * .off(1/8, add(n(5)))\\n * .off(1/5, add(n(7)))\\n * .scale(\\"d3:minor:pentatonic\\")\\n * .s('sine')\\n * .dec(.3).room(.5)\\n * ._spectrum()\\n */","meta":{"filename":"spectrum.mjs","lineno":5,"columnno":0,"path":"/home/user/Bulka/packages/webaudio","code":{}},"description":"<p>Рендерит анализатор спектра для входящего аудиосигнала.</p>","name":"spectrum","params":[{"type":{"names":["object"]},"description":"<p>Опциональная конфигурация с параметрами:</p>","name":"config"},{"type":{"names":["integer"]},"description":"<p>Толщина линии в px (по умолчанию 3)</p>","name":"thickness"},{"type":{"names":["integer"]},"description":"<p>Скорость прокрутки (по умолчанию 1)</p>","name":"speed"},{"type":{"names":["integer"]},"description":"<p>Минимальное значение в db (по умолчанию -80)</p>","name":"min"},{"type":{"names":["integer"]},"description":"<p>Максимальное значение в db (по умолчанию 0)</p>","name":"max"}],"examples":["n(\\"<0 4 <2 3> 1>*3\\")\\n.off(1/8, add(n(5)))\\n.off(1/5, add(n(7)))\\n.scale(\\"d3:minor:pentatonic\\")\\n.s('sine')\\n.dec(.3).room(.5)\\n._spectrum()"],"longname":"spectrum","kind":"member","scope":"global"},{"kind":"package","longname":"package:undefined","files":["/home/user/Bulka/packages/codemirror/autocomplete.mjs","/home/user/Bulka/packages/codemirror/basicSetup.mjs","/home/user/Bulka/packages/codemirror/codemirror.mjs","/home/user/Bulka/packages/codemirror/flash.mjs","/home/user/Bulka/packages/codemirror/highlight.mjs","/home/user/Bulka/packages/codemirror/html.mjs","/home/user/Bulka/packages/codemirror/index.mjs","/home/user/Bulka/packages/codemirror/keybindings.mjs","/home/user/Bulka/packages/codemirror/slider.mjs","/home/user/Bulka/packages/codemirror/themes/CutiePi.mjs","/home/user/Bulka/packages/codemirror/themes/algoboy.mjs","/home/user/Bulka/packages/codemirror/themes/androidstudio.mjs","/home/user/Bulka/packages/codemirror/themes/archBtw.mjs","/home/user/Bulka/packages/codemirror/themes/atomone.mjs","/home/user/Bulka/packages/codemirror/themes/aura.mjs","/home/user/Bulka/packages/codemirror/themes/bbedit.mjs","/home/user/Bulka/packages/codemirror/themes/blackscreen.mjs","/home/user/Bulka/packages/codemirror/themes/bluescreen.mjs","/home/user/Bulka/packages/codemirror/themes/bluescreenlight.mjs","/home/user/Bulka/packages/codemirror/themes/darcula.mjs","/home/user/Bulka/packages/codemirror/themes/dracula.mjs","/home/user/Bulka/packages/codemirror/themes/duotoneDark.mjs","/home/user/Bulka/packages/codemirror/themes/duotoneLight.mjs","/home/user/Bulka/packages/codemirror/themes/eclipse.mjs","/home/user/Bulka/packages/codemirror/themes/fruitDaw.mjs","/home/user/Bulka/packages/codemirror/themes/githubDark.mjs","/home/user/Bulka/packages/codemirror/themes/githubLight.mjs","/home/user/Bulka/packages/codemirror/themes/green-text.mjs","/home/user/Bulka/packages/codemirror/themes/gruvboxDark.mjs","/home/user/Bulka/packages/codemirror/themes/gruvboxLight.mjs","/home/user/Bulka/packages/codemirror/themes/materialDark.mjs","/home/user/Bulka/packages/codemirror/themes/materialLight.mjs","/home/user/Bulka/packages/codemirror/themes/monokai.mjs","/home/user/Bulka/packages/codemirror/themes/noctisLilac.mjs","/home/user/Bulka/packages/codemirror/themes/nord.mjs","/home/user/Bulka/packages/codemirror/themes/red-text.mjs","/home/user/Bulka/packages/codemirror/themes/solarizedDark.mjs","/home/user/Bulka/packages/codemirror/themes/solarizedLight.mjs","/home/user/Bulka/packages/codemirror/themes/sonic-pink.mjs","/home/user/Bulka/packages/codemirror/themes/strudel-theme.mjs","/home/user/Bulka/packages/codemirror/themes/sublime.mjs","/home/user/Bulka/packages/codemirror/themes/teletext.mjs","/home/user/Bulka/packages/codemirror/themes/terminal.mjs","/home/user/Bulka/packages/codemirror/themes/theme-helper.mjs","/home/user/Bulka/packages/codemirror/themes/tokioNightStorm.mjs","/home/user/Bulka/packages/codemirror/themes/tokyoNight.mjs","/home/user/Bulka/packages/codemirror/themes/tokyoNightDay.mjs","/home/user/Bulka/packages/codemirror/themes/vscodeDark.mjs","/home/user/Bulka/packages/codemirror/themes/vscodeLight.mjs","/home/user/Bulka/packages/codemirror/themes/whitescreen.mjs","/home/user/Bulka/packages/codemirror/themes/xcodeLight.mjs","/home/user/Bulka/packages/codemirror/themes.mjs","/home/user/Bulka/packages/codemirror/tooltip.mjs","/home/user/Bulka/packages/codemirror/vite.config.js","/home/user/Bulka/packages/codemirror/widget.mjs","/home/user/Bulka/packages/core/bench/pattern.bench.mjs","/home/user/Bulka/packages/core/clockworker.js","/home/user/Bulka/packages/core/controls.mjs","/home/user/Bulka/packages/core/cyclist.mjs","/home/user/Bulka/packages/core/drawLine.mjs","/home/user/Bulka/packages/core/euclid.mjs","/home/user/Bulka/packages/core/evaluate.mjs","/home/user/Bulka/packages/core/fraction.mjs","/home/user/Bulka/packages/core/hap.mjs","/home/user/Bulka/packages/core/index.mjs","/home/user/Bulka/packages/core/logger.mjs","/home/user/Bulka/packages/core/neocyclist.mjs","/home/user/Bulka/packages/core/pattern.mjs","/home/user/Bulka/packages/core/pick.mjs","/home/user/Bulka/packages/core/repl.mjs","/home/user/Bulka/packages/core/signal.mjs","/home/user/Bulka/packages/core/speak.mjs","/home/user/Bulka/packages/core/state.mjs","/home/user/Bulka/packages/core/test/controls.test.mjs","/home/user/Bulka/packages/core/test/drawLine.test.mjs","/home/user/Bulka/packages/core/test/euclid.test.js","/home/user/Bulka/packages/core/test/fraction.test.mjs","/home/user/Bulka/packages/core/test/pattern.test.mjs","/home/user/Bulka/packages/core/test/solmization.test.js","/home/user/Bulka/packages/core/test/util.test.mjs","/home/user/Bulka/packages/core/test/value.test.mjs","/home/user/Bulka/packages/core/time.mjs","/home/user/Bulka/packages/core/timespan.mjs","/home/user/Bulka/packages/core/ui.mjs","/home/user/Bulka/packages/core/util.mjs","/home/user/Bulka/packages/core/value.mjs","/home/user/Bulka/packages/core/vite.config.js","/home/user/Bulka/packages/core/zyklus.mjs","/home/user/Bulka/packages/csound/index.mjs","/home/user/Bulka/packages/csound/vite.config.js","/home/user/Bulka/packages/desktopbridge/index.mjs","/home/user/Bulka/packages/desktopbridge/loggerbridge.mjs","/home/user/Bulka/packages/desktopbridge/midibridge.mjs","/home/user/Bulka/packages/desktopbridge/oscbridge.mjs","/home/user/Bulka/packages/desktopbridge/utils.mjs","/home/user/Bulka/packages/draw/animate.mjs","/home/user/Bulka/packages/draw/color.mjs","/home/user/Bulka/packages/draw/draw.mjs","/home/user/Bulka/packages/draw/index.mjs","/home/user/Bulka/packages/draw/pianoroll.mjs","/home/user/Bulka/packages/draw/pitchwheel.mjs","/home/user/Bulka/packages/draw/spiral.mjs","/home/user/Bulka/packages/draw/vite.config.js","/home/user/Bulka/packages/embed/embed.js","/home/user/Bulka/packages/gamepad/gamepad.mjs","/home/user/Bulka/packages/gamepad/index.mjs","/home/user/Bulka/packages/gamepad/vite.config.js","/home/user/Bulka/packages/hs2js/src/hs2js.mjs","/home/user/Bulka/packages/hs2js/src/index.mjs","/home/user/Bulka/packages/hs2js/src/parser.mjs","/home/user/Bulka/packages/hs2js/vite.config.js","/home/user/Bulka/packages/hydra/hydra.mjs","/home/user/Bulka/packages/hydra/vite.config.js","/home/user/Bulka/packages/midi/index.mjs","/home/user/Bulka/packages/midi/midi.mjs","/home/user/Bulka/packages/midi/vite.config.js","/home/user/Bulka/packages/mini/bench/mini.bench.mjs","/home/user/Bulka/packages/mini/index.mjs","/home/user/Bulka/packages/mini/krill-parser.js","/home/user/Bulka/packages/mini/mini.mjs","/home/user/Bulka/packages/mini/test/mini.test.mjs","/home/user/Bulka/packages/mini/vite.config.js","/home/user/Bulka/packages/mondo/mondo.mjs","/home/user/Bulka/packages/mondo/test/mondo.test.mjs","/home/user/Bulka/packages/mondo/vite.config.js","/home/user/Bulka/packages/mondough/mondough.mjs","/home/user/Bulka/packages/mondough/vite.config.js","/home/user/Bulka/packages/motion/index.mjs","/home/user/Bulka/packages/motion/motion.mjs","/home/user/Bulka/packages/motion/vite.config.js","/home/user/Bulka/packages/mqtt/mqtt.mjs","/home/user/Bulka/packages/mqtt/vite.config.js","/home/user/Bulka/packages/osc/osc.mjs","/home/user/Bulka/packages/osc/server.js","/home/user/Bulka/packages/osc/superdirtoutput.js","/home/user/Bulka/packages/osc/tidal-sniffer.js","/home/user/Bulka/packages/osc/vite.config.js","/home/user/Bulka/packages/reference/index.mjs","/home/user/Bulka/packages/reference/vite.config.js","/home/user/Bulka/packages/repl/index.mjs","/home/user/Bulka/packages/repl/prebake.mjs","/home/user/Bulka/packages/repl/repl-component.mjs","/home/user/Bulka/packages/repl/vite.config.js","/home/user/Bulka/packages/sampler/sample-server.mjs","/home/user/Bulka/packages/serial/serial.mjs","/home/user/Bulka/packages/serial/vite.config.js","/home/user/Bulka/packages/soundfonts/convert.js","/home/user/Bulka/packages/soundfonts/fontloader.mjs","/home/user/Bulka/packages/soundfonts/gm.mjs","/home/user/Bulka/packages/soundfonts/index.mjs","/home/user/Bulka/packages/soundfonts/list.mjs","/home/user/Bulka/packages/soundfonts/sfumato.mjs","/home/user/Bulka/packages/soundfonts/vite.config.js","/home/user/Bulka/packages/superdough/audioContext.mjs","/home/user/Bulka/packages/superdough/dspworklet.mjs","/home/user/Bulka/packages/superdough/feedbackdelay.mjs","/home/user/Bulka/packages/superdough/fft.js","/home/user/Bulka/packages/superdough/helpers.mjs","/home/user/Bulka/packages/superdough/index.mjs","/home/user/Bulka/packages/superdough/logger.mjs","/home/user/Bulka/packages/superdough/noise.mjs","/home/user/Bulka/packages/superdough/ola-processor.js","/home/user/Bulka/packages/superdough/reverb.mjs","/home/user/Bulka/packages/superdough/reverbGen.mjs","/home/user/Bulka/packages/superdough/sampler.mjs","/home/user/Bulka/packages/superdough/superdough.mjs","/home/user/Bulka/packages/superdough/superdoughoutput.mjs","/home/user/Bulka/packages/superdough/synth.mjs","/home/user/Bulka/packages/superdough/util.mjs","/home/user/Bulka/packages/superdough/vite.config.js","/home/user/Bulka/packages/superdough/vowel.mjs","/home/user/Bulka/packages/superdough/wavetable.mjs","/home/user/Bulka/packages/superdough/worklets.mjs","/home/user/Bulka/packages/superdough/zzfx.mjs","/home/user/Bulka/packages/superdough/zzfx_fork.mjs","/home/user/Bulka/packages/supradough/dough-export.mjs","/home/user/Bulka/packages/supradough/dough-worklet.mjs","/home/user/Bulka/packages/supradough/dough.mjs","/home/user/Bulka/packages/supradough/index.mjs","/home/user/Bulka/packages/supradough/vite.config.js","/home/user/Bulka/packages/tidal/tidal.mjs","/home/user/Bulka/packages/tonal/index.mjs","/home/user/Bulka/packages/tonal/ireal.mjs","/home/user/Bulka/packages/tonal/test/tonal.test.mjs","/home/user/Bulka/packages/tonal/test/tonleiter.test.mjs","/home/user/Bulka/packages/tonal/tonal.mjs","/home/user/Bulka/packages/tonal/tonleiter.mjs","/home/user/Bulka/packages/tonal/vite.config.js","/home/user/Bulka/packages/tonal/voicings.mjs","/home/user/Bulka/packages/transpiler/index.mjs","/home/user/Bulka/packages/transpiler/test/transpiler.test.mjs","/home/user/Bulka/packages/transpiler/transpiler.mjs","/home/user/Bulka/packages/transpiler/vite.config.js","/home/user/Bulka/packages/vite-plugin-bundle-audioworklet/vite-plugin-bundle-audioworklet.js","/home/user/Bulka/packages/web/vite.config.js","/home/user/Bulka/packages/web/web.mjs","/home/user/Bulka/packages/webaudio/index.mjs","/home/user/Bulka/packages/webaudio/scope.mjs","/home/user/Bulka/packages/webaudio/spectrum.mjs","/home/user/Bulka/packages/webaudio/supradough.mjs","/home/user/Bulka/packages/webaudio/vite.config.js","/home/user/Bulka/packages/webaudio/webaudio.mjs","/home/user/Bulka/packages/xen/index.mjs","/home/user/Bulka/packages/xen/test/xen.test.mjs","/home/user/Bulka/packages/xen/tune.mjs","/home/user/Bulka/packages/xen/tunejs.js","/home/user/Bulka/packages/xen/vite.config.js","/home/user/Bulka/packages/xen/xen.mjs"]}]`),Ym={docs:KS};let JS=n=>{const e=document.createElement("template");return e.innerHTML=n.trim(),e.content.childNodes},Kg=n=>Array.isArray(n)?n.flat().join(""):n===void 0?"":n,e7=(n,...e)=>{let t="";for(let r in n)t+=Kg(n[r]),t+=Kg(e[r]);return JS(t)};function ud(n){return n!==null&&typeof n=="object"&&"name"in n&&typeof n.name=="string"}function cd(n){return n!==null&&typeof n=="object"&&"step"in n&&typeof n.step=="number"&&"alt"in n&&typeof n.alt=="number"&&!isNaN(n.step)&&!isNaN(n.alt)}var JO=[0,2,4,-1,1,3,5],ek=JO.map(n=>Math.floor(n*7/12));function tk(n){const{step:e,alt:t,oct:r,dir:a=1}=n,i=JO[e]+7*t;if(r===void 0)return[a*i];const s=r-ek[e]-4*t;return[a*i,a*s]}var t7=[3,0,4,1,5,2,6];function nk(n){const[e,t,r]=n,a=t7[n7(e)],i=Math.floor((e+1)/7);if(t===void 0)return{step:a,alt:i,dir:r};const s=t+4*i+ek[a];return{step:a,alt:i,oct:s,dir:r}}function n7(n){const e=(n+1)%7;return e<0?7+e:e}var Jg=(n,e)=>Array(Math.abs(e)+1).join(n),Hm=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),r7="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",a7="(AA|A|P|M|m|d|dd)([-+]?\\d+)",i7=new RegExp("^"+r7+"|"+a7+"$");function s7(n){const e=i7.exec(`${n}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var e0={};function Rr(n){return typeof n=="string"?e0[n]||(e0[n]=o7(n)):cd(n)?Rr(u7(n)):ud(n)?Rr(n.name):Hm}var t0=[0,2,4,5,7,9,11],rk="PMMPPMM";function o7(n){const e=s7(n);if(e[0]==="")return Hm;const t=+e[0],r=e[1],a=(Math.abs(t)-1)%7,i=rk[a];if(i==="M"&&r==="P")return Hm;const s=i==="M"?"majorable":"perfectable",o=""+t+r,l=t<0?-1:1,c=t===8||t===-8?t:l*(a+1),p=l7(s,r),d=Math.floor((Math.abs(t)-1)/7),f=l*(t0[a]+p+12*d),y=(l*(t0[a]+p)%12+12)%12,P=tk({step:a,alt:p,oct:d,dir:l});return{empty:!1,name:o,num:t,q:r,step:a,alt:p,dir:l,type:s,simple:c,semitones:f,chroma:y,coord:P,oct:d}}function ak(n,e){const[t,r=0]=n,a=t*7+r*12<0,i=e||a?[-t,-r,-1]:[t,r,1];return Rr(nk(i))}function l7(n,e){return e==="M"&&n==="majorable"||e==="P"&&n==="perfectable"?0:e==="m"&&n==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(n==="perfectable"?e.length:e.length+1):0}function u7(n){const{step:e,alt:t,oct:r=0,dir:a}=n;if(!a)return"";const i=e+1+7*r,s=i===0?e+1:i,o=a<0?"-":"",l=rk[e]==="M"?"majorable":"perfectable";return o+s+c7(l,t)}function c7(n,e){return e===0?n==="majorable"?"M":"P":e===-1&&n==="majorable"?"m":e>0?Jg("A",e):Jg("d",n==="perfectable"?e:e+1)}var n0=(n,e)=>Array(Math.abs(e)+1).join(n),ik=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),r0=new Map,p7=n=>"CDEFGAB".charAt(n),ac=n=>n<0?n0("b",-n):n0("#",n),pd=n=>n[0]==="b"?-n.length:n.length;function nt(n){const e=JSON.stringify(n),t=r0.get(e);if(t)return t;const r=typeof n=="string"?f7(n):cd(n)?nt(g7(n)):ud(n)?nt(n.name):ik;return r0.set(e,r),r}var m7=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function md(n){const e=m7.exec(n);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function h7(n){return nt(nk(n))}var d7=(n,e)=>(n%e+e)%e,Qp=[0,2,4,5,7,9,11];function f7(n){const e=md(n);if(e[0]===""||e[3]!=="")return ik;const t=e[0],r=e[1],a=e[2],i=(t.charCodeAt(0)+3)%7,s=pd(r),o=a.length?+a:void 0,l=tk({step:i,alt:s,oct:o}),c=t+r+a,p=t+r,d=(Qp[i]+s+120)%12,f=o===void 0?d7(Qp[i]+s,12)-12*99:Qp[i]+s+12*(o+1),y=f>=0&&f<=127?f:null,P=o===void 0?null:Math.pow(2,(f-69)/12)*440;return{empty:!1,acc:r,alt:s,chroma:d,coord:l,freq:P,height:f,letter:t,midi:y,name:c,oct:o,pc:p,step:i}}function g7(n){const{step:e,alt:t,oct:r}=n,a=p7(e);if(!a)return"";const i=a+ac(t);return r||r===0?i+r:i}function pr(n,e){const t=nt(n),r=Array.isArray(e)?e:Rr(e).coord;if(t.empty||!r||r.length<2)return"";const a=t.coord,i=a.length===1?[a[0]+r[0]]:[a[0]+r[0],a[1]+r[1]];return h7(i).name}function sk(n,e){const t=n.length;return r=>{if(!e)return"";const a=r<0?(t- -r%t)%t:r%t,i=Math.floor(r/t),s=pr(e,[0,i]);return pr(s,n[a])}}function ic(n,e){const t=nt(n),r=nt(e);if(t.empty||r.empty)return"";const a=t.coord,i=r.coord,s=i[0]-a[0],o=a.length===2&&i.length===2?i[1]-a[1]:-Math.floor(s*7/12),l=r.height===t.height&&r.midi!==null&&t.oct===r.oct&&t.step>r.step;return ak([s,o],l).name}var a0=(n,e)=>Array(e+1).join(n),b7=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function ok(n){const e=b7.exec(n);return e?[e[1],e[2],e[3]]:["","",""]}function $u(n){const[e,t,r]=ok(n);if(t==="")return"";let a=4;for(let s=0;s<r.length;s++)a+=r.charAt(s)===","?-1:1;const i=e[0]==="_"?e.replace(/_/g,"b"):e[0]==="^"?e.replace(/\^/g,"#"):"";return t.charCodeAt(0)>96?t.toUpperCase()+i+(a+1):t+i+a}function lk(n){const e=nt(n);if(e.empty||!e.oct&&e.oct!==0)return"";const{letter:t,acc:r,oct:a}=e,i=r[0]==="b"?r.replace(/b/g,"_"):r.replace(/#/g,"^"),s=a>4?t.toLowerCase():t,o=a===5?"":a>4?a0("'",a-5):a0(",",4-a);return i+s+o}function y7(n,e){return lk(pr($u(n),e))}function O7(n,e){return ic($u(n),$u(e))}var k7={abcToScientificNotation:$u,scientificToAbcNotation:lk,tokenize:ok,transpose:y7,distance:O7};function v7(n,e){const t=[];for(;e--;t[e]=e+n);return t}function x7(n,e){const t=[];for(;e--;t[e]=n-e);return t}function P7(n,e){return n<e?v7(n,e-n+1):x7(n,n-e+1)}function w7(n,e){const t=e.length,r=(n%t+t)%t;return e.slice(r,t).concat(e.slice(0,r))}function C7(n){return n.filter(e=>e===0||e)}function uk(n){return n.map(t=>nt(t)).filter(t=>!t.empty).sort((t,r)=>t.height-r.height).map(t=>t.name)}function A7(n){return uk(n).filter((e,t,r)=>t===0||e!==r[t-1])}function S7(n,e=Math.random){let t,r,a=n.length;for(;a;)t=Math.floor(e()*a--),r=n[a],n[a]=n[t],n[t]=r;return n}function ck(n){return n.length===0?[[]]:ck(n.slice(1)).reduce((e,t)=>e.concat(n.map((r,a)=>{const i=t.slice();return i.splice(a,0,n[0]),i})),[])}const M7=Object.freeze(Object.defineProperty({__proto__:null,compact:C7,permutations:ck,range:P7,rotate:w7,shuffle:S7,sortedNoteNames:uk,sortedUniqNoteNames:A7},Symbol.toStringTag,{value:"Module"}));function D7(n,e){const t=[];for(;e--;t[e]=e+n);return t}function B7(n,e){const t=[];for(;e--;t[e]=n-e);return t}function sc(n,e){return n<e?D7(n,e-n+1):B7(n,n-e+1)}function Gi(n,e){const t=e.length,r=(n%t+t)%t;return e.slice(r,t).concat(e.slice(0,r))}function hd(n){return n.filter(e=>e===0||e)}function E7(n,e=Math.random){let t,r,a=n.length;for(;a;)t=Math.floor(e()*a--),r=n[a],n[a]=n[t],n[t]=r;return n}function pk(n){return n.length===0?[[]]:pk(n.slice(1)).reduce((e,t)=>e.concat(n.map((r,a)=>{const i=t.slice();return i.splice(a,0,n[0]),i})),[])}var F7={compact:hd,permutations:pk,range:sc,rotate:Gi,shuffle:E7},Pa={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},dd=n=>Number(n).toString(2).padStart(12,"0"),i0=n=>parseInt(n,2),$7=/^[01]{12}$/;function fd(n){return $7.test(n)}var Q7=n=>typeof n=="number"&&n>=0&&n<=4095,_7=n=>n&&fd(n.chroma),s0={[Pa.chroma]:Pa};function zt(n){const e=fd(n)?n:Q7(n)?dd(n):Array.isArray(n)?z7(n):_7(n)?n.chroma:Pa.chroma;return s0[e]=s0[e]||W7(e)}var T7=zt,mk=n=>zt(n).chroma,R7=n=>zt(n).intervals,j7=n=>zt(n).setNum,L7=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function I7(n){const e=[];for(let t=0;t<12;t++)n.charAt(t)==="1"&&e.push(L7[t]);return e}function N7(n){return zt(n).intervals.map(e=>pr("C",e))}function Z7(){return sc(2048,4095).map(dd)}function gd(n,e=!0){const r=zt(n).chroma.split("");return hd(r.map((a,i)=>{const s=Gi(i,r);return e&&s[0]==="0"?null:s.join("")}))}function V7(n,e){return zt(n).setNum===zt(e).setNum}function oc(n){const e=zt(n).setNum;return t=>{const r=zt(t).setNum;return e&&e!==r&&(r&e)===r}}function lc(n){const e=zt(n).setNum;return t=>{const r=zt(t).setNum;return e&&e!==r&&(r|e)===r}}function hk(n){const e=zt(n);return t=>{const r=nt(t);return e&&!r.empty&&e.chroma.charAt(r.chroma)==="1"}}function q7(n){const e=hk(n);return t=>t.filter(e)}var dk={get:zt,chroma:mk,num:j7,intervals:R7,chromas:Z7,isSupersetOf:lc,isSubsetOf:oc,isNoteIncludedIn:hk,isEqual:V7,filter:q7,modes:gd,notes:N7,pcset:T7};function X7(n){const e=n.split("");return e.map((t,r)=>Gi(r,e).join(""))}function W7(n){const e=i0(n),t=X7(n).map(i0).filter(i=>i>=2048).sort()[0],r=dd(t),a=I7(n);return{empty:!1,name:"",setNum:e,chroma:n,normalized:r,intervals:a}}function z7(n){if(n.length===0)return Pa.chroma;let e;const t=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<n.length;r++)e=nt(n[r]),e.empty&&(e=Rr(n[r])),e.empty||(t[e.chroma]=1);return t.join("")}var G7=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],U7=G7;({...Pa});var bd=[],Tl={};function fk(){return bd.slice()}function Y7(n,e,t){const r=K7(n),a={...zt(n),name:t||"",quality:r,intervals:n,aliases:e};bd.push(a),a.name&&(Tl[a.name]=a),Tl[a.setNum]=a,Tl[a.chroma]=a,a.aliases.forEach(i=>H7(a,i))}function H7(n,e){Tl[e]=n}function K7(n){const e=t=>n.indexOf(t)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}U7.forEach(([n,e,t])=>Y7(n.split(" "),t.split(" "),e));bd.sort((n,e)=>n.setNum-e.setNum);var J7=n=>{const e=n.reduce((t,r)=>{const a=nt(r).chroma;return a!==void 0&&(t[a]=t[a]||nt(r).name),t},{});return t=>e[t]};function eM(n,e={}){const t=n.map(a=>nt(a).pc).filter(a=>a);return nt.length===0?[]:oM(t,1,e).filter(a=>a.weight).sort((a,i)=>i.weight-a.weight).map(a=>a.name)}var uc={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},cc=n=>e=>!!(e&n),tM=cc(uc.anyThirds),nM=cc(uc.perfectFifth),rM=cc(uc.anySeventh),aM=cc(uc.nonPerfectFifths);function iM(n){const e=parseInt(n.chroma,2);return tM(e)&&nM(e)&&rM(e)}function sM(n){const e=parseInt(n,2);return aM(e)?n:(e|16).toString(2)}function oM(n,e,t){const r=n[0],a=nt(r).chroma,i=J7(n),s=gd(n,!1),o=[];return s.forEach((l,c)=>{const p=t.assumePerfectFifth&&sM(l);fk().filter(f=>t.assumePerfectFifth&&iM(f)?f.chroma===p:f.chroma===l).forEach(f=>{const y=f.aliases[0],P=i(c);c!==a?o.push({weight:.5*e,name:`${P}${y}/${r}`}):o.push({weight:1*e,name:`${P}${y}`})})}),o}function xo(n){return n!==null&&typeof n=="object"&&"name"in n&&typeof n.name=="string"}var gk=[0,2,4,5,7,9,11],bk=({step:n,alt:e})=>(gk[n]+e+120)%12,yd=({step:n,alt:e,oct:t,dir:r=1})=>r*(gk[n]+e+12*(t===void 0?-100:t)),yk=n=>{const e=yd(n);return n.oct!==void 0&&e>=-12&&e<=115?e+12:null};function pc(n){return n!==null&&typeof n=="object"&&"step"in n&&typeof n.step=="number"&&"alt"in n&&typeof n.alt=="number"}var Ok=[0,2,4,-1,1,3,5],kk=Ok.map(n=>Math.floor(n*7/12));function mc(n){const{step:e,alt:t,oct:r,dir:a=1}=n,i=Ok[e]+7*t;if(r===void 0)return[a*i];const s=r-kk[e]-4*t;return[a*i,a*s]}var lM=[3,0,4,1,5,2,6];function hc(n){const[e,t,r]=n,a=lM[uM(e)],i=Math.floor((e+1)/7);if(t===void 0)return{step:a,alt:i,dir:r};const s=t+4*i+kk[a];return{step:a,alt:i,oct:s,dir:r}}function uM(n){const e=(n+1)%7;return e<0?7+e:e}var o0=(n,e)=>Array(Math.abs(e)+1).join(n),Km={empty:!0,name:"",acc:""},cM="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",pM="(AA|A|P|M|m|d|dd)([-+]?\\d+)",mM=new RegExp("^"+cM+"|"+pM+"$");function Od(n){const e=mM.exec(`${n}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var l0={};function tn(n){return typeof n=="string"?l0[n]||(l0[n]=hM(n)):pc(n)?tn(fM(n)):xo(n)?tn(n.name):Km}var u0=[0,2,4,5,7,9,11],vk="PMMPPMM";function hM(n){const e=Od(n);if(e[0]==="")return Km;const t=+e[0],r=e[1],a=(Math.abs(t)-1)%7,i=vk[a];if(i==="M"&&r==="P")return Km;const s=i==="M"?"majorable":"perfectable",o=""+t+r,l=t<0?-1:1,c=t===8||t===-8?t:l*(a+1),p=dM(s,r),d=Math.floor((Math.abs(t)-1)/7),f=l*(u0[a]+p+12*d),y=(l*(u0[a]+p)%12+12)%12,P=mc({step:a,alt:p,oct:d,dir:l});return{empty:!1,name:o,num:t,q:r,step:a,alt:p,dir:l,type:s,simple:c,semitones:f,chroma:y,coord:P,oct:d}}function Po(n,e){const[t,r=0]=n,a=t*7+r*12<0,i=e||a?[-t,-r,-1]:[t,r,1];return tn(hc(i))}function dM(n,e){return e==="M"&&n==="majorable"||e==="P"&&n==="perfectable"?0:e==="m"&&n==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(n==="perfectable"?e.length:e.length+1):0}function fM(n){const{step:e,alt:t,oct:r=0,dir:a}=n;if(!a)return"";const i=e+1+7*r,s=i===0?e+1:i,o=a<0?"-":"",l=vk[e]==="M"?"majorable":"perfectable";return o+s+gM(l,t)}function gM(n,e){return e===0?n==="majorable"?"M":"P":e===-1&&n==="majorable"?"m":e>0?o0("A",e):o0("d",n==="perfectable"?e:e+1)}var c0=(n,e)=>Array(Math.abs(e)+1).join(n),xk={empty:!0,name:"",pc:"",acc:""},p0=new Map,kd=n=>"CDEFGAB".charAt(n),vd=n=>n<0?c0("b",-n):c0("#",n),xd=n=>n[0]==="b"?-n.length:n.length;function jr(n){const e=JSON.stringify(n),t=p0.get(e);if(t)return t;const r=typeof n=="string"?OM(n):pc(n)?jr(kM(n)):xo(n)?jr(n.name):xk;return p0.set(e,r),r}var bM=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function dc(n){const e=bM.exec(n);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function Pd(n){return jr(hc(n))}var yM=(n,e)=>(n%e+e)%e,_p=[0,2,4,5,7,9,11];function OM(n){const e=dc(n);if(e[0]===""||e[3]!=="")return xk;const t=e[0],r=e[1],a=e[2],i=(t.charCodeAt(0)+3)%7,s=xd(r),o=a.length?+a:void 0,l=mc({step:i,alt:s,oct:o}),c=t+r+a,p=t+r,d=(_p[i]+s+120)%12,f=o===void 0?yM(_p[i]+s,12)-12*99:_p[i]+s+12*(o+1),y=f>=0&&f<=127?f:null,P=o===void 0?null:Math.pow(2,(f-69)/12)*440;return{empty:!1,acc:r,alt:s,chroma:d,coord:l,freq:P,height:f,letter:t,midi:y,name:c,oct:o,pc:p,step:i}}function kM(n){const{step:e,alt:t,oct:r}=n,a=kd(e);if(!a)return"";const i=a+vd(t);return r||r===0?i+r:i}function Ri(n,e){const t=jr(n),r=Array.isArray(e)?e:tn(e).coord;if(t.empty||!r||r.length<2)return"";const a=t.coord,i=a.length===1?[a[0]+r[0]]:[a[0]+r[0],a[1]+r[1]];return Pd(i).name}function fc(n,e){const t=n.length;return r=>{if(!e)return"";const a=r<0?(t- -r%t)%t:r%t,i=Math.floor(r/t),s=Ri(e,[0,i]);return Ri(s,n[a])}}function wd(n,e){const t=jr(n),r=jr(e);if(t.empty||r.empty)return"";const a=t.coord,i=r.coord,s=i[0]-a[0],o=a.length===2&&i.length===2?i[1]-a[1]:-Math.floor(s*7/12),l=r.height===t.height&&r.midi!==null&&t.midi!==null&&t.step>r.step;return Po([s,o],l).name}var Pk=(n,e)=>Array(Math.abs(e)+1).join(n);function Ui(n,e,t){return function(...r){return console.warn(`${n} is deprecated. Use ${e}.`),t.apply(this,r)}}var wk=Ui("isNamed","isNamedPitch",xo);const Ck=Object.freeze(Object.defineProperty({__proto__:null,accToAlt:xd,altToAcc:vd,chroma:bk,coordToInterval:Po,coordToNote:Pd,coordinates:mc,deprecate:Ui,distance:wd,fillStr:Pk,height:yd,interval:tn,isNamed:wk,isNamedPitch:xo,isPitch:pc,midi:yk,note:jr,pitch:hc,stepToLetter:kd,tokenizeInterval:Od,tokenizeNote:dc,tonicIntervalsTransposer:fc,transpose:Ri},Symbol.toStringTag,{value:"Module"}));var vM=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],xM=vM,PM={...Pa,name:"",quality:"Unknown",intervals:[],aliases:[]},Yi=[],Xa={};function Cd(n){return Xa[n]||PM}var wM=Ui("ChordType.chordType","ChordType.get",Cd);function CM(){return Yi.map(n=>n.name).filter(n=>n)}function AM(){return Yi.map(n=>n.aliases[0]).filter(n=>n)}function SM(){return Object.keys(Xa)}function gc(){return Yi.slice()}var MM=Ui("ChordType.entries","ChordType.all",gc);function DM(){Yi=[],Xa={}}function Ak(n,e,t){const r=EM(n),a={...zt(n),name:t||"",quality:r,intervals:n,aliases:e};Yi.push(a),a.name&&(Xa[a.name]=a),Xa[a.setNum]=a,Xa[a.chroma]=a,a.aliases.forEach(i=>BM(a,i))}function BM(n,e){Xa[e]=n}function EM(n){const e=t=>n.indexOf(t)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}xM.forEach(([n,e,t])=>Ak(n.split(" "),t.split(" "),e));Yi.sort((n,e)=>n.setNum-e.setNum);var Sk={names:CM,symbols:AM,get:Cd,all:gc,add:Ak,removeAll:DM,keys:SM,entries:MM,chordType:wM},FM=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],$M=FM,QM={...Pa,intervals:[],aliases:[]},bc=[],Wa={};function Mk(){return bc.map(n=>n.name)}function yc(n){return Wa[n]||QM}var _M=yc;function Hi(){return bc.slice()}var TM=Hi;function RM(){return Object.keys(Wa)}function jM(){bc=[],Wa={}}function Dk(n,e,t=[]){const r={...zt(n),name:e,intervals:n,aliases:t};return bc.push(r),Wa[r.name]=r,Wa[r.setNum]=r,Wa[r.chroma]=r,r.aliases.forEach(a=>LM(r,a)),r}function LM(n,e){Wa[e]=n}$M.forEach(([n,e,...t])=>Dk(n.split(" "),e,t));var Bk={names:Mk,get:yc,all:Hi,add:Dk,removeAll:jM,keys:RM,entries:TM,scaleType:_M},Jm={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Ad(n){const[e,t,r,a]=dc(n);return e===""?["",n]:e==="A"&&a==="ug"?["","aug"]:[e+t,r+a]}function ei(n){if(n==="")return Jm;if(Array.isArray(n)&&n.length===2)return Rl(n[1],n[0]);{const[e,t]=Ad(n),r=Rl(t,e);return r.empty?Rl(n):r}}function Rl(n,e,t){const r=Cd(n),a=jr(e||""),i=jr(t||"");if(r.empty||e&&a.empty||t&&i.empty)return Jm;const s=wd(a.pc,i.pc),o=r.intervals.indexOf(s)+1;if(!i.empty&&!o)return Jm;const l=Array.from(r.intervals);for(let f=1;f<o;f++){const y=l[0][0],P=l[0][1],w=parseInt(y,10)+7;l.push(`${w}${P}`),l.shift()}const c=a.empty?[]:l.map(f=>Ri(a,f));n=r.aliases.indexOf(n)!==-1?n:r.aliases[0];const p=`${a.empty?"":a.pc}${n}${i.empty||o<=1?"":"/"+i.pc}`,d=`${e?a.pc+" ":""}${r.name}${o>1&&t?" over "+i.pc:""}`;return{...r,name:d,symbol:p,type:r.name,root:i.name,intervals:l,rootDegree:o,tonic:a.name,notes:c}}var IM=Ui("Chord.chord","Chord.get",ei);function NM(n,e){const[t,r]=Ad(n);return t?Ri(t,e)+r:n}function ZM(n){const e=ei(n),t=lc(e.chroma);return Hi().filter(r=>t(r.chroma)).map(r=>r.name)}function VM(n){const e=ei(n),t=lc(e.chroma);return gc().filter(r=>t(r.chroma)).map(r=>e.tonic+r.aliases[0])}function qM(n){const e=ei(n),t=oc(e.chroma);return gc().filter(r=>t(r.chroma)).map(r=>e.tonic+r.aliases[0])}function XM(n){const{intervals:e,tonic:t}=ei(n),r=fc(e,t);return a=>a?r(a>0?a-1:a):""}function WM(n){const{intervals:e,tonic:t}=ei(n);return fc(e,t)}var zM={getChord:Rl,get:ei,detect:eM,chordScales:ZM,extended:VM,reduced:qM,tokenize:Ad,transpose:NM,degrees:XM,steps:WM,chord:IM},GM=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],UM=GM,Oc=[];UM.forEach(([n,e,t])=>rD(n,e,t));var YM={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function HM(){return Oc.reduce((n,e)=>(e.names.forEach(t=>n.push(t)),n),[])}function KM(){return Oc.map(n=>n.shorthand)}var JM=/^([^.]+)(\.*)$/;function Sd(n){const[e,t,r]=JM.exec(n)||[],a=Oc.find(o=>o.shorthand===t||o.names.includes(t));if(!a)return YM;const i=aD(a.fraction,r.length),s=i[0]/i[1];return{...a,name:n,dots:r,value:s,fraction:i}}var eD=n=>Sd(n).value,tD=n=>Sd(n).fraction,nD={names:HM,shorthands:KM,get:Sd,value:eD,fraction:tD};function rD(n,e,t){Oc.push({empty:!1,dots:"",name:"",value:1/n,fraction:n<1?[1/n,1]:[1,n],shorthand:e,names:t})}function aD(n,e){const t=Math.pow(2,e);let r=n[0]*t,a=n[1]*t;const i=r;for(let s=0;s<e;s++)r+=i/Math.pow(2,s+1);for(;r%2===0&&a%2===0;)r/=2,a/=2;return[r,a]}function iD(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var Ek=tn,sD=n=>tn(n).name,oD=n=>tn(n).semitones,lD=n=>tn(n).q,uD=n=>tn(n).num;function cD(n){const e=tn(n);return e.empty?"":e.simple+e.q}function pD(n){const e=tn(n);if(e.empty)return"";const t=(7-e.step)%7,r=e.type==="perfectable"?-e.alt:-(e.alt+1);return tn({step:t,alt:r,oct:e.oct,dir:e.dir}).name}var mD=[1,2,2,3,3,4,5,5,6,6,7,7],hD="P m M m M P d P m M m M".split(" ");function dD(n){const e=n<0?-1:1,t=Math.abs(n),r=t%12,a=Math.floor(t/12);return e*(mD[r]+7*a)+hD[r]}var fD=ic,Fk=$k((n,e)=>[n[0]+e[0],n[1]+e[1]]),gD=n=>e=>Fk(n,e),bD=$k((n,e)=>[n[0]-e[0],n[1]-e[1]]);function yD(n,e){const t=Ek(n);if(t.empty)return"";const[r,a,i]=t.coord;return Po([r+e,a,i]).name}var Ka={names:iD,get:Ek,name:sD,num:uD,semitones:oD,quality:lD,fromSemitones:dD,distance:fD,invert:pD,simplify:cD,add:Fk,addTo:gD,substract:bD,transposeFifths:yD};function $k(n){return(e,t)=>{const r=tn(e).coord,a=tn(t).coord;if(r&&a){const i=n(r,a);return Po(i).name}}}function Qk(n){return+n>=0&&+n<=127}function _k(n){if(Qk(n))return+n;const e=nt(n);return e.empty?null:e.midi}function OD(n,e=440){return Math.pow(2,(n-69)/12)*e}var kD=Math.log(2),vD=Math.log(440);function Md(n){const e=12*(Math.log(n)-vD)/kD+69;return Math.round(e*100)/100}var xD="C C# D D# E F F# G G# A A# B".split(" "),PD="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Ma(n,e={}){if(isNaN(n)||n===-1/0||n===1/0)return"";n=Math.round(n);const r=(e.sharps===!0?xD:PD)[n%12];if(e.pitchClass)return r;const a=Math.floor(n/12)-1;return r+a}function Dd(n){return n%12}function wD(n){return n.split("").reduce((e,t,r)=>(r<12&&t==="1"&&e.push(r),e),[])}function CD(n){return n.map(Dd).sort((e,t)=>e-t).filter((e,t,r)=>t===0||e!==r[t-1])}function Bd(n){return Array.isArray(n)?CD(n):wD(n)}function AD(n){const e=Bd(n);return t=>{const r=Dd(t);for(let a=0;a<12;a++){if(e.includes(r+a))return t+a;if(e.includes(r-a))return t-a}}}function Tk(n,e){const t=Bd(n),r=t.length;return a=>{const i=a<0?(r- -a%r)%r:a%r,s=Math.floor(a/r);return t[i]+s*12+e}}function SD(n,e){const t=Tk(n,e);return r=>{if(r!==0)return t(r>0?r-1:r)}}var MD={chroma:Dd,freqToMidi:Md,isMidi:Qk,midiToFreq:OD,midiToNoteName:Ma,pcsetNearest:AD,pcset:Bd,pcsetDegrees:SD,pcsetSteps:Tk,toMidi:_k},DD=["C","D","E","F","G","A","B"],Rk=n=>n.name,jk=n=>n.map(nt).filter(e=>!e.empty);function BD(n){return n===void 0?DD.slice():Array.isArray(n)?jk(n).map(Rk):[]}var mr=nt,ED=n=>mr(n).name,FD=n=>mr(n).pc,$D=n=>mr(n).acc,QD=n=>mr(n).oct,_D=n=>mr(n).midi,TD=n=>mr(n).freq,RD=n=>mr(n).chroma;function Lk(n){return Ma(n)}function jD(n){return Ma(Md(n))}function LD(n){return Ma(Md(n),{sharps:!0})}function ID(n){return Ma(n,{sharps:!0})}var ND=ic,lr=pr,ZD=pr,Ik=n=>e=>lr(e,n),VD=Ik,Nk=n=>e=>lr(n,e),qD=Nk;function Qu(n,e){return lr(n,[e,0])}var XD=Qu;function WD(n,e){return lr(n,[0,e])}var Ed=(n,e)=>n.height-e.height,zD=(n,e)=>e.height-n.height;function Zk(n,e){return e=e||Ed,jk(n).sort(e).map(Rk)}function Vk(n){return Zk(n,Ed).filter((e,t,r)=>t===0||e!==r[t-1])}var GD=n=>{const e=mr(n);return e.empty?"":Ma(e.midi||e.chroma,{sharps:e.alt>0,pitchClass:e.midi===null})};function qk(n,e){const t=mr(n);if(t.empty)return"";const r=mr(e||Ma(t.midi||t.chroma,{sharps:t.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==t.chroma)return"";if(t.oct===void 0)return r.pc;const a=t.chroma-t.alt,i=r.chroma-r.alt,s=a>11||i<0?-1:a<0||i>11?1:0,o=t.oct+s;return r.pc+o}var Qr={names:BD,get:mr,name:ED,pitchClass:FD,accidentals:$D,octave:QD,midi:_D,ascending:Ed,descending:zD,distance:ND,sortedNames:Zk,sortedUniqNames:Vk,fromMidi:Lk,fromMidiSharps:ID,freq:TD,fromFreq:jD,fromFreqSharps:LD,chroma:RD,transpose:lr,tr:ZD,transposeBy:Ik,trBy:VD,transposeFrom:Nk,trFrom:qD,transposeFifths:Qu,transposeOctaves:WD,trFifths:XD,simplify:GD,enharmonic:qk},Xk={empty:!0,name:"",chordType:""},m0={};function wa(n){return typeof n=="string"?m0[n]||(m0[n]=t4(n)):typeof n=="number"?wa(kc[n]||""):cd(n)?HD(n):ud(n)?wa(n.name):Xk}var UD=wa;function YD(n=!0){return(n?kc:e4).slice()}function HD(n){return wa(ac(n.alt)+kc[n.step])}var KD=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function JD(n){return KD.exec(n)||["","","",""]}var Wk="I II III IV V VI VII",kc=Wk.split(" "),e4=Wk.toLowerCase().split(" ");function t4(n){const[e,t,r,a]=JD(n);if(!r)return Xk;const i=r.toUpperCase(),s=kc.indexOf(i),o=pd(t),l=1;return{empty:!1,name:e,roman:r,interval:Rr({step:s,alt:o,dir:l}).name,acc:t,chordType:a,alt:o,step:s,major:r===i,oct:0,dir:l}}var n4={names:YD,get:wa,romanNumeral:UD},Zt=Object.freeze([]),zk={type:"major",tonic:"",alteration:0,keySignature:""},jl={tonic:"",grades:Zt,intervals:Zt,scale:Zt,triads:Zt,chords:Zt,chordsHarmonicFunction:Zt,chordScales:Zt,secondaryDominants:Zt,secondaryDominantSupertonics:Zt,substituteDominantsMinorRelative:Zt,substituteDominants:Zt,substituteDominantSupertonics:Zt,secondaryDominantsMinorRelative:Zt},r4={...zk,...jl,type:"major",minorRelative:"",scale:Zt,substituteDominants:Zt,secondaryDominantSupertonics:Zt,substituteDominantsMinorRelative:Zt},a4={...zk,type:"minor",relativeMajor:"",natural:jl,harmonic:jl,melodic:jl},Tp=(n,e,t="")=>e.map((r,a)=>`${n[a]}${t}${r}`);function vc(n,e,t,r,a){return i=>{const s=n.map(y=>wa(y).interval||""),o=s.map(y=>lr(i,y)),l=Tp(o,t),c=o.map(y=>lr(y,"5P")).map(y=>o.includes(y)&&!l.includes(y+"7")?y+"7":""),p=h0(c,e),d=c.map(y=>{if(!y)return"";const P=y.slice(0,-1);return lr(P,"5d")+"7"}),f=h0(d,e);return{tonic:i,grades:n,intervals:s,scale:o,triads:Tp(o,e),chords:l,chordsHarmonicFunction:r.slice(),chordScales:Tp(o,a," "),secondaryDominants:c,secondaryDominantSupertonics:p,substituteDominants:d,substituteDominantSupertonics:f,secondaryDominantsMinorRelative:p,substituteDominantsMinorRelative:f}}}var h0=(n,e)=>n.map((t,r)=>{if(!t)return"";const a=t.slice(0,-1),i=lr(a,"5P");return e[r].endsWith("m")?i+"m7":i+"m7b5"}),Gk=(n,e)=>{const t=nt(n),r=nt(e);return t.empty||r.empty?0:r.coord[0]-t.coord[0]},i4=vc("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),s4=vc("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),o4=vc("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),l4=vc("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function u4(n){const e=nt(n).pc;if(!e)return r4;const t=i4(e),r=Gk("C",e);return{...t,type:"major",minorRelative:lr(e,"-3m"),alteration:r,keySignature:ac(r)}}function c4(n){const e=nt(n).pc;if(!e)return a4;const t=Gk("C",e)-3;return{type:"minor",tonic:e,relativeMajor:lr(e,"3m"),alteration:t,keySignature:ac(t),natural:s4(e),harmonic:o4(e),melodic:l4(e)}}function p4(n){return typeof n=="number"?Qu("C",n):typeof n=="string"&&/^b+|#+$/.test(n)?Qu("C",pd(n)):null}var m4={majorKey:u4,majorTonicFromKeySignature:p4,minorKey:c4},h4=Rr;function d4(n){const e=Rr(n);return e.empty?"":e.simple+e.q}function f4(n,e){const t=h4(n);if(t.empty)return"";const[r,a,i]=t.coord;return ak([r+e,a,i]).name}var Fd=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],d0={...Pa,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},$d=Fd.map(O4),eh={};$d.forEach(n=>{eh[n.name]=n,n.aliases.forEach(e=>{eh[e]=n})});function Ja(n){return typeof n=="string"?eh[n.toLowerCase()]||d0:n&&n.name?Ja(n.name):d0}var g4=Ja;function Uk(){return $d.slice()}var b4=Uk;function y4(){return $d.map(n=>n.name)}function O4(n){const[e,t,r,a,i,s,o]=n,l=o?[o]:[],c=Number(t).toString(2);return{empty:!1,intervals:yc(a).intervals,modeNum:e,chroma:c,normalized:c,name:a,setNum:t,alt:r,triad:i,seventh:s,aliases:l}}function k4(n,e){return Ja(n).intervals.map(t=>pr(e,t))}function Yk(n){return(e,t)=>{const r=Ja(e);if(r.empty)return[];const a=Gi(r.modeNum,n),i=r.intervals.map(s=>pr(t,s));return a.map((s,o)=>i[o]+s)}}var v4=Yk(Fd.map(n=>n[4])),x4=Yk(Fd.map(n=>n[5]));function Hk(n,e){const t=Ja(e),r=Ja(n);return t.empty||r.empty?"":d4(f4("1P",r.alt-t.alt))}function P4(n,e,t){return pr(t,Hk(n,e))}var w4={get:Ja,names:y4,all:Uk,distance:Hk,relativeTonic:P4,notes:k4,triads:v4,seventhChords:x4,entries:b4,mode:g4};function C4(n){const[e,t,r,a]=md(n);return e===""?Rp("",n):e==="A"&&a==="ug"?Rp("","aug"):Rp(e+t,r+a)}function Rp(n,e){const t=e.split("/");if(t.length===1)return[n,t[0],""];const[r,a,i,s]=md(t[1]);return r!==""&&i===""&&s===""?[n,t[0],r+a]:[n,e,""]}function A4(n,e){return e.map(wa).map(r=>pr(n,Rr(r))+r.chordType)}function S4(n,e){return e.map(t=>{const[r,a]=C4(t),i=ic(n,r);return wa(Rr(i)).name+a})}var M4={fromRomanNumerals:A4,toRomanNumerals:S4};function Kk(n){const e=hd(n.map(t=>typeof t=="number"?t:_k(t)));return!n.length||e.length!==n.length?[]:e.reduce((t,r)=>{const a=t[t.length-1];return t.concat(sc(a,r).slice(1))},[e[0]])}function D4(n,e){return Kk(n).map(t=>Ma(t,e))}var B4={numeric:Kk,chromatic:D4},E4={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Jk(n){if(typeof n!="string")return["",""];const e=n.indexOf(" "),t=nt(n.substring(0,e));if(t.empty){const a=nt(n);return a.empty?["",n]:[a.name,""]}const r=n.substring(t.name.length+1).toLowerCase();return[t.name,r.length?r:""]}var F4=Mk;function Lr(n){const e=Array.isArray(n)?n:Jk(n),t=nt(e[0]).name,r=yc(e[1]);if(r.empty)return E4;const a=r.name,i=t?r.intervals.map(o=>pr(t,o)):[],s=t?t+" "+a:a;return{...r,name:s,type:a,tonic:t,notes:i}}var $4=Lr;function Q4(n,e={}){const t=mk(n),r=nt(e.tonic??n[0]??""),a=r.chroma;if(a===void 0)return[];const i=t.split("");i[a]="1";const s=Gi(a,i).join(""),o=Hi().find(c=>c.chroma===s),l=[];return o&&l.push(r.name+" "+o.name),e.match==="exact"||ev(s).forEach(c=>{l.push(r.name+" "+c)}),l}function _4(n){const e=Lr(n),t=oc(e.chroma);return fk().filter(r=>t(r.chroma)).map(r=>r.aliases[0])}function ev(n){const e=fd(n)?n:Lr(n).chroma,t=lc(e);return Hi().filter(r=>t(r.chroma)).map(r=>r.name)}function T4(n){const e=oc(Lr(n).chroma);return Hi().filter(t=>e(t.chroma)).map(t=>t.name)}function tv(n){const e=n.map(a=>nt(a).pc).filter(a=>a),t=e[0],r=Vk(e);return Gi(r.indexOf(t),r)}function R4(n){const e=Lr(n);if(e.empty)return[];const t=e.tonic?e.notes:e.intervals;return gd(e.chroma).map((r,a)=>{const i=Lr(r).name;return i?[t[a],i]:["",""]}).filter(r=>r[0])}function j4(n){const e=Array.isArray(n)?tv(n):Lr(n).notes,t=e.map(r=>nt(r).chroma);return r=>{const a=nt(typeof r=="number"?Lk(r):r),i=a.height;if(i===void 0)return;const s=i%12,o=t.indexOf(s);if(o!==-1)return qk(a.name,e[o])}}function L4(n){const e=j4(n);return(t,r)=>{const a=nt(t).height,i=nt(r).height;return a===void 0||i===void 0?[]:sc(a,i).map(e).filter(s=>s)}}function I4(n){const{intervals:e,tonic:t}=Lr(n),r=sk(e,t);return a=>a?r(a>0?a-1:a):""}function N4(n){const{intervals:e,tonic:t}=Lr(n);return sk(e,t)}var _u={degrees:I4,detect:Q4,extended:ev,get:Lr,modeNames:R4,names:F4,rangeOf:L4,reduced:T4,scaleChords:_4,scaleNotes:tv,steps:N4,tokenize:Jk,scale:$4},Z4={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},V4=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function q4(){return V4.slice()}var X4=/^(\d*\d(?:\+\d)*)\/(\d+)$/,f0=new Map;function W4(n){const e=JSON.stringify(n),t=f0.get(e);if(t)return t;const r=U4(Qd(n));return f0.set(e,r),r}function Qd(n){if(typeof n=="string"){const[i,s,o]=X4.exec(n)||[];return Qd([s,o])}const[e,t]=n,r=+t;if(typeof e=="number")return[e,r];const a=e.split("+").map(i=>+i);return a.length===1?[a[0],r]:[a,r]}var z4={names:q4,parse:Qd,get:W4},G4=n=>Math.log(n)/Math.log(2)%1===0;function U4([n,e]){const t=Array.isArray(n)?n.reduce((o,l)=>o+l,0):n,r=e;if(t===0||r===0)return Z4;const a=Array.isArray(n)?`${n.join("+")}/${e}`:`${n}/${e}`,i=Array.isArray(n)?n:[],s=r===4||r===2?"simple":r===8&&t%3===0?"compound":G4(r)?"irregular":"irrational";return{empty:!1,name:a,type:s,upper:t,lower:r,additive:i}}var Y4=Ck,H4=dk,K4=Sk,J4=Bk;const eB=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:k7,Array:M7,Chord:zM,ChordDictionary:K4,ChordType:Sk,Collection:F7,Core:Ck,DurationValue:nD,Interval:Ka,Key:m4,Midi:MD,Mode:w4,Note:Qr,PcSet:H4,Pcset:dk,Progression:M4,Range:B4,RomanNumeral:n4,Scale:_u,ScaleDictionary:J4,ScaleType:Bk,TimeSignature:z4,Tonal:Y4,accToAlt:xd,altToAcc:vd,chroma:bk,coordToInterval:Po,coordToNote:Pd,coordinates:mc,deprecate:Ui,distance:wd,fillStr:Pk,height:yd,interval:tn,isNamed:wk,isNamedPitch:xo,isPitch:pc,midi:yk,note:jr,pitch:hc,stepToLetter:kd,tokenizeInterval:Od,tokenizeNote:dc,tonicIntervalsTransposer:fc,transpose:Ri},Symbol.toStringTag,{value:"Module"})),tB=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],nB=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],rB=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],aB={b:-1,"#":1},iB=n=>{const[e,...t]=n.split("");return nB.indexOf(e.toLowerCase())+t.reduce((r,a)=>r+aB[a],0)};function sB(n){const e=(n||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return e?e.slice(1):[]}const th=n=>n%12,nv=n=>{let e=Number(n);return isNaN(e)?Ka.semitones(n):e},nh=(n,e)=>{if(typeof n=="number")return n;if(typeof n=="string")return Vl(n,e)},oB=(n,e=!1)=>{const t=Math.floor(n/12)-1;return(e?rB:tB)[n%12]+t};function lB(n,e,t=1){n=n.map(a=>typeof a=="string"?Vl(a):a);const r=Math.floor(e/n.length)*t*12;return e=za(e,n.length),n[e]+r}function rv(n,e,t){let r=0,a=1/0;return e.forEach((i,s)=>{const o=Math.abs(i-n);(!t&&o<a||t&&o<=a)&&(r=s,a=o)}),r}let jp={};function uB(n,e,t,r){const[a,i]=_u.tokenize(e),s=nh(a),o=th(s);if(!jp[i]){const{intervals:f}=_u.get(`C ${i}`);jp[i]=f.map(nv)}const l=jp[i];if(!l)return null;let c=s;if(t){t=nh(t,3);const f=th(t),y=za(f-o,12),P=rv(y,l,r);n=n+P,c=t-y}const p=Math.floor(n/l.length)*12;return n=za(n,l.length),l[n]+c+p}let g0={below:n=>n.slice(-1)[0],duck:n=>n.slice(-1)[0],above:n=>n[0],root:n=>n[0]};function cB({chord:n,dictionary:e,offset:t=0,n:r,mode:a="below",anchor:i="c5",octaves:s=1}){const[o,l]=sB(n),c=iB(o);i=nh(i?.note||i,4);const p=th(i),d=e[l].map(Z=>(typeof Z=="string"?Z.split(" "):Z).map(nv));let f,y,P=d.map((Z,V)=>{const Y=g0[a](Z),ue=za(p-Y-c,12);return(f===void 0||ue<f)&&(f=ue,y=V),ue});a==="root"&&(y=0);const w=Math.ceil(t/d.length)*12,A=za(y+t,d.length),T=d[A],q=g0[a](T),G=i-P[A]+w,I=T.map(Z=>G-q+Z);let Q=I.map(Z=>oB(Z));return a==="duck"&&(Q=Q.filter((Z,V)=>I[V]!==i)),r!==void 0?[lB(Q,r,s)]:Q}const pB=n=>(n<=0?-1:1)+n*7+"P";function _d(n){n=n.replaceAll(":"," ");const e=_u.get(n),{tonic:t,empty:r}=e;if(r&&gh(n)||r&&!t)throw new Error(`Scale name ${n} is incomplete. Make sure to use ":" instead of spaces, example: .scale("C:major")`);if(r)throw new Error(`Invalid scale name "${n}"`);return e}function mB(n,e){n=Math.ceil(n);let{intervals:t,tonic:r}=_d(e);r=r||"C";const{pc:a,oct:i=3}=Qr.get(r),s=Math.floor(n/t.length),o=za(n,t.length),l=Ka.add(t[o],pB(s));return Qr.transpose(a+i,l)}function b0(n,e,t){let{notes:r}=_d(n);if(r=r.map(d=>Qr.get(d).pc),e=Number(e),isNaN(e))throw new Error(`scale offset "${e}" not a number`);const{pc:a,oct:i=3}=Qr.get(t),s=r.indexOf(a);if(s===-1)throw new Error(`note "${t}" is not in scale "${n}"`);let o=s,l=i,c=a;const p=Math.sign(e);for(;Math.abs(o-s)<Math.abs(e);){o+=p;const d=za(o,r.length);p<0&&c[0]==="C"&&(l+=p),c=r[d],p>0&&c[0]==="C"&&(l+=p)}return c+l}const{transpose:YE,trans:HE}=Li(["transpose","trans"],function(e,t){return t.withHap(r=>{const a=r.value.note??r.value;if(typeof a=="number"){let o;typeof e=="number"?o=e:typeof e=="string"&&(o=Ka.semitones(e)||0);const l=a+o;return typeof r.value=="object"?r.withValue(()=>({...r.value,note:l})):r.withValue(()=>l)}if(typeof a!="string"||!gh(a))return oo(`[tonal] transpose: not a note "${a}"`,"warning"),r;const i=isNaN(Number(e))?String(e):Ka.fromSemitones(e),s=Qr.transpose(a,i);return typeof r.value=="object"?r.withValue(()=>({...r.value,note:s})):r.withValue(()=>s)})}),{scaleTranspose:KE,scaleTrans:JE,strans:eF}=Li(["scaleTranspose","scaleTrans","strans"],function(n,e){return e.withHap(t=>{if(!t.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof t.value=="object")return t.withValue(()=>({...t.value,note:b0(t.context.scale,Number(n),t.value.note)}));if(typeof t.value!="string")throw new Error("can only use scaleTranspose with notes");return t.withValue(()=>b0(t.context.scale,Number(n),t.value))})});function hB(n){let e=Number(n),t=0;if(isNaN(e)){n=String(n);const r=/^(-?\d+)([#bsf]*)$/.exec(n);if(!r)throw new Error(`invalid scale step "${n}", expected number or integer with optional # b suffixes`);e=Number(r[1]);const a=r[2]||"";t=E2(a)}return[e,t]}let Lp={};function dB(n,e,t=!0){let r=typeof e=="string"?Vl(e):e;if(Lp[n]===void 0){const{intervals:d,tonic:f}=_d(n),{pc:y}=Qr.get(f),w=d.concat("8P").map(T=>Qr.transpose(y+"0",T)),A=w.map(Vl);Lp[n]=[A,w]}const[a,i]=Lp[n],s=a[0],o=Math.floor((r-s)/12),l=a.map(d=>d+12*o),c=rv(r,l,t),p=i[c];return Qr.transpose(p,Ka.fromSemitones(12*o))}const tF=Li("scale",function(n,e){return Array.isArray(n)&&(n=n.flat().join(" ")),e.withHaps(t=>(t=t.map(r=>{let a=r.value;const i=typeof a=="object";a=i?a:{n:a};const{note:s,n:o,value:l,...c}=a,p=s??o??l;if(p===void 0)return oo(`[tonal] Invalid value format for 'scale'. Value must contain n, note, or value but received keys [${Object.keys(a).join(", ")}]`,"error"),r;let d;if(gh(p))d=dB(n,p),r.value={...c,note:d};else try{const[f,y]=hB(p);c.anchor?d=uB(f,n,c.anchor):d=mB(f,n),y!=0&&(d=Qr.transpose(d,Ka.fromSemitones(y)))}catch(f){D2(f,"tonal");return}return r.value=i?{...c,note:d}:d,r.setContext({...r.context,scale:n})}),B2(t)))},!0,!0);var Ip={},Os={},ks={},y0;function av(){if(y0)return ks;y0=1,ks.__esModule=!0,ks.getBestVoicing=void 0;function n(e){var t=e.chord,r=e.range,a=e.finder,i=e.picker,s=e.lastVoicing,o=a(t,r);return o.length?i(o,s):[]}return ks.getBestVoicing=n,ks}var vs={};const iv=R2(eB);var xs={},O0;function sv(){if(O0)return xs;O0=1,xs.__esModule=!0,xs.tokenizeChord=void 0;function n(e){var t=(e||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}return xs.tokenizeChord=n,xs}var k0;function fB(){if(k0)return vs;k0=1,vs.__esModule=!0,vs.voicingsInRange=void 0;var n=iv,e=ov(),t=sv();function r(a,i,s){i===void 0&&(i=e.lefthand),s===void 0&&(s=["D3","A4"]);var o=(0,t.tokenizeChord)(a),l=o[0],c=o[1];if(!i[c])return[];var p=i[c].map(function(f){return f.split(" ")}),d=n.Range.chromatic(s);return p.reduce(function(f,y){var P=y.map(function(q){return n.Interval.substract(q,y[0])}),w=n.Note.transpose(l,y[0]),A=d.filter(function(q){return n.Note.chroma(q)===n.Note.chroma(w)}).filter(function(q){return n.Note.midi(n.Note.transpose(q,P[P.length-1]))<=n.Note.midi(s[1])}).map(function(q){return n.Note.enharmonic(q,w)}),T=A.map(function(q){return P.map(function(G){return n.Note.transpose(q,G)})});return f.concat(T)},[])}return vs.voicingsInRange=r,vs}var v0;function ov(){return v0||(v0=1,function(n){var e=Os.__assign||function(){return e=Object.assign||function(o){for(var l,c=1,p=arguments.length;c<p;c++){l=arguments[c];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d])}return o},e.apply(this,arguments)},t=Os.__rest||function(o,l){var c={};for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&l.indexOf(p)<0&&(c[p]=o[p]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,p=Object.getOwnPropertySymbols(o);d<p.length;d++)l.indexOf(p[d])<0&&Object.prototype.propertyIsEnumerable.call(o,p[d])&&(c[p[d]]=o[p[d]]);return c};n.__esModule=!0,n.dictionaryVoicing=n.dictionaryVoicingFinder=n.triads=n.guidetones=n.lefthand=void 0;var r=av(),a=fB();n.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},n.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},n.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var i=function(o){return function(l,c){return(0,a.voicingsInRange)(l,o,c)}};n.dictionaryVoicingFinder=i;var s=function(o){var l=o.dictionary,c=o.range,p=t(o,["dictionary","range"]);return(0,r.getBestVoicing)(e(e({},p),{range:c,finder:(0,n.dictionaryVoicingFinder)(l)}))};n.dictionaryVoicing=s}(Os)),Os}var Ps={},x0;function gB(){if(x0)return Ps;x0=1,Ps.__esModule=!0,Ps.minTopNoteDiff=void 0;var n=iv;function e(t,r){if(!r)return t[0];var a=function(i){return Math.abs(n.Note.midi(r[r.length-1])-n.Note.midi(i[i.length-1]))};return t.reduce(function(i,s){return a(s)<a(i)?s:i},t[0])}return Ps.minTopNoteDiff=e,Ps}var P0;function bB(){return P0||(P0=1,function(n){n.__esModule=!0;var e=ov(),t=gB(),r=av(),a=sv();n.default={tokenizeChord:a.tokenizeChord,getBestVoicing:r.getBestVoicing,dictionaryVoicing:e.dictionaryVoicing,dictionaryVoicingFinder:e.dictionaryVoicingFinder,lefthand:e.lefthand,guidetones:e.guidetones,triads:e.triads,minTopNoteDiff:t.minTopNoteDiff}}(Ip)),Ip}var yB=bB();const w0=V0(yB),fi={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},wi={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:OB,minTopNoteDiff:kB}=w0.default||w0,vB={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},xB={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},PB={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},wB={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},wo={lefthand:{dictionary:vB,range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:PB,mode:"below",anchor:"a4"},guidetones:{dictionary:xB,mode:"above",anchor:"a4"},legacy:{dictionary:wB,mode:"below",anchor:"a4"}};let lv="ireal";const CB=n=>lv=n,nF=(n,e)=>AB(n,wo[n].dictionary,e),AB=(n,e,t=["F3","A4"])=>{Object.assign(wo,{[n]:{dictionary:e,range:t}})},uv=(n,e,t={})=>{Object.assign(wo,{[n]:{dictionary:e,...t}})},SB=(n,e,t)=>{const{dictionary:r,range:a}=wo[e];return OB({chord:n,dictionary:r,range:a,picker:kB,lastVoicing:t})};let Ll;const rF=Li("voicings",function(n,e){return e.fmap(t=>(Ll=SB(t,n,Ll),Fs(...Ll))).outerJoin()}),aF=Li("rootNotes",function(n,e){return e.fmap(t=>{const i=(t.chord||t).match(/^([a-gA-G][b#]?).*$/)[1]+n;return t.chord?{note:i}:i})}),iF=Li("voicing",function(n){return n.fmap(e=>{e=typeof e=="string"?{chord:e}:e;let{dictionary:t=lv,chord:r,anchor:a,offset:i,mode:s,n:o,octaves:l,...c}=e;t=typeof t=="string"?wo[t]:{dictionary:t,mode:"below",anchor:"c5"};try{let p=cB({...t,chord:r,anchor:a,offset:i,mode:s,n:o,octaves:l});return Fs(...p).note().set(c)}catch{return oo(`[voicing]: unknown chord "${r}"`),zp}}).outerJoin()});function Il(n,e,t){t=Array.isArray(t)?t:[t],t.forEach(r=>{r[e]=r[n]})}Il("^","",[fi,wi]);Object.keys(fi).forEach(n=>{if(n.includes("-")){let e=n.replace("-","m");Il(n,e,[wi,fi])}if(n.includes("^")){let e=n.replace("^","M");Il(n,e,[wi,fi])}if(n.includes("+")){let e=n.replace("+","aug");Il(n,e,[wi,fi])}});uv("ireal",fi);uv("ireal-ext",wi);function sF(){Ll=void 0,CB("ireal")}const MB=n=>{const e=document.createElement("div");return e.innerText=n,e.innerHTML},DB=n=>{const e=document.createElement("div");return e.innerHTML=n,e.textContent||e.innerText||""},xc=n=>n.name||n.longname,BB=n=>n?.length?`
    <div class="autocomplete-info-params-section">
      <h4 class="autocomplete-info-section-title">Parameters</h4>
      <ul class="autocomplete-info-params-list">
        ${n.map(({name:e,type:t,description:r})=>`
          <li class="autocomplete-info-param-item">
            <span class="autocomplete-info-param-name">${e}</span>
            <span class="autocomplete-info-param-type">${t.names?.join(" | ")}</span>
            ${r?`<div class="autocomplete-info-param-desc">${DB(r)}</div>`:""}
          </li>
        `).join("")}
      </ul>
    </div>
  `:"",EB=n=>n?.length?`
    <div class="autocomplete-info-examples-section">
      <h4 class="autocomplete-info-section-title">Examples</h4>
      ${n.map(e=>`
        <pre class="autocomplete-info-example-code">${MB(e)}</pre>
      `).join("")}
    </div>
  `:"",cv=n=>e7`
  <div class="autocomplete-info-container">
    <div class="autocomplete-info-tooltip">
      <h3 class="autocomplete-info-function-name">${xc(n)}</h3>
      ${n.synonyms_text?`<div class="autocomplete-info-function-synonyms">Synonyms: ${n.synonyms_text}</div>`:""}
      ${n.description?`<div class="autocomplete-info-function-description">${n.description}</div>`:""}
      ${BB(n.params)}
      ${EB(n.examples)}
    </div>
  </div>
`[0],FB=n=>{const e=xc(n);return e&&!e.startsWith("_")&&!["package"].includes(n.kind)},$B=n=>["superdirtOnly","noAutocomplete"].some(e=>n.tags?.find(t=>t.originalTitle===e));function QB(){const n={},e=new Set;for(const t of Object.keys(n)){const[r,a]=t.split("_");a&&r&&e.add(r)}return Array.from(e).sort().map(t=>({label:t,type:"bank"}))}let _B=[];const TB=[{label:"below",type:"mode"},{label:"above",type:"mode"},{label:"duck",type:"mode"},{label:"root",type:"mode"}],RB=["",...Object.keys(wi)].sort(),jB=RB.map(n=>n===""?{label:"major",apply:"",type:"chord-symbol"}:{label:n,apply:n,type:"chord-symbol"}),pv=(n,e)=>{const t=n.synonyms||[],a=[xc(n),...t].filter(i=>i&&i!==e);return{...n,name:e,longname:e,synonyms:a,synonyms_text:a.join(", ")}},LB=(()=>{const n=new Set,e=[];for(const t of Ym.docs){if(!FB(t)||$B(t))continue;const r=xc(t),a=t.synonyms||[];let i=[r,...a];for(const s of i)s&&!n.has(s)&&(n.add(s),e.push({label:s,info:()=>cv(pv(t,s)),type:"function"}))}return e})(),Tu=["C","C#","Db","D","D#","Eb","E","E#","Fb","F","F#","Gb","G","G#","Ab","A","A#","Bb","B","B#","Cb"],IB=/scale\(\s*$/,NB=/scale\(\s*['"][^'"]*:[^'"]*$/,ZB=/scale\(\s*['"][^'"]*$/,VB=/([A-Ga-g][#b]*)?$/,qB=/\s+/g;function XB(n){let e=n.matchBefore(IB);if(e)return{from:e.to,options:[]};let t=n.matchBefore(NB);if(t){const a=t.text,i=a.lastIndexOf(":");if(i!==-1){const s=a.slice(i+1),l=_B.filter(p=>p.label.startsWith(s)).map(p=>({...p,apply:p.label.replace(qB,":")}));return{from:t.from+i+1,options:l}}}let r=n.matchBefore(ZB);if(r&&!r.text.includes(":"))if(n.explicit){const i=r.text.match(VB),s=i?i[0]:"",o=Tu.filter(p=>p.toLowerCase().startsWith(s.toLowerCase())),l=r.to-s.length,c=o.map(p=>({label:p,type:"pitch"}));return{from:l,options:c}}else return{from:r.to,options:[]};return null}const WB=/(s|sound)\(\s*$/,zB=/(s|sound)\(\s*['"][^'"]*$/,GB=/(?:[\s[{(<])([\w]*)$/;function UB(n){let e=n.matchBefore(WB);if(e)return{from:e.to,options:[]};let t=n.matchBefore(zB);if(!t)return null;const r=t.text,a=Math.max(r.lastIndexOf('"'),r.lastIndexOf("'"));if(a===-1)return null;const i=r.slice(a+1),s=i.match(GB),o=s?s[1]:i;let p=Object.keys({}).sort().filter(f=>f.includes(o)).map(f=>({label:f,type:"sound"}));return{from:t.to-o.length,options:p}}const YB=/bank\(\s*$/,HB=/bank\(\s*['"][^'"]*$/;function KB(n){let e=n.matchBefore(YB);if(e)return{from:e.to,options:[]};let t=n.matchBefore(HB);if(!t)return null;const r=t.text,a=Math.max(r.lastIndexOf('"'),r.lastIndexOf("'"));if(a===-1)return null;const s=r.slice(a+1),l=QB().filter(p=>p.label.startsWith(s));return{from:t.to-s.length,options:l}}const JB=/mode\(\s*$/,e9=/mode\(\s*['"][^'"]*:[^'"]*$/,t9=/mode\(\s*['"][^'"]*$/,n9=/(?:[\s[{(<])([\w:]*)$/;function r9(n){let e=n.matchBefore(JB);if(e)return{from:e.to,options:[]};let t=n.matchBefore(e9);if(t){const d=t.text,f=d.lastIndexOf(":");if(f!==-1){const y=d.slice(f+1),w=Tu.filter(T=>T.toLowerCase().startsWith(y.toLowerCase())).map(T=>({label:T,type:"pitch"}));return{from:t.from+f+1,options:w}}}let r=n.matchBefore(t9);if(!r)return null;const a=r.text,i=Math.max(a.lastIndexOf('"'),a.lastIndexOf("'"));if(i===-1)return null;const s=a.slice(i+1),o=s.match(n9),l=o?o[1]:s,c=TB.filter(d=>d.label.startsWith(l));return{from:r.to-l.length,options:c}}const a9=/chord\(\s*$/,i9=/chord\(\s*['"][^'"]*$/,s9=/(?:[\s[{(<])([\w#b+^:-]*)$/;function o9(n){let e=n.matchBefore(a9);if(e)return{from:e.to,options:[]};let t=n.matchBefore(i9);if(!t)return null;const r=t.text,a=Math.max(r.lastIndexOf('"'),r.lastIndexOf("'"));if(a===-1)return null;const i=r.slice(a+1),s=i.match(s9),o=s?s[1]:i;let l=null,c=o;for(const p of Tu)if(o.toLowerCase().startsWith(p.toLowerCase())){l=p,c=o.slice(p.length);break}if(l){const d=jB.filter(y=>y.label.toLowerCase().startsWith(c.toLowerCase()));return{from:t.to-c.length,options:d}}else{const d=Tu.filter(y=>y.toLowerCase().startsWith(o.toLowerCase())).map(y=>({label:y,type:"pitch"}));return{from:t.to-o.length,options:d}}}const l9=/\w*/;function u9(n){const e=n.matchBefore(l9);return e&&e.from===e.to&&!n.explicit?null:e?{from:e.from,options:LB}:null}const c9=[UB,KB,o9,XB,r9,u9],p9=n=>{for(const e of c9){const t=e(n);if(t)return t}return null},m9=n=>n?[pA({override:[p9],closeOnBlur:!1})]:[];function ft(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=t[r];typeof a=="string"?n.setAttribute(r,a):a!=null&&(n[r]=a)}e++}for(;e<arguments.length;e++)mv(n,arguments[e]);return n}function mv(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)mv(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const C0=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class ao{constructor(e,t,r=0,a=e.length,i,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,a),this.bufferStart=r,this.normalize=i?o=>i(C0(o)):C0,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return xn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Ch(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Mr(e);let a=this.normalize(t);if(a.length)for(let i=0,s=r;;i++){let o=a.charCodeAt(i),l=this.match(o,s,this.bufferPos+this.bufferStart);if(i==a.length-1){if(l)return this.value=l,this;break}s==r&&i<t.length&&t.charCodeAt(i)==o&&s++}}}match(e,t,r){let a=null;for(let i=0;i<this.matches.length;i+=2){let s=this.matches[i],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?a={from:this.matches[i+1],to:r}:(this.matches[i]++,o=!0)),o||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?a={from:t,to:r}:this.matches.push(1,t)),a&&this.test&&!this.test(a.from,a.to,this.buffer,this.bufferStart)&&(a=null),a}}typeof Symbol<"u"&&(ao.prototype[Symbol.iterator]=function(){return this});const hv={from:-1,to:-1,match:/.*/.exec("")},Td="gm"+(/x/.unicode==null?"":"u");class Rd{constructor(e,t,r,a=0,i=e.length){if(this.text=e,this.to=i,this.curLine="",this.done=!1,this.value=hv,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new dv(e,t,r,a,i);this.re=new RegExp(t,Td+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let s=e.lineAt(a);this.curLineStart=s.from,this.matchPos=Ru(e,a),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,a=r+t[0].length;if(this.matchPos=Ru(this.text,a+(r==a?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<a||r>this.value.to)&&(!this.test||this.test(r,a,t)))return this.value={from:r,to:a,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Np=new WeakMap;class Ci{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let a=Np.get(e);if(!a||a.from>=r||a.to<=t){let o=new Ci(t,e.sliceString(t,r));return Np.set(e,o),o}if(a.from==t&&a.to==r)return a;let{text:i,from:s}=a;return s>t&&(i=e.sliceString(t,s)+i,s=t),a.to<r&&(i+=e.sliceString(a.to,r)),Np.set(e,new Ci(s,i)),new Ci(t,i.slice(t-s,r-s))}}class dv{constructor(e,t,r,a,i){this.text=e,this.to=i,this.done=!1,this.value=hv,this.matchPos=Ru(e,a),this.re=new RegExp(t,Td+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=Ci.get(e,a,this.chunkEnd(a+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,a=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,a,t)))return this.value={from:r,to:a,match:t},this.matchPos=Ru(this.text,a+(r==a?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Ci.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Rd.prototype[Symbol.iterator]=dv.prototype[Symbol.iterator]=function(){return this});function h9(n){try{return new RegExp(n,Td),!0}catch{return!1}}function Ru(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function rh(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=ft("input",{class:"cm-textfield",name:"line",value:e}),r=ft("form",{class:"cm-gotoLine",onkeydown:i=>{i.keyCode==27?(i.preventDefault(),n.dispatch({effects:ju.of(!1)}),n.focus()):i.keyCode==13&&(i.preventDefault(),a())},onsubmit:i=>{i.preventDefault(),a()}},ft("label",n.state.phrase("Go to line"),": ",t)," ",ft("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function a(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!i)return;let{state:s}=n,o=s.doc.lineAt(s.selection.main.head),[,l,c,p,d]=i,f=p?+p.slice(1):0,y=c?+c:o.number;if(c&&d){let A=y/100;l&&(A=A*(l=="-"?-1:1)+o.number/s.doc.lines),y=Math.round(s.doc.lines*A)}else c&&l&&(y=y*(l=="-"?-1:1)+o.number);let P=s.doc.line(Math.max(1,Math.min(s.doc.lines,y))),w=K.cursor(P.from+Math.max(0,Math.min(f,P.length)));n.dispatch({effects:[ju.of(!1),pe.scrollIntoView(w.from,{y:"center"})],selection:w}),n.focus()}return{dom:r}}const ju=Se.define(),A0=Pt.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(ju)&&(n=t.value);return n},provide:n=>ka.from(n,e=>e?rh:null)}),d9=n=>{let e=Us(n,rh);if(!e){let t=[ju.of(!0)];n.state.field(A0,!1)==null&&t.push(Se.appendConfig.of([A0,f9])),n.dispatch({effects:t}),e=Us(n,rh)}return e&&e.dom.querySelector("input").select(),!0},f9=pe.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),g9=({state:n,dispatch:e})=>{let{selection:t}=n,r=K.create(t.ranges.map(a=>n.wordAt(a.head)||K.cursor(a.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function b9(n,e){let{main:t,ranges:r}=n.selection,a=n.wordAt(t.head),i=a&&a.from==t.from&&a.to==t.to;for(let s=!1,o=new ao(n.doc,e,r[r.length-1].to);;)if(o.next(),o.done){if(s)return null;o=new ao(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(l=>l.from==o.value.from))continue;if(i){let l=n.wordAt(o.value.from);if(!l||l.from!=o.value.from||l.to!=o.value.to)continue}return o.value}}const y9=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(i=>i.from===i.to))return g9({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(i=>n.sliceDoc(i.from,i.to)!=r))return!1;let a=b9(n,r);return a?(e(n.update({selection:n.selection.addRange(K.range(a.from,a.to),!1),effects:pe.scrollIntoView(a.to)})),!0):!1},Ki=be.define({combine(n){return na(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new S9(e),scrollToMatch:e=>pe.scrollIntoView(e)})}});class jd{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||h9(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new x9(this):new k9(this)}getCursor(e,t=0,r){let a=e.doc?e:et.create({doc:e});return r==null&&(r=a.doc.length),this.regexp?pi(this,a,t,r):ci(this,a,t,r)}}class fv{constructor(e){this.spec=e}}function ci(n,e,t,r){return new ao(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:a=>a.toLowerCase(),n.wholeWord?O9(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function O9(n,e){return(t,r,a,i)=>((i>t||i+a.length<r)&&(i=Math.max(0,t-2),a=n.sliceString(i,Math.min(n.length,r+2))),(e(Lu(a,t-i))!=Tt.Word||e(Iu(a,t-i))!=Tt.Word)&&(e(Iu(a,r-i))!=Tt.Word||e(Lu(a,r-i))!=Tt.Word))}class k9 extends fv{constructor(e){super(e)}nextMatch(e,t,r){let a=ci(this.spec,e,r,e.doc.length).nextOverlapping();if(a.done){let i=Math.min(e.doc.length,t+this.spec.unquoted.length);a=ci(this.spec,e,0,i).nextOverlapping()}return a.done||a.value.from==t&&a.value.to==r?null:a.value}prevMatchInRange(e,t,r){for(let a=r;;){let i=Math.max(t,a-1e4-this.spec.unquoted.length),s=ci(this.spec,e,i,a),o=null;for(;!s.nextOverlapping().done;)o=s.value;if(o)return o;if(i==t)return null;a-=1e4}}prevMatch(e,t,r){let a=this.prevMatchInRange(e,0,t);return a||(a=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),a&&(a.from!=t||a.to!=r)?a:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=ci(this.spec,e,0,e.doc.length),a=[];for(;!r.next().done;){if(a.length>=t)return null;a.push(r.value)}return a}highlight(e,t,r,a){let i=ci(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!i.next().done;)a(i.value.from,i.value.to)}}function pi(n,e,t,r){return new Rd(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?v9(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function Lu(n,e){return n.slice(Xt(n,e,!1),e)}function Iu(n,e){return n.slice(e,Xt(n,e))}function v9(n){return(e,t,r)=>!r[0].length||(n(Lu(r.input,r.index))!=Tt.Word||n(Iu(r.input,r.index))!=Tt.Word)&&(n(Iu(r.input,r.index+r[0].length))!=Tt.Word||n(Lu(r.input,r.index+r[0].length))!=Tt.Word)}class x9 extends fv{nextMatch(e,t,r){let a=pi(this.spec,e,r,e.doc.length).next();return a.done&&(a=pi(this.spec,e,0,t).next()),a.done?null:a.value}prevMatchInRange(e,t,r){for(let a=1;;a++){let i=Math.max(t,r-a*1e4),s=pi(this.spec,e,i,r),o=null;for(;!s.next().done;)o=s.value;if(o&&(i==t||o.from>i+10))return o;if(i==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(t,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:t)}matchAll(e,t){let r=pi(this.spec,e,0,e.doc.length),a=[];for(;!r.next().done;){if(a.length>=t)return null;a.push(r.value)}return a}highlight(e,t,r,a){let i=pi(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!i.next().done;)a(i.value.from,i.value.to)}}const Ca=Se.define(),Ld=Se.define(),ga=Pt.define({create(n){return new Zp(ah(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Ca)?n=new Zp(t.value.create(),n.panel):t.is(Ld)&&(n=new Zp(n.query,t.value?Id:null));return n},provide:n=>ka.from(n,e=>e.panel)});class Zp{constructor(e,t){this.query=e,this.panel=t}}const P9=ke.mark({class:"cm-searchMatch"}),w9=ke.mark({class:"cm-searchMatch cm-searchMatch-selected"}),C9=Ct.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(ga))}update(n){let e=n.state.field(ga);(e!=n.startState.field(ga)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return ke.none;let{view:t}=this,r=new _r;for(let a=0,i=t.visibleRanges,s=i.length;a<s;a++){let{from:o,to:l}=i[a];for(;a<s-1&&l>i[a+1].from-2*250;)l=i[++a].to;n.highlight(t.state,o,l,(c,p)=>{let d=t.state.selection.ranges.some(f=>f.from==c&&f.to==p);r.add(c,p,d?w9:P9)})}return r.finish()}},{decorations:n=>n.decorations});function Co(n){return e=>{let t=e.state.field(ga,!1);return t&&t.query.spec.valid?n(e,t):kv(e)}}const S0=Co((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let a=K.single(r.from,r.to),i=n.state.facet(Ki);return n.dispatch({selection:a,effects:[Nd(n,r),i.scrollToMatch(a.main,n)],userEvent:"select.search"}),Ov(n),!0}),M0=Co((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,a=e.prevMatch(t,r,r);if(!a)return!1;let i=K.single(a.from,a.to),s=n.state.facet(Ki);return n.dispatch({selection:i,effects:[Nd(n,a),s.scrollToMatch(i.main,n)],userEvent:"select.search"}),Ov(n),!0}),gv=Co((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:K.create(t.map(r=>K.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),A9=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:a}=t.main,i=[],s=0;for(let o=new ao(n.doc,n.sliceDoc(r,a));!o.next().done;){if(i.length>1e3)return!1;o.value.from==r&&(s=i.length),i.push(K.range(o.value.from,o.value.to))}return e(n.update({selection:K.create(i,s),userEvent:"select.search.matches"})),!0},D0=Co((n,{query:e})=>{let{state:t}=n,{from:r,to:a}=t.selection.main;if(t.readOnly)return!1;let i=e.nextMatch(t,r,r);if(!i)return!1;let s=i,o=[],l,c,p=[];if(s.from==r&&s.to==a&&(c=t.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:c}),s=e.nextMatch(t,s.from,s.to),p.push(pe.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+"."))),s){let d=o.length==0||o[0].from>=i.to?0:i.to-i.from-c.length;l=K.single(s.from-d,s.to-d),p.push(Nd(n,s)),p.push(t.facet(Ki).scrollToMatch(l.main,n))}return n.dispatch({changes:o,selection:l,effects:p,userEvent:"input.replace"}),!0}),bv=Co((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(a=>{let{from:i,to:s}=a;return{from:i,to:s,insert:e.getReplacement(a)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:pe.announce.of(r),userEvent:"input.replace.all"}),!0});function Id(n){return n.state.facet(Ki).createPanel(n)}function ah(n,e){var t,r,a,i,s;let o=n.selection.main,l=o.empty||o.to>o.from+100?"":n.sliceDoc(o.from,o.to);if(e&&!l)return e;let c=n.facet(Ki);return new jd({search:((t=e?.literal)!==null&&t!==void 0?t:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(a=e?.literal)!==null&&a!==void 0?a:c.literal,regexp:(i=e?.regexp)!==null&&i!==void 0?i:c.regexp,wholeWord:(s=e?.wholeWord)!==null&&s!==void 0?s:c.wholeWord})}function yv(n){let e=Us(n,Id);return e&&e.dom.querySelector("[main-field]")}function Ov(n){let e=yv(n);e&&e==n.root.activeElement&&e.select()}const kv=n=>{let e=n.state.field(ga,!1);if(e&&e.panel){let t=yv(n);if(t&&t!=n.root.activeElement){let r=ah(n.state,e.query.spec);r.valid&&n.dispatch({effects:Ca.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[Ld.of(!0),e?Ca.of(ah(n.state,e.query.spec)):Se.appendConfig.of(D9)]});return!0},vv=n=>{let e=n.state.field(ga,!1);if(!e||!e.panel)return!1;let t=Us(n,Id);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:Ld.of(!1)}),!0};class S9{constructor(e){this.view=e;let t=this.query=e.state.field(ga).query.spec;this.commit=this.commit.bind(this),this.searchField=ft("input",{value:t.search,placeholder:Qn(e,"Find"),"aria-label":Qn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ft("input",{value:t.replace,placeholder:Qn(e,"Replace"),"aria-label":Qn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ft("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=ft("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=ft("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(a,i,s){return ft("button",{class:"cm-button",name:a,onclick:i,type:"button"},s)}this.dom=ft("div",{onkeydown:a=>this.keydown(a),class:"cm-search"},[this.searchField,r("next",()=>S0(e),[Qn(e,"next")]),r("prev",()=>M0(e),[Qn(e,"previous")]),r("select",()=>gv(e),[Qn(e,"all")]),ft("label",null,[this.caseField,Qn(e,"match case")]),ft("label",null,[this.reField,Qn(e,"regexp")]),ft("label",null,[this.wordField,Qn(e,"by word")]),...e.state.readOnly?[]:[ft("br"),this.replaceField,r("replace",()=>D0(e),[Qn(e,"replace")]),r("replaceAll",()=>bv(e),[Qn(e,"replace all")])],ft("button",{name:"close",onclick:()=>vv(e),"aria-label":Qn(e,"close"),type:"button"},["×"])])}commit(){let e=new jd({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Ca.of(e)}))}keydown(e){Ra(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?M0:S0)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),D0(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(Ca)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Ki).top}}function Qn(n,e){return n.state.phrase(e)}const Ol=30,kl=/[\s\.,:;?!]/;function Nd(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),a=n.state.doc.lineAt(t).to,i=Math.max(r.from,e-Ol),s=Math.min(a,t+Ol),o=n.state.sliceDoc(i,s);if(i!=r.from){for(let l=0;l<Ol;l++)if(!kl.test(o[l+1])&&kl.test(o[l])){o=o.slice(l);break}}if(s!=a){for(let l=o.length-1;l>o.length-Ol;l--)if(!kl.test(o[l-1])&&kl.test(o[l])){o=o.slice(0,l);break}}return pe.announce.of(`${n.state.phrase("current match")}. ${o} ${n.state.phrase("on line")} ${r.number}.`)}const M9=pe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),D9=[ga,Mn.low(C9),M9],B9=[oy(),oO(),E3(),G3(),H3(),ra.of([...aA,...ld,...pO])];[oy(),oO(),ry(),Gh(Ly,{fallback:!0}),ra.of([...ld,...pO])];const ih=Se.define(),E9=Pt.define({create(){return ke.none},update(n,e){try{for(let t of e.effects)if(t.is(ih))if(t.value&&e.newDoc.length>0){const r=ke.mark({attributes:{style:"background-color: rgba(255,255,255, .4); filter: invert(10%)"}});n=ke.set([r.range(0,e.newDoc.length)])}else n=ke.set([]);return n}catch(t){return console.warn("flash error",t),n}},provide:n=>pe.decorations.from(n)}),F9=(n,e=200)=>{n.dispatch({effects:ih.of(!0)}),setTimeout(()=>{n.dispatch({effects:ih.of(!1)})},e)},$9=n=>n?E9:[],xv=Se.define(),Pv=Se.define(),sh=(n,e)=>{n.dispatch({effects:xv.of(e)})},Q9=(n,e,t)=>{n.dispatch({effects:Pv.of({atTime:e,haps:t})})},oh=Pt.define({create(){return ke.none},update(n,e){e.docChanged&&(n=n.map(e.changes));for(let t of e.effects)if(t.is(xv)){const r=t.value.filter(([a])=>a<e.newDoc.length).map(([a,i])=>[a,Math.min(i,e.newDoc.length)]).map(a=>ke.mark({id:a.join(":"),attributes:{style:"background-color: #00CA2880"}}).range(...a));n=ke.set(r,!0)}return n}}),lh=Pt.define({create(){return{atTime:0,haps:new Map}},update(n,e){for(let t of e.effects)if(t.is(Pv)){const r=new Map;for(let a of t.value.haps)if(!(!a.context?.locations||!a.whole))for(let{start:i,end:s}of a.context.locations){let o=`${i}:${s}`;(!r.has(o)||r.get(o).whole.begin.lt(a.whole.begin))&&r.set(o,a)}n={atTime:t.value.atTime,haps:r}}return n}}),_9=pe.decorations.compute([oh,lh],n=>{const e=n.field(oh).iter(),{haps:t}=n.field(lh),r=new _r;for(;e.value;){const{from:a,to:i,value:{spec:{id:s}}}=e;if(t.has(s)){const o=t.get(s),l=o.value?.color??"var(--foreground)",c=o.value?.markcss||`outline: solid 2px ${l}`;r.add(a,i,ke.mark({attributes:{style:c}}))}e.next()}return r.finish()}),T9=[oh,lh,_9],R9=(n,e)=>(n&&e&&setTimeout(()=>{sh(e.editor,e.miniLocations)},100),n?Mn.highest(T9):[]);let uh=ay,j9=class{constructor(e,t,r,a,i,s,o,l,c,p){this.left=e,this.top=t,this.height=r,this.fontFamily=a,this.fontSize=i,this.fontWeight=s,this.color=o,this.className=l,this.letter=c,this.partial=p}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.fontFamily=this.fontFamily,e.style.fontSize=this.fontSize,e.style.fontWeight=this.fontWeight,e.style.color=this.partial?"transparent":this.color,e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.height==e.height&&this.fontFamily==e.fontFamily&&this.fontSize==e.fontSize&&this.fontWeight==e.fontWeight&&this.color==e.color&&this.className==e.className&&this.letter==e.letter}},L9=class{constructor(e,t){this.view=e,this.rangePieces=[],this.cursors=[],this.em=t,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){let t=uh(this.view.state).cursorBlinkRate;this.cursorLayer.style.animationDuration=t+"ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),I9(e)&&this.setBlinkRate()}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,t=[];for(let r of e.selection.ranges){let a=r==e.selection.main,i=q9(this.em,this.view,r,a);i&&t.push(i)}return{cursors:t}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((t,r)=>!t.eq(this.cursors[r]))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const r of e)this.cursorLayer.appendChild(r.draw())}else e.forEach((r,a)=>r.adjust(t[a]));this.cursors=e}}destroy(){this.cursorLayer.remove()}};function I9(n){return uh(n.startState)!=uh(n.state)}const N9={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}},Z9=Mn.highest(pe.theme(N9));function V9(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==mt.LTR?e.left:e.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft,top:e.top-n.scrollDOM.scrollTop}}function q9(n,e,t,r){var a,i;let s=t.head,o=1;(n.$data.count||n.$data.keyChain)&&(o=.5);{let c=s<e.state.doc.length&&e.state.sliceDoc(s,s+1);c&&/[\uDC00-\uDFFF]/.test(c)&&s>1&&(s--,c=e.state.sliceDoc(s,s+1));let p=e.coordsAtPos(s,1);if(!p)return null;let d=V9(e),f=e.domAtPos(s),y=f?f.node:e.contentDOM;for(;f&&f.node instanceof HTMLElement;)y=f.node,f={node:f.node.childNodes[f.offset],offset:0};if(!(y instanceof HTMLElement)){if(!y.parentNode)return null;y=y.parentNode}let P=getComputedStyle(y),w=p.left,A=(i=(a=e).coordsForChar)===null||i===void 0?void 0:i.call(a,s);if(A&&(w=A.left),!c||c==`
`||c=="\r")c=" ";else if(c=="	"){c=" ";var l=e.coordsAtPos(s+1,-1);l&&(w=l.left-(l.left-p.left)/parseInt(P.tabSize))}else/[\uD800-\uDBFF]/.test(c)&&s<e.state.doc.length-1&&(c+=e.state.sliceDoc(s+1,s+2));let T=p.bottom-p.top;return new j9(w-d.left,p.top-d.top+T*(1-o),T*o,P.fontFamily,P.fontSize,P.fontWeight,P.color,r?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",c,o!=1)}}const X9=pe.theme({".cm-emacsMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"5px 10px",backgroundColor:"#fffa8f",fontFamily:"monospace"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"#fffa8f"}}),W9=Ct.fromClass(class{constructor(n){this.status="",this.view=n,this.em=new Za(n),this.blockCursor=new L9(n,this.em),this.view.scrollDOM.classList.add("cm-emacsMode")}update(n){n.docChanged&&(this.em.$emacsMark=null,this.em.updateMarksOnChange(n.changes)),this.blockCursor.update(n)}destroy(){this.view.scrollDOM.classList.remove("cm-emacsMode"),this.blockCursor.destroy()}},{eventHandlers:{keydown:function(n,e){var t=this.em.handleKeyboard(n);return t&&this.blockCursor.scheduleRedraw(),!!t},mousedown:function(){this.em.$emacsMark=null}}}),z9=Se.define(),G9=Pt.define({create:()=>!1,update(n,e){for(let t of e.effects)t.is(z9)&&(n=t.value);return n},provide:n=>ka.from(n,e=>e?U9:null)});function U9(n){let e=document.createElement("div");return e.className="cm-vim-panel",{top:!1,dom:e}}function Y9(n={}){return[X9,W9,Z9,G9]}var H9={Return:"Return",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"Return",Divide:"/",Slash:"/",Multiply:"*",Subtract:"-",Minus:"-",Equal:"="},K9={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1};const Vp={};class Za{constructor(e){this.view=e,this.$data={count:0,keyChain:"",lastCommand:""},this.$emacsMarkRing=[],this.$emacsMark=null}static bindKey(e,t){e.split("|").forEach(function(r){let a="",i=r.split(/\s+/);i.forEach(function(s,o){let l=s.split(/-(?=.)/),c=l.pop();l.length&&(a+=l.sort().join("-")+"-"),a+=c,o===i.length-1?Vp[a]=t:(Vp[a]="null",a+=" ")})})}static getKey(e){var t=e.code,r=e.key;if(K9[r])return["","",""];t.length>1&&(t[0]=="N"&&(t=t.replace(/^Numpad/,"")),t[0]=="K"&&(t=t.replace(/^Key/,""))),t=H9[t]||t,t.length==1&&(t=t.toLowerCase());var a="";return e.ctrlKey&&(a+="C-"),e.metaKey&&(a+="CMD-"),e.altKey&&(a+="M-"),e.shiftKey&&(a+="S-"),[t,a,r]}static addCommands(e){Object.keys(e).forEach(function(t){var r=e[t];typeof r=="function"&&(r={exec:r}),Za.commands[t]=r})}static execCommand(e,t,r,a=1){var i=void 0;if(a<0&&(a=-a),typeof e=="function")for(var s=0;s<a;s++)e(t.view);else if(e!=="null")if(e.exec){a>1&&e.handlesCount&&(r||(r={}),typeof r=="object"&&(r.count=a),a=1);for(var s=0;s<a;s++)i=e.exec(t,r||{})}else throw new Error("missformed command");return i}handleKeyboard(e){var t=Za.getKey(e),r=this.findCommand(t);if(!(/Up|Down/.test(t?.[0])&&dA(this.view.state))){if(r&&r.command){var a=Za.execCommand(r.command,this,r.args,r.count);if(a===!1)return}return r}}findCommand([e,t,r]){if(e){var a=this,i=this.$data;if(!t&&e.length==1&&(a.pushEmacsMark(),i.count)){var s=new Array(i.count+1).join(r);return i.count=null,{command:"insertstring",args:s}}if(t=="C-"||i.count){var c=parseInt(e[e.length-1]);if(typeof c=="number"&&!isNaN(c))return i.count=Math.max(i.count||0,0),i.count=10*i.count+c,{command:"null"}}t&&(e=t+e),i.keyChain&&(e=i.keyChain+=" "+e);var o=Vp[e];if(i.keyChain=o=="null"?e:"",!!o){if(o==="null")return{command:"null"};if(o==="universalArgument")return i.count=-4,{command:"null"};var l;if(typeof o!="string"&&(l=o.args,o.command&&(o=o.command)),(o==="insertstring"||o===sd||o===nd)&&a.pushEmacsMark(),!(typeof o=="string"&&(o=Za.commands[o],!o))){!o.readOnly&&!o.keepLastCommand&&(i.lastCommand=null);var c=i.count||1;return i.count&&(i.count=0),{command:o,args:l,count:c}}}}}showCommandLine(e){console.error("TODO")}updateMarksOnChange(e){this.$emacsMark&&(this.$emacsMark=this.updateMark(this.$emacsMark,e)),this.$emacsMarkRing=this.$emacsMarkRing.map(t=>this.updateMark(t,e)).filter(Boolean)}updateMark(e,t){if(e){var r=e.map(function(a){return t.mapPos(a,1,Qt.TrackDel)}).filter(a=>a!=null);return r.length==0?null:r}}emacsMark(){return this.$emacsMark}setEmacsMark(e){this.$emacsMark=e}pushEmacsMark(e,t){var r=this.$emacsMark;r&&B0(this.$emacsMarkRing,r),!e||t?this.setEmacsMark(e):B0(this.$emacsMarkRing,e)}popEmacsMark(){var e=this.emacsMark();return e?(this.setEmacsMark(null),e):this.$emacsMarkRing.pop()}getLastEmacsMark(){return this.$emacsMark||this.$emacsMarkRing.slice(-1)[0]}getCopyText(){var e=this.view.state;return e.selection.ranges.map(t=>e.sliceDoc(t.from,t.to)).join(`
`)}clearSelection(){var e=this.view,t=e.state.selection,r=!t.ranges.some(i=>i.from!=i.to);if(r)return!1;var a=t.ranges.map(i=>K.range(i.head,i.head));return e.dispatch({selection:K.create(a,t.mainIndex)}),!0}onPaste(e){var t=this.view,r=t.state.selection,a;if(r.ranges.length>1){var i=e.split(`
`);i.length==r.ranges.length&&(a=i)}var s=0,o=t.state.changeByRange(l=>{var c=a?a[s]:e;return s++,{changes:{from:l.from,to:l.to,insert:c},range:K.cursor(l.from+c.length)}});t.dispatch(o)}selectionToEmacsMark(){var e=this.view.state.selection;return e.ranges.map(t=>t.head)}}Za.commands={};function B0(n,e){n.length&&n[n.length-1]+""==e+""||n.push(e)}function J9(n){var e=n.Pos;function t(m,h,g){if(h.line===g.line&&h.ch>=g.ch-1){var b=m.getLine(h.line),v=b.charCodeAt(h.ch);55296<=v&&v<=55551&&(g.ch+=1)}return{start:h,end:g}}var r=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h"},{keys:"<Del>",type:"keyToKey",toKeys:"x"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"gq",type:"operator",operator:"hardWrap"},{keys:"gw",type:"operator",operator:"hardWrap",operatorArgs:{keepCursor:!0}},{keys:"g?",type:"operator",operator:"rot13"},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<register>",type:"action",action:"replayMacro"},{keys:"q<register>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<register>",type:"action",action:"setMark"},{keys:'"<register>',type:"action",action:"setRegister"},{keys:"<C-r><register>",type:"action",action:"insertRegister",context:"insert",isEdit:!0},{keys:"<C-o>",type:"action",action:"oneNormalCommand",context:"insert"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<register>",type:"motion",motion:"textObjectManipulation"},{keys:"i<register>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],a=Object.create(null),i=r.length,s=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"omap",shortName:"om"},{name:"noremap",shortName:"no"},{name:"nnoremap",shortName:"nn"},{name:"vnoremap",shortName:"vn"},{name:"inoremap",shortName:"ino"},{name:"onoremap",shortName:"ono"},{name:"unmap"},{name:"mapclear",shortName:"mapc"},{name:"nmapclear",shortName:"nmapc"},{name:"vmapclear",shortName:"vmapc"},{name:"imapclear",shortName:"imapc"},{name:"omapclear",shortName:"omapc"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"startinsert",shortName:"start"},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"marks",excludeFromCommandHistory:!0},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"delete",shortName:"d"},{name:"join",shortName:"j"},{name:"normal",shortName:"norm"},{name:"global",shortName:"g"}],o=Da("");function l(m){m.setOption("disableInput",!0),m.setOption("showCursorWhenSelecting",!1),n.signal(m,"vim-mode-change",{mode:"normal"}),m.on("cursorActivity",qo),Me(m),n.on(m.getInputField(),"paste",p(m))}function c(m){m.setOption("disableInput",!1),m.off("cursorActivity",qo),n.off(m.getInputField(),"paste",p(m)),m.state.vim=null,$a&&clearTimeout($a)}function p(m){var h=m.state.vim;return h.onPasteFn||(h.onPasteFn=function(){h.insertMode||(m.setCursor(Ot(m.getCursor(),0,1)),we.enterInsertMode(m,{},h))}),h.onPasteFn}var d=/[\d]/,f=[n.isWordChar,function(m){return m&&!n.isWordChar(m)&&!/\s/.test(m)}],y=[function(m){return/\S/.test(m)}],P=["<",">"],w=["-",'"',".",":","_","/","+"],A=/^\w$/,T=/^[A-Z]$/;try{T=new RegExp("^[\\p{Lu}]$","u")}catch{}function q(m,h){return h>=m.firstLine()&&h<=m.lastLine()}function G(m){return/^[a-z]$/.test(m)}function I(m){return"()[]{}".indexOf(m)!=-1}function Q(m){return d.test(m)}function Z(m){return T.test(m)}function V(m){return/^\s*$/.test(m)}function Y(m){return".?!".indexOf(m)!=-1}function ue(m,h){for(var g=0;g<h.length;g++)if(h[g]==m)return!0;return!1}var se={};function ce(m,h,g,b,v){if(h===void 0&&!v)throw Error("defaultValue is required unless callback is provided");if(g||(g="string"),se[m]={type:g,defaultValue:h,callback:v},b)for(var x=0;x<b.length;x++)se[b[x]]=se[m];h&&ae(m,h)}function ae(m,h,g,b){var v=se[m];b=b||{};var x=b.scope;if(!v)return new Error("Unknown option: "+m);if(v.type=="boolean"){if(h&&h!==!0)return new Error("Invalid argument: "+m+"="+h);h!==!1&&(h=!0)}v.callback?(x!=="local"&&v.callback(h,void 0),x!=="global"&&g&&v.callback(h,g)):(x!=="local"&&(v.value=v.type=="boolean"?!!h:h),x!=="global"&&g&&(g.state.vim.options[m]={value:h}))}function ne(m,h,g){var b=se[m];g=g||{};var v=g.scope;if(!b)return new Error("Unknown option: "+m);if(b.callback){let x=h&&b.callback(void 0,h);return v!=="global"&&x!==void 0?x:v!=="local"?b.callback():void 0}else return(v!=="global"&&h&&h.state.vim.options[m]||v!=="local"&&b||{}).value}ce("filetype",void 0,"string",["ft"],function(m,h){if(h!==void 0)if(m===void 0){let g=h.getOption("mode");return g=="null"?"":g}else{let g=m==""?"null":m;h.setOption("mode",g)}}),ce("textwidth",80,"number",["tw"],function(m,h){if(h!==void 0)if(m===void 0){var g=h.getOption("textwidth");return g}else{var b=Math.round(m);b>1&&h.setOption("textwidth",b)}});var fe=function(){var m=100,h=-1,g=0,b=0,v=new Array(m);function x($,N,L){var z=h%m,W=v[z];function U(re){var oe=++h%m,xe=v[oe];xe&&xe.clear(),v[oe]=$.setBookmark(re)}if(W){var X=W.find();X&&!Gt(X,N)&&U(N)}else U(N);U(L),g=h,b=h-m+1,b<0&&(b=0)}function D($,N){h+=N,h>g?h=g:h<b&&(h=b);var L=v[(m+h)%m];if(L&&!L.find()){var z=N>0?1:-1,W,U=$.getCursor();do if(h+=z,L=v[(m+h)%m],L&&(W=L.find())&&!Gt(U,W))break;while(h<g&&h>b)}return L}function E($,N){var L=h,z=D($,N);return h=L,z&&z.find()}return{cachedCursor:void 0,add:x,find:E,move:D}},Ce=function(m){return m?{changes:m.changes,expectCursorActivityForChange:m.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};class Re{constructor(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=Ce()}exitMacroRecordMode(){var h=te.macroModeState;h.onRecordingDone&&h.onRecordingDone(),h.onRecordingDone=void 0,h.isRecording=!1}enterMacroRecordMode(h,g){var b=te.registerController.getRegister(g);if(b){if(b.clear(),this.latestRegister=g,h.openDialog){var v=En("span",{class:"cm-vim-message"},"recording @"+g);this.onRecordingDone=h.openDialog(v,function(){},{bottom:!0})}this.isRecording=!0}}}function Me(m){return m.state.vim||(m.state.vim={inputState:new wt,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeReturn:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:void 0,sel:{anchor:new e(0,0),head:new e(0,0)},options:{},expectLiteralNext:!1,status:""}),m.state.vim}var te;function qe(){te={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:fe(),macroModeState:new Re,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new ts({}),searchHistoryController:new ri,exCommandHistoryController:new ri};for(var m in se){var h=se[m];h.value=h.defaultValue}}class ot{constructor(h,g){this.keyName=h,this.key=g.key,this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.metaKey=g.metaKey,this.shiftKey=g.shiftKey}}var bt,le={enterVimMode:l,leaveVimMode:c,buildKeyMap:function(){},getRegisterController:function(){return te.registerController},resetVimGlobalState_:qe,getVimGlobalState_:function(){return te},maybeInitVimState_:Me,suppressErrorLogging:!1,InsertModeKey:ot,map:function(m,h,g){Ht.map(m,h,g)},unmap:function(m,h){return Ht.unmap(m,h)},noremap:function(m,h,g){Ht.map(m,h,g,!0)},mapclear:function(m){var h=r.length,g=i,b=r.slice(0,h-g);if(r=r.slice(h-g),m)for(var v=b.length-1;v>=0;v--){var x=b[v];if(m!==x.context)if(x.context)this._mapCommand(x);else{var D=["normal","insert","visual"];for(var E in D)if(D[E]!==m){var $=Object.assign({},x);$.context=D[E],this._mapCommand($)}}}},langmap:Ln,vimKeyFromEvent:br,setOption:ae,getOption:ne,defineOption:ce,defineEx:function(m,h,g){if(!h)h=m;else if(m.indexOf(h)!==0)throw new Error('(Vim.defineEx) "'+h+'" is not a prefix of "'+m+'", command not registered');sa[m]=g,Ht.commandMap_[h]={name:m,shortName:h,type:"api"}},handleKey:function(m,h,g){var b=this.findKey(m,h,g);if(typeof b=="function")return b()},multiSelectHandleKey:Nc,findKey:function(m,h,g){var b=Me(m),v=m;function x(){var L=te.macroModeState;if(L.isRecording){if(h=="q")return L.exitMacroRecordMode(),yt(v),!0;g!="mapping"&&Ae(L,h)}}function D(){if(h=="<Esc>"){if(b.visualMode)He(v);else if(b.insertMode)Qe(v);else return;return yt(v),!0}}function E(){if(D())return!0;b.inputState.keyBuffer.push(h);var L=b.inputState.keyBuffer.join(""),z=h.length==1,W=nr.matchCommand(L,r,b.inputState,"insert"),U=b.inputState.changeQueue;if(W.type=="none")return yt(v),!1;if(W.type=="partial"){if(W.expectLiteralNext&&(b.expectLiteralNext=!0),bt&&window.clearTimeout(bt),bt=z&&window.setTimeout(function(){b.insertMode&&b.inputState.keyBuffer.length&&yt(v)},ne("insertModeEscKeysTimeout")),z){var X=v.listSelections();(!U||U.removed.length!=X.length)&&(U=b.inputState.changeQueue=new aa),U.inserted+=h;for(var re=0;re<X.length;re++){var oe=at(X[re].anchor,X[re].head),xe=Ut(X[re].anchor,X[re].head),he=v.getRange(oe,v.state.overwrite?Ot(xe,0,1):xe);U.removed[re]=(U.removed[re]||"")+he}}return!z}else W.type=="full"&&(b.inputState.keyBuffer.length=0);if(b.expectLiteralNext=!1,bt&&window.clearTimeout(bt),W.command&&U){for(var X=v.listSelections(),re=0;re<X.length;re++){var Be=X[re].head;v.replaceRange(U.removed[re]||"",Ot(Be,0,-U.inserted.length),Be,"+input")}te.macroModeState.lastInsertModeChanges.changes.pop()}return W.command||yt(v),W.command}function $(){if(x()||D())return!0;b.inputState.keyBuffer.push(h);var L=b.inputState.keyBuffer.join("");if(/^[1-9]\d*$/.test(L))return!0;var z=/^(\d*)(.*)$/.exec(L);if(!z)return yt(v),!1;var W=b.visualMode?"visual":"normal",U=z[2]||z[1];b.inputState.operatorShortcut&&b.inputState.operatorShortcut.slice(-1)==U&&(U=b.inputState.operatorShortcut);var X=nr.matchCommand(U,r,b.inputState,W);return X.type=="none"?(yt(v),!1):X.type=="partial"?(X.expectLiteralNext&&(b.expectLiteralNext=!0),!0):X.type=="clear"?(yt(v),!0):(b.expectLiteralNext=!1,b.inputState.keyBuffer.length=0,z=/^(\d*)(.*)$/.exec(L),z&&z[1]&&z[1]!="0"&&b.inputState.pushRepeatDigit(z[1]),X.command)}var N=b.insertMode?E():$();if(N===!1)return!b.insertMode&&(h.length===1||n.isMac&&/<A-.>/.test(h))?function(){return!0}:void 0;if(N===!0)return function(){return!0};if(N)return function(){return v.operation(function(){v.curOp.isVimOp=!0;try{if(typeof N!="object")return;N.type=="keyToKey"?At(v,N.toKeys,N):nr.processCommand(v,b,N)}catch(L){throw v.state.vim=void 0,Me(v),le.suppressErrorLogging||console.log(L),L}return!0})}},handleEx:function(m,h){Ht.processCommand(m,h)},defineMotion:ai,defineAction:Et,defineOperator:St,mapCommand:Zo,_mapCommand:Fn,defineRegister:ni,exitVisualMode:He,exitInsertMode:Qe},lt=[],Bt=!1,Le;function Xe(m){if(!Le)throw new Error("No prompt to send key to");if(m[0]=="<"){var h=m.toLowerCase().slice(1,-1),g=h.split("-");if(h=g.pop()||"",h=="lt")m="<";else if(h=="space")m=" ";else if(h=="cr")m=`
`;else if(gr[h]){var b=Le.value||"",v={key:gr[h],target:{value:b,selectionEnd:b.length,selectionStart:b.length}};Le.onKeyDown&&Le.onKeyDown(v,Le.value,D),Le&&Le.onKeyUp&&Le.onKeyUp(v,Le.value,D);return}}if(m==`
`){var x=Le;Le=null,x.onClose&&x.onClose(x.value)}else Le.value=(Le.value||"")+m;function D(E){Le&&(typeof E=="string"?Le.value=E:Le=null)}}function At(m,h,g){var b=Bt;if(g){if(lt.indexOf(g)!=-1)return;lt.push(g),Bt=g.noremap!=!1}try{for(var v=Me(m),x=/<(?:[CSMA]-)*\w+>|./gi,D;D=x.exec(h);){var E=D[0],$=v.insertMode;if(Le){Xe(E);continue}var N=le.handleKey(m,E,"mapping");if(!N&&$&&v.insertMode){if(E[0]=="<"){var L=E.toLowerCase().slice(1,-1),z=L.split("-");if(L=z.pop()||"",L=="lt")E="<";else if(L=="space")E=" ";else if(L=="cr")E=`
`;else if(gr.hasOwnProperty(L)){E=gr[L],Go(m,E);continue}else E=E[0],x.lastIndex=D.index+1}m.replaceSelection(E)}}}finally{if(lt.pop(),Bt=lt.length?b:!1,!lt.length&&Le){var W=Le;Le=null,si(m,W)}}}var fr={Return:"CR",Backspace:"BS",Delete:"Del",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"CR"," ":"Space"},ti={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1,AltGraph:1,Dead:1,Unidentified:1},gr={};"Left|Right|Up|Down|End|Home".split("|").concat(Object.keys(fr)).forEach(function(m){gr[(fr[m]||"").toLowerCase()]=gr[m.toLowerCase()]=m});function br(m,h){var g=m.key;if(!ti[g]){g.length>1&&g[0]=="n"&&(g=g.replace("Numpad","")),g=fr[g]||g;var b="";if(m.ctrlKey&&(b+="C-"),m.altKey&&(b+="A-"),m.metaKey&&(b+="M-"),n.isMac&&b=="A-"&&g.length==1&&(b=b.slice(2)),(b||g.length>1)&&m.shiftKey&&(b+="S-"),h&&!h.expectLiteralNext&&g.length==1){if(o.keymap&&g in o.keymap)(o.remapCtrl!=!1||!b)&&(g=o.keymap[g]);else if(g.charCodeAt(0)>128&&!a[g]){var v=m.code?.slice(-1)||"";m.shiftKey||(v=v.toLowerCase()),v&&(g=v,!b&&m.altKey&&(b="A-"))}}return b+=g,b.length>1&&(b="<"+b+">"),b}}function Ln(m,h){o.string!==m&&(o=Da(m)),o.remapCtrl=h}function Da(m){let h={};if(!m)return{keymap:h,string:""};function g(b){return b.split(/\\?(.)/).filter(Boolean)}return m.split(/((?:[^\\,]|\\.)+),/).map(b=>{if(!b)return;const v=b.split(/((?:[^\\;]|\\.)+);/);if(v.length==3){const x=g(v[1]),D=g(v[2]);if(x.length!==D.length)return;for(let E=0;E<x.length;++E)h[x[E]]=D[E]}else if(v.length==1){const x=g(b);if(x.length%2!==0)return;for(let D=0;D<x.length;D+=2)h[x[D]]=x[D+1]}}),{keymap:h,string:m}}ce("langmap",void 0,"string",["lmap"],function(m,h){if(m===void 0)return o.string;Ln(m)});class wt{constructor(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=void 0,this.changeQueue=null}pushRepeatDigit(h){this.operator?this.motionRepeat=this.motionRepeat.concat(h):this.prefixRepeat=this.prefixRepeat.concat(h)}getRepeat(){var h=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(h=1,this.prefixRepeat.length>0&&(h*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(h*=parseInt(this.motionRepeat.join(""),10))),h}}function yt(m,h){m.state.vim.inputState=new wt,m.state.vim.expectLiteralNext=!1,n.signal(m,"vim-command-done",h)}function aa(){this.removed=[],this.inserted=""}class pn{constructor(h,g,b){this.clear(),this.keyBuffer=[h||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!g,this.blockwise=!!b}setText(h,g,b){this.keyBuffer=[h||""],this.linewise=!!g,this.blockwise=!!b}pushText(h,g){g&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(h)}pushInsertModeChanges(h){this.insertModeChanges.push(Ce(h))}pushSearchQuery(h){this.searchQueries.push(h)}clear(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1}toString(){return this.keyBuffer.join("")}}function ni(m,h){var g=te.registerController.registers;if(!m||m.length!=1)throw Error("Register name must be 1 character");if(g[m])throw Error("Register already defined "+m);g[m]=h,w.push(m)}class ts{constructor(h){this.registers=h,this.unnamedRegister=h['"']=new pn,h["."]=new pn,h[":"]=new pn,h["/"]=new pn,h["+"]=new pn}pushText(h,g,b,v,x){if(h!=="_"){v&&b.charAt(b.length-1)!==`
`&&(b+=`
`);var D=this.isValidRegister(h)?this.getRegister(h):null;if(!D||!h){switch(g){case"yank":this.registers[0]=new pn(b,v,x);break;case"delete":case"change":b.indexOf(`
`)==-1?this.registers["-"]=new pn(b,v):(this.shiftNumericRegisters_(),this.registers[1]=new pn(b,v));break}this.unnamedRegister.setText(b,v,x);return}var E=Z(h);E?D.pushText(b,v):D.setText(b,v,x),h==="+"&&navigator.clipboard.writeText(b),this.unnamedRegister.setText(D.toString(),v)}}getRegister(h){return this.isValidRegister(h)?(h=h.toLowerCase(),this.registers[h]||(this.registers[h]=new pn),this.registers[h]):this.unnamedRegister}isValidRegister(h){return h&&(ue(h,w)||A.test(h))}shiftNumericRegisters_(){for(var h=9;h>=2;h--)this.registers[h]=this.getRegister(""+(h-1))}}class ri{constructor(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}nextMatch(h,g){var b=this.historyBuffer,v=g?-1:1;this.initialPrefix===null&&(this.initialPrefix=h);for(var x=this.iterator+v;g?x>=0:x<b.length;x+=v)for(var D=b[x],E=0;E<=D.length;E++)if(this.initialPrefix==D.substring(0,E))return this.iterator=x,D;if(x>=b.length)return this.iterator=b.length,this.initialPrefix;if(x<0)return h}pushInput(h){var g=this.historyBuffer.indexOf(h);g>-1&&this.historyBuffer.splice(g,1),h.length&&this.historyBuffer.push(h)}reset(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}}var nr={matchCommand:function(m,h,g,b){var v=Dn(m,h,b,g),x=v.full[0];if(!x)return v.partial.length?{type:"partial",expectLiteralNext:v.partial.length==1&&v.partial[0].keys.slice(-11)=="<character>"}:{type:"none"};if(x.keys.slice(-11)=="<character>"||x.keys.slice(-10)=="<register>"){var D=yr(m);if(!D||D.length>1)return{type:"clear"};g.selectedCharacter=D}return{type:"full",command:x}},processCommand:function(m,h,g){switch(h.inputState.repeatOverride=g.repeatOverride,g.type){case"motion":this.processMotion(m,h,g);break;case"operator":this.processOperator(m,h,g);break;case"operatorMotion":this.processOperatorMotion(m,h,g);break;case"action":this.processAction(m,h,g);break;case"search":this.processSearch(m,h,g);break;case"ex":case"keyToEx":this.processEx(m,h,g);break}},processMotion:function(m,h,g){h.inputState.motion=g.motion,h.inputState.motionArgs=Vr(g.motionArgs),this.evalInput(m,h)},processOperator:function(m,h,g){var b=h.inputState;if(b.operator)if(b.operator==g.operator){b.motion="expandToLine",b.motionArgs={linewise:!0,repeat:1},this.evalInput(m,h);return}else yt(m);b.operator=g.operator,b.operatorArgs=Vr(g.operatorArgs),g.keys.length>1&&(b.operatorShortcut=g.keys),g.exitVisualBlock&&(h.visualBlock=!1,ie(m)),h.visualMode&&this.evalInput(m,h)},processOperatorMotion:function(m,h,g){var b=h.visualMode,v=Vr(g.operatorMotionArgs);v&&b&&v.visualLine&&(h.visualLine=!0),this.processOperator(m,h,g),b||this.processMotion(m,h,g)},processAction:function(m,h,g){var b=h.inputState,v=b.getRepeat(),x=!!v,D=Vr(g.actionArgs)||{repeat:1};b.selectedCharacter&&(D.selectedCharacter=b.selectedCharacter),g.operator&&this.processOperator(m,h,g),g.motion&&this.processMotion(m,h,g),(g.motion||g.operator)&&this.evalInput(m,h),D.repeat=v||1,D.repeatIsExplicit=x,D.registerName=b.registerName,yt(m),h.lastMotion=null,g.isEdit&&this.recordLastEdit(h,b,g),we[g.action](m,D,h)},processSearch:function(m,h,g){if(!m.getSearchCursor)return;var b=g.searchArgs.forward,v=g.searchArgs.wholeWordOnly;Bn(m).setReversed(!b);var x=b?"/":"?",D=Bn(m).getQuery(),E=m.getScrollInfo(),$="";function N(he,Be,Te){te.searchHistoryController.pushInput(he),te.searchHistoryController.reset();try{Fa(m,he,Be,Te)}catch{Ye(m,"Invalid regex: "+he),yt(m);return}nr.processMotion(m,h,{keys:"",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:g.searchArgs.toJumplist}})}function L(he){m.scrollTo(E.left,E.top),N(he,!0,!0);var Be=te.macroModeState;Be.isRecording&&Vo(Be,he)}function z(){return ne("pcre")?"(JavaScript regexp: set pcre)":"(Vim regexp: set nopcre)"}function W(he,Be,Te){var _e=br(he),st,Je;_e=="<Up>"||_e=="<Down>"?(st=_e=="<Up>",Je=he.target?he.target.selectionEnd:0,Be=te.searchHistoryController.nextMatch(Be,st)||"",Te(Be),Je&&he.target&&(he.target.selectionEnd=he.target.selectionStart=Math.min(Je,he.target.value.length))):_e&&_e!="<Left>"&&_e!="<Right>"&&te.searchHistoryController.reset(),$=Be,U()}function U(){var he;try{he=Fa(m,$,!0,!0)}catch{}he?m.scrollIntoView(Io(m,!b,he),30):(R(m),m.scrollTo(E.left,E.top))}function X(he,Be,Te){var _e=br(he);_e=="<Esc>"||_e=="<C-c>"||_e=="<C-[>"||_e=="<BS>"&&Be==""?(te.searchHistoryController.pushInput(Be),te.searchHistoryController.reset(),Fa(m,D?.source||""),R(m),m.scrollTo(E.left,E.top),n.e_stop(he),yt(m),Te(),m.focus()):_e=="<Up>"||_e=="<Down>"?n.e_stop(he):_e=="<C-u>"&&(n.e_stop(he),Te(""))}switch(g.searchArgs.querySrc){case"prompt":var re=te.macroModeState;if(re.isPlaying){let Be=re.replaySearchQueries.shift();N(Be||"",!0,!1)}else si(m,{onClose:L,prefix:x,desc:En("span",{$cursor:"pointer",onmousedown:function(Be){Be.preventDefault(),ae("pcre",!ne("pcre")),this.textContent=z(),U()}},z()),onKeyUp:W,onKeyDown:X});break;case"wordUnderCursor":var oe=ia(m,{noSymbol:!0}),xe=!0;if(oe||(oe=ia(m,{noSymbol:!1}),xe=!1),!oe){Ye(m,"No word under cursor"),yt(m);return}let he=m.getLine(oe.start.line).substring(oe.start.ch,oe.end.ch);xe&&v?he="\\b"+he+"\\b":he=ns(he),te.jumpList.cachedCursor=m.getCursor(),m.setCursor(oe.start),N(he,!0,!1);break}},processEx:function(m,h,g){function b(E){te.exCommandHistoryController.pushInput(E),te.exCommandHistoryController.reset(),Ht.processCommand(m,E),m.state.vim&&yt(m),R(m)}function v(E,$,N){var L=br(E),z,W;(L=="<Esc>"||L=="<C-c>"||L=="<C-[>"||L=="<BS>"&&$=="")&&(te.exCommandHistoryController.pushInput($),te.exCommandHistoryController.reset(),n.e_stop(E),yt(m),R(m),N(),m.focus()),L=="<Up>"||L=="<Down>"?(n.e_stop(E),z=L=="<Up>",W=E.target?E.target.selectionEnd:0,$=te.exCommandHistoryController.nextMatch($,z)||"",N($),W&&E.target&&(E.target.selectionEnd=E.target.selectionStart=Math.min(W,E.target.value.length))):L=="<C-u>"?(n.e_stop(E),N("")):L&&L!="<Left>"&&L!="<Right>"&&te.exCommandHistoryController.reset()}function x(E,$){var N=new n.StringStream($),L={};try{if(Ht.parseInput_(m,N,L),L.commandName!="s"){R(m);return}var z=Ht.matchCommand_(L.commandName);if(!z||(Ht.parseCommandArgs_(N,L,z),!L.argString))return;var W=jo(L.argString.slice(1),!0,!0);W&&as(m,W)}catch{}}if(g.type=="keyToEx")Ht.processCommand(m,g.exArgs.input);else{var D={onClose:b,onKeyDown:v,onKeyUp:x,prefix:":"};h.visualMode&&(D.value="'<,'>",D.selectValueOnOpen=!1),si(m,D)}},evalInput:function(m,h){var g=h.inputState,b=g.motion,v=g.motionArgs||{repeat:1},x=g.operator,D=g.operatorArgs||{},E=g.registerName,$=h.sel,N=rt(h.visualMode?Ie(m,$.head):m.getCursor("head")),L=rt(h.visualMode?Ie(m,$.anchor):m.getCursor("anchor")),z=rt(N),W=rt(L),U,X,re;if(x&&this.recordLastEdit(h,g),g.repeatOverride!==void 0?re=g.repeatOverride:re=g.getRepeat(),re>0&&v.explicitRepeat?v.repeatIsExplicit=!0:(v.noRepeat||!v.explicitRepeat&&re===0)&&(re=1,v.repeatIsExplicit=!1),g.selectedCharacter&&(v.selectedCharacter=D.selectedCharacter=g.selectedCharacter),v.repeat=re,yt(m),b){var oe=mn[b](m,N,v,h,g);if(h.lastMotion=mn[b],!oe)return;if(v.toJumplist){var xe=te.jumpList,he=xe.cachedCursor;he?(Ao(m,he,oe),delete xe.cachedCursor):Ao(m,N,oe)}oe instanceof Array?(X=oe[0],U=oe[1]):U=oe,U||(U=rt(N)),h.visualMode?(h.visualBlock&&U.ch===1/0||(U=Ie(m,U,z)),X&&(X=Ie(m,X)),X=X||W,$.anchor=X,$.head=U,ie(m),ar(m,h,"<",Fe(X,U)?X:U),ar(m,h,">",Fe(X,U)?U:X)):x||(U=Ie(m,U,z),m.setCursor(U.line,U.ch))}if(x){if(D.lastSel){X=W;var Be=D.lastSel,Te=Math.abs(Be.head.line-Be.anchor.line),_e=Math.abs(Be.head.ch-Be.anchor.ch);Be.visualLine?U=new e(W.line+Te,W.ch):Be.visualBlock?U=new e(W.line+Te,W.ch+_e):Be.head.line==Be.anchor.line?U=new e(W.line,W.ch+_e):U=new e(W.line+Te,W.ch),h.visualMode=!0,h.visualLine=Be.visualLine,h.visualBlock=Be.visualBlock,$=h.sel={anchor:X,head:U},ie(m)}else h.visualMode&&(D.lastSel={anchor:rt($.anchor),head:rt($.head),visualBlock:h.visualBlock,visualLine:h.visualLine});var st,Je,ze,De,ut;if(h.visualMode){st=at($.head,$.anchor),Je=Ut($.head,$.anchor),ze=h.visualLine||D.linewise,De=h.visualBlock?"block":ze?"line":"char";var an=t(m,st,Je);if(ut=de(m,{anchor:an.start,head:an.end},De),ze){var Ft=ut.ranges;if(De=="block")for(var dn=0;dn<Ft.length;dn++)Ft[dn].head.ch=Mt(m,Ft[dn].head.line);else De=="line"&&(Ft[0].head=new e(Ft[0].head.line+1,0))}}else{if(st=rt(X||W),Je=rt(U||z),Fe(Je,st)){var Xr=st;st=Je,Je=Xr}ze=v.linewise||D.linewise,ze?Or(m,st,Je):v.forward&&rr(m,st,Je),De="char";var Zc=!v.inclusive||ze,an=t(m,st,Je);ut=de(m,{anchor:an.start,head:an.end},De,Zc)}m.setSelections(ut.ranges,ut.primary),h.lastMotion=null,D.repeat=re,D.registerName=E,D.linewise=ze;var ls=We[x](m,D,ut.ranges,W,U);h.visualMode&&He(m,ls!=null),ls&&m.setCursor(ls)}},recordLastEdit:function(m,h,g){var b=te.macroModeState;b.isPlaying||(m.lastEditInputState=h,m.lastEditActionCommand=g,b.lastInsertModeChanges.changes=[],b.lastInsertModeChanges.expectCursorActivityForChange=!1,b.lastInsertModeChanges.visualBlock=m.visualBlock?m.sel.head.line-m.sel.anchor.line:0)}},mn={moveToTopLine:function(m,h,g){var b=kr(m).top+g.repeat-1;return new e(b,rn(m.getLine(b)))},moveToMiddleLine:function(m){var h=kr(m),g=Math.floor((h.top+h.bottom)*.5);return new e(g,rn(m.getLine(g)))},moveToBottomLine:function(m,h,g){var b=kr(m).bottom-g.repeat+1;return new e(b,rn(m.getLine(b)))},expandToLine:function(m,h,g){var b=h;return new e(b.line+g.repeat-1,1/0)},findNext:function(m,h,g){var b=Bn(m),v=b.getQuery();if(v){var x=!g.forward;x=b.isReversed()?!x:x,as(m,v);var D=Io(m,x,v,g.repeat);return D||Ye(m,"No match found "+v+(ne("pcre")?" (set nopcre to use Vim regexps)":"")),D}},findAndSelectNextInclusive:function(m,h,g,b,v){var x=Bn(m),D=x.getQuery();if(D){var E=!g.forward;E=x.isReversed()?!E:E;var $=jc(m,E,D,g.repeat,b);if($){if(v.operator)return $;var N=$[0],L=new e($[1].line,$[1].ch-1);if(b.visualMode){(b.visualLine||b.visualBlock)&&(b.visualLine=!1,b.visualBlock=!1,n.signal(m,"vim-mode-change",{mode:"visual",subMode:""}));var z=b.sel.anchor;if(z)return x.isReversed()?g.forward?[z,N]:[z,L]:g.forward?[z,L]:[z,N]}else b.visualMode=!0,b.visualLine=!1,b.visualBlock=!1,n.signal(m,"vim-mode-change",{mode:"visual",subMode:""});return E?[L,N]:[N,L]}}},goToMark:function(m,h,g,b){var v=Yt(m,b,g.selectedCharacter||"");return v?g.linewise?{line:v.line,ch:rn(m.getLine(v.line))}:v:null},moveToOtherHighlightedEnd:function(m,h,g,b){var v=b.sel;return b.visualBlock&&g.sameLine?[Ie(m,new e(v.anchor.line,v.head.ch)),Ie(m,new e(v.head.line,v.anchor.ch))]:[v.head,v.anchor]},jumpToMark:function(m,h,g,b){for(var v=h,x=0;x<g.repeat;x++){var D=v;for(var E in b.marks)if(G(E)){var $=b.marks[E].find(),N=g.forward?Fe($,D):Fe(D,$);if(!N&&!(g.linewise&&$.line==D.line)){var L=Gt(D,v),z=g.forward?qr(D,$,v):qr(v,$,D);(L||z)&&(v=$)}}}return g.linewise&&(v=new e(v.line,rn(m.getLine(v.line)))),v},moveByCharacters:function(m,h,g){var b=h,v=g.repeat,x=g.forward?b.ch+v:b.ch-v;return new e(b.line,x)},moveByLines:function(m,h,g,b){var v=h,x=v.ch;switch(b.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:x=b.lastHPos;break;default:b.lastHPos=x}var D=g.repeat+(g.repeatOffset||0),E=g.forward?v.line+D:v.line-D,$=m.firstLine(),N=m.lastLine(),L=m.findPosV(v,g.forward?D:-D,"line",b.lastHSPos),z=g.forward?L.line>E:L.line<E;return z&&(E=L.line,x=L.ch),E<$&&v.line==$?this.moveToStartOfLine(m,h,g,b):E>N&&v.line==N?Bo(m,h,g,b,!0):(g.toFirstChar&&(x=rn(m.getLine(E)),b.lastHPos=x),b.lastHSPos=m.charCoords(new e(E,x),"div").left,new e(E,x))},moveByDisplayLines:function(m,h,g,b){var v=h;switch(b.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:b.lastHSPos=m.charCoords(v,"div").left}var x=g.repeat,D=m.findPosV(v,g.forward?x:-x,"line",b.lastHSPos);if(D.hitSide)if(g.forward){var E=m.charCoords(D,"div"),$={top:E.top+8,left:b.lastHSPos};D=m.coordsChar($,"div")}else{var N=m.charCoords(new e(m.firstLine(),0),"div");N.left=b.lastHSPos,D=m.coordsChar(N,"div")}return b.lastHPos=D.ch,D},moveByPage:function(m,h,g){var b=h,v=g.repeat;return m.findPosV(b,g.forward?v:-v,"page")},moveByParagraph:function(m,h,g){var b=g.forward?1:-1;return Eo(m,h,g.repeat,b).start},moveBySentence:function(m,h,g){var b=g.forward?1:-1;return Mc(m,h,g.repeat,b)},moveByScroll:function(m,h,g,b){var v=m.getScrollInfo(),x=null,D=g.repeat;D||(D=v.clientHeight/(2*m.defaultTextHeight()));var E=m.charCoords(h,"local");if(g.repeat=D,x=mn.moveByDisplayLines(m,h,g,b),!x)return null;var $=m.charCoords(x,"local");return m.scrollTo(null,v.top+$.top-E.top),x},moveByWords:function(m,h,g){return Cc(m,h,g.repeat,!!g.forward,!!g.wordEnd,!!g.bigWord)},moveTillCharacter:function(m,h,g){var b=g.repeat,v=rs(m,b,g.forward,g.selectedCharacter,h),x=g.forward?-1:1;return So(x,g),v?(v.ch+=x,v):null},moveToCharacter:function(m,h,g){var b=g.repeat;return So(0,g),rs(m,b,g.forward,g.selectedCharacter,h)||h},moveToSymbol:function(m,h,g){var b=g.repeat;return g.selectedCharacter&&wc(m,b,g.forward,g.selectedCharacter)||h},moveToColumn:function(m,h,g,b){var v=g.repeat;return b.lastHPos=v-1,b.lastHSPos=m.charCoords(h,"div").left,Ac(m,v)},moveToEol:function(m,h,g,b){return Bo(m,h,g,b,!1)},moveToFirstNonWhiteSpaceCharacter:function(m,h){var g=h;return new e(g.line,rn(m.getLine(g.line)))},moveToMatchedSymbol:function(m,h){for(var g=h,b=g.line,v=g.ch,x=m.getLine(b),D;v<x.length;v++)if(D=x.charAt(v),D&&I(D)){var E=m.getTokenTypeAt(new e(b,v+1));if(E!=="string"&&E!=="comment")break}if(v<x.length){var $=D==="<"||D===">"?/[(){}[\]<>]/:/[(){}[\]]/,N=m.findMatchingBracket(new e(b,v),{bracketRegex:$});return N.to}else return g},moveToStartOfLine:function(m,h){return new e(h.line,0)},moveToLineOrEdgeOfDocument:function(m,h,g){var b=g.forward?m.lastLine():m.firstLine();return g.repeatIsExplicit&&(b=g.repeat-m.getOption("firstLineNumber")),new e(b,rn(m.getLine(b)))},moveToStartOfDisplayLine:function(m){return m.execCommand("goLineLeft"),m.getCursor()},moveToEndOfDisplayLine:function(m){m.execCommand("goLineRight");var h=m.getCursor();return h.sticky=="before"&&h.ch--,h},textObjectManipulation:function(m,h,g,b){var v={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},x={"'":!0,'"':!0,"`":!0},D=g.selectedCharacter||"";D=="b"?D="(":D=="B"&&(D="{");var E=!g.textObjectInner,$,N;if(v[D]){if(N=!0,$=$o(m,h,D,E),!$){var L=m.getSearchCursor(new RegExp("\\"+D,"g"),h);L.find()&&($=$o(m,L.from(),D,E))}}else if(x[D])N=!0,$=Dc(m,h,D,E);else if(D==="W"||D==="w")for(var z=g.repeat||1;z-- >0;){var W=ia(m,{inclusive:E,innerWord:!E,bigWord:D==="W",noSymbol:D==="W",multiline:!0},$&&$.end);W&&($||($=W),$.end=W.end)}else if(D==="p")if($=Eo(m,h,g.repeat,0,E),g.linewise=!0,b.visualMode)b.visualLine||(b.visualLine=!0);else{var U=b.inputState.operatorArgs;U&&(U.linewise=!0),$.end.line--}else if(D==="t")$=hn(m,h,E);else if(D==="s"){var X=m.getLine(h.line);h.ch>0&&Y(X[h.ch])&&(h.ch-=1);var re=Fo(m,h,g.repeat,1,E),oe=Fo(m,h,g.repeat,-1,E);V(m.getLine(oe.line)[oe.ch])&&V(m.getLine(re.line)[re.ch-1])&&(oe={line:oe.line,ch:oe.ch+1}),$={start:oe,end:re}}return $?m.state.vim.visualMode?ee(m,$.start,$.end,N):[$.start,$.end]:null},repeatLastCharacterSearch:function(m,h,g){var b=te.lastCharacterSearch,v=g.repeat,x=g.forward===b.forward,D=(b.increment?1:0)*(x?-1:1);m.moveH(-D,"char"),g.inclusive=!!x;var E=rs(m,v,x,b.selectedCharacter);return E?(E.ch+=D,E):(m.moveH(D,"char"),h)}};function ai(m,h){mn[m]=h}function Ba(m,h){for(var g=[],b=0;b<h;b++)g.push(m);return g}var We={change:function(m,h,g){var b,v,x=m.state.vim,D=g[0].anchor,E=g[0].head;if(x.visualMode)if(h.fullLine)E.ch=Number.MAX_VALUE,E.line--,m.setSelection(D,E),v=m.getSelection(),m.replaceSelection(""),b=D;else{v=m.getSelection();var L=Ba("",g.length);m.replaceSelections(L),b=at(g[0].head,g[0].anchor)}else{v=m.getRange(D,E);var $=x.lastEditInputState;if($?.motion=="moveByWords"&&!V(v)){var N=/\s+$/.exec(v);N&&$.motionArgs&&$.motionArgs.forward&&(E=Ot(E,0,-N[0].length),v=v.slice(0,-N[0].length))}h.linewise&&(D=new e(D.line,rn(m.getLine(D.line))),E.line>D.line&&(E=new e(E.line-1,Number.MAX_VALUE))),m.replaceRange("",D,E),b=D}te.registerController.pushText(h.registerName,"change",v,h.linewise,g.length>1),we.enterInsertMode(m,{head:b},m.state.vim)},delete:function(m,h,g){var b,v,x=m.state.vim;if(x.visualBlock){v=m.getSelection();var $=Ba("",g.length);m.replaceSelections($),b=at(g[0].head,g[0].anchor)}else{var D=g[0].anchor,E=g[0].head;h.linewise&&E.line!=m.firstLine()&&D.line==m.lastLine()&&D.line==E.line-1&&(D.line==m.firstLine()?D.ch=0:D=new e(D.line-1,Mt(m,D.line-1))),v=m.getRange(D,E),m.replaceRange("",D,E),b=D,h.linewise&&(b=mn.moveToFirstNonWhiteSpaceCharacter(m,D))}return te.registerController.pushText(h.registerName,"delete",v,h.linewise,x.visualBlock),Ie(m,b)},indent:function(m,h,g){var b=m.state.vim,v=b.visualMode&&h.repeat||1;if(b.visualBlock){for(var x=m.getOption("tabSize"),D=m.getOption("indentWithTabs")?"	":" ".repeat(x),E,$=g.length-1;$>=0;$--)if(E=at(g[$].anchor,g[$].head),h.indentRight)m.replaceRange(D.repeat(v),E,E);else{for(var N=m.getLine(E.line),L=0,z=0;z<v;z++){var W=N[E.ch+L];if(W=="	")L++;else if(W==" "){L++;for(var U=1;U<D.length&&(W=N[E.ch+L],W===" ");U++)L++}else break}m.replaceRange("",E,Ot(E,0,L))}return E}else if(m.indentMore)for(var z=0;z<v;z++)h.indentRight?m.indentMore():m.indentLess();else{var X=g[0].anchor.line,re=b.visualBlock?g[g.length-1].anchor.line:g[0].head.line;h.linewise&&re--;for(var $=X;$<=re;$++)for(var z=0;z<v;z++)m.indentLine($,h.indentRight)}return mn.moveToFirstNonWhiteSpaceCharacter(m,g[0].anchor)},indentAuto:function(m,h,g){return m.execCommand("indentAuto"),mn.moveToFirstNonWhiteSpaceCharacter(m,g[0].anchor)},hardWrap:function(m,h,g,b){if(m.hardWrap){var v=g[0].anchor.line,x=g[0].head.line;h.linewise&&x--;var D=m.hardWrap({from:v,to:x});return D>v&&h.linewise&&D--,h.keepCursor?b:new e(D,0)}},changeCase:function(m,h,g,b,v){for(var x=m.getSelections(),D=[],E=h.toLower,$=0;$<x.length;$++){var N=x[$],L="";if(E===!0)L=N.toLowerCase();else if(E===!1)L=N.toUpperCase();else for(var z=0;z<N.length;z++){var W=N.charAt(z);L+=Z(W)?W.toLowerCase():W.toUpperCase()}D.push(L)}return m.replaceSelections(D),h.shouldMoveCursor?v:!m.state.vim.visualMode&&h.linewise&&g[0].anchor.line+1==g[0].head.line?mn.moveToFirstNonWhiteSpaceCharacter(m,b):h.linewise?b:at(g[0].anchor,g[0].head)},yank:function(m,h,g,b){var v=m.state.vim,x=m.getSelection(),D=v.visualMode?at(v.sel.anchor,v.sel.head,g[0].head,g[0].anchor):b;return te.registerController.pushText(h.registerName,"yank",x,h.linewise,v.visualBlock),D},rot13:function(m,h,g,b,v){for(var x=m.getSelections(),D=[],E=0;E<x.length;E++){const $=x[E].split("").map(N=>{const L=N.charCodeAt(0);return L>=65&&L<=90?String.fromCharCode(65+(L-65+13)%26):L>=97&&L<=122?String.fromCharCode(97+(L-97+13)%26):N}).join("");D.push($)}return m.replaceSelections(D),h.shouldMoveCursor?v:!m.state.vim.visualMode&&h.linewise&&g[0].anchor.line+1==g[0].head.line?mn.moveToFirstNonWhiteSpaceCharacter(m,b):h.linewise?b:at(g[0].anchor,g[0].head)}};function St(m,h){We[m]=h}var we={jumpListWalk:function(m,h,g){if(!g.visualMode){var b=h.repeat||1,v=h.forward,x=te.jumpList,D=x.move(m,v?b:-b),E=D?D.find():void 0;E=E||m.getCursor(),m.setCursor(E)}},scroll:function(m,h,g){if(!g.visualMode){var b=h.repeat||1,v=m.defaultTextHeight(),x=m.getScrollInfo().top,D=v*b,E=h.forward?x+D:x-D,$=rt(m.getCursor()),N=m.charCoords($,"local");if(h.forward)E>N.top?($.line+=(E-N.top)/v,$.line=Math.ceil($.line),m.setCursor($),N=m.charCoords($,"local"),m.scrollTo(null,N.top)):m.scrollTo(null,E);else{var L=E+m.getScrollInfo().clientHeight;L<N.bottom?($.line-=(N.bottom-L)/v,$.line=Math.floor($.line),m.setCursor($),N=m.charCoords($,"local"),m.scrollTo(null,N.bottom-m.getScrollInfo().clientHeight)):m.scrollTo(null,E)}}},scrollToCursor:function(m,h){var g=m.getCursor().line,b=m.charCoords(new e(g,0),"local"),v=m.getScrollInfo().clientHeight,x=b.top;switch(h.position){case"center":x=b.bottom-v/2;break;case"bottom":var D=new e(g,m.getLine(g).length-1),E=m.charCoords(D,"local"),$=E.bottom-x;x=x-v+$;break}m.scrollTo(null,x)},replayMacro:function(m,h,g){var b=h.selectedCharacter||"",v=h.repeat||1,x=te.macroModeState;for(b=="@"?b=x.latestRegister||"":x.latestRegister=b;v--;)ss(m,g,x,b)},enterMacroRecordMode:function(m,h){var g=te.macroModeState,b=h.selectedCharacter;te.registerController.isValidRegister(b)&&g.enterMacroRecordMode(m,b)},toggleOverwrite:function(m){m.state.overwrite?(m.toggleOverwrite(!1),m.setOption("keyMap","vim-insert"),n.signal(m,"vim-mode-change",{mode:"insert"})):(m.toggleOverwrite(!0),m.setOption("keyMap","vim-replace"),n.signal(m,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(m,h,g){if(!m.getOption("readOnly")){g.insertMode=!0,g.insertModeRepeat=h&&h.repeat||1;var b=h?h.insertAt:null,v=g.sel,x=h.head||m.getCursor("head"),D=m.listSelections().length;if(b=="eol")x=new e(x.line,Mt(m,x.line));else if(b=="bol")x=new e(x.line,0);else if(b=="charAfter"){var E=t(m,x,Ot(x,0,1));x=E.end}else if(b=="firstNonBlank"){var E=t(m,x,mn.moveToFirstNonWhiteSpaceCharacter(m,x));x=E.end}else if(b=="startOfSelectedArea"){if(!g.visualMode)return;g.visualBlock?(x=new e(Math.min(v.head.line,v.anchor.line),Math.min(v.head.ch,v.anchor.ch)),D=Math.abs(v.head.line-v.anchor.line)+1):v.head.line<v.anchor.line?x=v.head:x=new e(v.anchor.line,0)}else if(b=="endOfSelectedArea"){if(!g.visualMode)return;g.visualBlock?(x=new e(Math.min(v.head.line,v.anchor.line),Math.max(v.head.ch,v.anchor.ch)+1),D=Math.abs(v.head.line-v.anchor.line)+1):v.head.line>=v.anchor.line?x=Ot(v.head,0,1):x=new e(v.anchor.line,0)}else if(b=="inplace"){if(g.visualMode)return}else b=="lastEdit"&&(x=Qa(m)||x);m.setOption("disableInput",!1),h&&h.replace?(m.toggleOverwrite(!0),m.setOption("keyMap","vim-replace"),n.signal(m,"vim-mode-change",{mode:"replace"})):(m.toggleOverwrite(!1),m.setOption("keyMap","vim-insert"),n.signal(m,"vim-mode-change",{mode:"insert"})),te.macroModeState.isPlaying||(m.on("change",In),g.insertEnd&&g.insertEnd.clear(),g.insertEnd=m.setBookmark(x,{insertLeft:!0}),n.on(m.getInputField(),"keydown",Wo)),g.visualMode&&He(m),C(m,x,D)}},toggleVisualMode:function(m,h,g){var b=h.repeat,v=m.getCursor(),x;if(g.visualMode)g.visualLine!=!!h.linewise||g.visualBlock!=!!h.blockwise?(g.visualLine=!!h.linewise,g.visualBlock=!!h.blockwise,n.signal(m,"vim-mode-change",{mode:"visual",subMode:g.visualLine?"linewise":g.visualBlock?"blockwise":""}),ie(m)):He(m);else{g.visualMode=!0,g.visualLine=!!h.linewise,g.visualBlock=!!h.blockwise,x=Ie(m,new e(v.line,v.ch+b-1));var D=t(m,v,x);g.sel={anchor:D.start,head:D.end},n.signal(m,"vim-mode-change",{mode:"visual",subMode:g.visualLine?"linewise":g.visualBlock?"blockwise":""}),ie(m),ar(m,g,"<",at(v,x)),ar(m,g,">",Ut(v,x))}},reselectLastSelection:function(m,h,g){var b=g.lastSelection;if(g.visualMode&&H(m,g),b){var v=b.anchorMark.find(),x=b.headMark.find();if(!v||!x)return;g.sel={anchor:v,head:x},g.visualMode=!0,g.visualLine=b.visualLine,g.visualBlock=b.visualBlock,ie(m),ar(m,g,"<",at(v,x)),ar(m,g,">",Ut(v,x)),n.signal(m,"vim-mode-change",{mode:"visual",subMode:g.visualLine?"linewise":g.visualBlock?"blockwise":""})}},joinLines:function(m,h,g){var b,v;if(g.visualMode){if(b=m.getCursor("anchor"),v=m.getCursor("head"),Fe(v,b)){var x=v;v=b,b=x}v.ch=Mt(m,v.line)-1}else{var D=Math.max(h.repeat,2);b=m.getCursor(),v=Ie(m,new e(b.line+D-1,1/0))}for(var E=0,$=b.line;$<v.line;$++){E=Mt(m,b.line);var N="",L=0;if(!h.keepSpaces){var z=m.getLine(b.line+1);L=z.search(/\S/),L==-1?L=z.length:N=" "}m.replaceRange(N,new e(b.line,E),new e(b.line+1,L))}var W=Ie(m,new e(b.line,E));g.visualMode&&He(m,!1),m.setCursor(W)},newLineAndEnterInsertMode:function(m,h,g){g.insertMode=!0;var b=rt(m.getCursor());if(b.line===m.firstLine()&&!h.after)m.replaceRange(`
`,new e(m.firstLine(),0)),m.setCursor(m.firstLine(),0);else{b.line=h.after?b.line:b.line-1,b.ch=Mt(m,b.line),m.setCursor(b);var v=n.commands.newlineAndIndentContinueComment||n.commands.newlineAndIndent;v(m)}this.enterInsertMode(m,{repeat:h.repeat},g)},paste:function(m,h,g){var b=te.registerController.getRegister(h.registerName);if(h.registerName==="+")navigator.clipboard.readText().then(x=>{this.continuePaste(m,h,g,x,b)});else{var v=b.toString();this.continuePaste(m,h,g,v,b)}},continuePaste:function(m,h,g,b,v){var x=rt(m.getCursor());if(b){if(h.matchIndent){var D=m.getOption("tabSize"),E=function(Ft){var dn=Ft.split("	").length-1,Xr=Ft.split(" ").length-1;return dn*D+Xr*1},$=m.getLine(m.getCursor().line),N=E($.match(/^\s*/)[0]),L=b.replace(/\n$/,""),z=b!==L,W=E(b.match(/^\s*/)[0]),b=L.replace(/^\s*/gm,function(Ft){var dn=N+(E(Ft)-W);if(dn<0)return"";if(m.getOption("indentWithTabs")){var Xr=Math.floor(dn/D);return Array(Xr+1).join("	")}else return Array(dn+1).join(" ")});b+=z?`
`:""}h.repeat>1&&(b=Array(h.repeat+1).join(b));var U=v.linewise,X=v.blockwise,re=X?b.split(`
`):void 0;if(re){U&&re.pop();for(var oe=0;oe<re.length;oe++)re[oe]=re[oe]==""?" ":re[oe];x.ch+=h.after?1:0,x.ch=Math.min(Mt(m,x.line),x.ch)}else U?g.visualMode?b=g.visualLine?b.slice(0,-1):`
`+b.slice(0,b.length-1)+`
`:h.after?(b=`
`+b.slice(0,b.length-1),x.ch=Mt(m,x.line)):x.ch=0:x.ch+=h.after?1:0;var xe;if(g.visualMode){g.lastPastedText=b;var he,Be=_(m),Te=Be[0],_e=Be[1],st=m.getSelection(),Je=m.listSelections(),ze=new Array(Je.length).join("1").split("1");g.lastSelection&&(he=g.lastSelection.headMark.find()),te.registerController.unnamedRegister.setText(st),X?(m.replaceSelections(ze),_e=new e(Te.line+b.length-1,Te.ch),m.setCursor(Te),S(m,_e),m.replaceSelections(b),xe=Te):g.visualBlock?(m.replaceSelections(ze),m.setCursor(Te),m.replaceRange(b,Te,Te),xe=Te):(m.replaceRange(b,Te,_e),xe=m.posFromIndex(m.indexFromPos(Te)+b.length-1)),he&&(g.lastSelection.headMark=m.setBookmark(he)),U&&(xe.ch=0)}else if(X&&re){m.setCursor(x);for(var oe=0;oe<re.length;oe++){var De=x.line+oe;De>m.lastLine()&&m.replaceRange(`
`,new e(De,0));var ut=Mt(m,De);ut<x.ch&&O(m,De,x.ch)}m.setCursor(x),S(m,new e(x.line+re.length-1,x.ch)),m.replaceSelections(re),xe=x}else if(m.replaceRange(b,x),U){var De=h.after?x.line+1:x.line;xe=new e(De,rn(m.getLine(De)))}else xe=rt(x),/\n/.test(b)||(xe.ch+=b.length-(h.after?1:0));g.visualMode&&He(m,!1),m.setCursor(xe)}},undo:function(m,h){m.operation(function(){kt(m,n.commands.undo,h.repeat)(),m.setCursor(Ie(m,m.getCursor("start")))})},redo:function(m,h){kt(m,n.commands.redo,h.repeat)()},setRegister:function(m,h,g){g.inputState.registerName=h.selectedCharacter},insertRegister:function(m,h,g){var b=h.selectedCharacter,v=te.registerController.getRegister(b),x=v&&v.toString();x&&m.replaceSelection(x)},oneNormalCommand:function(m,h,g){Qe(m,!0),g.insertModeReturn=!0,n.on(m,"vim-command-done",function b(){g.visualMode||(g.insertModeReturn&&(g.insertModeReturn=!1,g.insertMode||we.enterInsertMode(m,{},g)),n.off(m,"vim-command-done",b))})},setMark:function(m,h,g){var b=h.selectedCharacter;b&&ar(m,g,b,m.getCursor())},replace:function(m,h,g){var b=h.selectedCharacter||"",v=m.getCursor(),x,D,E=m.listSelections();if(g.visualMode)v=m.getCursor("start"),D=m.getCursor("end");else{var $=m.getLine(v.line);x=v.ch+h.repeat,x>$.length&&(x=$.length),D=new e(v.line,x)}var N=t(m,v,D);if(v=N.start,D=N.end,b==`
`)g.visualMode||m.replaceRange("",v,D),(n.commands.newlineAndIndentContinueComment||n.commands.newlineAndIndent)(m);else{var L=m.getRange(v,D);if(L=L.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b),L=L.replace(/[^\n]/g,b),g.visualBlock){var z=new Array(m.getOption("tabSize")+1).join(" ");L=m.getSelection(),L=L.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b);var W=L.replace(/\t/g,z).replace(/[^\n]/g,b).split(`
`);m.replaceSelections(W)}else m.replaceRange(L,v,D);g.visualMode?(v=Fe(E[0].anchor,E[0].head)?E[0].anchor:E[0].head,m.setCursor(v),He(m,!1)):m.setCursor(Ot(D,0,-1))}},incrementNumberToken:function(m,h){for(var g=m.getCursor(),b=m.getLine(g.line),v=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,x,D,E,$;(x=v.exec(b))!==null&&(D=x.index,E=D+x[0].length,!(g.ch<E)););if(!(!h.backtrack&&E<=g.ch)){if(x){var N=x[2]||x[4],L=x[3]||x[5],z=h.increase?1:-1,W={"0b":2,0:8,"":10,"0x":16}[N.toLowerCase()],U=parseInt(x[1]+L,W)+z*h.repeat;$=U.toString(W);var X=N?new Array(L.length-$.length+1+x[1].length).join("0"):"";$.charAt(0)==="-"?$="-"+N+X+$.substr(1):$=N+X+$;var re=new e(g.line,D),oe=new e(g.line,E);m.replaceRange($,re,oe)}else return;m.setCursor(new e(g.line,D+$.length-1))}},repeatLastEdit:function(m,h,g){var b=g.lastEditInputState;if(b){var v=h.repeat;v&&h.repeatIsExplicit?b.repeatOverride=v:v=b.repeatOverride||v,zo(m,g,v,!1)}},indent:function(m,h){m.indentLine(m.getCursor().line,h.indentRight)},exitInsertMode:function(m,h){Qe(m)}};function Et(m,h){we[m]=h}function Ie(m,h,g){var b=m.state.vim,v=b.insertMode||b.visualMode,x=Math.min(Math.max(m.firstLine(),h.line),m.lastLine()),D=m.getLine(x),E=D.length-1+ +!!v,$=Math.min(Math.max(0,h.ch),E),N=D.charCodeAt($);if(56320<=N&&N<=57343){var L=1;g&&g.line==x&&g.ch>$&&(L=-1),$+=L,$>E&&($-=2)}return new e(x,$)}function Vr(m){var h={};for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(h[g]=m[g]);return h}function Ot(m,h,g){return typeof h=="object"&&(g=h.ch,h=h.line),new e(m.line+h,m.ch+g)}function Dn(m,h,g,b){b.operator&&(g="operatorPending");for(var v,x=[],D=[],E=Bt?h.length-i:0,$=E;$<h.length;$++){var N=h[$];g=="insert"&&N.context!="insert"||N.context&&N.context!=g||b.operator&&N.type=="action"||!(v=ii(m,N.keys))||(v=="partial"&&x.push(N),v=="full"&&D.push(N))}return{partial:x,full:D}}function ii(m,h){const g=h.slice(-11)=="<character>",b=h.slice(-10)=="<register>";if(g||b){var v=h.length-(g?11:10),x=m.slice(0,v),D=h.slice(0,v);return x==D&&m.length>v?"full":D.indexOf(x)==0?"partial":!1}else return m==h?"full":h.indexOf(m)==0?"partial":!1}function yr(m){var h=/^.*(<[^>]+>)$/.exec(m),g=h?h[1]:m.slice(-1);if(g.length>1)switch(g){case"<CR>":case"<S-CR>":g=`
`;break;case"<Space>":case"<S-Space>":g=" ";break;default:g="";break}return g}function kt(m,h,g){return function(){for(var b=0;b<g;b++)h(m)}}function rt(m){return new e(m.line,m.ch)}function Gt(m,h){return m.ch==h.ch&&m.line==h.line}function Fe(m,h){return m.line<h.line||m.line==h.line&&m.ch<h.ch}function at(m,h){return arguments.length>2&&(h=at.apply(void 0,Array.prototype.slice.call(arguments,1))),Fe(m,h)?m:h}function Ut(m,h){return arguments.length>2&&(h=Ut.apply(void 0,Array.prototype.slice.call(arguments,1))),Fe(m,h)?h:m}function qr(m,h,g){var b=Fe(m,h),v=Fe(h,g);return b&&v}function Mt(m,h){return m.getLine(h).length}function Ea(m){return m.trim?m.trim():m.replace(/^\s+|\s+$/g,"")}function ns(m){return m.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function O(m,h,g){var b=Mt(m,h),v=new Array(g-b+1).join(" ");m.setCursor(new e(h,b)),m.replaceRange(v,m.getCursor())}function S(m,h){var g=[],b=m.listSelections(),v=rt(m.clipPos(h)),x=!Gt(h,v),D=m.getCursor("head"),E=M(b,D),$=Gt(b[E].head,b[E].anchor),N=b.length-1,L=N-E>E?N:0,z=b[L].anchor,W=Math.min(z.line,v.line),U=Math.max(z.line,v.line),X=z.ch,re=v.ch,oe=b[L].head.ch-X,xe=re-X;oe>0&&xe<=0?(X++,x||re--):oe<0&&xe>=0?(X--,$||re++):oe<0&&xe==-1&&(X--,re++);for(var he=W;he<=U;he++){var Be={anchor:new e(he,X),head:new e(he,re)};g.push(Be)}return m.setSelections(g),h.ch=re,z.ch=X,z}function C(m,h,g){for(var b=[],v=0;v<g;v++){var x=Ot(h,v,0);b.push({anchor:x,head:x})}m.setSelections(b,0)}function M(m,h,g){for(var b=0;b<m.length;b++){var v=Gt(m[b].anchor,h),x=Gt(m[b].head,h);if(v||x)return b}return-1}function _(m,h){var g=m.listSelections(),b=g[0],v=g[g.length-1],x=Fe(b.anchor,b.head)?b.anchor:b.head,D=Fe(v.anchor,v.head)?v.head:v.anchor;return[x,D]}function H(m,h){var g=h.sel.anchor,b=h.sel.head;h.lastPastedText&&(b=m.posFromIndex(m.indexFromPos(g)+h.lastPastedText.length),h.lastPastedText=void 0),h.lastSelection={anchorMark:m.setBookmark(g),headMark:m.setBookmark(b),anchor:rt(g),head:rt(b),visualMode:h.visualMode,visualLine:h.visualLine,visualBlock:h.visualBlock}}function ee(m,h,g,b){var v=m.state.vim.sel,x=b?h:v.head,D=b?h:v.anchor,E;return Fe(g,h)&&(E=g,g=h,h=E),Fe(x,D)?(x=at(h,x),D=Ut(D,g)):(D=at(h,D),x=Ut(x,g),x=Ot(x,0,-1),x.ch==-1&&x.line!=m.firstLine()&&(x=new e(x.line-1,Mt(m,x.line-1)))),[D,x]}function ie(m,h,g){var b=m.state.vim;h=h||b.sel,g||(g=b.visualLine?"line":b.visualBlock?"block":"char");var v=de(m,h,g);m.setSelections(v.ranges,v.primary)}function de(m,h,g,b){var v=rt(h.head),x=rt(h.anchor);if(g=="char"){var D=!b&&!Fe(h.head,h.anchor)?1:0,E=Fe(h.head,h.anchor)?1:0;return v=Ot(h.head,0,D),x=Ot(h.anchor,0,E),{ranges:[{anchor:x,head:v}],primary:0}}else if(g=="line"){if(Fe(h.head,h.anchor))v.ch=0,x.ch=Mt(m,x.line);else{x.ch=0;var $=m.lastLine();v.line>$&&(v.line=$),v.ch=Mt(m,v.line)}return{ranges:[{anchor:x,head:v}],primary:0}}else if(g=="block"){var N=Math.min(x.line,v.line),L=x.ch,z=Math.max(x.line,v.line),W=v.ch;L<W?W+=1:L+=1;for(var U=z-N+1,X=v.line==N?0:U-1,re=[],oe=0;oe<U;oe++)re.push({anchor:new e(N+oe,L),head:new e(N+oe,W)});return{ranges:re,primary:X}}throw"never happens"}function Ne(m){var h=m.getCursor("head");return m.getSelection().length==1&&(h=at(h,m.getCursor("anchor"))),h}function He(m,h){var g=m.state.vim;h!==!1&&m.setCursor(Ie(m,g.sel.head)),H(m,g),g.visualMode=!1,g.visualLine=!1,g.visualBlock=!1,g.insertMode||n.signal(m,"vim-mode-change",{mode:"normal"})}function rr(m,h,g){var b=m.getRange(h,g);if(/\n\s*$/.test(b)){var v=b.split(`
`);v.pop();for(var x=v.pop();v.length>0&&x&&V(x);x=v.pop())g.line--,g.ch=0;x?(g.line--,g.ch=Mt(m,g.line)):g.ch=0}}function Or(m,h,g){h.ch=0,g.ch=0,g.line++}function rn(m){if(!m)return 0;var h=m.search(/\S/);return h==-1?m.length:h}function ia(m,{inclusive:h,innerWord:g,bigWord:b,noSymbol:v,multiline:x},D){var E=D||Ne(m),$=m.getLine(E.line),N=$,L=E.line,z=L,W=E.ch,U,X=v?f[0]:y[0];if(g&&/\s/.test($.charAt(W)))X=function(Te){return/\s/.test(Te)};else{for(;!X($.charAt(W));)if(W++,W>=$.length){if(!x)return null;W--,U=Do(m,E,!0,b,!0);break}b?X=y[0]:(X=f[0],X($.charAt(W))||(X=f[1]))}for(var re=W,oe=W;X($.charAt(oe))&&oe>=0;)oe--;if(oe++,U)re=U.to,z=U.line,N=m.getLine(z),!N&&re==0&&re++;else for(;X($.charAt(re))&&re<$.length;)re++;if(h){var xe=re,he=E.ch<=oe&&/\s/.test($.charAt(E.ch));if(!he)for(;/\s/.test(N.charAt(re))&&re<N.length;)re++;if(xe==re||he){for(var Be=oe;/\s/.test($.charAt(oe-1))&&oe>0;)oe--;!oe&&!he&&(oe=Be)}}return{start:new e(L,oe),end:new e(z,re)}}function hn(m,h,g){var b=h;if(!n.findMatchingTag||!n.findEnclosingTag)return{start:b,end:b};var v=n.findMatchingTag(m,h)||n.findEnclosingTag(m,h);return!v||!v.open||!v.close?{start:b,end:b}:g?{start:v.open.from,end:v.close.to}:{start:v.open.to,end:v.close.from}}function Ao(m,h,g){Gt(h,g)||te.jumpList.add(m,h,g)}function So(m,h){te.lastCharacterSearch.increment=m,te.lastCharacterSearch.forward=h.forward,te.lastCharacterSearch.selectedCharacter=h.selectedCharacter}var Pc={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},Mo={bracket:{isComplete:function(m){if(m.nextCh===m.symb){if(m.depth++,m.depth>=1)return!0}else m.nextCh===m.reverseSymb&&m.depth--;return!1}},section:{init:function(m){m.curMoveThrough=!0,m.symb=(m.forward?"]":"[")===m.symb?"{":"}"},isComplete:function(m){return m.index===0&&m.nextCh===m.symb}},comment:{isComplete:function(m){var h=m.lastCh==="*"&&m.nextCh==="/";return m.lastCh=m.nextCh,h}},method:{init:function(m){m.symb=m.symb==="m"?"{":"}",m.reverseSymb=m.symb==="{"?"}":"{"},isComplete:function(m){return m.nextCh===m.symb}},preprocess:{init:function(m){m.index=0},isComplete:function(m){if(m.nextCh==="#"){var h=m.lineText.match(/^#(\w+)/)?.[1];if(h==="endif"){if(m.forward&&m.depth===0)return!0;m.depth++}else if(h==="if"){if(!m.forward&&m.depth===0)return!0;m.depth--}if(h==="else"&&m.depth===0)return!0}return!1}}};function wc(m,h,g,b){var v=rt(m.getCursor()),x=g?1:-1,D=g?m.lineCount():-1,E=v.ch,$=v.line,N=m.getLine($),L={lineText:N,nextCh:N.charAt(E),lastCh:null,index:E,symb:b,reverseSymb:(g?{")":"(","}":"{"}:{"(":")","{":"}"})[b],forward:g,depth:0,curMoveThrough:!1},z=Pc[b];if(!z)return v;var W=Mo[z].init,U=Mo[z].isComplete;for(W&&W(L);$!==D&&h;){if(L.index+=x,L.nextCh=L.lineText.charAt(L.index),!L.nextCh){if($+=x,L.lineText=m.getLine($)||"",x>0)L.index=0;else{var X=L.lineText.length;L.index=X>0?X-1:0}L.nextCh=L.lineText.charAt(L.index)}U(L)&&(v.line=$,v.ch=L.index,h--)}return L.nextCh||L.curMoveThrough?new e($,L.index):v}function Do(m,h,g,b,v){var x=h.line,D=h.ch,E=m.getLine(x),$=g?1:-1,N=b?y:f;if(v&&E==""){if(x+=$,E=m.getLine(x),!q(m,x))return null;D=g?0:E.length}for(;;){if(v&&E=="")return{from:0,to:0,line:x};for(var L=$>0?E.length:-1,z=L,W=L;D!=L;){for(var U=!1,X=0;X<N.length&&!U;++X)if(N[X](E.charAt(D))){for(z=D;D!=L&&N[X](E.charAt(D));)D+=$;if(W=D,U=z!=W,z==h.ch&&x==h.line&&W==z+$)continue;return{from:Math.min(z,W+1),to:Math.max(z,W),line:x}}U||(D+=$)}if(x+=$,!q(m,x))return null;E=m.getLine(x),D=$>0?0:E.length}}function Cc(m,h,g,b,v,x){var D=rt(h),E=[];(b&&!v||!b&&v)&&g++;for(var $=!(b&&v),N=0;N<g;N++){var L=Do(m,h,b,x,$);if(!L){var z=Mt(m,m.lastLine());E.push(b?{line:m.lastLine(),from:z,to:z}:{line:0,from:0,to:0});break}E.push(L),h=new e(L.line,b?L.to-1:L.from)}var W=E.length!=g,U=E[0],X=E.pop();return b&&!v?(!W&&(U.from!=D.ch||U.line!=D.line)&&(X=E.pop()),X&&new e(X.line,X.from)):b&&v?X&&new e(X.line,X.to-1):!b&&v?(!W&&(U.to!=D.ch||U.line!=D.line)&&(X=E.pop()),X&&new e(X.line,X.to)):X&&new e(X.line,X.from)}function Bo(m,h,g,b,v){var x=h,D=new e(x.line+g.repeat-1,1/0),E=m.clipPos(D);return E.ch--,v||(b.lastHPos=1/0,b.lastHSPos=m.charCoords(E,"div").left),D}function rs(m,h,g,b,v){if(b){for(var x=v||m.getCursor(),D=x.ch,E,$=0;$<h;$++){var N=m.getLine(x.line);if(E=Sc(D,N,b,g),E==-1)return;D=E}if(E!=null)return new e(m.getCursor().line,E)}}function Ac(m,h){var g=m.getCursor().line;return Ie(m,new e(g,h-1))}function ar(m,h,g,b){!ue(g,P)&&!A.test(g)||(h.marks[g]&&h.marks[g].clear(),h.marks[g]=m.setBookmark(b))}function Sc(m,h,g,b,v){var x;return b?x=h.indexOf(g,m+1):x=h.lastIndexOf(g,m-1),x}function Eo(m,h,g,b,v){var x=h.line,D=m.firstLine(),E=m.lastLine(),$,N,L=x;function z(oe){return!m.getLine(oe)}function W(oe,xe,he){return he?z(oe)!=z(oe+xe):!z(oe)&&z(oe+xe)}if(b){for(;D<=L&&L<=E&&g>0;)W(L,b)&&g--,L+=b;return{start:new e(L,0),end:h}}var U=m.state.vim;if(U.visualLine&&W(x,1,!0)){var X=U.sel.anchor;W(X.line,-1,!0)&&(!v||X.line!=x)&&(x+=1)}var re=z(x);for(L=x;L<=E&&g;L++)W(L,1,!0)&&(!v||z(L)!=re)&&g--;for(N=new e(L,0),L>E&&!re?re=!0:v=!1,L=x;L>D&&!((!v||z(L)==re||L==x)&&W(L,-1,!0));L--);return $=new e(L,0),{start:$,end:N}}function Fo(m,h,g,b,v){function x(N){N.line!==null&&(N.pos+N.dir<0||N.pos+N.dir>=N.line.length?N.line=null:N.pos+=N.dir)}function D(N,L,z,W){var U=N.getLine(L),X={line:U,ln:L,pos:z,dir:W};if(X.line==="")return{ln:X.ln,pos:X.pos};var re=X.pos;for(x(X);X.line!==null;){if(re=X.pos,Y(X.line[X.pos]))if(v){for(x(X);X.line!==null&&V(X.line[X.pos]);)re=X.pos,x(X);return{ln:X.ln,pos:re+1}}else return{ln:X.ln,pos:X.pos+1};x(X)}return{ln:X.ln,pos:re+1}}function E(N,L,z,W){var U=N.getLine(L),X={line:U,ln:L,pos:z,dir:W};if(X.line==="")return{ln:X.ln,pos:X.pos};var re=X.pos;for(x(X);X.line!==null;){if(!V(X.line[X.pos])&&!Y(X.line[X.pos]))re=X.pos;else if(Y(X.line[X.pos]))return v?V(X.line[X.pos+1])?{ln:X.ln,pos:X.pos+1}:{ln:X.ln,pos:re}:{ln:X.ln,pos:re};x(X)}return X.line=U,v&&V(X.line[X.pos])?{ln:X.ln,pos:X.pos}:{ln:X.ln,pos:re}}for(var $={ln:h.line,pos:h.ch};g>0;)b<0?$=E(m,$.ln,$.pos,b):$=D(m,$.ln,$.pos,b),g--;return new e($.ln,$.pos)}function Mc(m,h,g,b){function v($,N){if(N.line!==null)if(N.pos+N.dir<0||N.pos+N.dir>=N.line.length){if(N.ln+=N.dir,!q($,N.ln)){N.line=null;return}N.line=$.getLine(N.ln),N.pos=N.dir>0?0:N.line.length-1}else N.pos+=N.dir}function x($,N,L,z){var oe=$.getLine(N),W=oe==="",U={line:oe,ln:N,pos:L,dir:z},X={ln:U.ln,pos:U.pos},re=U.line==="";for(v($,U);U.line!==null;){if(X.ln=U.ln,X.pos=U.pos,U.line===""&&!re)return{ln:U.ln,pos:U.pos};if(W&&U.line!==""&&!V(U.line[U.pos]))return{ln:U.ln,pos:U.pos};Y(U.line[U.pos])&&!W&&(U.pos===U.line.length-1||V(U.line[U.pos+1]))&&(W=!0),v($,U)}var oe=$.getLine(X.ln);X.pos=0;for(var xe=oe.length-1;xe>=0;--xe)if(!V(oe[xe])){X.pos=xe;break}return X}function D($,N,L,z){var oe=$.getLine(N),W={line:oe,ln:N,pos:L,dir:z},U=W.ln,X=null,re=W.line==="";for(v($,W);W.line!==null;){if(W.line===""&&!re)return X!==null?{ln:U,pos:X}:{ln:W.ln,pos:W.pos};if(Y(W.line[W.pos])&&X!==null&&!(W.ln===U&&W.pos+1===X))return{ln:U,pos:X};W.line!==""&&!V(W.line[W.pos])&&(re=!1,U=W.ln,X=W.pos),v($,W)}var oe=$.getLine(U);X=0;for(var xe=0;xe<oe.length;++xe)if(!V(oe[xe])){X=xe;break}return{ln:U,pos:X}}for(var E={ln:h.line,pos:h.ch};g>0;)b<0?E=D(m,E.ln,E.pos,b):E=x(m,E.ln,E.pos,b),g--;return new e(E.ln,E.pos)}function $o(m,h,g,b){var v=h,x={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[g],D={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[g],E=m.getLine(v.line).charAt(v.ch),$=E===D?1:0,N=m.scanForBracket(new e(v.line,v.ch+$),-1,void 0,{bracketRegex:x}),L=m.scanForBracket(new e(v.line,v.ch+$),1,void 0,{bracketRegex:x});if(!N||!L)return null;var z=N.pos,W=L.pos;if(z.line==W.line&&z.ch>W.ch||z.line>W.line){var U=z;z=W,W=U}return b?W.ch+=1:z.ch+=1,{start:z,end:W}}function Dc(m,h,g,b){var v=rt(h),x=m.getLine(v.line),D=x.split(""),E,$,N,L,z=D.indexOf(g);if(v.ch<z)v.ch=z;else if(z<v.ch&&D[v.ch]==g){var W=/string/.test(m.getTokenTypeAt(Ot(h,0,1))),U=/string/.test(m.getTokenTypeAt(h)),X=W&&!U;X||($=v.ch,--v.ch)}if(D[v.ch]==g&&!$)E=v.ch+1;else for(N=v.ch;N>-1&&!E;N--)D[N]==g&&(E=N+1);if(E&&!$)for(N=E,L=D.length;N<L&&!$;N++)D[N]==g&&($=N);return!E||!$?{start:v,end:v}:(b&&(--E,++$),{start:new e(v.line,E),end:new e(v.line,$)})}ce("pcre",!0,"boolean");class Bc{constructor(){this.highlightTimeout}getQuery(){return te.query}setQuery(h){te.query=h}getOverlay(){return this.searchOverlay}setOverlay(h){this.searchOverlay=h}isReversed(){return te.isReversed}setReversed(h){te.isReversed=h}getScrollbarAnnotate(){return this.annotate}setScrollbarAnnotate(h){this.annotate=h}}function Bn(m){var h=m.state.vim;return h.searchState_||(h.searchState_=new Bc)}function Ec(m){return Qo(m,"/")}function Fc(m){return _o(m,"/")}function Qo(m,h){var g=_o(m,h);if(!g.length)return[];var b=[];if(g[0]===0){for(var v=0;v<g.length;v++)typeof g[v]=="number"&&b.push(m.substring(g[v]+1,g[v+1]));return b}}function _o(m,h){h||(h="/");for(var g=!1,b=[],v=0;v<m.length;v++){var x=m.charAt(v);!g&&x==h&&b.push(v),g=!g&&x=="\\"}return b}function $c(m){var h={V:"|(){+?*.[$^",M:"|(){+?*.[",m:"|(){+?",v:"<>"},g={">":"(?<=[\\w])(?=[^\\w]|$)","<":"(?<=[^\\w]|^)(?=[\\w])"},b=h.m,v=m.replace(/\\.|[\[|(){+*?.$^<>]/g,function(D){if(D[0]==="\\"){var E=D[1];return E==="}"||b.indexOf(E)!=-1?E:E in h?(b=h[E],""):E in g?g[E]:D}else return b.indexOf(D)!=-1?g[D]||"\\"+D:D}),x=v.indexOf("\\zs");return x!=-1&&(v="(?<="+v.slice(0,x)+")"+v.slice(x+3)),x=v.indexOf("\\ze"),x!=-1&&(v=v.slice(0,x)+"(?="+v.slice(x+3)+")"),v}var To={"\\n":`
`,"\\r":"\r","\\t":"	"};function Qc(m){for(var h=!1,g=[],b=-1;b<m.length;b++){var v=m.charAt(b)||"",x=m.charAt(b+1)||"";To[v+x]?(g.push(To[v+x]),b++):h?(g.push(v),h=!1):v==="\\"?(h=!0,Q(x)||x==="$"?g.push("$"):x!=="/"&&x!=="\\"&&g.push("\\")):(v==="$"&&g.push("$"),g.push(v),x==="/"&&g.push("\\"))}return g.join("")}var Ro={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function _c(m){for(var h=new n.StringStream(m),g=[];!h.eol();){for(;h.peek()&&h.peek()!="\\";)g.push(h.next());var b=!1;for(var v in Ro)if(h.match(v,!0)){b=!0,g.push(Ro[v]);break}b||g.push(h.next())}return g.join("")}function jo(m,h,g){var b=te.registerController.getRegister("/");b.setText(m);var v=Fc(m),x,D;if(!v.length)x=m;else{x=m.substring(0,v[0]);var E=m.substring(v[0]);D=E.indexOf("i")!=-1}if(!x)return null;ne("pcre")||(x=$c(x)),g&&(h=/^[^A-Z]*$/.test(x));var $=new RegExp(x,h||D?"im":"m");return $}function En(m){typeof m=="string"&&(m=document.createElement(m));for(var h=1;h<arguments.length;h++){var g=arguments[h];if(g)if(typeof g!="object"&&(g=document.createTextNode(g)),g.nodeType)m.appendChild(g);else for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(b[0]==="$"?m.style[b.slice(1)]=g[b]:typeof g[b]=="function"?m[b]=g[b]:m.setAttribute(b,g[b]))}return m}function Ye(m,h,g){var b=En("div",{$color:"red",$whiteSpace:"pre",class:"cm-vim-message"},h);m.openNotification?g?(b=En("div",{},b,En("div",{},"Press ENTER or type command to continue")),m.state.closeVimNotification&&m.state.closeVimNotification(),m.state.closeVimNotification=m.openNotification(b,{bottom:!0,duration:0})):m.openNotification(b,{bottom:!0,duration:15e3}):alert(b.innerText)}function Lo(m,h){return En("div",{$display:"flex",$flex:1},En("span",{$fontFamily:"monospace",$whiteSpace:"pre",$flex:1,$display:"flex"},m,En("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false",$flex:1})),h&&En("span",{$color:"#888"},h))}function si(m,h){if(lt.length){h.value||(h.value=""),Le=h;return}var g=Lo(h.prefix,h.desc);if(m.openDialog)m.openDialog(g,h.onClose,{onKeyDown:h.onKeyDown,onKeyUp:h.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:h.value});else{var b="";typeof h.prefix!="string"&&h.prefix&&(b+=h.prefix.textContent),h.desc&&(b+=" "+h.desc),h.onClose?.(prompt(b,""))}}function Tc(m,h){return m instanceof RegExp&&h instanceof RegExp?m.flags==h.flags&&m.source==h.source:!1}function Fa(m,h,g,b){if(h){var v=Bn(m),x=jo(h,!!g,!!b);if(x)return as(m,x),Tc(x,v.getQuery())||v.setQuery(x),x}}function Rc(m){if(m.source.charAt(0)=="^")var h=!0;return{token:function(g){if(h&&!g.sol()){g.skipToEnd();return}var b=g.match(m,!1);if(b)return b[0].length==0?(g.next(),"searching"):!g.sol()&&(g.backUp(1),!m.exec(g.next()+b[0]))?(g.next(),null):(g.match(m),"searching");for(;!g.eol()&&(g.next(),!g.match(m,!1)););},query:m}}var $a=0;function as(m,h){clearTimeout($a);var g=Bn(m);g.highlightTimeout=$a,$a=setTimeout(function(){if(m.state.vim){var b=Bn(m);b.highlightTimeout=void 0;var v=b.getOverlay();(!v||h!=v.query)&&(v&&m.removeOverlay(v),v=Rc(h),m.addOverlay(v),m.showMatchesOnScrollbar&&(b.getScrollbarAnnotate()&&b.getScrollbarAnnotate().clear(),b.setScrollbarAnnotate(m.showMatchesOnScrollbar(h))),b.setOverlay(v))}},50)}function Io(m,h,g,b){return m.operation(function(){b===void 0&&(b=1);for(var v=m.getCursor(),x=m.getSearchCursor(g,v),D=0;D<b;D++){var E=x.find(h);if(D==0&&E&&Gt(x.from(),v)){var $=h?x.from():x.to();E=x.find(h),E&&!E[0]&&Gt(x.from(),$)&&m.getLine($.line).length==$.ch&&(E=x.find(h))}if(!E&&(x=m.getSearchCursor(g,h?new e(m.lastLine()):new e(m.firstLine(),0)),!x.find(h)))return}return x.from()})}function jc(m,h,g,b,v){return m.operation(function(){b===void 0&&(b=1);var x=m.getCursor(),D=m.getSearchCursor(g,x),E=D.find(!h);!v.visualMode&&E&&Gt(D.from(),x)&&D.find(!h);for(var $=0;$<b;$++)if(E=D.find(h),!E&&(D=m.getSearchCursor(g,h?new e(m.lastLine()):new e(m.firstLine(),0)),!D.find(h)))return;var N=D.from(),L=D.to();return N&&L&&[N,L]})}function R(m){var h=Bn(m);h.highlightTimeout&&(clearTimeout(h.highlightTimeout),h.highlightTimeout=void 0),m.removeOverlay(Bn(m).getOverlay()),h.setOverlay(null),h.getScrollbarAnnotate()&&(h.getScrollbarAnnotate().clear(),h.setScrollbarAnnotate(null))}function $e(m,h,g){return typeof m!="number"&&(m=m.line),h instanceof Array?ue(m,h):typeof g=="number"?m>=h&&m<=g:m==h}function kr(m){var h=m.getScrollInfo(),g=6,b=10,v=m.coordsChar({left:0,top:g+h.top},"local"),x=h.clientHeight-b+h.top,D=m.coordsChar({left:0,top:x},"local");return{top:v.line,bottom:D.line}}function Yt(m,h,g){if(g=="'"||g=="`")return te.jumpList.find(m,-1)||new e(0,0);if(g==".")return Qa(m);var b=h.marks[g];return b&&b.find()}function Qa(m){if(m.getLastEditEnd)return m.getLastEditEnd();for(var h=m.doc.history.done,g=h.length;g--;)if(h[g].changes)return rt(h[g].changes[0].to)}class Oe{constructor(){this.commandMap_,this.buildCommandMap_()}processCommand(h,g,b){var v=this;h.operation(function(){h.curOp&&(h.curOp.isVimOp=!0),v._processCommand(h,g,b)})}_processCommand(h,g,b){var v=h.state.vim,x=te.registerController.getRegister(":"),D=x.toString(),E=new n.StringStream(g);x.setText(g);var $=b||{};$.input=g;try{this.parseInput_(h,E,$)}catch(z){throw Ye(h,z+""),z}v.visualMode&&He(h);var N,L;if(!$.commandName)$.line!==void 0&&(L="move");else if(N=this.matchCommand_($.commandName),N){if(L=N.name,N.excludeFromCommandHistory&&x.setText(D),this.parseCommandArgs_(E,$,N),N.type=="exToKey"){At(h,N.toKeys||"",N);return}else if(N.type=="exToEx"){this.processCommand(h,N.toInput||"");return}}if(!L){Ye(h,'Not an editor command ":'+g+'"');return}try{sa[L](h,$),(!N||!N.possiblyAsync)&&$.callback&&$.callback()}catch(z){throw Ye(h,z+""),z}}parseInput_(h,g,b){g.eatWhile(":"),g.eat("%")?(b.line=h.firstLine(),b.lineEnd=h.lastLine()):(b.line=this.parseLineSpec_(h,g),b.line!==void 0&&g.eat(",")&&(b.lineEnd=this.parseLineSpec_(h,g))),b.line==null?h.state.vim.visualMode?(b.selectionLine=Yt(h,h.state.vim,"<")?.line,b.selectionLineEnd=Yt(h,h.state.vim,">")?.line):b.selectionLine=h.getCursor().line:(b.selectionLine=b.line,b.selectionLineEnd=b.lineEnd);var v=g.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return v?b.commandName=v[1]:b.commandName=(g.match(/.*/)||[""])[0],b}parseLineSpec_(h,g){var b=g.match(/^(\d+)/);if(b)return parseInt(b[1],10)-1;switch(g.next()){case".":return this.parseLineSpecOffset_(g,h.getCursor().line);case"$":return this.parseLineSpecOffset_(g,h.lastLine());case"'":var v=g.next()||"",x=Yt(h,h.state.vim,v);if(!x)throw new Error("Mark not set");return this.parseLineSpecOffset_(g,x.line);case"-":case"+":return g.backUp(1),this.parseLineSpecOffset_(g,h.getCursor().line);default:g.backUp(1);return}}parseLineSpecOffset_(h,g){var b=h.match(/^([+-])?(\d+)/);if(b){var v=parseInt(b[2],10);b[1]=="-"?g-=v:g+=v}return g}parseCommandArgs_(h,g,b){if(!h.eol()){g.argString=h.match(/.*/)?.[0];var v=b.argDelimiter||/\s+/,x=Ea(g.argString||"").split(v);x.length&&x[0]&&(g.args=x)}}matchCommand_(h){for(var g=h.length;g>0;g--){var b=h.substring(0,g);if(this.commandMap_[b]){var v=this.commandMap_[b];if(v.name.indexOf(h)===0)return v}}}buildCommandMap_(){this.commandMap_={};for(var h=0;h<s.length;h++){var g=s[h],b=g.shortName||g.name;this.commandMap_[b]=g}}map(h,g,b,v){if(h!=":"&&h.charAt(0)==":"){if(b)throw Error("Mode not supported for ex mappings");var x=h.substring(1);g!=":"&&g.charAt(0)==":"?this.commandMap_[x]={name:x,type:"exToEx",toInput:g.substring(1),user:!0}:this.commandMap_[x]={name:x,type:"exToKey",toKeys:g,user:!0}}else{var D={keys:h,type:"keyToKey",toKeys:g,noremap:!!v};b&&(D.context=b),Fn(D)}}unmap(h,g){if(h!=":"&&h.charAt(0)==":"){if(g)throw Error("Mode not supported for ex mappings");var b=h.substring(1);if(this.commandMap_[b]&&this.commandMap_[b].user)return delete this.commandMap_[b],!0}else for(var v=h,x=0;x<r.length;x++)if(v==r[x].keys&&r[x].context===g)return r.splice(x,1),is(v),!0}}var sa={colorscheme:function(m,h){if(!h.args||h.args.length<1){Ye(m,m.getOption("theme"));return}m.setOption("theme",h.args[0])},map:function(m,h,g,b){var v=h.args;if(!v||v.length<2){m&&Ye(m,"Invalid mapping: "+h.input);return}Ht.map(v[0],v[1],g,b)},imap:function(m,h){this.map(m,h,"insert")},nmap:function(m,h){this.map(m,h,"normal")},vmap:function(m,h){this.map(m,h,"visual")},omap:function(m,h){this.map(m,h,"operatorPending")},noremap:function(m,h){this.map(m,h,void 0,!0)},inoremap:function(m,h){this.map(m,h,"insert",!0)},nnoremap:function(m,h){this.map(m,h,"normal",!0)},vnoremap:function(m,h){this.map(m,h,"visual",!0)},onoremap:function(m,h){this.map(m,h,"operatorPending",!0)},unmap:function(m,h,g){var b=h.args;(!b||b.length<1||!Ht.unmap(b[0],g))&&m&&Ye(m,"No such mapping: "+h.input)},mapclear:function(m,h){le.mapclear()},imapclear:function(m,h){le.mapclear("insert")},nmapclear:function(m,h){le.mapclear("normal")},vmapclear:function(m,h){le.mapclear("visual")},omapclear:function(m,h){le.mapclear("operatorPending")},move:function(m,h){nr.processCommand(m,m.state.vim,{keys:"",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:h.line+1})},set:function(m,h){var g=h.args,b=h.setCfg||{};if(!g||g.length<1){m&&Ye(m,"Invalid mapping: "+h.input);return}var v=g[0].split("="),x=v.shift()||"",D=v.length>0?v.join("="):void 0,E=!1,$=!1;if(x.charAt(x.length-1)=="?"){if(D)throw Error("Trailing characters: "+h.argString);x=x.substring(0,x.length-1),E=!0}else x.charAt(x.length-1)=="!"&&(x=x.substring(0,x.length-1),$=!0);D===void 0&&x.substring(0,2)=="no"&&(x=x.substring(2),D=!1);var N=se[x]&&se[x].type=="boolean";if(N&&($?D=!ne(x,m,b):D==null&&(D=!0)),!N&&D===void 0||E){var L=ne(x,m,b);L instanceof Error?Ye(m,L.message):L===!0||L===!1?Ye(m," "+(L?"":"no")+x):Ye(m,"  "+x+"="+L)}else{var z=ae(x,D,m,b);z instanceof Error&&Ye(m,z.message)}},setlocal:function(m,h){h.setCfg={scope:"local"},this.set(m,h)},setglobal:function(m,h){h.setCfg={scope:"global"},this.set(m,h)},registers:function(m,h){var g=h.args,b=te.registerController.registers,v=`----------Registers----------

`;if(g)for(var E=g.join(""),$=0;$<E.length;$++){var x=E.charAt($);if(te.registerController.isValidRegister(x)){var N=b[x]||new pn;v+='"'+x+"    "+N.toString()+`
`}}else for(var x in b){var D=b[x].toString();D.length&&(v+='"'+x+"    "+D+`
`)}Ye(m,v,!0)},marks:function(m,h){var g=h.args,b=m.state.vim.marks,v=`-----------Marks-----------
mark	line	col

`;if(g)for(var E=g.join(""),$=0;$<E.length;$++){var x=E.charAt($),D=b[x]&&b[x].find();D&&(v+=x+"	"+D.line+"	"+D.ch+`
`)}else for(var x in b){var D=b[x]&&b[x].find();D&&(v+=x+"	"+D.line+"	"+D.ch+`
`)}Ye(m,v,!0)},sort:function(m,h){var g,b,v,x,D;function E(){if(h.argString){var ze=new n.StringStream(h.argString);if(ze.eat("!")&&(g=!0),ze.eol())return;if(!ze.eatSpace())return"Invalid arguments";var De=ze.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!De||!ze.eol())return"Invalid arguments";if(De[1]){b=De[1].indexOf("i")!=-1,v=De[1].indexOf("u")!=-1;var ut=De[1].indexOf("d")!=-1||De[1].indexOf("n")!=-1,an=De[1].indexOf("x")!=-1,Ft=De[1].indexOf("o")!=-1;if(Number(ut)+Number(an)+Number(Ft)>1)return"Invalid arguments";x=ut&&"decimal"||an&&"hex"||Ft&&"octal"}De[2]&&(D=new RegExp(De[2].substr(1,De[2].length-2),b?"i":""))}}var $=E();if($){Ye(m,$+": "+h.argString);return}var N=h.line||m.firstLine(),L=h.lineEnd||h.line||m.lastLine();if(N==L)return;var z=new e(N,0),W=new e(L,Mt(m,L)),U=m.getRange(z,W).split(`
`),X=x=="decimal"?/(-?)([\d]+)/:x=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:x=="octal"?/([0-7]+)/:null,re=x=="decimal"?10:x=="hex"?16:x=="octal"?8:void 0,oe=[],xe=[];if(x||D)for(var he=0;he<U.length;he++){var Be=D?U[he].match(D):null;Be&&Be[0]!=""?oe.push(Be):X&&X.exec(U[he])?oe.push(U[he]):xe.push(U[he])}else xe=U;function Te(ze,De){if(g){var ut;ut=ze,ze=De,De=ut}b&&(ze=ze.toLowerCase(),De=De.toLowerCase());var an=X&&X.exec(ze),Ft=X&&X.exec(De);if(!an||!Ft)return ze<De?-1:1;var dn=parseInt((an[1]+an[2]).toLowerCase(),re),Xr=parseInt((Ft[1]+Ft[2]).toLowerCase(),re);return dn-Xr}function _e(ze,De){if(g){var ut;ut=ze,ze=De,De=ut}return b&&(ze[0]=ze[0].toLowerCase(),De[0]=De[0].toLowerCase()),ze[0]<De[0]?-1:1}if(oe.sort(D?_e:Te),D)for(var he=0;he<oe.length;he++)oe[he]=oe[he].input;else x||xe.sort(Te);if(U=g?oe.concat(xe):xe.concat(oe),v){var st=U,Je;U=[];for(var he=0;he<st.length;he++)st[he]!=Je&&U.push(st[he]),Je=st[he]}m.replaceRange(U.join(`
`),z,W)},vglobal:function(m,h){this.global(m,h)},normal:function(m,h){var g=!1,b=h.argString;if(b&&b[0]=="!"&&(b=b.slice(1),g=!0),b=b.trimStart(),!b){Ye(m,"Argument is required.");return}var v=h.line;if(typeof v=="number")for(var x=isNaN(h.lineEnd)?v:h.lineEnd,D=v;D<=x;D++)m.setCursor(D,0),At(m,h.argString.trimStart(),{noremap:g}),m.state.vim.insertMode&&Qe(m,!0);else At(m,h.argString.trimStart(),{noremap:g}),m.state.vim.insertMode&&Qe(m,!0)},global:function(m,h){var g=h.argString;if(!g){Ye(m,"Regular Expression missing from global");return}var b=h.commandName[0]==="v";g[0]==="!"&&h.commandName[0]==="g"&&(b=!0,g=g.slice(1));var v=h.line!==void 0?h.line:m.firstLine(),x=h.lineEnd||h.line||m.lastLine(),D=Ec(g),E=g,$="";if(D&&D.length&&(E=D[0],$=D.slice(1,D.length).join("/")),E)try{Fa(m,E,!0,!0)}catch{Ye(m,"Invalid regex: "+E);return}for(var N=Bn(m).getQuery(),L=[],z=v;z<=x;z++){var W=m.getLine(z),U=N.test(W);U!==b&&L.push($?m.getLineHandle(z):W)}if(!$){Ye(m,L.join(`
`));return}var X=0,re=function(){if(X<L.length){var oe=L[X++],xe=m.getLineNumber(oe);if(xe==null){re();return}var he=xe+1+$;Ht.processCommand(m,he,{callback:re})}else m.releaseLineHandles&&m.releaseLineHandles()};re()},substitute:function(m,h){if(!m.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var g=h.argString,b=g?Qo(g,g[0]):[],v="",x="",D,E,$,N=!1,L=!1;if(b&&b.length)v=b[0],ne("pcre")&&v!==""&&(v=new RegExp(v).source),x=b[1],x!==void 0&&(ne("pcre")?x=_c(x.replace(/([^\\])&/g,"$1$$&")):x=Qc(x),te.lastSubstituteReplacePart=x),D=b[2]?b[2].split(" "):[];else if(g&&g.length){Ye(m,"Substitutions should be of the form :s/pattern/replace/");return}if(D&&(E=D[0],$=parseInt(D[1]),E&&(E.indexOf("c")!=-1&&(N=!0),E.indexOf("g")!=-1&&(L=!0),ne("pcre")?v=v+"/"+E:v=v.replace(/\//g,"\\/")+"/"+E)),v)try{Fa(m,v,!0,!0)}catch{Ye(m,"Invalid regex: "+v);return}if(x=x||te.lastSubstituteReplacePart,x===void 0){Ye(m,"No previous substitute regular expression");return}var z=Bn(m),W=z.getQuery(),U=h.line!==void 0?h.line:m.getCursor().line,X=h.lineEnd||U;U==m.firstLine()&&X==m.lastLine()&&(X=1/0),$&&(U=X,X=U+$-1);var re=Ie(m,new e(U,0)),oe=m.getSearchCursor(W,re);No(m,N,L,U,X,oe,W,x,h.callback)},startinsert:function(m,h){At(m,h.argString=="!"?"A":"i",{})},redo:n.commands.redo,undo:n.commands.undo,write:function(m){n.commands.save?n.commands.save(m):m.save&&m.save()},nohlsearch:function(m){R(m)},yank:function(m){var h=rt(m.getCursor()),g=h.line,b=m.getLine(g);te.registerController.pushText("0","yank",b,!0,!0)},delete:function(m,h){var g=h.selectionLine,b=isNaN(h.selectionLineEnd)?g:h.selectionLineEnd;We.delete(m,{linewise:!0},[{anchor:new e(g,0),head:new e(b+1,0)}])},join:function(m,h){var g=h.selectionLine,b=isNaN(h.selectionLineEnd)?g:h.selectionLineEnd;m.setCursor(new e(g,0)),we.joinLines(m,{repeat:b-g},m.state.vim)},delmarks:function(m,h){if(!h.argString||!Ea(h.argString)){Ye(m,"Argument required");return}for(var g=m.state.vim,b=new n.StringStream(Ea(h.argString));!b.eol();){b.eatSpace();var v=b.pos;if(!b.match(/[a-zA-Z]/,!1)){Ye(m,"Invalid argument: "+h.argString.substring(v));return}var x=b.next();if(b.match("-",!0)){if(!b.match(/[a-zA-Z]/,!1)){Ye(m,"Invalid argument: "+h.argString.substring(v));return}var D=x,E=b.next();if(D&&E&&G(D)==G(E)){var $=D.charCodeAt(0),N=E.charCodeAt(0);if($>=N){Ye(m,"Invalid argument: "+h.argString.substring(v));return}for(var L=0;L<=N-$;L++){var z=String.fromCharCode($+L);delete g.marks[z]}}else{Ye(m,"Invalid argument: "+D+"-");return}}else x&&delete g.marks[x]}}},Ht=new Oe;le.defineEx("version","ve",m=>{Ye(m,"Codemirror-vim version: 6.3.0")});function No(m,h,g,b,v,x,D,E,$){m.state.vim.exMode=!0;var N=!1,L=0,z,W,U;function X(){m.operation(function(){for(;!N;)re(),xe();he()})}function re(){var Te="",_e=x.match||x.pos&&x.pos.match;if(_e)Te=E.replace(/\$(\d{1,3}|[$&])/g,function(ze,De){if(De=="$")return"$";if(De=="&")return _e[0];for(var ut=De;parseInt(ut)>=_e.length&&ut.length>0;)ut=ut.slice(0,ut.length-1);return ut?_e[ut]+De.slice(ut.length,De.length):ze});else{var st=m.getRange(x.from(),x.to());Te=st.replace(D,E)}var Je=x.to().line;x.replace(Te),W=x.to().line,v+=W-Je,U=W<Je}function oe(){var Te=z&&rt(x.to()),_e=x.findNext();return _e&&!_e[0]&&Te&&Gt(x.from(),Te)&&(_e=x.findNext()),_e&&L++,_e}function xe(){for(;oe()&&$e(x.from(),b,v);)if(!(!g&&x.from().line==W&&!U)){m.scrollIntoView(x.from(),30),m.setSelection(x.from(),x.to()),z=x.from(),N=!1;return}N=!0}function he(Te){if(Te&&Te(),m.focus(),z){m.setCursor(z);var _e=m.state.vim;_e.exMode=!1,_e.lastHPos=_e.lastHSPos=z.ch}$?$():N&&Ye(m,(L?"Found "+L+" matches":"No matches found")+" for pattern: "+D+(ne("pcre")?" (set nopcre to use Vim regexps)":""))}function Be(Te,_e,st){n.e_stop(Te);var Je=br(Te);switch(Je){case"y":re(),xe();break;case"n":xe();break;case"a":var ze=$;$=void 0,m.operation(X),$=ze;break;case"l":re();case"q":case"<Esc>":case"<C-c>":case"<C-[>":he(st);break}return N&&he(st),!0}if(xe(),N){Ye(m,"No matches for "+D+(ne("pcre")?" (set nopcre to use vim regexps)":""));return}if(!h){X(),$&&$();return}si(m,{prefix:En("span","replace with ",En("strong",E)," (y/n/a/q/l)"),onKeyDown:Be})}function Qe(m,h){var g=m.state.vim,b=te.macroModeState,v=te.registerController.getRegister("."),x=b.isPlaying,D=b.lastInsertModeChanges;x||(m.off("change",In),g.insertEnd&&g.insertEnd.clear(),g.insertEnd=void 0,n.off(m.getInputField(),"keydown",Wo)),!x&&g.insertModeRepeat&&g.insertModeRepeat>1&&(zo(m,g,g.insertModeRepeat-1,!0),g.lastEditInputState.repeatOverride=g.insertModeRepeat),delete g.insertModeRepeat,g.insertMode=!1,h||m.setCursor(m.getCursor().line,m.getCursor().ch-1),m.setOption("keyMap","vim"),m.setOption("disableInput",!0),m.toggleOverwrite(!1),v.setText(D.changes.join("")),n.signal(m,"vim-mode-change",{mode:"normal"}),b.isRecording&&Ic(b)}function Fn(m){r.unshift(m),m.keys&&Lc(m.keys)}function Lc(m){m.split(/(<(?:[CSMA]-)*\w+>|.)/i).forEach(function(h){h&&(a[h]||(a[h]=0),a[h]++)})}function is(m){m.split(/(<(?:[CSMA]-)*\w+>|.)/i).forEach(function(h){a[h]&&a[h]--})}function Zo(m,h,g,b,v){var x={keys:m,type:h};x[h]=g,x[h+"Args"]=b;for(var D in v)x[D]=v[D];Fn(x)}ce("insertModeEscKeysTimeout",200,"number");function ss(m,h,g,b){var v=te.registerController.getRegister(b);if(b==":"){v.keyBuffer[0]&&Ht.processCommand(m,v.keyBuffer[0]),g.isPlaying=!1;return}var x=v.keyBuffer,D=0;g.isPlaying=!0,g.replaySearchQueries=v.searchQueries.slice(0);for(var E=0;E<x.length;E++)for(var $=x[E],N,L,z=/<(?:[CSMA]-)*\w+>|./gi;N=z.exec($);)if(L=N[0],le.handleKey(m,L,"macro"),h.insertMode){var W=v.insertModeChanges[D++].changes;te.macroModeState.lastInsertModeChanges.changes=W,_a(m,W,1),Qe(m)}g.isPlaying=!1}function Ae(m,h){if(!m.isPlaying){var g=m.latestRegister,b=te.registerController.getRegister(g);b&&b.pushText(h)}}function Ic(m){if(!m.isPlaying){var h=m.latestRegister,g=te.registerController.getRegister(h);g&&g.pushInsertModeChanges&&g.pushInsertModeChanges(m.lastInsertModeChanges)}}function Vo(m,h){if(!m.isPlaying){var g=m.latestRegister,b=te.registerController.getRegister(g);b&&b.pushSearchQuery&&b.pushSearchQuery(h)}}function In(m,h){var g=te.macroModeState,b=g.lastInsertModeChanges;if(!g.isPlaying)for(var v=m.state.vim;h;){if(b.expectCursorActivityForChange=!0,b.ignoreCount>1)b.ignoreCount--;else if(h.origin=="+input"||h.origin=="paste"||h.origin===void 0){var x=m.listSelections().length;x>1&&(b.ignoreCount=x);var D=h.text.join(`
`);if(b.maybeReset&&(b.changes=[],b.maybeReset=!1),D)if(m.state.overwrite&&!/\n/.test(D))b.changes.push([D]);else{if(D.length>1){var E=v&&v.insertEnd&&v.insertEnd.find(),$=m.getCursor();if(E&&E.line==$.line){var N=E.ch-$.ch;N>0&&N<D.length&&(b.changes.push([D,N]),D="")}}D&&b.changes.push(D)}}h=h.next}}function qo(m){var h=m.state.vim;if(h.insertMode){var g=te.macroModeState;if(g.isPlaying)return;var b=g.lastInsertModeChanges;b.expectCursorActivityForChange?b.expectCursorActivityForChange=!1:(b.maybeReset=!0,h.insertEnd&&h.insertEnd.clear(),h.insertEnd=m.setBookmark(m.getCursor(),{insertLeft:!0}))}else m.curOp?.isVimOp||Xo(m,h)}function Xo(m,h){var g=m.getCursor("anchor"),b=m.getCursor("head");if(h.visualMode&&!m.somethingSelected()?He(m,!1):!h.visualMode&&!h.insertMode&&m.somethingSelected()&&(h.visualMode=!0,h.visualLine=!1,n.signal(m,"vim-mode-change",{mode:"visual"})),h.visualMode){var v=Fe(b,g)?0:-1,x=Fe(b,g)?-1:0;b=Ot(b,0,v),g=Ot(g,0,x),h.sel={anchor:g,head:b},ar(m,h,"<",at(b,g)),ar(m,h,">",Ut(b,g))}else h.insertMode||(h.lastHPos=m.getCursor().ch)}function Wo(m){var h=te.macroModeState,g=h.lastInsertModeChanges,b=n.keyName?n.keyName(m):m.key;b&&(b.indexOf("Delete")!=-1||b.indexOf("Backspace")!=-1)&&(g.maybeReset&&(g.changes=[],g.maybeReset=!1),g.changes.push(new ot(b,m)))}function zo(m,h,g,b){var v=te.macroModeState;v.isPlaying=!0;var x=h.lastEditActionCommand,D=h.inputState;function E(){x?nr.processAction(m,h,x):nr.evalInput(m,h)}function $(L){if(v.lastInsertModeChanges.changes.length>0){L=h.lastEditActionCommand?L:1;var z=v.lastInsertModeChanges;_a(m,z.changes,L)}}if(h.inputState=h.lastEditInputState,x&&x.interlaceInsertRepeat)for(var N=0;N<g;N++)E(),$(1);else b||E(),$(g);h.inputState=D,h.insertMode&&!b&&Qe(m),v.isPlaying=!1}function Go(m,h){n.lookupKey(h,"vim-insert",function(b){return typeof b=="string"?n.commands[b](m):b(m),!0})}function _a(m,h,g){var b=m.getCursor("head"),v=te.macroModeState.lastInsertModeChanges.visualBlock;v&&(C(m,b,v+1),g=m.listSelections().length,m.setCursor(b));for(var x=0;x<g;x++){v&&m.setCursor(Ot(b,x,0));for(var D=0;D<h.length;D++){var E=h[D];if(E instanceof ot)Go(m,E.keyName);else if(typeof E=="string")m.replaceSelection(E);else{var $=m.getCursor(),N=Ot($,0,E[0].length-(E[1]||0));m.replaceRange(E[0],$,E[1]?$:N),m.setCursor(N)}}}v&&m.setCursor(Ot(b,0,1))}function os(m){var h=new m.constructor;return Object.keys(m).forEach(function(g){if(g!="insertEnd"){var b=m[g];Array.isArray(b)?b=b.slice():b&&typeof b=="object"&&b.constructor!=Object&&(b=os(b)),h[g]=b}}),m.sel&&(h.sel={head:m.sel.head&&rt(m.sel.head),anchor:m.sel.anchor&&rt(m.sel.anchor)}),h}function Nc(m,h,g){var x=Me(m),b=m,v=!1,x=le.maybeInitVimState_(b),D=x.visualBlock||x.wasInVisualBlock;if(b.state.closeVimNotification){var E=b.state.closeVimNotification;if(b.state.closeVimNotification=null,E(),h=="<CR>")return yt(b),!0}var $=b.isInMultiSelectMode();if(x.wasInVisualBlock&&!$?x.wasInVisualBlock=!1:$&&x.visualBlock&&(x.wasInVisualBlock=!0),h=="<Esc>"&&!x.insertMode&&!x.visualMode&&$&&x.status=="<Esc>")yt(b);else if(D||!$||b.inVirtualSelectionMode)v=le.handleKey(b,h,g);else{var N=os(x),L=x.inputState.changeQueueList||[];b.operation(function(){b.curOp&&(b.curOp.isVimOp=!0);var z=0;b.forEachSelection(function(){b.state.vim.inputState.changeQueue=L[z];var W=b.getCursor("head"),U=b.getCursor("anchor"),X=Fe(W,U)?0:-1,re=Fe(W,U)?-1:0;W=Ot(W,0,X),U=Ot(U,0,re),b.state.vim.sel.head=W,b.state.vim.sel.anchor=U,v=le.handleKey(b,h,g),b.virtualSelection&&(L[z]=b.state.vim.inputState.changeQueue,b.state.vim=os(N)),z++}),b.curOp?.cursorActivity&&!v&&(b.curOp.cursorActivity=!1),b.state.vim=x,x.inputState.changeQueueList=L,x.inputState.changeQueue=null},!0)}return v&&!x.visualMode&&!x.insertMode&&x.visualMode!=b.somethingSelected()&&Xo(b,x),v}return qe(),le}function _n(n,e){var t=e.ch,r=e.line+1;r<1&&(r=1,t=0),r>n.lines&&(r=n.lines,t=Number.MAX_VALUE);var a=n.line(r);return Math.min(a.from+Math.max(0,t),a.to)}function Vn(n,e){let t=n.lineAt(e);return{line:t.number-1,ch:e-t.from}}class Ar{constructor(e,t){this.line=e,this.ch=t}}function wv(n,e,t){if(n.addEventListener)n.addEventListener(e,t,!1);else{var r=n._handlers||(n._handlers={});r[e]=(r[e]||[]).concat(t)}}function Cv(n,e,t){if(n.removeEventListener)n.removeEventListener(e,t,!1);else{var r=n._handlers,a=r&&r[e];if(a){var i=a.indexOf(t);i>-1&&(r[e]=a.slice(0,i).concat(a.slice(i+1)))}}}function Av(n,e,...t){var r,a=(r=n._handlers)===null||r===void 0?void 0:r[e];if(a)for(var i=0;i<a.length;++i)a[i](...t)}function E0(n,...e){if(n)for(var t=0;t<n.length;++t)n[t](...e)}let ch;try{ch=new RegExp("[\\w\\p{Alphabetic}\\p{Number}_]","u")}catch{ch=/[\w]/}function Es(n,e){var t=n.cm6;if(!t.state.readOnly){var r="input.type.compose";if(n.curOp&&(n.curOp.lastChange||(r="input.type.compose.start")),e.annotations)try{e.annotations.some(function(a){a.value=="input"&&(a.value=r)})}catch(a){console.error(a)}else e.userEvent=r;return t.dispatch(e)}}function F0(n,e){var t;n.curOp&&(n.curOp.$changeStart=void 0),(e?ec:Ti)(n.cm6);let r=(t=n.curOp)===null||t===void 0?void 0:t.$changeStart;r!=null&&n.cm6.dispatch({selection:{anchor:r}})}var e8={Left:n=>Ra(n.cm6,{key:"Left"},"editor"),Right:n=>Ra(n.cm6,{key:"Right"},"editor"),Up:n=>Ra(n.cm6,{key:"Up"},"editor"),Down:n=>Ra(n.cm6,{key:"Down"},"editor"),Backspace:n=>Ra(n.cm6,{key:"Backspace"},"editor"),Delete:n=>Ra(n.cm6,{key:"Delete"},"editor")};class je{openDialog(e,t,r){return n8(this,e,t,r)}openNotification(e,t){return t8(this,e,t)}constructor(e){this.state={},this.marks=Object.create(null),this.$mid=0,this.options={},this._handlers={},this.$lastChangeEndOffset=0,this.virtualSelection=null,this.cm6=e,this.onChange=this.onChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this)}on(e,t){wv(this,e,t)}off(e,t){Cv(this,e,t)}signal(e,t,r){Av(this,e,t,r)}indexFromPos(e){return _n(this.cm6.state.doc,e)}posFromIndex(e){return Vn(this.cm6.state.doc,e)}foldCode(e){let t=this.cm6,r=t.state.selection.ranges,a=this.cm6.state.doc,i=_n(a,e),s=K.create([K.range(i,i)],0).ranges;t.state.selection.ranges=s,Qy(t),t.state.selection.ranges=r}firstLine(){return 0}lastLine(){return this.cm6.state.doc.lines-1}lineCount(){return this.cm6.state.doc.lines}setCursor(e,t){typeof e=="object"&&(t=e.ch,e=e.line);var r=_n(this.cm6.state.doc,{line:e,ch:t||0});this.cm6.dispatch({selection:{anchor:r}},{scrollIntoView:!this.curOp}),this.curOp&&!this.curOp.isVimOp&&this.onBeforeEndOperation()}getCursor(e){var t=this.cm6.state.selection.main,r=e=="head"||!e?t.head:e=="anchor"?t.anchor:e=="start"?t.from:e=="end"?t.to:null;if(r==null)throw new Error("Invalid cursor type");return this.posFromIndex(r)}listSelections(){var e=this.cm6.state.doc;return this.cm6.state.selection.ranges.map(t=>({anchor:Vn(e,t.anchor),head:Vn(e,t.head)}))}setSelections(e,t){var r=this.cm6.state.doc,a=e.map(i=>{var s=_n(r,i.head),o=_n(r,i.anchor);return s==o?K.cursor(s,1):K.range(o,s)});this.cm6.dispatch({selection:K.create(a,t)})}setSelection(e,t,r){this.setSelections([{anchor:e,head:t}],0),r&&r.origin=="*mouse"&&this.onBeforeEndOperation()}getLine(e){var t=this.cm6.state.doc;return e<0||e>=t.lines?"":this.cm6.state.doc.line(e+1).text}getLineHandle(e){return this.$lineHandleChanges||(this.$lineHandleChanges=[]),{row:e,index:this.indexFromPos(new Ar(e,0))}}getLineNumber(e){var t=this.$lineHandleChanges;if(!t)return null;for(var r=e.index,a=0;a<t.length;a++)if(r=t[a].changes.mapPos(r,1,Qt.TrackAfter),r==null)return null;var i=this.posFromIndex(r);return i.ch==0?i.line:null}releaseLineHandles(){this.$lineHandleChanges=void 0}getRange(e,t){var r=this.cm6.state.doc;return this.cm6.state.sliceDoc(_n(r,e),_n(r,t))}replaceRange(e,t,r,a){r||(r=t);var i=this.cm6.state.doc,s=_n(i,t),o=_n(i,r);Es(this,{changes:{from:s,to:o,insert:e}})}replaceSelection(e){Es(this,this.cm6.state.replaceSelection(e))}replaceSelections(e){var t=this.cm6.state.selection.ranges,r=t.map((a,i)=>({from:a.from,to:a.to,insert:e[i]||""}));Es(this,{changes:r})}getSelection(){return this.getSelections().join(`
`)}getSelections(){var e=this.cm6;return e.state.selection.ranges.map(t=>e.state.sliceDoc(t.from,t.to))}somethingSelected(){return this.cm6.state.selection.ranges.some(e=>!e.empty)}getInputField(){return this.cm6.contentDOM}clipPos(e){var t=this.cm6.state.doc,r=e.ch,a=e.line+1;a<1&&(a=1,r=0),a>t.lines&&(a=t.lines,r=Number.MAX_VALUE);var i=t.line(a);return r=Math.min(Math.max(0,r),i.to-i.from),new Ar(a-1,r)}getValue(){return this.cm6.state.doc.toString()}setValue(e){var t=this.cm6;return t.dispatch({changes:{from:0,to:t.state.doc.length,insert:e},selection:K.range(0,0)})}focus(){return this.cm6.focus()}blur(){return this.cm6.contentDOM.blur()}defaultTextHeight(){return this.cm6.defaultLineHeight}findMatchingBracket(e,t){var r=this.cm6.state,a=_n(r.doc,e),i=Gn(r,a+1,-1);return i&&i.end?{to:Vn(r.doc,i.end.from)}:(i=Gn(r,a,1),i&&i.end?{to:Vn(r.doc,i.end.from)}:{to:void 0})}scanForBracket(e,t,r,a){return i8(this,e,t,r,a)}indentLine(e,t){t?this.indentMore():this.indentLess()}indentMore(){no(this.cm6)}indentLess(){ro(this.cm6)}execCommand(e){if(e=="indentAuto")je.commands.indentAuto(this);else if(e=="goLineLeft")gu(this.cm6);else if(e=="goLineRight"){fu(this.cm6);let t=this.cm6.state,r=t.selection.main.head;r<t.doc.length&&t.sliceDoc(r,r+1)!==`
`&&DA(this.cm6)}else console.log(e+" is not implemented")}setBookmark(e,t){var r=t?.insertLeft?1:-1,a=this.indexFromPos(e),i=new l8(this,a,r);return i}addOverlay({query:e}){let t=new jd({regexp:!0,search:e.source,caseSensitive:!/i/.test(e.flags)});if(t.valid){t.forVim=!0,this.cm6Query=t;let r=Ca.of(t);return this.cm6.dispatch({effects:r}),t}}removeOverlay(e){if(!this.cm6Query)return;this.cm6Query.forVim=!1;let t=Ca.of(this.cm6Query);this.cm6.dispatch({effects:t})}getSearchCursor(e,t){var r=this,a=null,i=null,s=!1;t.ch==null&&(t.ch=Number.MAX_VALUE);var o=_n(r.cm6.state.doc,t),l=e.source.replace(/(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,function(y,P){return P||"\\"+y});function c(y,P=0,w=y.length){return new Rd(y,l,{ignoreCase:e.ignoreCase},P,w)}function p(y){var P=r.cm6.state.doc;if(y>P.length)return null;let w=c(P,y).next();return w.done?null:w.value}var d=1e4;function f(y,P){var w=r.cm6.state.doc;for(let A=1;;A++){let T=Math.max(y,P-A*d),q=c(w,T,P),G=null;for(;!q.next().done;)G=q.value;if(G&&(T==y||G.from>T+10))return G;if(T==y)return null}}return{findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(y){var P=r.cm6.state.doc;if(y){let w=a?s?a.to-1:a.from:o;a=f(0,w)}else{let w=a?s?a.to+1:a.to:o;a=p(w)}return i=a&&{from:Vn(P,a.from),to:Vn(P,a.to),match:a.match},s=a?a.from==a.to:!1,a&&a.match},from:function(){return i?.from},to:function(){return i?.to},replace:function(y){a&&(Es(r,{changes:{from:a.from,to:a.to,insert:y}}),a.to=a.from+y.length,i&&(i.to=Vn(r.cm6.state.doc,a.to)))},get match(){return i&&i.match}}}findPosV(e,t,r,a){let{cm6:i}=this;const s=i.state.doc;let o=r=="page"?i.dom.clientHeight:0;const l=_n(s,e);let c=K.cursor(l,1,void 0,a),p=Math.round(Math.abs(t));for(let f=0;f<p;f++)r=="page"?c=i.moveVertically(c,t>0,o):r=="line"&&(c=i.moveVertically(c,t>0));let d=Vn(s,c.head);return(t<0&&c.head==0&&a!=0&&e.line==0&&e.ch!=0||t>0&&c.head==s.length&&d.ch!=a&&e.line==d.line)&&(d.hitSide=!0),d}charCoords(e,t){var r=this.cm6.contentDOM.getBoundingClientRect(),a=_n(this.cm6.state.doc,e),i=this.cm6.coordsAtPos(a),s=-r.top;return{left:(i?.left||0)-r.left,top:(i?.top||0)+s,bottom:(i?.bottom||0)+s}}coordsChar(e,t){var r=this.cm6.contentDOM.getBoundingClientRect(),a=this.cm6.posAtCoords({x:e.left+r.left,y:e.top+r.top})||0;return Vn(this.cm6.state.doc,a)}getScrollInfo(){var e=this.cm6.scrollDOM;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight,width:e.scrollWidth,clientHeight:e.clientHeight,clientWidth:e.clientWidth}}scrollTo(e,t){e!=null&&(this.cm6.scrollDOM.scrollLeft=e),t!=null&&(this.cm6.scrollDOM.scrollTop=t)}scrollIntoView(e,t){if(e){var r=this.indexFromPos(e);this.cm6.dispatch({effects:pe.scrollIntoView(r)})}else this.cm6.dispatch({scrollIntoView:!0,userEvent:"scroll"})}getWrapperElement(){return this.cm6.dom}getMode(){return{name:this.getOption("mode")}}setSize(e,t){this.cm6.dom.style.width=e+4+"px",this.cm6.dom.style.height=t+"px",this.refresh()}refresh(){this.cm6.measure()}destroy(){this.removeOverlay()}getLastEditEnd(){return this.posFromIndex(this.$lastChangeEndOffset)}onChange(e){this.$lineHandleChanges&&this.$lineHandleChanges.push(e);for(let r in this.marks)this.marks[r].update(e.changes);this.virtualSelection&&(this.virtualSelection.ranges=this.virtualSelection.ranges.map(r=>r.map(e.changes)));var t=this.curOp=this.curOp||{};e.changes.iterChanges((r,a,i,s,o)=>{(t.$changeStart==null||t.$changeStart>i)&&(t.$changeStart=i),this.$lastChangeEndOffset=s;var l={text:o.toJSON()};t.lastChange?t.lastChange.next=t.lastChange=l:t.lastChange=t.change=l},!0),t.changeHandlers||(t.changeHandlers=this._handlers.change&&this._handlers.change.slice())}onSelectionChange(){var e=this.curOp=this.curOp||{};e.cursorActivityHandlers||(e.cursorActivityHandlers=this._handlers.cursorActivity&&this._handlers.cursorActivity.slice()),this.curOp.cursorActivity=!0}operation(e,t){this.curOp||(this.curOp={$d:0}),this.curOp.$d++;try{var r=e()}finally{this.curOp&&(this.curOp.$d--,this.curOp.$d||this.onBeforeEndOperation())}return r}onBeforeEndOperation(){var e=this.curOp,t=!1;e&&(e.change&&E0(e.changeHandlers,this,e.change),e&&e.cursorActivity&&(E0(e.cursorActivityHandlers,this,null),e.isVimOp&&(t=!0)),this.curOp=null),t&&this.scrollIntoView()}moveH(e,t){if(t=="char"){var r=this.getCursor();this.setCursor(r.line,r.ch+e)}}setOption(e,t){switch(e){case"keyMap":this.state.keyMap=t;break;case"textwidth":this.state.textwidth=t;break}}getOption(e){switch(e){case"firstLineNumber":return 1;case"tabSize":return this.cm6.state.tabSize||4;case"readOnly":return this.cm6.state.readOnly;case"indentWithTabs":return this.cm6.state.facet(_i)=="	";case"indentUnit":return this.cm6.state.facet(_i).length||2;case"textwidth":return this.state.textwidth;case"keyMap":return this.state.keyMap||"vim"}}toggleOverwrite(e){this.state.overwrite=e}getTokenTypeAt(e){var t,r=this.indexFromPos(e),a=xy(this.cm6.state,r),i=a?.resolve(r),s=((t=i?.type)===null||t===void 0?void 0:t.name)||"";return/comment/i.test(s)?"comment":/string/i.test(s)?"string":""}overWriteSelection(e){var t=this.cm6.state.doc,r=this.cm6.state.selection,a=r.ranges.map(i=>{if(i.empty){var s=i.to<t.length?t.sliceString(i.from,i.to+1):"";if(s&&!/\n/.test(s))return K.range(i.from,i.to+1)}return i});this.cm6.dispatch({selection:K.create(a,r.mainIndex)}),this.replaceSelection(e)}isInMultiSelectMode(){return this.cm6.state.selection.ranges.length>1}virtualSelectionMode(){return!!this.virtualSelection}forEachSelection(e){var t=this.cm6.state.selection;this.virtualSelection=K.create(t.ranges,t.mainIndex);for(var r=0;r<this.virtualSelection.ranges.length;r++){var a=this.virtualSelection.ranges[r];a&&(this.cm6.dispatch({selection:K.create([a])}),e(),this.virtualSelection.ranges[r]=this.cm6.state.selection.ranges[0])}this.cm6.dispatch({selection:this.virtualSelection}),this.virtualSelection=null}hardWrap(e){return u8(this,e)}}je.isMac=typeof navigator<"u"&&/Mac/.test(navigator.platform);je.Pos=Ar;je.StringStream=g5;je.commands={cursorCharLeft:function(n){eo(n.cm6)},redo:function(n){F0(n,!1)},undo:function(n){F0(n,!0)},newlineAndIndent:function(n){to({state:n.cm6.state,dispatch:e=>Es(n,e)})},indentAuto:function(n){VO(n.cm6)},newlineAndIndentContinueComment:void 0,save:void 0};je.isWordChar=function(n){return ch.test(n)};je.keys=e8;je.addClass=function(n,e){};je.rmClass=function(n,e){};je.e_preventDefault=function(n){n.preventDefault()};je.e_stop=function(n){var e,t;(e=n?.stopPropagation)===null||e===void 0||e.call(n),(t=n?.preventDefault)===null||t===void 0||t.call(n)};je.lookupKey=function(e,t,r){var a=je.keys[e];!a&&/^Arrow/.test(e)&&(a=je.keys[e.slice(5)]),a&&r(a)};je.on=wv;je.off=Cv;je.signal=Av;je.findMatchingTag=s8;je.findEnclosingTag=o8;je.keyName=void 0;function Sv(n,e,t){var r=document.createElement("div");return r.appendChild(e),r}function Mv(n,e){n.state.currentNotificationClose&&n.state.currentNotificationClose(),n.state.currentNotificationClose=e}function t8(n,e,t){Mv(n,o);var r=Sv(n,e,t&&t.bottom),a=!1,i,s=t&&typeof t.duration<"u"?t.duration:5e3;function o(){a||(a=!0,clearTimeout(i),r.remove(),Bv(n,r))}return r.onclick=function(l){l.preventDefault(),o()},Dv(n,r),s&&(i=setTimeout(o,s)),o}function Dv(n,e){var t=n.state.dialog;n.state.dialog=e,e.style.flex="1",e&&t!==e&&(t&&t.contains(document.activeElement)&&n.focus(),t&&t.parentElement?t.parentElement.replaceChild(e,t):t&&t.remove(),je.signal(n,"dialog"))}function Bv(n,e){n.state.dialog==e&&(n.state.dialog=null,je.signal(n,"dialog"))}function n8(n,e,t,r){r||(r={}),Mv(n,void 0);var a=Sv(n,e,r.bottom),i=!1;Dv(n,a);function s(l){if(typeof l=="string")o.value=l;else{if(i)return;i=!0,Bv(n,a),n.state.dialog||n.focus(),r.onClose&&r.onClose(a)}}var o=a.getElementsByTagName("input")[0];return o&&(r.value&&(o.value=r.value,r.selectValueOnOpen!==!1&&o.select()),r.onInput&&je.on(o,"input",function(l){r.onInput(l,o.value,s)}),r.onKeyUp&&je.on(o,"keyup",function(l){r.onKeyUp(l,o.value,s)}),je.on(o,"keydown",function(l){r&&r.onKeyDown&&r.onKeyDown(l,o.value,s)||(l.keyCode==13&&t&&t(o.value),(l.keyCode==27||r.closeOnEnter!==!1&&l.keyCode==13)&&(o.blur(),je.e_stop(l),s()))}),r.closeOnBlur!==!1&&je.on(o,"blur",function(){setTimeout(function(){document.activeElement!==o&&s()})}),o.focus()),s}var r8={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function a8(n){return n&&n.bracketRegex||/[(){}[\]]/}function i8(n,e,t,r,a){for(var i=a&&a.maxScanLineLength||1e4,s=a&&a.maxScanLines||1e3,o=[],l=a8(a),c=t>0?Math.min(e.line+s,n.lastLine()+1):Math.max(n.firstLine()-1,e.line-s),p=e.line;p!=c;p+=t){var d=n.getLine(p);if(d){var f=t>0?0:d.length-1,y=t>0?d.length:-1;if(!(d.length>i))for(p==e.line&&(f=e.ch-(t<0?1:0));f!=y;f+=t){var P=d.charAt(f);if(l.test(P)){var w=r8[P];if(w&&w.charAt(1)==">"==t>0)o.push(P);else if(o.length)o.pop();else return{pos:new Ar(p,f),ch:P}}}}}return p-t==(t>0?n.lastLine():n.firstLine())?!1:null}function s8(n,e){return null}function o8(n,e){var t,r,a=n.cm6.state,i=n.indexFromPos(e);if(i<a.doc.length){var s=a.sliceDoc(i,i+1);s=="<"&&i++}for(var o=xy(a,i),l=o?.resolve(i)||null;l;){if(((t=l.firstChild)===null||t===void 0?void 0:t.type.name)=="OpenTag"&&((r=l.lastChild)===null||r===void 0?void 0:r.type.name)=="CloseTag")return{open:$0(a.doc,l.firstChild),close:$0(a.doc,l.lastChild)};l=l.parent}}function $0(n,e){return{from:Vn(n,e.from),to:Vn(n,e.to)}}class l8{constructor(e,t,r){this.cm=e,this.id=e.$mid++,this.offset=t,this.assoc=r,e.marks[this.id]=this}clear(){delete this.cm.marks[this.id]}find(){return this.offset==null?null:this.cm.posFromIndex(this.offset)}update(e){this.offset!=null&&(this.offset=e.mapPos(this.offset,this.assoc,Qt.TrackDel))}}function u8(n,e){for(var t,r=e.column||n.getOption("textwidth")||80,a=e.allowMerge!=!1,i=Math.min(e.from,e.to),s=Math.max(e.from,e.to);i<=s;){var o=n.getLine(i);if(o.length>r){var l=P(o,r,5);if(l){var c=(t=/^\s*/.exec(o))===null||t===void 0?void 0:t[0];n.replaceRange(`
`+c,new Ar(i,l.start),new Ar(i,l.end))}s++}else if(a&&/\S/.test(o)&&i!=s){var p=n.getLine(i+1);if(p&&/\S/.test(p)){var d=o.replace(/\s+$/,""),f=p.replace(/^\s+/,""),y=d+" "+f,l=P(y,r,5);l&&l.start>d.length||y.length<r?(n.replaceRange(" ",new Ar(i,d.length),new Ar(i+1,p.length-f.length)),i--,s--):d.length<o.length&&n.replaceRange("",new Ar(i,d.length),new Ar(i,o.length))}}i++}return i;function P(w,A,T){if(!(w.length<A)){var q=w.slice(0,A),G=w.slice(A),I=/^(?:(\s+)|(\S+)(\s+))/.exec(G),Q=/(?:(\s+)|(\s+)(\S+))$/.exec(q),Z=0,V=0;if(Q&&!Q[2]&&(Z=A-Q[1].length,V=A),I&&!I[2]&&(Z||(Z=A),V=A+I[1].length),Z)return{start:Z,end:V};if(Q&&Q[2]&&Q.index>T)return{start:Q.index,end:Q.index+Q[2].length};if(I&&I[2])return Z=A+I[2].length,{start:Z,end:Z+I[3].length}}}}let ph=ay;class c8{constructor(e,t,r,a,i,s,o,l,c,p){this.left=e,this.top=t,this.height=r,this.fontFamily=a,this.fontSize=i,this.fontWeight=s,this.color=o,this.className=l,this.letter=c,this.partial=p}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.fontFamily=this.fontFamily,e.style.fontSize=this.fontSize,e.style.fontWeight=this.fontWeight,e.style.color=this.partial?"transparent":this.color,e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.height==e.height&&this.fontFamily==e.fontFamily&&this.fontSize==e.fontSize&&this.fontWeight==e.fontWeight&&this.color==e.color&&this.className==e.className&&this.letter==e.letter}}class p8{constructor(e,t){this.view=e,this.rangePieces=[],this.cursors=[],this.cm=t,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){let t=ph(this.cm.cm6.state).cursorBlinkRate;this.cursorLayer.style.animationDuration=t+"ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),m8(e)&&this.setBlinkRate()}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,t=[];for(let r of e.selection.ranges){let a=r==e.selection.main,i=g8(this.cm,this.view,r,a);i&&t.push(i)}return{cursors:t}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((t,r)=>!t.eq(this.cursors[r]))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const r of e)this.cursorLayer.appendChild(r.draw())}else e.forEach((r,a)=>r.adjust(t[a]));this.cursors=e}}destroy(){this.cursorLayer.remove()}}function m8(n){return ph(n.startState)!=ph(n.state)}const h8={".cm-vimMode .cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}},d8=Mn.highest(pe.theme(h8));function f8(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==mt.LTR?e.left:e.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function g8(n,e,t,r){var a,i,s,o;let l=t.head,c=!1,p=1,d=n.state.vim;if(d&&(!d.insertMode||n.state.overwrite)){if(c=!0,d.visualBlock&&!r)return null;t.anchor<t.head&&(l<e.state.doc.length&&e.state.sliceDoc(l,l+1))!=`
`&&l--,n.state.overwrite?p=.2:d.status&&(p=.5)}if(c){let y=l<e.state.doc.length&&e.state.sliceDoc(l,l+1);y&&/[\uDC00-\uDFFF]/.test(y)&&l>1&&(l--,y=e.state.sliceDoc(l,l+1));let P=e.coordsAtPos(l,1);if(!P)return null;let w=f8(e),A=e.domAtPos(l),T=A?A.node:e.contentDOM;for(T instanceof Text&&A.offset>=T.data.length&&!((a=T.parentElement)===null||a===void 0)&&a.nextSibling&&(T=(i=T.parentElement)===null||i===void 0?void 0:i.nextSibling,A={node:T,offset:0});A&&A.node instanceof HTMLElement;)T=A.node,A={node:A.node.childNodes[A.offset],offset:0};if(!(T instanceof HTMLElement)){if(!T.parentNode)return null;T=T.parentNode}let q=getComputedStyle(T),G=P.left,I=(o=(s=e).coordsForChar)===null||o===void 0?void 0:o.call(s,l);if(I&&(G=I.left),!y||y==`
`||y=="\r")y=" ";else if(y=="	"){y=" ";var f=e.coordsAtPos(l+1,-1);f&&(G=f.left-(f.left-P.left)/parseInt(q.tabSize))}else/[\uD800-\uDBFF]/.test(y)&&l<e.state.doc.length-1&&(y+=e.state.sliceDoc(l+1,l+2));let Q=P.bottom-P.top;return new c8((G-w.left)/e.scaleX,(P.top-w.top+Q*(1-p))/e.scaleY,Q*p/e.scaleY,q.fontFamily,q.fontSize,q.fontWeight,q.color,r?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",y,p!=1)}else return null}var b8=typeof navigator<"u"&&/linux/i.test(navigator.platform)&&/ Gecko\/\d+/.exec(navigator.userAgent);const bn=J9(je),y8=250,O8=pe.baseTheme({".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"0px 10px",fontFamily:"monospace",minHeight:"1.3em",display:"flex"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"inherit"},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"}}),k8=Ct.fromClass(class{constructor(n){this.status="",this.query=null,this.decorations=ke.none,this.waitForCopy=!1,this.lastKeydown="",this.useNextTextInput=!1,this.compositionText="",this.view=n;const e=this.cm=new je(n);bn.enterVimMode(this.cm),this.view.cm=this.cm,this.cm.state.vimPlugin=this,this.blockCursor=new p8(n,e),this.updateClass(),this.cm.on("vim-command-done",()=>{e.state.vim&&(e.state.vim.status=""),this.blockCursor.scheduleRedraw(),this.updateStatus()}),this.cm.on("vim-mode-change",t=>{e.state.vim&&(e.state.vim.mode=t.mode,t.subMode&&(e.state.vim.mode+=" block"),e.state.vim.status="",this.blockCursor.scheduleRedraw(),this.updateClass(),this.updateStatus())}),this.cm.on("dialog",()=>{this.cm.state.statusbar?this.updateStatus():n.dispatch({effects:Ev.of(!!this.cm.state.dialog)})}),this.dom=document.createElement("span"),this.spacer=document.createElement("span"),this.spacer.style.flex="1",this.statusButton=document.createElement("span"),this.statusButton.onclick=t=>{bn.handleKey(this.cm,"<Esc>","user"),this.cm.focus()},this.statusButton.style.cssText="cursor: pointer"}update(n){var e;if((n.viewportChanged||n.docChanged)&&this.query&&this.highlight(this.query),n.docChanged&&this.cm.onChange(n),n.selectionSet&&this.cm.onSelectionChange(),n.viewportChanged,this.cm.curOp&&!this.cm.curOp.isVimOp&&this.cm.onBeforeEndOperation(),n.transactions){for(let t of n.transactions)for(let r of t.effects)if(r.is(Ca))if(!((e=r.value)===null||e===void 0?void 0:e.forVim))this.highlight(null);else{let i=r.value.create();this.highlight(i)}}this.blockCursor.update(n)}updateClass(){const n=this.cm.state;!n.vim||n.vim.insertMode&&!n.overwrite?this.view.scrollDOM.classList.remove("cm-vimMode"):this.view.scrollDOM.classList.add("cm-vimMode")}updateStatus(){let n=this.cm.state.statusbar,e=this.cm.state.vim;if(!n||!e)return;let t=this.cm.state.dialog;if(t)t.parentElement!=n&&(n.textContent="",n.appendChild(t));else{n.textContent="";var r=(e.mode||"normal").toUpperCase();e.insertModeReturn&&(r+="(C-O)"),this.statusButton.textContent=`--${r}--`,n.appendChild(this.statusButton),n.appendChild(this.spacer)}this.dom.textContent=e.status,n.appendChild(this.dom)}destroy(){bn.leaveVimMode(this.cm),this.updateClass(),this.blockCursor.destroy(),delete this.view.cm}highlight(n){if(this.query=n,!n)return this.decorations=ke.none;let{view:e}=this,t=new _r;for(let r=0,a=e.visibleRanges,i=a.length;r<i;r++){let{from:s,to:o}=a[r];for(;r<i-1&&o>a[r+1].from-2*y8;)o=a[++r].to;n.highlight(e.state,s,o,(l,c)=>{t.add(l,c,x8)})}return this.decorations=t.finish()}handleKey(n,e){const t=this.cm;let r=t.state.vim;if(!r)return;const a=bn.vimKeyFromEvent(n,r);if(je.signal(this.cm,"inputEvent",{type:"handleKey",key:a}),!a)return;if(a=="<Esc>"&&!r.insertMode&&!r.visualMode&&this.query){const o=r.searchState_;o&&(t.removeOverlay(o.getOverlay()),o.setOverlay(null))}if(a==="<C-c>"&&!je.isMac&&t.somethingSelected())return this.waitForCopy=!0,!0;r.status=(r.status||"")+a;let s=bn.multiSelectHandleKey(t,a,"user");return r=bn.maybeInitVimState_(t),!s&&r.insertMode&&t.state.overwrite&&(n.key&&n.key.length==1&&!/\n/.test(n.key)?(s=!0,t.overWriteSelection(n.key)):n.key=="Backspace"&&(s=!0,je.commands.cursorCharLeft(t))),s&&(je.signal(this.cm,"vim-keypress",a),n.preventDefault(),n.stopPropagation(),this.blockCursor.scheduleRedraw()),this.updateStatus(),!!s}},{eventHandlers:{copy:function(n,e){this.waitForCopy&&(this.waitForCopy=!1,Promise.resolve().then(()=>{var t=this.cm,r=t.state.vim;r&&(r.insertMode?t.setSelection(t.getCursor(),t.getCursor()):t.operation(()=>{t.curOp&&(t.curOp.isVimOp=!0),bn.handleKey(t,"<Esc>","user")}))}))},compositionstart:function(n,e){this.useNextTextInput=!0,je.signal(this.cm,"inputEvent",n)},compositionupdate:function(n,e){je.signal(this.cm,"inputEvent",n)},compositionend:function(n,e){je.signal(this.cm,"inputEvent",n)},keypress:function(n,e){je.signal(this.cm,"inputEvent",n),this.lastKeydown=="Dead"&&this.handleKey(n,e)},keydown:function(n,e){je.signal(this.cm,"inputEvent",n),this.lastKeydown=n.key,this.lastKeydown=="Unidentified"||this.lastKeydown=="Process"||this.lastKeydown=="Dead"?this.useNextTextInput=!0:(this.useNextTextInput=!1,this.handleKey(n,e))}},provide:()=>[pe.inputHandler.of((n,e,t,r)=>{var a,i,s=S8(n);if(!s)return!1;var o=(a=s.state)===null||a===void 0?void 0:a.vim,l=s.state.vimPlugin;if(o&&!o.insertMode&&!(!((i=s.curOp)===null||i===void 0)&&i.isVimOp)){if(r==="\0\0")return!0;if(je.signal(s,"inputEvent",{type:"text",text:r,from:e,to:t}),r.length==1&&l.useNextTextInput){if(o.expectLiteralNext&&n.composing)return l.compositionText=r,!1;if(l.compositionText){var c=l.compositionText;l.compositionText="";var p=n.state.selection.main.head,d=n.state.sliceDoc(p-c.length,p);if(c===d){var f=s.getCursor();s.replaceRange("",s.posFromIndex(p-c.length),f)}}return l.handleKey({key:r,preventDefault:()=>{},stopPropagation:()=>{}}),v8(n),!0}}return!1})],decorations:n=>n.decorations});function v8(n){var e=n.scrollDOM.parentElement;if(e){if(b8){n.contentDOM.textContent="\0\0",n.contentDOM.dispatchEvent(new CustomEvent("compositionend"));return}var t=n.scrollDOM.nextSibling,r=window.getSelection(),a=r&&{anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset};n.scrollDOM.remove(),e.insertBefore(n.scrollDOM,t);try{a&&r&&(r.setPosition(a.anchorNode,a.anchorOffset),a.focusNode&&r.extend(a.focusNode,a.focusOffset))}catch(i){console.error(i)}n.focus(),n.contentDOM.dispatchEvent(new CustomEvent("compositionend"))}}const x8=ke.mark({class:"cm-searchMatch"}),Ev=Se.define(),P8=Pt.define({create:()=>!1,update(n,e){for(let t of e.effects)t.is(Ev)&&(n=t.value);return n},provide:n=>ka.from(n,e=>e?w8:null)});function w8(n){let e=document.createElement("div");e.className="cm-vim-panel";let t=n.cm;return t.state.dialog&&e.appendChild(t.state.dialog),{top:!1,dom:e}}function C8(n){let e=document.createElement("div");e.className="cm-vim-panel";let t=n.cm;return t.state.statusbar=e,t.state.vimPlugin.updateStatus(),{dom:e}}function A8(n={}){return[O8,k8,d8,n.status?ka.of(C8):P8]}function S8(n){return n.cm||null}class Q0{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class La{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let a=e,i=r.facet(io).markerFilter;i&&(a=i(a,r));let s=e.slice().sort((d,f)=>d.from-f.from||d.to-f.to),o=new _r,l=[],c=0;for(let d=0;;){let f=d==s.length?null:s[d];if(!f&&!l.length)break;let y,P;for(l.length?(y=c,P=l.reduce((A,T)=>Math.min(A,T.to),f&&f.from>y?f.from:1e8)):(y=f.from,P=f.to,l.push(f),d++);d<s.length;){let A=s[d];if(A.from==y&&(A.to>A.from||A.to==y))l.push(A),d++,P=Math.min(A.to,P);else{P=Math.min(A.from,P);break}}let w=L8(l);if(l.some(A=>A.from==A.to||A.from==A.to-1&&r.doc.lineAt(A.from).to==A.from))o.add(y,y,ke.widget({widget:new _8(w),diagnostics:l.slice()}));else{let A=l.reduce((T,q)=>q.markClass?T+" "+q.markClass:T,"");o.add(y,P,ke.mark({class:"cm-lintRange cm-lintRange-"+w+A,diagnostics:l.slice(),inclusiveEnd:l.some(T=>T.to>P)}))}c=P;for(let A=0;A<l.length;A++)l[A].to<=c&&l.splice(A--,1)}let p=o.finish();return new La(p,t,ji(p))}}function ji(n,e=null,t=0){let r=null;return n.between(t,1e9,(a,i,{spec:s})=>{if(!(e&&s.diagnostics.indexOf(e)<0))if(!r)r=new Q0(a,i,e||s.diagnostics[0]);else{if(s.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new Q0(r.from,i,r.diagnostic)}}),r}function M8(n,e){let t=e.pos,r=e.end||t,a=n.state.facet(io).hideOn(n,t,r);if(a!=null)return a;let i=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(s=>s.is(Fv))||n.changes.touchesRange(i.from,Math.max(i.to,r)))}function D8(n,e){return n.field(jn,!1)?e:e.concat(Se.appendConfig.of(I8))}const Fv=Se.define(),Zd=Se.define(),$v=Se.define(),jn=Pt.define({create(){return new La(ke.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,a=n.panel;if(n.selected){let i=e.changes.mapPos(n.selected.from,1);r=ji(t,n.selected.diagnostic,i)||ji(t,null,i)}!t.size&&a&&e.state.facet(io).autoPanel&&(a=null),n=new La(t,a,r)}for(let t of e.effects)if(t.is(Fv)){let r=e.state.facet(io).autoPanel?t.value.length?so.open:null:n.panel;n=La.init(t.value,r,e.state)}else t.is(Zd)?n=new La(n.diagnostics,t.value?so.open:null,n.selected):t.is($v)&&(n=new La(n.diagnostics,n.panel,t.value));return n},provide:n=>[ka.from(n,e=>e.panel),pe.decorations.from(n,e=>e.diagnostics)]}),B8=ke.mark({class:"cm-lintRange cm-lintRange-active"});function E8(n,e,t){let{diagnostics:r}=n.state.field(jn),a,i=-1,s=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:p})=>{if(e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0)))return a=p.diagnostics,i=l,s=c,!1});let o=n.state.facet(io).tooltipFilter;return a&&o&&(a=o(a,n.state)),a?{pos:i,end:s,above:n.state.doc.lineAt(i).to<s,create(){return{dom:F8(n,a)}}}:null}function F8(n,e){return ft("ul",{class:"cm-tooltip-lint"},e.map(t=>_v(n,t,!1)))}const $8=n=>{let e=n.state.field(jn,!1);(!e||!e.panel)&&n.dispatch({effects:D8(n.state,[Zd.of(!0)])});let t=Us(n,so.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},_0=n=>{let e=n.state.field(jn,!1);return!e||!e.panel?!1:(n.dispatch({effects:Zd.of(!1)}),!0)},Q8=n=>{let e=n.state.field(jn,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},io=be.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},na(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function Qv(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let a=t[r];if(/[a-zA-Z]/.test(a)&&!e.some(i=>i.toLowerCase()==a.toLowerCase())){e.push(a);continue e}}e.push("")}return e}function _v(n,e,t){var r;let a=t?Qv(e.actions):[];return ft("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},ft("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((i,s)=>{let o=!1,l=f=>{if(f.preventDefault(),o)return;o=!0;let y=ji(n.state.field(jn).diagnostics,e);y&&i.apply(n,y.from,y.to)},{name:c}=i,p=a[s]?c.indexOf(a[s]):-1,d=p<0?c:[c.slice(0,p),ft("u",c.slice(p,p+1)),c.slice(p+1)];return ft("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${p<0?"":` (access key "${a[s]})"`}.`},d)}),e.source&&ft("div",{class:"cm-diagnosticSource"},e.source))}class _8 extends hr{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return ft("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class T0{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=_v(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class so{constructor(e){this.view=e,this.items=[];let t=a=>{if(a.keyCode==27)_0(this.view),this.view.focus();else if(a.keyCode==38||a.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(a.keyCode==40||a.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(a.keyCode==36)this.moveSelection(0);else if(a.keyCode==35)this.moveSelection(this.items.length-1);else if(a.keyCode==13)this.view.focus();else if(a.keyCode>=65&&a.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:i}=this.items[this.selectedIndex],s=Qv(i.actions);for(let o=0;o<s.length;o++)if(s[o].toUpperCase().charCodeAt(0)==a.keyCode){let l=ji(this.view.state.field(jn).diagnostics,i);l&&i.actions[o].apply(e,l.from,l.to)}}else return;a.preventDefault()},r=a=>{for(let i=0;i<this.items.length;i++)this.items[i].dom.contains(a.target)&&this.moveSelection(i)};this.list=ft("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=ft("div",{class:"cm-panel-lint"},this.list,ft("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>_0(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(jn).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(jn),r=0,a=!1,i=null,s=new Set;for(e.between(0,this.view.state.doc.length,(o,l,{spec:c})=>{for(let p of c.diagnostics){if(s.has(p))continue;s.add(p);let d=-1,f;for(let y=r;y<this.items.length;y++)if(this.items[y].diagnostic==p){d=y;break}d<0?(f=new T0(this.view,p),this.items.splice(r,0,f),a=!0):(f=this.items[d],d>r&&(this.items.splice(r,d-r),a=!0)),t&&f.diagnostic==t.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),i=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)a=!0,this.items.pop();this.items.length==0&&(this.items.push(new T0(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),a=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:l})=>{let c=l.height/this.list.offsetHeight;o.top<l.top?this.list.scrollTop-=(l.top-o.top)/c:o.bottom>l.bottom&&(this.list.scrollTop+=(o.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),a&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(jn),r=ji(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:$v.of(r)})}static open(e){return new so(e)}}function T8(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function vl(n){return T8(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const R8=pe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:vl("#d11")},".cm-lintRange-warning":{backgroundImage:vl("orange")},".cm-lintRange-info":{backgroundImage:vl("#999")},".cm-lintRange-hint":{backgroundImage:vl("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function j8(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function L8(n){let e="hint",t=1;for(let r of n){let a=j8(r.severity);a>t&&(t=a,e=r.severity)}return e}const I8=[jn,pe.decorations.compute([jn],n=>{let{selected:e,panel:t}=n.field(jn);return!e||!t||e.from==e.to?ke.none:ke.set([B8.range(e.from,e.to)])}),uy(E8,{hideOn:M8}),R8],Tv=n=>e=>{const t=n==="down";let r=e.state.selection;for(const a of r.ranges)r=r.addRange(e.moveVertically(a,t));return e.dispatch({selection:r}),!0},N8=Tv("up"),Z8=Tv("down"),V8=n=>{let e=null;for(const t of n.state.selection.ranges)if(!t.empty)for(let r=t.from;r<=t.to;){const a=n.state.doc.lineAt(r),i=Math.min(a.to,t.to);e?e=e.addRange(K.range(i,i)):e=K.single(i),r=a.to+1}return e?(n.dispatch({selection:e}),!0):!1},q8=[{key:"Ctrl-Space",run:Zm},{key:"Escape",run:Gy},{key:"ArrowDown",run:da(!0)},{key:"ArrowUp",run:da(!1)},{key:"PageDown",run:da(!0,"page")},{key:"PageUp",run:da(!1,"page")},{key:"Enter",run:Nm},{key:"Tab",run:Nm},{key:"Mod-f",run:kv,scope:"editor search-panel"},{key:"Escape",run:vv,scope:"editor search-panel"},{key:"Alt-Enter",run:gv,scope:"editor search-panel"},{key:"Mod-Alt-Enter",run:bv,scope:"editor search-panel"},{key:"Ctrl-g",run:d9},{key:"Mod-d",run:y9,preventDefault:!0},{key:"Shift-Mod-l",run:A9},{key:"Enter",run:to,shift:to},{key:"ArrowLeft",run:eo,shift:bu,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:hO,shift:PO},{key:"ArrowRight",run:mu,shift:yu,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:dO,shift:wO},{key:"ArrowUp",run:hu,shift:Ou,preventDefault:!0},{key:"ArrowDown",run:du,shift:ku,preventDefault:!0},{key:"Home",run:gu,shift:Xm},{mac:"Cmd-ArrowLeft",run:gu,shift:Xm},{key:"Mod-Home",run:Pu,shift:Cu},{mac:"Cmd-ArrowUp",run:Pu,shift:Cu},{key:"PageUp",run:js,shift:vu},{mac:"Ctrl-ArrowUp",run:js,shift:vu},{key:"PageDown",run:vi,shift:xu},{mac:"Ctrl-ArrowDown",run:vi,shift:xu},{key:"End",run:fu,shift:qm},{mac:"Cmd-ArrowRight",run:fu,shift:qm},{key:"Mod-Alt-ArrowUp",linux:"Shift-Alt-ArrowUp",run:N8,preventDefault:!0},{key:"Mod-Alt-ArrowDown",linux:"Shift-Alt-ArrowDown",run:Z8,preventDefault:!0},{key:"Shift-Alt-i",run:V8},{key:"Mod-End",run:wu,shift:Au},{mac:"Cmd-ArrowDown",run:wu,shift:Au},{key:"Mod-a",run:DO},{key:"Backspace",run:eO},{key:"Backspace",run:xi,shift:xi},{key:"Delete",run:Su},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Mu},{key:"Mod-Delete",mac:"Alt-Delete",run:$O},{mac:"Mod-Backspace",run:ZA},{mac:"Mod-Delete",run:Wm},{mac:"Ctrl-b",run:eo,shift:bu,preventDefault:!0},{mac:"Ctrl-f",run:mu,shift:yu},{mac:"Ctrl-p",run:hu,shift:Ou},{mac:"Ctrl-n",run:du,shift:ku},{mac:"Ctrl-a",run:yO,shift:SO},{mac:"Ctrl-e",run:OO,shift:MO},{mac:"Ctrl-d",run:Su},{mac:"Ctrl-h",run:xi},{mac:"Ctrl-k",run:Wm},{mac:"Ctrl-Alt-h",run:Mu},{mac:"Ctrl-o",run:sd},{mac:"Ctrl-t",run:QO},{mac:"Ctrl-v",run:vi},{mac:"Alt-v",run:js},{key:"Shift-Mod-k",run:NO},{key:"Alt-ArrowDown",run:RO},{key:"Alt-ArrowUp",run:TO},{win:"Shift-Alt-ArrowDown",mac:"Shift-Alt-ArrowDown",run:IO},{win:"Shift-Alt-ArrowUp",mac:"Shift-Alt-ArrowUp",run:LO},{key:"Mod-l",run:BO,preventDefault:!0},{key:"Shift-Mod-\\",run:kO},{key:"Tab",run:no,shift:ro,preventDefault:!0},{key:"Mod-[",run:ro},{key:"Mod-]",run:no},{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Qy},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:HC},{key:"Mod-k Mod-0",run:KC},{key:"Mod-k Mod-j",run:JC},{key:"Mod-k Mod-c",run:fA},{key:"Mod-k Mod-u",run:gA},{key:"Mod-/",run:nd},{key:"Shift-Alt-a",run:rO},{key:"Mod-z",run:ec,preventDefault:!0},{key:"Mod-y",run:Ti,preventDefault:!0},{key:"Mod-Shift-z",run:Ti,preventDefault:!0},{key:"Mod-u",run:lO,preventDefault:!0},{key:"Mod-Shift-m",run:$8},{key:"F8",run:Q8}],X8=Ct.fromClass(class{constructor(){}},{provide:()=>Mn.highest(ra.of([...q8]))}),W8=n=>[X8].concat(n??[]);try{if(bn&&typeof bn.defineEx=="function"){try{bn.defineAction("strudelToggleComment",n=>{const e=n?.view||n;try{const t=new CustomEvent("repl-toggle-comment",{detail:{source:"vim",view:e},cancelable:!0});document.dispatchEvent(t)}catch(t){console.error("strudelToggleComment dispatch failed",t)}}),bn.mapCommand("gc","action","strudelToggleComment",{},{context:"normal"}),bn.mapCommand("gc","action","strudelToggleComment",{},{context:"visual"})}catch(n){console.error("Vim gc mapping failed",n)}bn.defineEx("quit","q",n=>{try{const e=n?.view||n;let t=!1;try{const r=new CustomEvent("repl-stop",{detail:{source:"vim",view:e},cancelable:!0});t=document.dispatchEvent(r)===!1}catch(r){console.error("Error dispatching repl-stop event",r)}if(!t){const r=new KeyboardEvent("keydown",{key:".",code:"Period",altKey:!0,bubbles:!0,cancelable:!0});e?.dom?.dispatchEvent?.(r)}}catch(e){console.error("Error dispatching :q stop event",e)}}),bn.defineEx("write","w",n=>{const e=n?.view||n;try{e?.focus?.();try{oo("[vim] :w — evaluating code")}catch(a){console.error("Error logging Vim :w evaluation",a)}let t=!1;try{const a=new CustomEvent("repl-evaluate",{detail:{source:"vim",view:e},cancelable:!0});t=document.dispatchEvent(a)===!1}catch(a){console.error("Error dispatching repl-evaluate event",a)}if(t)return;const r=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",ctrlKey:!0,bubbles:!0,cancelable:!0});if(e?.dom?.dispatchEvent?.(r),!r.defaultPrevented){const a=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",altKey:!0,bubbles:!0,cancelable:!0});e?.dom?.dispatchEvent?.(a)}}catch(t){console.error("Error dispatching :w evaluation event",t)}})}}catch(n){console.error("Vim ex command setup failed (defineEx missing or Vim unavailable)",n)}const z8={vim:A8,emacs:Y9,codemirror:()=>ra.of(ld),vscode:W8};function G8(n){const e=z8[n];return[e?Mn.high(e()):[]]}let Ls={};const U8=n=>`slider_${n}`;class Y8 extends hr{constructor(e,t,r,a,i,s,o){super(),this.value=e,this.min=t,this.max=r,this.from=a,this.originalFrom=a,this.to=i,this.step=s,this.view=o}eq(){return!1}toDOM(){let e=document.createElement("span");e.setAttribute("aria-hidden","true"),e.className="cm-slider";let t=e.appendChild(document.createElement("input"));return t.type="range",t.min=this.min,t.max=this.max,t.step=this.step??(this.max-this.min)/1e3,t.originalValue=this.value,t.value=t.originalValue,t.from=this.from,t.originalFrom=this.originalFrom,t.to=this.to,t.style="width:64px;margin-right:4px;transform:translateY(4px)",this.slider=t,t.addEventListener("input",r=>{const a=r.target.value;let i=a;const s=t.from+t.originalValue.length;let o={from:t.from,to:s,insert:i};t.originalValue=i,t.value=i,this.view.dispatch({changes:o});const l=U8(t.originalFrom);window.postMessage({type:"cm-slider",value:Number(a),id:l})}),e}ignoreEvent(e){return!0}}const Rv=Se.define(),H8=(n,e)=>{n.dispatch({effects:Rv.of(e)})};function K8(n,e){return n.filter(t=>t.type==="slider").map(({from:t,to:r,value:a,min:i,max:s,step:o})=>ke.widget({widget:new Y8(a,i,s,t,r,o,e),side:0}).range(t))}const J8=Ct.fromClass(class{decorations;constructor(n){this.decorations=ke.set([])}update(n){n.transactions.forEach(e=>{if(e.docChanged){this.decorations=this.decorations.map(e.changes);const t=this.decorations.iter();for(;t.value;)t.value?.widget?.slider&&(t.value.widget.slider.from=t.from,t.value.widget.slider.to=t.to),t.next()}for(let t of e.effects)t.is(Rv)&&(this.decorations=ke.set(K8(t.value,n.view)))})}},{decorations:n=>n.decorations});let uF=n=>(console.warn("slider will only work when the transpiler is used... passing value as is"),Pl(n)),cF=(n,e,t,r)=>(Ls[n]=e,F2(()=>Ls[n]));typeof window<"u"&&window.addEventListener("message",n=>{n.data.type==="cm-slider"&&(Ls[n.data.id]!==void 0?Ls[n.data.id]=n.data.value:console.warn(`slider with id "${n.data.id}" is not registered. Only ${Object.keys(Ls)}`))});const Ze=({theme:n,settings:e,styles:t})=>{const r=pe.theme({"&":{color:e.foreground,backgroundColor:e.background},".cm-gutters":{backgroundColor:e.gutterBackground,color:e.gutterForeground},".cm-content":{caretColor:e.caret},".cm-cursor, .cm-dropCursor":{borderLeftColor:e.caret},".cm-activeLineGutter":{backgroundColor:e.lineHighlight},".cm-activeLine":{backgroundColor:e.lineHighlight},"&.cm-focused .cm-selectionBackground, & .cm-line::selection, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection":{background:e.selection+" !important"},"& .cm-selectionMatch":{backgroundColor:e.selectionMatch}},{dark:n==="dark"}),a=yo.define(t);return[r,Gh(a)]},jv={background:"#222",lineBackground:"#22222299",foreground:"#fff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"},e6=Ze({theme:"dark",settings:jv,styles:[{tag:[u.atom,u.bool,u.special(u.variableName)],color:"#89ddff"},{tag:u.labelName,color:"#89ddff"},{tag:u.keyword,color:"#c792ea"},{tag:u.operator,color:"#89ddff"},{tag:u.special(u.variableName),color:"#eeffff"},{tag:u.typeName,color:"#c3e88d"},{tag:u.atom,color:"#f78c6c"},{tag:u.number,color:"#c3e88d"},{tag:u.definition(u.variableName),color:"#82aaff"},{tag:u.string,color:"#c3e88d"},{tag:u.special(u.string),color:"#c3e88d"},{tag:u.comment,color:"#7d8799"},{tag:u.variableName,color:"#c792ea"},{tag:u.tagName,color:"#c3e88d"},{tag:u.bracket,color:"#525154"},{tag:u.meta,color:"#ffcb6b"},{tag:u.attributeName,color:"#c792ea"},{tag:u.propertyName,color:"#c792ea"},{tag:u.className,color:"#decb6b"},{tag:u.invalid,color:"#ffffff"},{tag:[u.unit,u.punctuation],color:"#82aaff"}]}),Lv={background:"#051DB5",lineBackground:"#051DB550",foreground:"white",caret:"white",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"},t6=Ze({theme:"dark",settings:Lv,styles:[{tag:u.labelName,color:"inherit"},{tag:u.keyword,color:"inherit"},{tag:u.operator,color:"inherit"},{tag:u.special(u.variableName),color:"inherit"},{tag:u.typeName,color:"inherit"},{tag:u.atom,color:"inherit"},{tag:u.number,color:"inherit"},{tag:u.definition(u.variableName),color:"inherit"},{tag:u.string,color:"inherit"},{tag:u.special(u.string),color:"inherit"},{tag:u.comment,color:"inherit"},{tag:u.variableName,color:"inherit"},{tag:u.tagName,color:"inherit"},{tag:u.bracket,color:"inherit"},{tag:u.meta,color:"inherit"},{tag:u.attributeName,color:"inherit"},{tag:u.propertyName,color:"inherit"},{tag:u.className,color:"inherit"},{tag:u.invalid,color:"inherit"},{tag:[u.unit,u.punctuation],color:"inherit"}]}),Iv={background:"black",foreground:"white",caret:"white",selection:"#ffffff20",selectionMatch:"#036dd626",lineHighlight:"#ffffff10",lineBackground:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"},n6=Ze({theme:"dark",settings:Iv,styles:[{tag:u.labelName,color:"inherit"},{tag:u.keyword,color:"inherit"},{tag:u.operator,color:"inherit"},{tag:u.special(u.variableName),color:"inherit"},{tag:u.typeName,color:"inherit"},{tag:u.atom,color:"inherit"},{tag:u.number,color:"inherit"},{tag:u.definition(u.variableName),color:"inherit"},{tag:u.string,color:"inherit"},{tag:u.special(u.string),color:"inherit"},{tag:u.comment,color:"inherit"},{tag:u.variableName,color:"inherit"},{tag:u.tagName,color:"inherit"},{tag:u.bracket,color:"inherit"},{tag:u.meta,color:"inherit"},{tag:u.attributeName,color:"inherit"},{tag:u.propertyName,color:"inherit"},{tag:u.className,color:"inherit"},{tag:u.invalid,color:"inherit"},{tag:[u.unit,u.punctuation],color:"inherit"}]}),Nv={background:"white",foreground:"black",caret:"black",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#ffffff26",lineHighlight:"#cccccc50",lineBackground:"#ffffff50",gutterBackground:"transparent",gutterForeground:"black",light:!0},r6=Ze({theme:"light",settings:Nv,styles:[{tag:u.labelName,color:"inherit"},{tag:u.keyword,color:"inherit"},{tag:u.operator,color:"inherit"},{tag:u.special(u.variableName),color:"inherit"},{tag:u.typeName,color:"inherit"},{tag:u.atom,color:"inherit"},{tag:u.number,color:"inherit"},{tag:u.definition(u.variableName),color:"inherit"},{tag:u.string,color:"inherit"},{tag:u.special(u.string),color:"inherit"},{tag:u.comment,color:"inherit"},{tag:u.variableName,color:"inherit"},{tag:u.tagName,color:"inherit"},{tag:u.bracket,color:"inherit"},{tag:u.meta,color:"inherit"},{tag:u.attributeName,color:"inherit"},{tag:u.propertyName,color:"inherit"},{tag:u.className,color:"inherit"},{tag:u.invalid,color:"inherit"}]});let Tn="#6edee4",Zv="white",Vv="red",qv="#f8fc55";const Xv={background:"#000000",foreground:Tn,caret:Vv,selection:qv,selectionMatch:Tn,lineHighlight:"#6edee440",lineBackground:"#00000040",gutterBackground:"transparent",gutterForeground:"#8a919966"};let qp=qv,xl=Zv;const a6=Ze({theme:"dark",settings:Xv,styles:[{tag:u.labelName,color:Zv},{tag:u.keyword,color:Tn},{tag:u.operator,color:xl},{tag:u.special(u.variableName),color:Tn},{tag:u.typeName,color:Tn},{tag:u.atom,color:Tn},{tag:u.number,color:xl},{tag:u.definition(u.variableName),color:Tn},{tag:u.string,color:xl},{tag:u.special(u.string),color:xl},{tag:u.comment,color:qp},{tag:u.variableName,color:Tn},{tag:u.tagName,color:Tn},{tag:u.bracket,color:qp},{tag:u.meta,color:Tn},{tag:u.attributeName,color:Tn},{tag:u.propertyName,color:Tn},{tag:u.className,color:Tn},{tag:u.invalid,color:Vv},{tag:[u.unit,u.punctuation],color:qp}]}),i6={"Central Florida A":["#FFF630","#B3AC22","#666213","#191905"],"Central Florida B":["#38CEBA","#279082","#16524A","#061513"],"Central Florida C":["#FF8836","#B35F26","#663616","#190E05"],"Central Florida D":["#E07070","#9D4E4E","#5A2D2D","#160B0B"],"Central Florida E":["#7AA4CB","#55738E","#314251","#0C1014"],"Feminine Energy A":["#DC5686","#9A415E","#582536","#16090D"],"Feminine Energy B":["#D0463C","#92312A","#531c18","#150706"],"Feminine Energy C":["#D86918","#974A11","#562A0A","#160A02"],"Feminine Energy D":["#EFC54F","#A78A36","#604F20","#181408"],"Feminine Energy E":["#866399","#5e456b","#36283d","#0d0a0f"],"Sour Watermelon A":["#993366","#6B2447","#3D1429","#0F050A"],"Sour Watermelon B":["#996666","#6B4747","#3D2929","#0F0A0A"],"Sour Watermelon C":["#999966","#686B47","#3d3d29","#0f0f0A"],"Sour Watermelon D":["#99cc66","#6b8f47","#3d5229","#0f140a"],"Sour Watermelon E":["#99ff66","#6bb347","#3d6629","#0f190a"],"Peri Peaceful A":["#909BE9","#656DA3","#3A3E5D","#0e0f17"],"Peri Peaceful B":["#68628d","#494563","#2a2738","#0a0a0e"],"Peri Peaceful E":["#b5a0a9","#7f7076","#484044","#121011"],"Hichem Palette B":["#4fa3a5","#377273","#204142","#081010"],"Hichem Palette C":["#Fe6f9b","#b24e6d","#662c3e","#190b0f"],"Hichem Palette D":["#ffbb5a","#b3833f","#664b24","#191309"],"JSR2 A":["#E0EFC0","#9da786","#5a604d","#161813"]},Kt=i6["Sour Watermelon B"],Wv={background:Kt[3],foreground:Kt[1],caret:Kt[0],selection:Kt[0],selectionMatch:Kt[1],lineHighlight:Kt[3],lineBackground:Kt[3]+"90",gutterBackground:"transparent",gutterForeground:Kt[0],light:!1},s6=Ze({theme:"dark",settings:Wv,styles:[{tag:u.comment,color:Kt[2]},{tag:u.string,color:Kt[1]},{tag:[u.atom,u.number],color:Kt[1]},{tag:[u.meta,u.labelName,u.variableName],color:Kt[0]},{tag:[u.keyword,u.tagName,u.arithmeticOperator],color:Kt[1]},{tag:[u.atom,u.bool,u.special(u.variableName)],color:Kt[0]},{tag:[u.function(u.variableName),u.propertyName],color:Kt[0]},{tag:u.atom,color:Kt[1]}]}),mh="#5c019a",o6="#fbeffc",zv="#272C35",l6="#fee1ff",u6="#465063",c6="#9acd3f",p6="#97a1b7",m6="#f6a6fd",hh={background:"white",lineBackground:"transparent",foreground:mh,caret:"#797977",selection:o6,selectionMatch:"#2B323D",gutterBackground:zv,gutterForeground:u6,gutterBorder:"transparent",lineHighlight:l6},h6=Ze({theme:"light",settings:hh,styles:[{tag:[u.function(u.variableName),u.function(u.propertyName),u.url,u.processingInstruction],color:mh},{tag:[u.tagName,u.heading],color:hh.foreground},{tag:u.comment,color:p6},{tag:[u.variableName,u.propertyName,u.labelName],color:m6},{tag:[u.attributeName,u.number],color:"#d19a66"},{tag:u.className,color:zv},{tag:u.keyword,color:mh},{tag:[u.string,u.regexp,u.special(u.propertyName)],color:c6}]}),or=["#1e1e1e","#fbde2d","#ff1493","#4c83ff","#ededed","#cccccc","#ffffff30","#dc2f8c"],Gv={background:"#000000",lineBackground:"transparent",foreground:or[4],selection:or[6],gutterBackground:or[0],gutterForeground:or[5],gutterBorder:"transparent",lineHighlight:or[0]},d6=Ze({theme:"dark",settings:Gv,styles:[{tag:[u.function(u.variableName),u.function(u.propertyName),u.url,u.processingInstruction],color:or[4]},{tag:[u.atom,u.bool,u.special(u.variableName)],color:or[3]},{tag:u.comment,color:"#54636D"},{tag:[u.variableName,u.propertyName,u.labelName],color:or[4]},{tag:[u.attributeName,u.number],color:or[3]},{tag:u.keyword,color:or[1]},{tag:[u.string,u.regexp,u.special(u.propertyName)],color:or[2]}]}),yn=["#000000","#ff5356","#bd312a","#54636D","#171717"],Uv={background:yn[0],lineBackground:"transparent",foreground:yn[2],selection:yn[4],selectionMatch:yn[0],gutterBackground:yn[0],gutterForeground:yn[3],gutterBorder:"transparent",lineHighlight:yn[0]},f6=Ze({theme:"dark",settings:Uv,styles:[{tag:[u.function(u.variableName),u.function(u.propertyName),u.url,u.processingInstruction],color:yn[2]},{tag:[u.atom,u.bool,u.special(u.variableName)],color:yn[1]},{tag:u.comment,color:yn[3]},{tag:[u.variableName,u.propertyName,u.labelName],color:yn[2]},{tag:[u.attributeName,u.number],color:yn[1]},{tag:u.keyword,color:yn[2]},{tag:[u.string,u.regexp,u.special(u.propertyName)],color:yn[1]}]}),On=["#000000","#8ed675","#56bd2a","#54636D","#171717"],Yv={background:On[0],lineBackground:"transparent",foreground:On[2],selection:On[4],selectionMatch:On[0],gutterBackground:On[0],gutterForeground:On[3],gutterBorder:"transparent",lineHighlight:On[0]},g6=Ze({theme:"dark",settings:Yv,styles:[{tag:[u.function(u.variableName),u.function(u.propertyName),u.url,u.processingInstruction],color:On[2]},{tag:[u.atom,u.bool,u.special(u.variableName)],color:On[1]},{tag:u.comment,color:On[3]},{tag:[u.variableName,u.propertyName,u.labelName],color:On[2]},{tag:[u.attributeName,u.number],color:On[1]},{tag:u.keyword,color:On[2]},{tag:[u.string,u.regexp,u.special(u.propertyName)],color:On[1]}]}),kn=["rgb(0, 0, 0)","rgb(82, 208, 250)","rgba(113, 208, 250, .4)","rgba(113, 208, 250, .15)"],Hv={background:kn[0],lineBackground:"transparent",foreground:kn[1],selection:kn[2],selectionMatch:kn[0],gutterBackground:kn[0],gutterForeground:kn[2],gutterBorder:"transparent",lineHighlight:kn[0]},b6=Ze({theme:"dark",settings:Hv,styles:[{tag:[u.function(u.variableName),u.function(u.propertyName),u.url,u.processingInstruction],color:kn[1]},{tag:[u.atom,u.bool,u.special(u.variableName)],color:kn[1]},{tag:[u.comment,u.brace,u.bracket],color:kn[2]},{tag:[u.variableName,u.propertyName,u.labelName],color:kn[1]},{tag:[u.attributeName,u.number],color:kn[1]},{tag:u.keyword,color:kn[1]},{tag:[u.string,u.regexp,u.special(u.propertyName)],color:kn[1]}]}),sn=["rgb(84, 93, 98)","rgb(255, 255, 255)","rgba(255, 255, 255, .25)","rgb(67, 76, 81)","rgb(186, 230, 115)","rgb(252, 184, 67)","rgb(124, 206, 254)","rgb(83, 101, 102)","rgba(46, 62, 72,.5)","rgb(94, 100, 108)","rgb(167, 216, 177)"],Kv={background:sn[0],lineBackground:"transparent",foreground:sn[10],selection:sn[8],selectionMatch:sn[0],gutterBackground:sn[3],gutterForeground:sn[2],gutterBorder:"transparent",lineHighlight:sn[3]},y6=Ze({theme:"dark",settings:Kv,styles:[{tag:[u.function(u.variableName),u.function(u.propertyName),u.url,u.processingInstruction],color:sn[1]},{tag:[u.bool,u.special(u.variableName)],color:sn[1]},{tag:[u.comment,u.brace,u.bracket],color:sn[2]},{tag:[u.variableName],color:sn[1]},{tag:[u.labelName,u.propertyName,u.self,u.atom],color:sn[5]},{tag:[u.attributeName,u.number],color:sn[6]},{tag:u.keyword,color:sn[5]},{tag:[u.string,u.regexp,u.special(u.propertyName)],color:sn[4]}]}),vn=["rgb(75, 130, 247)","rgb(47, 108, 246)","rgb(255, 255, 255)","rgba(255, 255, 255,.3)"],Jv={background:vn[0],lineBackground:"transparent",foreground:vn[2],selection:vn[3],selectionMatch:vn[0],gutterBackground:vn[0],gutterForeground:vn[2],gutterBorder:"transparent",lineHighlight:vn[1]},O6=Ze({theme:"dark",settings:Jv,styles:[{tag:[u.function(u.variableName),u.function(u.propertyName),u.url,u.processingInstruction],color:vn[2]},{tag:[u.atom,u.bool,u.special(u.variableName)],color:vn[2]},{tag:[u.comment,u.bracket,u.brace,u.compareOperator],color:vn[3]},{tag:[u.variableName,u.propertyName,u.labelName],color:vn[2]},{tag:[u.attributeName,u.number],color:vn[2]},{tag:u.keyword,color:vn[2]},{tag:[u.string,u.regexp,u.special(u.propertyName)],color:vn[2]}]}),k6={background:"#282b2e",lineBackground:"#282b2e99",foreground:"#a9b7c6",caret:"#00FF00",selection:"#343739",selectionMatch:"#343739",lineHighlight:"#343739"},v6=Ze({theme:"dark",settings:{background:"#282b2e",foreground:"#a9b7c6",caret:"#00FF00",selection:"#4e5254",selectionMatch:"#4e5254",gutterForeground:"#cccccc50",lineHighlight:"#7f85891f"},styles:[{tag:u.labelName,color:"inherit"},{tag:[u.keyword,u.deleted,u.className],color:"#a9b7c6"},{tag:[u.number,u.literal],color:"#6897bb"},{tag:[u.link,u.variableName],color:"#a9b7c6"},{tag:[u.comment,u.quote],color:"grey"},{tag:[u.meta,u.documentMeta],color:"#bbb529"},{tag:[u.propertyName,u.attributeValue],color:"#a9b7c6"},{tag:[u.string],color:"#6a8759"},{tag:[u.heading,u.typeName],color:"#ffc66d"},{tag:[u.attributeName],color:"#a9b7c6"},{tag:[u.emphasis],fontStyle:"italic"}]}),x6={background:"#272C35",lineBackground:"#272C3599",foreground:"hsl(220, 14%, 71%)",caret:"#797977",selection:"#ffffff30",selectionMatch:"#2B323D",gutterBackground:"#272C35",gutterForeground:"#465063",gutterBorder:"transparent",lineHighlight:"#2B323D"},P6=Ze({theme:"dark",settings:{background:"#272C35",foreground:"#9d9b97",caret:"#797977",selection:"#3d4c64",selectionMatch:"#3d4c64",gutterBackground:"#272C35",gutterForeground:"#465063",gutterBorder:"transparent",lineHighlight:"#2e3f5940"},styles:[{tag:[u.function(u.variableName),u.function(u.propertyName),u.url,u.processingInstruction],color:"hsl(207, 82%, 66%)"},{tag:[u.atom,u.bool,u.special(u.variableName)],color:"hsl( 29, 54%, 61%)"},{tag:[u.tagName,u.heading],color:"#e06c75"},{tag:u.comment,color:"#54636D"},{tag:[u.variableName,u.propertyName,u.labelName],color:"hsl(220, 14%, 71%)"},{tag:[u.attributeName,u.number],color:"hsl( 29, 54%, 61%)"},{tag:u.className,color:"hsl( 39, 67%, 69%)"},{tag:u.keyword,color:"hsl(286, 60%, 67%)"},{tag:[u.string,u.regexp,u.special(u.propertyName)],color:"#98c379"}]}),w6={background:"#21202e",lineBackground:"#21202e99",foreground:"#edecee",caret:"#a277ff",selection:"#3d375e7f",selectionMatch:"#3d375e7f",gutterBackground:"#21202e",gutterForeground:"#edecee",gutterBorder:"transparent",lineHighlight:"#a394f033"},C6=Ze({theme:"dark",settings:{background:"#21202e",foreground:"#edecee",caret:"#a277ff",selection:"#5a51898f",selectionMatch:"#5a51898f",gutterBackground:"#21202e",gutterForeground:"#edecee",gutterBorder:"transparent",lineHighlight:"#a394f033"},styles:[{tag:u.keyword,color:"#a277ff"},{tag:[u.name,u.deleted,u.character,u.macroName],color:"#edecee"},{tag:[u.propertyName],color:"#ffca85"},{tag:[u.processingInstruction,u.string,u.inserted,u.special(u.string)],color:"#61ffca"},{tag:[u.function(u.variableName),u.labelName],color:"#ffca85"},{tag:[u.color,u.constant(u.name),u.standard(u.name)],color:"#61ffca"},{tag:[u.definition(u.name),u.separator],color:"#edecee"},{tag:[u.className],color:"#82e2ff"},{tag:[u.number,u.changed,u.annotation,u.modifier,u.self,u.namespace],color:"#61ffca"},{tag:[u.typeName],color:"#82e2ff"},{tag:[u.operator,u.operatorKeyword],color:"#a277ff"},{tag:[u.url,u.escape,u.regexp,u.link],color:"#61ffca"},{tag:[u.meta,u.comment],color:"#6d6d6d"},{tag:u.strong,fontWeight:"bold"},{tag:u.emphasis,fontStyle:"italic"},{tag:u.link,textDecoration:"underline"},{tag:u.heading,fontWeight:"bold",color:"#a277ff"},{tag:[u.atom,u.bool,u.special(u.variableName)],color:"#edecee"},{tag:u.invalid,color:"#ff6767"},{tag:u.strikethrough,textDecoration:"line-through"}]}),A6={background:"#242424",lineBackground:"#24242499",foreground:"#f8f8f2",caret:"#FFFFFF",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"rgba(255, 255, 255, 0.1)",gutterForeground:"#999",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},S6=Ze({theme:"dark",settings:{background:"#242424",foreground:"#f8f8f2",caret:"#FFFFFF",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"transparent",gutterForeground:"#999",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},styles:[{tag:u.labelName,color:"#CCCCCC"},{tag:[u.atom,u.number],color:"#7A9EC2"},{tag:[u.comment],color:"#707070"},{tag:[u.string],color:"#6A8759"},{tag:[u.variableName,u.operator],color:"#CCCCCC"},{tag:[u.function(u.variableName),u.propertyName],color:"#FFC66D"},{tag:[u.meta,u.className],color:"#FFC66D"},{tag:[u.propertyName],color:"#FFC66D"},{tag:[u.keyword],color:"#CC7832"},{tag:[u.tagName],color:"#ff79c6"},{tag:[u.typeName],color:"#ffb86c"}]}),M6={background:"#282a36",lineBackground:"#282a3699",foreground:"#f8f8f2",caret:"#f8f8f0",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"#282a36",gutterForeground:"#6272a4",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},D6="#BD93F9",B6=Ze({theme:"dark",settings:{background:"#282a36",foreground:"#f8f8f2",caret:"#f8f8f0",selection:"rgba(255, 255, 255, 0.1)",selectionMatch:"rgba(255, 255, 255, 0.2)",gutterBackground:"#282a36",gutterForeground:"#6272a4",gutterBorder:"transparent",lineHighlight:"rgba(255, 255, 255, 0.1)"},styles:[{tag:u.comment,color:"#6272a4"},{tag:u.string,color:"#f1fa8c"},{tag:[u.atom,u.number],color:D6},{tag:[u.meta,u.labelName,u.variableName],color:"#f8f8f2"},{tag:[u.keyword,u.tagName,u.arithmeticOperator],color:"#ff79c6"},{tag:[u.function(u.variableName),u.propertyName],color:"#50fa7b"},{tag:u.atom,color:"#bd93f9"}]}),E6={background:"#2a2734",lineBackground:"#2a273499",foreground:"#eeebff",caret:"#ffad5c",selection:"rgba(255, 255, 255, 0.1)",gutterBackground:"#2a2734",gutterForeground:"#545167",lineHighlight:"#36334280"},F6=Ze({theme:"dark",settings:{background:"#2a2734",foreground:"#6c6783",caret:"#ffad5c",selection:"#9a86fd",selectionMatch:"#9a86fd",gutterBackground:"#2a2734",gutterForeground:"#545167",lineHighlight:"#36334280"},styles:[{tag:[u.comment,u.bracket,u.operator],color:"#6c6783"},{tag:[u.atom,u.number,u.keyword,u.link,u.attributeName,u.quote],color:"#ffcc99"},{tag:[u.emphasis,u.heading,u.tagName,u.propertyName,u.className,u.variableName],color:"#eeebff"},{tag:[u.typeName,u.url],color:"#eeebff"},{tag:u.string,color:"#ffb870"},{tag:[u.propertyName],color:"#eeebff"},{tag:u.labelName,color:"#eeebff"}]}),$6={light:!0,background:"#fff",lineBackground:"#ffffff99",foreground:"#000",caret:"#FFFFFF",selection:"#d7d4f0",selectionMatch:"#d7d4f0",gutterBackground:"#f7f7f7",gutterForeground:"#999",lineHighlight:"#e8f2ff",gutterBorder:"transparent"},Q6=Ze({theme:"light",settings:{background:"#fff",foreground:"#000",caret:"#FFFFFF",selection:"#d7d4f0",selectionMatch:"#d7d4f0",gutterBackground:"#f7f7f7",gutterForeground:"#999",lineHighlight:"#006fff1c",gutterBorder:"transparent"},styles:[{tag:[u.comment],color:"#3F7F5F"},{tag:[u.documentMeta],color:"#FF1717"},{tag:u.keyword,color:"#7F0055",fontWeight:"bold"},{tag:u.atom,color:"#00f"},{tag:u.number,color:"#164"},{tag:u.propertyName,color:"#164"},{tag:[u.variableName,u.definition(u.variableName)],color:"#0000C0"},{tag:u.function(u.variableName),color:"#0000C0"},{tag:u.string,color:"#2A00FF"},{tag:u.operator,color:"black"},{tag:u.tagName,color:"#170"},{tag:u.attributeName,color:"#00c"},{tag:u.link,color:"#219"}]}),_6={background:"#0d1117",lineBackground:"#0d111799",foreground:"#c9d1d9",caret:"#c9d1d9",selection:"#003d73",selectionMatch:"#003d73",lineHighlight:"#36334280"},T6=Ze({theme:"dark",settings:{background:"#0d1117",foreground:"#c9d1d9",caret:"#c9d1d9",selection:"#003d73",selectionMatch:"#003d73",lineHighlight:"#36334280"},styles:[{tag:u.labelName,color:"#d2a8ff"},{tag:[u.standard(u.tagName),u.tagName],color:"#7ee787"},{tag:[u.comment,u.bracket],color:"#8b949e"},{tag:[u.className,u.propertyName],color:"#d2a8ff"},{tag:[u.variableName,u.attributeName],color:"#d2a8ff"},{tag:[u.number,u.operator],color:"#79c0ff"},{tag:[u.keyword,u.typeName,u.typeOperator,u.typeName],color:"#ff7b72"},{tag:[u.string,u.meta,u.regexp],color:"#a5d6ff"},{tag:[u.name,u.quote],color:"#7ee787"},{tag:[u.heading,u.strong],color:"#d2a8ff",fontWeight:"bold"},{tag:[u.emphasis],color:"#d2a8ff",fontStyle:"italic"},{tag:[u.deleted],color:"#ffdcd7",backgroundColor:"ffeef0"},{tag:[u.atom,u.bool,u.special(u.variableName)],color:"#ffab70"},{tag:u.link,textDecoration:"underline"},{tag:u.strikethrough,textDecoration:"line-through"},{tag:u.invalid,color:"#f97583"}]}),R6={light:!0,background:"#fff",lineBackground:"#ffffff99",foreground:"#24292e",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#6e7781"},j6=Ze({theme:"light",settings:{background:"#fff",foreground:"#24292e",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#6e7781"},styles:[{tag:[u.standard(u.tagName),u.tagName],color:"#116329"},{tag:[u.comment,u.bracket],color:"#6a737d"},{tag:[u.className,u.propertyName],color:"#6f42c1"},{tag:[u.variableName,u.attributeName,u.number,u.operator],color:"#005cc5"},{tag:[u.keyword,u.typeName,u.typeOperator,u.typeName],color:"#d73a49"},{tag:[u.string,u.meta,u.regexp],color:"#032f62"},{tag:[u.name,u.quote],color:"#22863a"},{tag:[u.heading,u.strong],color:"#24292e",fontWeight:"bold"},{tag:[u.emphasis],color:"#24292e",fontStyle:"italic"},{tag:[u.deleted],color:"#b31d28",backgroundColor:"ffeef0"},{tag:[u.atom,u.bool,u.special(u.variableName)],color:"#e36209"},{tag:[u.url,u.escape,u.regexp,u.link],color:"#032f62"},{tag:u.link,textDecoration:"underline"},{tag:u.strikethrough,textDecoration:"line-through"},{tag:u.invalid,color:"#cb2431"}]}),L6={background:"#282828",lineBackground:"#28282899",foreground:"#ebdbb2",caret:"#ebdbb2",selection:"#bdae93",selectionMatch:"#bdae93",lineHighlight:"#3c3836",gutterBackground:"#282828",gutterForeground:"#7c6f64"},I6=Ze({theme:"dark",settings:{background:"#282828",foreground:"#ebdbb2",caret:"#ebdbb2",selection:"#b99d555c",selectionMatch:"#b99d555c",lineHighlight:"#baa1602b",gutterBackground:"#282828",gutterForeground:"#7c6f64"},styles:[{tag:u.keyword,color:"#fb4934"},{tag:[u.name,u.deleted,u.character,u.propertyName,u.macroName],color:"#8ec07c"},{tag:[u.variableName],color:"#83a598"},{tag:[u.function(u.variableName)],color:"#8ec07c",fontStyle:"bold"},{tag:[u.labelName],color:"#ebdbb2"},{tag:[u.color,u.constant(u.name),u.standard(u.name)],color:"#d3869b"},{tag:[u.definition(u.name),u.separator],color:"#ebdbb2"},{tag:[u.brace],color:"#ebdbb2"},{tag:[u.annotation],color:"#fb4934d"},{tag:[u.number,u.changed,u.annotation,u.modifier,u.self,u.namespace],color:"#d3869b"},{tag:[u.typeName,u.className],color:"#fabd2f"},{tag:[u.operatorKeyword],color:"#fb4934"},{tag:[u.tagName],color:"#8ec07c",fontStyle:"bold"},{tag:[u.squareBracket],color:"#fe8019"},{tag:[u.angleBracket],color:"#83a598"},{tag:[u.attributeName],color:"#8ec07c"},{tag:[u.regexp],color:"#8ec07c"},{tag:[u.quote],color:"#928374"},{tag:[u.string],color:"#ebdbb2"},{tag:u.link,color:"#a89984",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[u.url,u.escape,u.special(u.string)],color:"#d3869b"},{tag:[u.meta],color:"#fabd2f"},{tag:[u.comment],color:"#928374",fontStyle:"italic"},{tag:u.strong,fontWeight:"bold",color:"#fe8019"},{tag:u.emphasis,fontStyle:"italic",color:"#b8bb26"},{tag:u.strikethrough,textDecoration:"line-through"},{tag:u.heading,fontWeight:"bold",color:"#b8bb26"},{tag:[u.heading1,u.heading2],fontWeight:"bold",color:"#b8bb26"},{tag:[u.heading3,u.heading4],fontWeight:"bold",color:"#fabd2f"},{tag:[u.heading5,u.heading6],color:"#fabd2f"},{tag:[u.atom,u.bool,u.special(u.variableName)],color:"#d3869b"},{tag:[u.processingInstruction,u.inserted],color:"#83a598"},{tag:[u.contentSeparator],color:"#fb4934"},{tag:u.invalid,color:"#fe8019",borderBottom:"1px dotted #fb4934d"}]}),N6={light:!0,background:"#fbf1c7",lineBackground:"#fbf1c799",foreground:"#3c3836",caret:"#af3a03",selection:"#ebdbb2",selectionMatch:"#bdae93",lineHighlight:"#ebdbb2",gutterBackground:"#ebdbb2",gutterForeground:"#665c54",gutterBorder:"transparent"},Z6=Ze({theme:"light",settings:{background:"#fbf1c7",foreground:"#3c3836",caret:"#af3a03",selection:"#bdae9391",selectionMatch:"#bdae9391",lineHighlight:"#a37f2238",gutterBackground:"#ebdbb2",gutterForeground:"#665c54",gutterBorder:"transparent"},styles:[{tag:u.keyword,color:"#9d0006"},{tag:[u.name,u.deleted,u.character,u.propertyName,u.macroName],color:"#427b58"},{tag:[u.variableName],color:"#076678"},{tag:[u.function(u.variableName)],color:"#79740e",fontStyle:"bold"},{tag:[u.labelName],color:"#3c3836"},{tag:[u.color,u.constant(u.name),u.standard(u.name)],color:"#8f3f71"},{tag:[u.definition(u.name),u.separator],color:"#3c3836"},{tag:[u.brace],color:"#3c3836"},{tag:[u.annotation],color:"#9d0006"},{tag:[u.number,u.changed,u.annotation,u.modifier,u.self,u.namespace],color:"#8f3f71"},{tag:[u.typeName,u.className],color:"#b57614"},{tag:[u.operator,u.operatorKeyword],color:"#9d0006"},{tag:[u.tagName],color:"#427b58",fontStyle:"bold"},{tag:[u.squareBracket],color:"#af3a03"},{tag:[u.angleBracket],color:"#076678"},{tag:[u.attributeName],color:"#427b58"},{tag:[u.regexp],color:"#427b58"},{tag:[u.quote],color:"#928374"},{tag:[u.string],color:"#3c3836"},{tag:u.link,color:"#7c6f64",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[u.url,u.escape,u.special(u.string)],color:"#8f3f71"},{tag:[u.meta],color:"#b57614"},{tag:[u.comment],color:"#928374",fontStyle:"italic"},{tag:u.strong,fontWeight:"bold",color:"#af3a03"},{tag:u.emphasis,fontStyle:"italic",color:"#79740e"},{tag:u.strikethrough,textDecoration:"line-through"},{tag:u.heading,fontWeight:"bold",color:"#79740e"},{tag:[u.heading1,u.heading2],fontWeight:"bold",color:"#79740e"},{tag:[u.heading3,u.heading4],fontWeight:"bold",color:"#b57614"},{tag:[u.heading5,u.heading6],color:"#b57614"},{tag:[u.atom,u.bool,u.special(u.variableName)],color:"#8f3f71"},{tag:[u.processingInstruction,u.inserted],color:"#076678"},{tag:[u.contentSeparator],color:"#9d0006"},{tag:u.invalid,color:"#af3a03",borderBottom:"1px dotted #9d0006"}]}),V6={background:"#212121",lineBackground:"#21212199",foreground:"#bdbdbd",caret:"#a0a4ae",selection:"#d7d4f0",selectionMatch:"#d7d4f0",gutterBackground:"#212121",gutterForeground:"#999",gutterActiveForeground:"#4f5b66",lineHighlight:"#111111"},q6=Ze({theme:"dark",settings:{background:"#212121",foreground:"#bdbdbd",caret:"#a0a4ae",selection:"#d7d4f063",selectionMatch:"#d7d4f063",gutterBackground:"#212121",gutterForeground:"#999",gutterActiveForeground:"#4f5b66",lineHighlight:"#333333"},styles:[{tag:u.keyword,color:"#cf6edf"},{tag:[u.name,u.deleted,u.character,u.macroName],color:"#56c8d8"},{tag:[u.propertyName],color:"#82AAFF"},{tag:[u.variableName],color:"#bdbdbd"},{tag:[u.function(u.variableName)],color:"#82AAFF"},{tag:[u.labelName],color:"#cf6edf"},{tag:[u.color,u.constant(u.name),u.standard(u.name)],color:"#facf4e"},{tag:[u.definition(u.name),u.separator],color:"#56c8d8"},{tag:[u.brace],color:"#cf6edf"},{tag:[u.annotation],color:"#f07178"},{tag:[u.number,u.changed,u.annotation,u.modifier,u.self,u.namespace],color:"#f07178"},{tag:[u.typeName,u.className],color:"#f07178"},{tag:[u.operator,u.operatorKeyword],color:"#82AAFF"},{tag:[u.tagName],color:"#99d066"},{tag:[u.squareBracket],color:"#f07178"},{tag:[u.angleBracket],color:"#606f7a"},{tag:[u.attributeName],color:"#bdbdbd"},{tag:[u.regexp],color:"#f07178"},{tag:[u.quote],color:"#6abf69"},{tag:[u.string],color:"#99d066"},{tag:u.link,color:"#56c8d8",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[u.url,u.escape,u.special(u.string)],color:"#facf4e"},{tag:[u.meta],color:"#707d8b"},{tag:[u.comment],color:"#707d8b",fontStyle:"italic"},{tag:u.monospace,color:"#bdbdbd"},{tag:u.strong,fontWeight:"bold",color:"#f07178"},{tag:u.emphasis,fontStyle:"italic",color:"#99d066"},{tag:u.strikethrough,textDecoration:"line-through"},{tag:u.heading,fontWeight:"bold",color:"#facf4e"},{tag:u.heading1,fontWeight:"bold",color:"#facf4e"},{tag:[u.heading2,u.heading3,u.heading4],fontWeight:"bold",color:"#facf4e"},{tag:[u.heading5,u.heading6],color:"#facf4e"},{tag:[u.atom,u.bool,u.special(u.variableName)],color:"#56c8d8"},{tag:[u.processingInstruction,u.inserted],color:"#f07178"},{tag:[u.contentSeparator],color:"#56c8d8"},{tag:u.invalid,color:"#606f7a",borderBottom:"1px dotted #f07178"}]}),X6={light:!0,background:"#FAFAFA",lineBackground:"#FAFAFA99",foreground:"#90A4AE",caret:"#272727",selection:"#80CBC440",selectionMatch:"#FAFAFA",gutterBackground:"#FAFAFA",gutterForeground:"#90A4AE",gutterBorder:"transparent",lineHighlight:"#CCD7DA50"},W6=Ze({theme:"light",settings:{background:"#FAFAFA",foreground:"#90A4AE",caret:"#272727",selection:"#80CBC440",selectionMatch:"#80CBC440",gutterBackground:"#FAFAFA",gutterForeground:"#90A4AE",gutterBorder:"transparent",lineHighlight:"#CCD7DA50"},styles:[{tag:u.keyword,color:"#39ADB5"},{tag:[u.name,u.deleted,u.character,u.macroName],color:"#90A4AE"},{tag:[u.propertyName],color:"#6182B8"},{tag:[u.processingInstruction,u.string,u.inserted,u.special(u.string)],color:"#91B859"},{tag:[u.function(u.variableName),u.labelName],color:"#6182B8"},{tag:[u.color,u.constant(u.name),u.standard(u.name)],color:"#39ADB5"},{tag:[u.definition(u.name),u.separator],color:"#90A4AE"},{tag:[u.className],color:"#E2931D"},{tag:[u.number,u.changed,u.annotation,u.modifier,u.self,u.namespace],color:"#F76D47"},{tag:[u.typeName],color:"#E2931D",fontStyle:"#E2931D"},{tag:[u.operator,u.operatorKeyword],color:"#39ADB5"},{tag:[u.url,u.escape,u.regexp,u.link],color:"#91B859"},{tag:[u.meta,u.comment],color:"#90A4AE"},{tag:u.strong,fontWeight:"bold"},{tag:u.emphasis,fontStyle:"italic"},{tag:u.link,textDecoration:"underline"},{tag:u.heading,fontWeight:"bold",color:"#39ADB5"},{tag:[u.atom,u.bool,u.special(u.variableName)],color:"#90A4AE"},{tag:u.invalid,color:"#E5393570"},{tag:u.strikethrough,textDecoration:"line-through"}]}),z6={background:"#2e3440",lineBackground:"#2e344099",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#3b4252",selectionMatch:"#e5e9f0",gutterBackground:"#2e3440",gutterForeground:"#4c566a",gutterActiveForeground:"#d8dee9",lineHighlight:"#4c566a"},G6=Ze({theme:"dark",settings:{background:"#2e3440",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#00000073",selectionMatch:"#00000073",gutterBackground:"#2e3440",gutterForeground:"#4c566a",gutterActiveForeground:"#d8dee9",lineHighlight:"#4c566a29"},styles:[{tag:u.keyword,color:"#5e81ac"},{tag:[u.name,u.deleted,u.character,u.propertyName,u.macroName],color:"#88c0d0"},{tag:[u.variableName],color:"#8fbcbb"},{tag:[u.function(u.variableName)],color:"#8fbcbb"},{tag:[u.labelName],color:"#81a1c1"},{tag:[u.color,u.constant(u.name),u.standard(u.name)],color:"#5e81ac"},{tag:[u.definition(u.name),u.separator],color:"#a3be8c"},{tag:[u.brace],color:"#8fbcbb"},{tag:[u.annotation],color:"#d30102"},{tag:[u.number,u.changed,u.annotation,u.modifier,u.self,u.namespace],color:"#b48ead"},{tag:[u.typeName,u.className],color:"#ebcb8b"},{tag:[u.operator,u.operatorKeyword],color:"#a3be8c"},{tag:[u.tagName],color:"#b48ead"},{tag:[u.squareBracket],color:"#bf616a"},{tag:[u.angleBracket],color:"#d08770"},{tag:[u.attributeName],color:"#ebcb8b"},{tag:[u.regexp],color:"#5e81ac"},{tag:[u.quote],color:"#b48ead"},{tag:[u.string],color:"#a3be8c"},{tag:u.link,color:"#a3be8c",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[u.url,u.escape,u.special(u.string)],color:"#8fbcbb"},{tag:[u.meta],color:"#88c0d0"},{tag:[u.monospace],color:"#d8dee9",fontStyle:"italic"},{tag:[u.comment],color:"#4c566a",fontStyle:"italic"},{tag:u.strong,fontWeight:"bold",color:"#5e81ac"},{tag:u.emphasis,fontStyle:"italic",color:"#5e81ac"},{tag:u.strikethrough,textDecoration:"line-through"},{tag:u.heading,fontWeight:"bold",color:"#5e81ac"},{tag:u.special(u.heading1),fontWeight:"bold",color:"#5e81ac"},{tag:u.heading1,fontWeight:"bold",color:"#5e81ac"},{tag:[u.heading2,u.heading3,u.heading4],fontWeight:"bold",color:"#5e81ac"},{tag:[u.heading5,u.heading6],color:"#5e81ac"},{tag:[u.atom,u.bool,u.special(u.variableName)],color:"#d08770"},{tag:[u.processingInstruction,u.inserted],color:"#8fbcbb"},{tag:[u.contentSeparator],color:"#ebcb8b"},{tag:u.invalid,color:"#434c5e",borderBottom:"1px dotted #d30102"}]}),U6={background:"#272822",lineBackground:"#27282299",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#49483E",selectionMatch:"#49483E",gutterBackground:"#272822",gutterForeground:"#FFFFFF70",lineHighlight:"#00000059"},Y6=Ze({theme:"dark",settings:{background:"#272822",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#49483E",selectionMatch:"#49483E",gutterBackground:"#272822",gutterForeground:"#FFFFFF70",lineHighlight:"#0000003b"},styles:[{tag:u.labelName,color:"#bababa"},{tag:[u.comment,u.documentMeta],color:"#8292a2"},{tag:[u.number,u.bool,u.null,u.atom],color:"#ae81ff"},{tag:[u.attributeValue,u.className,u.name],color:"#e6db74"},{tag:[u.propertyName,u.attributeName],color:"#a6e22e"},{tag:[u.variableName],color:"#9effff"},{tag:[u.squareBracket],color:"#bababa"},{tag:[u.string,u.special(u.brace)],color:"#e6db74"},{tag:[u.regexp,u.className,u.typeName,u.definition(u.typeName)],color:"#66d9ef"},{tag:[u.definition(u.variableName),u.definition(u.propertyName),u.function(u.variableName)],color:"#a6e22e"},{tag:[u.keyword,u.definitionKeyword,u.modifier,u.tagName,u.angleBracket],color:"#f92672"}]}),H6={background:"#002b36",lineBackground:"#002b3699",foreground:"#93a1a1",caret:"#839496",selection:"#173541",selectionMatch:"#aafe661a",gutterBackground:"#00252f",gutterForeground:"#839496",lineHighlight:"#173541"},ht={background:"#002B36",foreground:"#839496",selection:"#004454AA",selectionMatch:"#005A6FAA",cursor:"#D30102",dropdownBackground:"#00212B",dropdownBorder:"#2AA19899",activeLine:"#00cafe11",matchingBracket:"#073642",keyword:"#859900",storage:"#93A1A1",variable:"#268BD2",parameter:"#268BD2",function:"#268BD2",string:"#2AA198",constant:"#CB4B16",type:"#859900",class:"#268BD2",number:"#D33682",comment:"#586E75",heading:"#268BD2",invalid:"#DC322F",regexp:"#DC322F",tag:"#268BD2"},K6=Ze({theme:"dark",settings:{background:ht.background,foreground:ht.foreground,caret:ht.cursor,selection:ht.selection,selectionMatch:ht.selection,gutterBackground:ht.background,gutterForeground:ht.foreground,gutterBorder:"transparent",lineHighlight:ht.activeLine},styles:[{tag:u.keyword,color:ht.keyword},{tag:[u.name,u.deleted,u.character,u.macroName],color:ht.variable},{tag:[u.propertyName],color:ht.function},{tag:[u.processingInstruction,u.string,u.inserted,u.special(u.string)],color:ht.string},{tag:[u.function(u.variableName),u.labelName],color:ht.function},{tag:[u.color,u.constant(u.name),u.standard(u.name)],color:ht.constant},{tag:[u.definition(u.name),u.separator],color:ht.variable},{tag:[u.className],color:ht.class},{tag:[u.number,u.changed,u.annotation,u.modifier,u.self,u.namespace],color:ht.number},{tag:[u.typeName],color:ht.type,fontStyle:ht.type},{tag:[u.operator,u.operatorKeyword],color:ht.keyword},{tag:[u.url,u.escape,u.regexp,u.link],color:ht.regexp},{tag:[u.meta,u.comment],color:ht.comment},{tag:u.tagName,color:ht.tag},{tag:u.strong,fontWeight:"bold"},{tag:u.emphasis,fontStyle:"italic"},{tag:u.link,textDecoration:"underline"},{tag:u.heading,fontWeight:"bold",color:ht.heading},{tag:[u.atom,u.bool,u.special(u.variableName)],color:ht.variable},{tag:u.invalid,color:ht.invalid},{tag:u.strikethrough,textDecoration:"line-through"}]}),J6={light:!0,background:"#fdf6e3",lineBackground:"#fdf6e399",foreground:"#657b83",caret:"#586e75",selection:"#dfd9c8",selectionMatch:"#dfd9c8",gutterBackground:"#00000010",gutterForeground:"#657b83",lineHighlight:"#dfd9c8"},dt={background:"#FDF6E3",foreground:"#657B83",selection:"#EEE8D5",selectionMatch:"#EEE8D5",cursor:"#657B83",dropdownBackground:"#EEE8D5",dropdownBorder:"#D3AF86",activeLine:"#3d392d11",matchingBracket:"#EEE8D5",keyword:"#859900",storage:"#586E75",variable:"#268BD2",parameter:"#268BD2",function:"#268BD2",string:"#2AA198",constant:"#CB4B16",type:"#859900",class:"#268BD2",number:"#D33682",comment:"#93A1A1",heading:"#268BD2",invalid:"#DC322F",regexp:"#DC322F",tag:"#268BD2"},eE=Ze({theme:"light",settings:{background:dt.background,foreground:dt.foreground,caret:dt.cursor,selection:dt.selection,selectionMatch:dt.selectionMatch,gutterBackground:dt.background,gutterForeground:dt.foreground,gutterBorder:"transparent",lineHighlight:dt.activeLine},styles:[{tag:u.keyword,color:dt.keyword},{tag:[u.name,u.deleted,u.character,u.macroName],color:dt.variable},{tag:[u.propertyName],color:dt.function},{tag:[u.processingInstruction,u.string,u.inserted,u.special(u.string)],color:dt.string},{tag:[u.function(u.variableName),u.labelName],color:dt.function},{tag:[u.color,u.constant(u.name),u.standard(u.name)],color:dt.constant},{tag:[u.definition(u.name),u.separator],color:dt.variable},{tag:[u.className],color:dt.class},{tag:[u.number,u.changed,u.annotation,u.modifier,u.self,u.namespace],color:dt.number},{tag:[u.typeName],color:dt.type,fontStyle:dt.type},{tag:[u.operator,u.operatorKeyword],color:dt.keyword},{tag:[u.url,u.escape,u.regexp,u.link],color:dt.regexp},{tag:[u.meta,u.comment],color:dt.comment},{tag:u.tagName,color:dt.tag},{tag:u.strong,fontWeight:"bold"},{tag:u.emphasis,fontStyle:"italic"},{tag:u.link,textDecoration:"underline"},{tag:u.heading,fontWeight:"bold",color:dt.heading},{tag:[u.atom,u.bool,u.special(u.variableName)],color:dt.variable},{tag:u.invalid,color:dt.invalid},{tag:u.strikethrough,textDecoration:"line-through"}]}),tE={background:"#303841",lineBackground:"#30384199",foreground:"#FFFFFF",caret:"#FBAC52",selection:"#4C5964",selectionMatch:"#3A546E",gutterBackground:"#303841",gutterForeground:"#FFFFFF70",lineHighlight:"#00000059"},nE=Ze({theme:"dark",settings:{background:"#303841",foreground:"#FFFFFF",caret:"#FBAC52",selection:"#4C5964",selectionMatch:"#3A546E",gutterBackground:"#303841",gutterForeground:"#FFFFFF70",lineHighlight:"#00000059"},styles:[{tag:u.labelName,color:"#A2A9B5"},{tag:[u.meta,u.comment],color:"#A2A9B5"},{tag:[u.attributeName,u.keyword],color:"#B78FBA"},{tag:u.function(u.variableName),color:"#5AB0B0"},{tag:[u.string,u.regexp,u.attributeValue],color:"#99C592"},{tag:u.operator,color:"#f47954"},{tag:[u.tagName,u.modifier],color:"#E35F63"},{tag:[u.number,u.definition(u.tagName),u.className,u.definition(u.variableName)],color:"#fbac52"},{tag:[u.atom,u.bool,u.special(u.variableName)],color:"#E35F63"},{tag:u.variableName,color:"#539ac4"},{tag:[u.propertyName,u.typeName],color:"#629ccd"},{tag:u.propertyName,color:"#36b7b5"}]}),rE={background:"#1a1b26",lineBackground:"#1a1b2699",foreground:"#787c99",caret:"#c0caf5",selection:"#515c7e40",selectionMatch:"#16161e",gutterBackground:"#1a1b26",gutterForeground:"#787c99",gutterBorder:"transparent",lineHighlight:"#1e202e"},aE=Ze({theme:"dark",settings:{background:"#1a1b26",foreground:"#787c99",caret:"#c0caf5",selection:"#515c7e40",selectionMatch:"#16161e",gutterBackground:"#1a1b26",gutterForeground:"#787c99",gutterBorder:"transparent",lineHighlight:"#474b6611"},styles:[{tag:u.keyword,color:"#bb9af7"},{tag:[u.name,u.deleted,u.character,u.macroName],color:"#c0caf5"},{tag:[u.propertyName],color:"#7aa2f7"},{tag:[u.processingInstruction,u.string,u.inserted,u.special(u.string)],color:"#9ece6a"},{tag:[u.function(u.variableName),u.labelName],color:"#7aa2f7"},{tag:[u.color,u.constant(u.name),u.standard(u.name)],color:"#bb9af7"},{tag:[u.definition(u.name),u.separator],color:"#c0caf5"},{tag:[u.className],color:"#c0caf5"},{tag:[u.number,u.changed,u.annotation,u.modifier,u.self,u.namespace],color:"#ff9e64"},{tag:[u.typeName],color:"#0db9d7"},{tag:[u.operator,u.operatorKeyword],color:"#bb9af7"},{tag:[u.url,u.escape,u.regexp,u.link],color:"#b4f9f8"},{tag:[u.meta,u.comment],color:"#444b6a"},{tag:u.strong,fontWeight:"bold"},{tag:u.emphasis,fontStyle:"italic"},{tag:u.link,textDecoration:"underline"},{tag:u.heading,fontWeight:"bold",color:"#89ddff"},{tag:[u.atom,u.bool,u.special(u.variableName)],color:"#c0caf5"},{tag:u.invalid,color:"#ff5370"},{tag:u.strikethrough,textDecoration:"line-through"}]}),iE={background:"#24283b",lineBackground:"#24283b99",foreground:"#7982a9",caret:"#c0caf5",selection:"#6f7bb630",selectionMatch:"#1f2335",gutterBackground:"#24283b",gutterForeground:"#7982a9",gutterBorder:"transparent",lineHighlight:"#292e42"},sE=Ze({theme:"dark",settings:{background:"#24283b",foreground:"#7982a9",caret:"#c0caf5",selection:"#6f7bb630",selectionMatch:"#343b5f",gutterBackground:"#24283b",gutterForeground:"#7982a9",gutterBorder:"transparent",lineHighlight:"#292e427a"},styles:[{tag:u.keyword,color:"#bb9af7"},{tag:[u.name,u.deleted,u.character,u.macroName],color:"#c0caf5"},{tag:[u.propertyName],color:"#7aa2f7"},{tag:[u.processingInstruction,u.string,u.inserted,u.special(u.string)],color:"#9ece6a"},{tag:[u.function(u.variableName),u.labelName],color:"#7aa2f7"},{tag:[u.color,u.constant(u.name),u.standard(u.name)],color:"#bb9af7"},{tag:[u.definition(u.name),u.separator],color:"#c0caf5"},{tag:[u.className],color:"#c0caf5"},{tag:[u.number,u.changed,u.annotation,u.modifier,u.self,u.namespace],color:"#ff9e64"},{tag:[u.typeName],color:"#2ac3de",fontStyle:"#2ac3de"},{tag:[u.operator,u.operatorKeyword],color:"#bb9af7"},{tag:[u.url,u.escape,u.regexp,u.link],color:"#b4f9f8"},{tag:[u.meta,u.comment],color:"#565f89"},{tag:u.strong,fontWeight:"bold"},{tag:u.emphasis,fontStyle:"italic"},{tag:u.link,textDecoration:"underline"},{tag:u.heading,fontWeight:"bold",color:"#89ddff"},{tag:[u.atom,u.bool,u.special(u.variableName)],color:"#c0caf5"},{tag:u.invalid,color:"#ff5370"},{tag:u.strikethrough,textDecoration:"line-through"}]}),oE={light:!0,background:"#e1e2e7",lineBackground:"#e1e2e799",foreground:"#3760bf",caret:"#3760bf",selection:"#99a7df",selectionMatch:"#99a7df",gutterBackground:"#e1e2e7",gutterForeground:"#3760bf",gutterBorder:"transparent",lineHighlight:"#5f5faf11"},lE=Ze({theme:"light",settings:{background:"#e1e2e7",foreground:"#3760bf",caret:"#3760bf",selection:"#99a7df",selectionMatch:"#99a7df",gutterBackground:"#e1e2e7",gutterForeground:"#3760bf",gutterBorder:"transparent",lineHighlight:"#5f5faf11"},styles:[{tag:u.keyword,color:"#007197"},{tag:[u.name,u.deleted,u.character,u.macroName],color:"#3760bf"},{tag:[u.propertyName],color:"#3760bf"},{tag:[u.processingInstruction,u.string,u.inserted,u.special(u.string)],color:"#587539"},{tag:[u.function(u.variableName),u.labelName],color:"#3760bf"},{tag:[u.color,u.constant(u.name),u.standard(u.name)],color:"#3760bf"},{tag:[u.definition(u.name),u.separator],color:"#3760bf"},{tag:[u.className],color:"#3760bf"},{tag:[u.number,u.changed,u.annotation,u.modifier,u.self,u.namespace],color:"#b15c00"},{tag:[u.typeName],color:"#007197",fontStyle:"#007197"},{tag:[u.operator,u.operatorKeyword],color:"#007197"},{tag:[u.url,u.escape,u.regexp,u.link],color:"#587539"},{tag:[u.meta,u.comment],color:"#848cb5"},{tag:u.strong,fontWeight:"bold"},{tag:u.emphasis,fontStyle:"italic"},{tag:u.link,textDecoration:"underline"},{tag:u.heading,fontWeight:"bold",color:"#b15c00"},{tag:[u.atom,u.bool,u.special(u.variableName)],color:"#3760bf"},{tag:u.invalid,color:"#f52a65"},{tag:u.strikethrough,textDecoration:"line-through"}]}),uE={background:"#1e1e1e",lineBackground:"#1e1e1e99",foreground:"#fff",caret:"#c6c6c6",selection:"#6199ff2f",selectionMatch:"#72a1ff59",lineHighlight:"#ffffff0f",gutterBackground:"#1e1e1e",gutterForeground:"#838383",gutterActiveForeground:"#fff"},cE=Ze({theme:"dark",settings:{background:"#1e1e1e",foreground:"#fff",caret:"#c6c6c6",selection:"#6199ff2f",selectionMatch:"#72a1ff59",lineHighlight:"#ffffff0f",gutterBackground:"#1e1e1e",gutterForeground:"#838383",gutterActiveForeground:"#fff",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace'},styles:[{tag:[u.keyword,u.operatorKeyword,u.modifier,u.color,u.constant(u.name),u.standard(u.name),u.standard(u.tagName),u.special(u.brace),u.atom,u.bool,u.special(u.variableName)],color:"#569cd6"},{tag:[u.controlKeyword,u.moduleKeyword],color:"#c586c0"},{tag:[u.name,u.deleted,u.character,u.macroName,u.propertyName,u.variableName,u.labelName,u.definition(u.name)],color:"#9cdcfe"},{tag:u.heading,fontWeight:"bold",color:"#9cdcfe"},{tag:[u.typeName,u.className,u.tagName,u.number,u.changed,u.annotation,u.self,u.namespace],color:"#4ec9b0"},{tag:[u.function(u.variableName),u.function(u.propertyName)],color:"#dcdcaa"},{tag:[u.number],color:"#b5cea8"},{tag:[u.operator,u.punctuation,u.separator,u.url,u.escape,u.regexp],color:"#d4d4d4"},{tag:[u.regexp],color:"#d16969"},{tag:[u.special(u.string),u.processingInstruction,u.string,u.inserted],color:"#ce9178"},{tag:[u.angleBracket],color:"#808080"},{tag:u.strong,fontWeight:"bold"},{tag:u.emphasis,fontStyle:"italic"},{tag:u.strikethrough,textDecoration:"line-through"},{tag:[u.meta,u.comment],color:"#6a9955"},{tag:u.link,color:"#6a9955",textDecoration:"underline"},{tag:u.invalid,color:"#ff0000"}]}),pE={background:"#ffffff",lineBackground:"#ffffff50",foreground:"#383a42",caret:"#000",selection:"#add6ff",selectionMatch:"#a8ac94",lineHighlight:"#99999926",gutterBackground:"#fff",gutterForeground:"#237893",gutterActiveForeground:"#0b216f",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace'},mE=Ze({theme:"light",settings:{background:"#ffffff",foreground:"#383a42",caret:"#000",selection:"#add6ff",selectionMatch:"#a8ac94",lineHighlight:"#99999926",gutterBackground:"#fff",gutterForeground:"#237893",gutterActiveForeground:"#0b216f",fontFamily:'Menlo, Monaco, Consolas, "Andale Mono", "Ubuntu Mono", "Courier New", monospace'},styles:[{tag:[u.keyword,u.operatorKeyword,u.modifier,u.color,u.constant(u.name),u.standard(u.name),u.standard(u.tagName),u.special(u.brace),u.atom,u.bool,u.special(u.variableName)],color:"#0000ff"},{tag:[u.moduleKeyword,u.controlKeyword],color:"#af00db"},{tag:[u.name,u.deleted,u.character,u.macroName,u.propertyName,u.variableName,u.labelName,u.definition(u.name)],color:"#0070c1"},{tag:u.heading,fontWeight:"bold",color:"#0070c1"},{tag:[u.typeName,u.className,u.tagName,u.number,u.changed,u.annotation,u.self,u.namespace],color:"#267f99"},{tag:[u.function(u.variableName),u.function(u.propertyName)],color:"#795e26"},{tag:[u.number],color:"#098658"},{tag:[u.operator,u.punctuation,u.separator,u.url,u.escape,u.regexp],color:"#383a42"},{tag:[u.regexp],color:"#af00db"},{tag:[u.special(u.string),u.processingInstruction,u.string,u.inserted],color:"#a31515"},{tag:[u.angleBracket],color:"#383a42"},{tag:u.strong,fontWeight:"bold"},{tag:u.emphasis,fontStyle:"italic"},{tag:u.strikethrough,textDecoration:"line-through"},{tag:[u.meta,u.comment],color:"#008000"},{tag:u.link,color:"#4078f2",textDecoration:"underline"},{tag:u.invalid,color:"#e45649"}]}),hE={light:!0,background:"#fff",lineBackground:"#ffffff99",foreground:"#3D3D3D",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#AFAFAF",lineHighlight:"#EDF4FF"},dE=Ze({theme:"light",settings:{background:"#fff",foreground:"#3D3D3D",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#AFAFAF",lineHighlight:"#d5e6ff69"},styles:[{tag:[u.comment,u.quote],color:"#707F8D"},{tag:[u.typeName,u.typeOperator],color:"#aa0d91"},{tag:[u.keyword],color:"#aa0d91",fontWeight:"bold"},{tag:[u.string,u.meta],color:"#D23423"},{tag:[u.name],color:"#032f62"},{tag:[u.typeName],color:"#522BB2"},{tag:[u.variableName],color:"#23575C"},{tag:[u.definition(u.variableName)],color:"#327A9E"},{tag:[u.regexp,u.link],color:"#0e0eff"}]}),fE={light:!0,background:"#FFFFFF",lineBackground:"#FFFFFF99",foreground:"#000000",caret:"#FBAC52",selection:"#FFD420",selectionMatch:"#FFD420",gutterBackground:"#f5f5f5",gutterForeground:"#4D4D4C",gutterBorder:"transparent",lineHighlight:"#00000012"},gE=Ze({theme:"light",settings:{background:"#FFFFFF",foreground:"#000000",caret:"#FBAC52",selection:"#FFD420",selectionMatch:"#FFD420",gutterBackground:"#f5f5f5",gutterForeground:"#4D4D4C",gutterBorder:"transparent",lineHighlight:"#00000012"},styles:[{tag:[u.meta,u.comment],color:"#804000"},{tag:[u.keyword,u.strong],color:"#0000FF"},{tag:[u.number],color:"#FF0080"},{tag:[u.string],color:"#FF0080"},{tag:[u.variableName],color:"#006600"},{tag:[u.escape],color:"#33CC33"},{tag:[u.tagName],color:"#1C02FF"},{tag:[u.heading],color:"#0C07FF"},{tag:[u.quote],color:"#000000"},{tag:[u.list],color:"#B90690"},{tag:[u.documentMeta],color:"#888888"},{tag:[u.function(u.variableName)],color:"#0000A2"},{tag:[u.definition(u.typeName),u.typeName],color:"#6D79DE"}]}),bE={light:!0,background:"#f2f1f8",lineBackground:"#f2f1f899",foreground:"#0c006b",caret:"#5c49e9",selection:"#d5d1f2",selectionMatch:"#d5d1f2",gutterBackground:"#f2f1f8",gutterForeground:"#0c006b70",lineHighlight:"#e1def3"},yE=Ze({theme:"light",settings:{background:"#f2f1f8",foreground:"#0c006b",caret:"#5c49e9",selection:"#d5d1f2",selectionMatch:"#d5d1f2",gutterBackground:"#f2f1f8",gutterForeground:"#0c006b70",lineHighlight:"#16067911"},styles:[{tag:u.comment,color:"#9995b7"},{tag:u.keyword,color:"#ff5792",fontWeight:"bold"},{tag:[u.definitionKeyword,u.modifier],color:"#ff5792"},{tag:[u.className,u.tagName,u.definition(u.typeName)],color:"#0094f0"},{tag:[u.number,u.bool,u.null,u.special(u.brace)],color:"#5842ff"},{tag:[u.definition(u.propertyName),u.function(u.variableName)],color:"#0095a8"},{tag:u.typeName,color:"#b3694d"},{tag:[u.propertyName,u.variableName],color:"#fa8900"},{tag:u.operator,color:"#ff5792"},{tag:u.self,color:"#e64100"},{tag:[u.string,u.regexp],color:"#00b368"},{tag:[u.paren,u.bracket],color:"#0431fa"},{tag:u.labelName,color:"#00bdd6"},{tag:u.attributeName,color:"#e64100"},{tag:u.angleBracket,color:"#9995b7"}]}),R0={strudelTheme:e6,algoboy:s6,archBtw:b6,androidstudio:v6,atomone:P6,aura:C6,bbedit:gE,blackscreen:n6,bluescreen:t6,bluescreenlight:O6,CutiePi:h6,darcula:S6,dracula:B6,duotoneDark:F6,eclipse:Q6,fruitDaw:y6,githubDark:T6,githubLight:j6,greenText:g6,gruvboxDark:I6,gruvboxLight:Z6,sonicPink:d6,materialDark:q6,materialLight:W6,monokai:Y6,noctisLilac:yE,nord:G6,redText:f6,solarizedDark:K6,solarizedLight:eE,sublime:nE,teletext:a6,tokyoNight:aE,tokyoNightDay:lE,tokyoNightStorm:sE,vscodeDark:cE,vscodeLight:mE,whitescreen:r6,xcodeLight:dE},Xp={strudelTheme:jv,bluescreen:Lv,bluescreenlight:Jv,blackscreen:Iv,whitescreen:Nv,teletext:Xv,algoboy:Wv,archBtw:Hv,androidstudio:k6,atomone:x6,aura:w6,bbedit:fE,darcula:A6,dracula:M6,duotoneDark:E6,eclipse:$6,CutiePi:hh,sonicPink:Gv,fruitDaw:Kv,githubLight:R6,githubDark:_6,greenText:Yv,gruvboxDark:L6,gruvboxLight:N6,materialDark:V6,materialLight:X6,noctisLilac:bE,nord:z6,monokai:U6,redText:Uv,solarizedLight:J6,solarizedDark:H6,sublime:tE,tokyoNight:rE,tokyoNightStorm:iE,vscodeDark:uE,vscodeLight:pE,xcodeLight:hE,tokyoNightDay:oE};function OE(n){const e=/#([0-9A-Fa-f]{6}|[0-9A-Fa-f]{3})/g,t=[];let r;for(;(r=e.exec(n))!==null;){const a=r[0];t.includes(a)||t.push(a)}return t}function pF(n){return OE(vE(n))}function kE(){const n=new WeakSet;return(e,t)=>{if(typeof t=="object"&&t!==null){if(n.has(t))return;n.add(t)}return t}}function vE(n){return JSON.stringify(n,kE())}const xE=n=>R0[n]||R0.strudelTheme;function PE(n){const e=document.createElement("style");document.head.appendChild(e);const t=e.sheet,r=t.insertRule(n,0);return()=>t.deleteRule(r)}let j0,Wp,Nl,L0="strudel-theme-vars";function wE(n){document.getElementById(L0)||(Nl=document.createElement("style"),Nl.id=L0,document.head.append(Nl)),e2(n)}function e2(n){if(j0===n)return;j0=n,Xp[n]||console.warn("theme",n,"has no settings.. defaulting to strudelTheme settings");const e=Xp[n]||Xp.strudelTheme;Nl.innerHTML=`:root {
      ${Object.entries(e).map(([t,r])=>`--${t}: ${r} !important;`).join(`
`)}
    }`,w2(e),e.light?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"),Wp?.(),Wp=void 0,e.customStyle&&(Wp=PE(e.customStyle))}const CE=n=>n.name||n.longname;let dh=!1;typeof window<"u"&&(window.addEventListener("keyup",function(n){n.key=="Control"&&(dh=!1)},!0),window.addEventListener("keydown",function(n){n.key=="Control"&&(dh=!0)},!0));const AE=uy((n,e,t)=>{if(!dh)return null;let{from:r,to:a,text:i}=n.state.doc.lineAt(e),s=e,o=e;for(;s>r&&/\w/.test(i[s-r-1]);)s--;for(;o<a&&/\w/.test(i[o-r]);)o++;if(s==e&&t<0||o==e&&t>0)return null;let l=i.slice(s-r,o-r),c=Ym.docs.filter(p=>CE(p)===l)[0];if(!c){const p=Ym.docs.filter(d=>d.synonyms&&d.synonyms.includes(l))[0];if(!p)return null;c=pv(p,l)}return{pos:s,end:o,above:!1,arrow:!0,create(p){let d=document.createElement("div");d.className="strudel-tooltip";const f=cv(c);return d.appendChild(f),{dom:d}}}},{hoverTime:10}),SE=n=>n?AE:[],t2=Se.define({map:({from:n,to:e},t)=>({from:t.mapPos(n),to:t.mapPos(e)})}),ME=(n,e)=>{n.dispatch({effects:t2.of(e)})};function DE(n){return n.sort((e,t)=>e.to-t.to).map(e=>ke.widget({widget:new FE(e),side:0,block:!0}).range(e.to))}const BE=Pt.define({create(){return ke.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(t2))try{n=n.update({filter:()=>!1,add:DE(t.value)})}catch(r){console.log("err",r)}return n},provide:n=>pe.decorations.from(n)}),n2={};function EE(n,e){n2[n]=e,e.id=n}class FE extends hr{constructor(e){super(),this.widgetConfig=e}eq(){return!0}toDOM(){const e=_1(this.widgetConfig);return n2[e]}ignoreEvent(e){return!0}}const $E=[BE];function Ji(n,e){oP(n),e&&($2.prototype[n]=function(t,r={fold:1}){return e(t,r,this)})}function es(n,e={}){const{width:t=500,height:r=60,pixelRatio:a=window.devicePixelRatio}=e;let i=document.getElementById(n)||document.createElement("canvas");return i.width=t*a,i.height=r*a,i.style.width=t+"px",i.style.height=r+"px",EE(n,i),i}Ji("_pianoroll",(n,e={},t)=>{const r=es(n,e).getContext("2d");return t.tag(n).pianoroll({fold:1,...e,ctx:r,id:n})});Ji("_punchcard",(n,e={},t)=>{const r=es(n,e).getContext("2d");return t.tag(n).punchcard({fold:1,...e,ctx:r,id:n})});Ji("_spiral",(n,e={},t)=>{let r=e.size||275;e={width:r,height:r,...e,size:r/5};const a=es(n,e).getContext("2d");return t.tag(n).spiral({...e,ctx:a,id:n})});Ji("_scope",(n,e={},t)=>{e={width:500,height:60,pos:.5,scale:1,...e};const r=es(n,e).getContext("2d");return t.tag(n).scope({...e,ctx:r,id:n})});Ji("_pitchwheel",(n,e={},t)=>{let r=e.size||200;e={width:r,height:r,...e,size:r/5};const a=es(n,e).getContext("2d");return t.pitchwheel({...e,ctx:a,id:n})});Ji("_spectrum",(n,e={},t)=>{let r=e.size||200;e={width:r,height:r,...e,size:r/5};const a=es(n,e).getContext("2d");return t.spectrum({...e,ctx:a,id:n})});const gi={isLineWrappingEnabled:n=>n?pe.lineWrapping:[],isBracketMatchingEnabled:n=>n?m5({brackets:"()[]{}<>"}):[],isBracketClosingEnabled:n=>n?tA():[],isLineNumbersDisplayed:n=>n?dC():[],theme:xE,isAutoCompletionEnabled:m9,isTooltipEnabled:SE,isPatternHighlightingEnabled:R9,isActiveLineHighlighted:n=>n?[Z3(),bC()]:[],isFlashEnabled:$9,keybindings:G8,isTabIndentationEnabled:n=>n?ra.of([YA]):[],isMultiCursorEnabled:n=>n?[et.allowMultipleSelections.of(!0),pe.clickAddsSelectionRange.of(e=>e.metaKey||e.ctrlKey)]:[]},fh=Object.fromEntries(Object.keys(gi).map(n=>[n,new mo])),QE={keybindings:"codemirror",isBracketMatchingEnabled:!1,isBracketClosingEnabled:!0,isLineNumbersDisplayed:!0,isActiveLineHighlighted:!1,isAutoCompletionEnabled:!1,isPatternHighlightingEnabled:!0,isFlashEnabled:!0,isTooltipEnabled:!1,isLineWrappingEnabled:!1,isTabIndentationEnabled:!1,isMultiCursorEnabled:!1,theme:"strudelTheme",fontFamily:"monospace",fontSize:18},Zl=HS("codemirror-settings",QE,{encode:JSON.stringify,decode:JSON.parse});function _E({initialCode:n="",onChange:e,onEvaluate:t,onStop:r,root:a,mondo:i}){const s=Zl.get(),o=Object.keys(fh).map(c=>fh[c].of(gi[c](r2(s[c]))));wE(s.theme);let l=et.create({doc:n,extensions:[...o,B9,i?[]:XS(),fa.data.of({closeBrackets:{brackets:["(","[","{","'",'"',"<"]},bracketMatching:{brackets:["(","[","{","'",'"',"<"]}}),J8,$E,Gh(Ly),pe.updateListener.of(c=>e(c)),ry({cursorBlinkRate:0}),Mn.highest(ra.of([{key:"Ctrl-Enter",run:()=>t?.()},{key:"Alt-Enter",run:()=>t?.()},{key:"Ctrl-.",run:()=>r?.()},{key:"Alt-.",preventDefault:!0,run:()=>r?.()}]))]});return new pe({state:l,parent:a})}class mF{constructor(e){const{root:t,id:r,initialCode:a="",onDraw:i,drawContext:s,drawTime:o=[0,0],autodraw:l,prebake:c,bgFill:p=!0,solo:d=!0,...f}=e;this.code=a,this.root=t,this.miniLocations=[],this.widgets=[],this.drawTime=o,this.drawContext=s,this.onDraw=i||this.draw,this.id=r||TE(),this.solo=d,this.drawer=new C2((w,A,T,q)=>{const G=w.filter(I=>I.isActive(A));this.highlight(G,A),this.onDraw(w,A,q)},o),this.prebaked=c(),l&&this.drawFirstFrame(),this.repl=_2({...f,id:r,onToggle:w=>{f?.onToggle?.(w),w?(this.drawer.start(this.repl.scheduler),this.solo&&document.dispatchEvent(new CustomEvent("start-repl",{detail:this.id}))):(this.drawer.stop(),sh(this.editor,[]),Vd(!0,r))},beforeEval:async()=>{Vd(!0,r),await this.prebaked,await f?.beforeEval?.()},afterEval:w=>{this.miniLocations=w.meta?.miniLocations,this.widgets=w.meta?.widgets;const A=this.widgets.filter(G=>G.type==="slider");H8(this.editor,A);const T=this.widgets.filter(G=>G.type!=="slider");ME(this.editor,T),sh(this.editor,this.miniLocations),f?.afterEval?.(w);const q=w.pattern.getPainters().length?this.drawTime:[0,0];this.drawer.setDrawTime(q),this.drawer.invalidate(this.repl.scheduler)}}),this.editor=_E({root:t,initialCode:a,onChange:w=>{w.docChanged&&(this.code=w.state.doc.toString(),this.repl.setCode?.(this.code))},onEvaluate:()=>this.evaluate(),onStop:()=>this.stop(),mondo:f.mondo});const y=this.root.querySelector(".cm-editor");y&&(this.root.style.display="block",p&&(this.root.style.backgroundColor="var(--background)"),y.style.backgroundColor="transparent");const P=Zl.get();this.setFontSize(P.fontSize),this.setFontFamily(P.fontFamily),this.onStartRepl=w=>{this.solo&&w.detail!==this.id&&this.stop()},document.addEventListener("start-repl",this.onStartRepl),this.onEvaluateRequest=w=>{try{oo("[repl] evaluate via event"),this.evaluate(),w?.cancelable&&w.preventDefault?.()}catch(A){console.error("Error handling repl-evaluate event",A)}},document.addEventListener("repl-evaluate",this.onEvaluateRequest),document.addEventListener("repl-stop",this.onStopRequest),this.onToggleComment=w=>{try{nO(this.editor),w?.cancelable&&w.preventDefault?.()}catch(A){console.error("Error handling repl-toggle-comment event",A)}},document.addEventListener("repl-toggle-comment",this.onToggleComment)}draw(e,t,r){r?.forEach(a=>a(this.drawContext,t,e,this.drawTime))}async drawFirstFrame(){if(this.onDraw){await this.prebaked;try{await this.repl.evaluate(this.code,!1),this.drawer.invalidate(this.repl.scheduler,-.001),this.onDraw?.(this.drawer.visibleHaps,-.001,this.drawer.painters)}catch{console.warn("first frame could not be painted")}}}async evaluate(){this.flash(),await this.repl.evaluate(this.code)}async stop(){this.repl.scheduler.stop()}onStopRequest=e=>{try{this.stop(),e?.cancelable&&e.preventDefault?.()}catch(t){console.error("Error handling repl-stop event",t)}};async toggle(){this.repl.scheduler.started?this.repl.stop():this.evaluate()}flash(e){F9(this.editor,e)}highlight(e,t){Q9(this.editor,t,e)}setFontSize(e){this.root.style.fontSize=e+"px"}setFontFamily(e){this.root.style.fontFamily=e;const t=this.root.querySelector(".cm-scroller");t&&(t.style.fontFamily=e)}reconfigureExtension(e,t){if(!gi[e]){console.warn(`extension ${e} is not known`);return}t=r2(t);const r=gi[e](t,this);this.editor.dispatch({effects:fh[e].reconfigure(r)}),e==="theme"&&e2(t)}setLineWrappingEnabled(e){this.reconfigureExtension("isLineWrappingEnabled",e)}setBracketMatchingEnabled(e){this.reconfigureExtension("isBracketMatchingEnabled",e)}setLineNumbersDisplayed(e){this.reconfigureExtension("isLineNumbersDisplayed",e)}setBracketClosingEnabled(e){this.reconfigureExtension("isBracketClosingEnabled",e)}setTheme(e){this.reconfigureExtension("theme",e)}setAutocompletionEnabled(e){this.reconfigureExtension("isAutoCompletionEnabled",e)}updateSettings(e){this.setFontSize(e.fontSize),this.setFontFamily(e.fontFamily);for(let r in gi)this.reconfigureExtension(r,e[r]);const t={...Zl.get(),...e};Zl.set(t)}changeSetting(e,t){if(gi[e]){this.reconfigureExtension(e,t);return}else e==="fontFamily"?this.setFontFamily(t):e==="fontSize"&&this.setFontSize(t)}setCode(e){const t={from:0,to:this.editor.state.doc.length,insert:e};this.editor.dispatch({changes:t})}clear(){this.onStartRepl&&document.removeEventListener("start-repl",this.onStartRepl),this.onEvaluateRequest&&document.removeEventListener("repl-evaluate",this.onEvaluateRequest),this.onStopRequest&&document.removeEventListener("repl-stop",this.onStopRequest),this.onToggleComment&&document.removeEventListener("repl-toggle-comment",this.onToggleComment)}getCursorLocation(){return this.editor.state.selection.main.head}setCursorLocation(e){return this.editor.dispatch({selection:{anchor:e}})}appendCode(e){const t=this.getCursorLocation();this.setCode(this.code+e),this.setCursorLocation(t)}}function r2(n){return{true:!0,false:!1}[n]??n}function TE(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}const hF=Q2("markcss");export{F9 as $,lo as A,X0 as B,Nu as C,N2 as D,W0 as E,z0 as F,ZE as G,VE as H,qE as I,IE as J,Ai as K,L2 as L,_E as M,hF as N,rO as O,bA as P,nd as Q,nO as R,mF as S,xv as T,Pv as U,sh as V,Q9 as W,T9 as X,R9 as Y,ih as Z,E9 as _,HE as a,$9 as a0,Ls as a1,Y8 as a2,Rv as a3,H8 as a4,J8 as a5,uF as a6,cF as a7,Xp as a8,pF as a9,xE as aa,PE as ab,e2 as ac,t2 as ad,ME as ae,EE as af,FE as ag,$E as ah,Ji as ai,UE as aj,JE as b,Zl as c,eF as d,tF as e,CB as f,nF as g,AB as h,wE as i,Ym as j,rF as k,aF as l,iF as m,Il as n,sF as o,fi as p,wi as q,uv as r,KE as s,YE as t,XE as u,wo as v,WE as w,NE as x,R0 as y,QE as z};
